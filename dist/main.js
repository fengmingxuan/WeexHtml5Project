/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _weexHtml = __webpack_require__(1);
	
	var _weexHtml2 = _interopRequireDefault(_weexHtml);
	
	var _weexHello = __webpack_require__(2);
	
	var _weexHello2 = _interopRequireDefault(_weexHello);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	// install the component.
	// import the original weex-html5.
	_weexHtml2.default.install(_weexHello2.default)
	
	// init the weex and load the bundle of 'demo/index.we'.
	;(function () {
	  function getUrlParam(key) {
	    var reg = new RegExp('[?|&]' + key + '=([^&]+)');
	    var match = location.search.match(reg);
	    return match && match[1];
	  }
	
	  var loader = getUrlParam('loader') || 'xhr';
	  var page = getUrlParam('page') || 'dist/mainlist.js';
	
	  // jsonp callback name should be specified or be the default
	  // value 'weexJsonpCallback' if the 'jsonp' loader is used.
	  var JSONP_CALLBACK_NAME = 'weexJsonpCallback';
	
	  _weexHtml2.default.init({
	    jsonpCallback: JSONP_CALLBACK_NAME,
	    appId: location.href,
	    loader: loader,
	    source: page,
	    rootId: 'weex'
	  });
	})();

/***/ },
/* 1 */
/***/ function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {'use strict';var _typeof2=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj;};(function(s){console.log(s);})('START WEEX HTML5: 0.4.0 Build 20161019');/******/(function(modules){// webpackBootstrap
	/******/// The module cache
	/******/var installedModules={};/******//******/// The require function
	/******/function __webpack_require__(moduleId){/******//******/// Check if module is in cache
	/******/if(installedModules[moduleId])/******/return installedModules[moduleId].exports;/******//******/// Create a new module (and put it into the cache)
	/******/var module=installedModules[moduleId]={/******/exports:{},/******/id:moduleId,/******/loaded:false/******/};/******//******/// Execute the module function
	/******/modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);/******//******/// Flag the module as loaded
	/******/module.loaded=true;/******//******/// Return the exports of the module
	/******/return module.exports;/******/}/******//******//******/// expose the modules object (__webpack_modules__)
	/******/__webpack_require__.m=modules;/******//******/// expose the module cache
	/******/__webpack_require__.c=installedModules;/******//******/// __webpack_public_path__
	/******/__webpack_require__.p="";/******//******/// Load entry module and return exports
	/******/return __webpack_require__(0);/******/})(/************************************************************************//******/[/* 0 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _render=__webpack_require__(1);var _render2=_interopRequireDefault(_render);var _root=__webpack_require__(148);var _root2=_interopRequireDefault(_root);var _div=__webpack_require__(149);var _div2=_interopRequireDefault(_div);var _droot=__webpack_require__(150);var _droot2=_interopRequireDefault(_droot);var _extend=__webpack_require__(151);var _extend2=_interopRequireDefault(_extend);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}_render2.default.install(_root2.default);// install the extended apis and components.
	_render2.default.install(_div2.default);_render2.default.install(_droot2.default);_render2.default.install(_extend2.default);exports.default=_render2.default;/***/},/* 1 *//***/function(module,exports,__webpack_require__){/* global lib, WebSocket */'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Weex;__webpack_require__(2);__webpack_require__(6);var _config=__webpack_require__(127);var _config2=_interopRequireDefault(_config);var _loader=__webpack_require__(128);var _utils=__webpack_require__(119);var utils=_interopRequireWildcard(_utils);var _bridge=__webpack_require__(129);var _component=__webpack_require__(133);var _component2=_interopRequireDefault(_component);var _atomic=__webpack_require__(143);var _atomic2=_interopRequireDefault(_atomic);var _componentManager=__webpack_require__(117);var _componentManager2=_interopRequireDefault(_componentManager);var _register=__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var DEFAULT_DESIGN_WIDTH=750;// gesture
	var DEFAULT_SCALE=window.innerWidth/DEFAULT_DESIGN_WIDTH;var DEFAULT_ROOT_ID='weex';var DEFAULT_JSONP_CALLBACK_NAME='weexJsonpCallback';global.WXEnvironment={weexVersion:_config2.default.weexVersion,appName:lib.env.aliapp?lib.env.aliapp.appname:null,appVersion:lib.env.aliapp?lib.env.aliapp.version.val:null,platform:'Web',osName:lib.env.browser?lib.env.browser.name:null,osVersion:lib.env.browser?lib.env.browser.version.val:null,deviceWidth:DEFAULT_DESIGN_WIDTH,deviceHeight:window.innerHeight/DEFAULT_SCALE};var _weexInstance={};function noop(){};(function initializeWithUrlParams(){// in casperjs the protocol is file.
	if(location.protocol.match(/file/)){return;}var params=lib.httpurl(location.href).params;// set global 'debug' config to true if there's a debug flag in current url.
	var debug=params['debug'];_config2.default.debug=debug===true||debug==='true';!_config2.default.debug&&(console.debug=noop);// config for the 'downgrade'.
	for(var key in params){if(params.hasOwnProperty(key)){var match=key.match(/^downgrade_(\w+)$/);if(!match||!match[1]){continue;}var dk=match[1];// downgrade in the config file has the highest priority.
	if(typeof _config2.default.downgrade[dk]==='boolean'){continue;}var dr=params['downgrade_'+dk];_config2.default.downgrade[dk]=dr===true||dr==='true';}}})();function Weex(options){if(!(this instanceof Weex)){return new Weex(options);}// Width of the root container. Default is window.innerWidth.
	this.width=options.width||window.innerWidth;this.bundleUrl=options.bundleUrl||location.href;this.instanceId=options.appId;this.rootId=options.rootId||DEFAULT_ROOT_ID+utils.getRandom(10);this.designWidth=options.designWidth||DEFAULT_DESIGN_WIDTH;this.jsonpCallback=options.jsonpCallback||DEFAULT_JSONP_CALLBACK_NAME;this.source=options.source;this.loader=options.loader;this.embed=options.embed;// downgrade options.
	var dg=options.downgrade||[];dg.forEach(function(comp){_config2.default.downgrade[comp]=true;});this.data=options.data;this.scale=this.width/this.designWidth;_bridge.receiver.init(this);this.sender=new _bridge.Sender(this);_weexInstance[this.instanceId]=this;// load bundle.
	(0,_loader.load)({jsonpCallback:this.jsonpCallback,source:this.source,loader:this.loader},function(err,appCode){if(!err){this.createApp(_config2.default,appCode);}else{console.error('load bundle err:',err);}}.bind(this));}Weex.init=function(options){if(utils.isArray(options)){options.forEach(function(config){new Weex(config);});}else if(utils.getType(options)==='object'){new Weex(options);}};Weex.getInstance=function(instanceId){return _weexInstance[instanceId];};Weex.prototype={createApp:function createApp(config,appCode){var root=document.querySelector('#'+this.rootId);if(!root){root=document.createElement('div');root.id=this.rootId;document.body.appendChild(root);}var instance=window.createInstance(this.instanceId,appCode,{bundleUrl:this.bundleUrl,debug:config.debug},this.data);if(!instance){return console.error('[h5-render] createInstance error: get void for instance.');}if(instance instanceof Error){return console.error('[h5-render]',instance);}if(instance instanceof Promise){return instance.then(function(res){this.appInstance=res;// Weex._instances[this.instanceId] = this.root
	}).catch(function(err){console.error('[h5-render]',err);});}this.appInstance=instance;// Do not destroy instance before unload, because in most browser
	// press back button to back to this page will not refresh
	// the window and the instance will not be recreated then.
	// window.addEventListener('beforeunload', function (e) {
	// })
	},getComponentManager:function getComponentManager(){if(!this._componentManager){this._componentManager=_componentManager2.default.getInstance(this.instanceId);}return this._componentManager;},getRoot:function getRoot(){return document.querySelector('#'+this.rootId);}};Weex.stopTheWorld=function(instanceId){if(!instanceId){return Object.keys(_weexInstance).map(function(instanceId){Weex.stopTheWorld(instanceId);});}window.destroyInstance(instanceId);}// for weex-toolkit.
	;(function startRefreshController(){if(location.protocol.match(/file/)){return;}if(location.search.indexOf('hot-reload_controller')===-1){return;}if(typeof WebSocket==='undefined'){console.info('auto refresh need WebSocket support');return;}var host=location.hostname;var port=8082;var client=new WebSocket('ws://'+host+':'+port+'/','echo-protocol');client.onerror=function(){console.log('refresh controller websocket connection error');};client.onmessage=function(e){console.log('Received: \''+e.data+'\'');if(e.data==='refresh'){location.reload();}};})();(0,_register.bind)(Weex);utils.extend(Weex,{Component:_component2.default,Atomic:_atomic2.default,ComponentManager:_componentManager2.default,utils:utils,config:_config2.default});global.weex=Weex;/***/},/* 2 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(3);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../node_modules/css-loader/index.js!./base.css",function(){var newContent=require("!!./../../../../node_modules/css-loader/index.js!./base.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 3 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,"* {\n  margin: 0;\n  padding: 0;\n  text-size-adjust: none;\n}\n\nul, ol {\n  list-style: none;\n}\n\n.weex-container {\n  box-sizing: border-box;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-flex-direction: column;\n  flex-direction: column;\n  flex-shrink: 0;\n  align-items: stretch;\n  box-align: stretch;\n  align-content: flex-start;\n  position: relative;\n  border: 0 solid black;\n  margin: 0;\n  padding: 0;\n  min-width: 0;\n}\n\n.weex-element {\n  box-sizing: border-box;\n  position: relative;\n  flex-shrink: 0;\n  border: 0 solid black;\n  margin: 0;\n  padding: 0;\n  min-width: 0;\n}\n",""]);// exports
	/***/},/* 4 *//***/function(module,exports){/*
			MIT License http://www.opensource.org/licenses/mit-license.php
			Author Tobias Koppers @sokra
		*/// css base code, injected by the css-loader
	module.exports=function(){var list=[];// return the list of modules as css string
	list.toString=function toString(){var result=[];for(var i=0;i<this.length;i++){var item=this[i];if(item[2]){result.push("@media "+item[2]+"{"+item[1]+"}");}else{result.push(item[1]);}}return result.join("");};// import a list of modules into the list
	list.i=function(modules,mediaQuery){if(typeof modules==="string")modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if(typeof id==="number")alreadyImportedModules[id]=true;}for(i=0;i<modules.length;i++){var item=modules[i];// skip already imported module
	// this implementation is not 100% perfect for weird media query combinations
	//  when a module is imported multiple times with different media queries.
	//  I hope this will never occur (Hey this way we have smaller bundles)
	if(typeof item[0]!=="number"||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2]){item[2]=mediaQuery;}else if(mediaQuery){item[2]="("+item[2]+") and ("+mediaQuery+")";}list.push(item);}}};return list;};/***/},/* 5 *//***/function(module,exports,__webpack_require__){/*
			MIT License http://www.opensource.org/licenses/mit-license.php
			Author Tobias Koppers @sokra
		*/var stylesInDom={},memoize=function memoize(fn){var memo;return function(){if(typeof memo==="undefined")memo=fn.apply(this,arguments);return memo;};},isOldIE=memoize(function(){return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase());}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0];}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if(false){if((typeof document==='undefined'?'undefined':_typeof2(document))!=="object")throw new Error("The style-loader cannot be used in a non-browser environment");}options=options||{};// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if(typeof options.singleton==="undefined")options.singleton=isOldIE();// By default, add <style> tags to the bottom of <head>.
	if(typeof options.insertAt==="undefined")options.insertAt="bottom";var styles=listToStyles(list);addStylesToDom(styles,options);return function update(newList){var mayRemove=[];for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];domStyle.refs--;mayRemove.push(domStyle);}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options);}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(domStyle.refs===0){for(var j=0;j<domStyle.parts.length;j++){domStyle.parts[j]();}delete stylesInDom[domStyle.id];}}};};function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++){domStyle.parts[j](item.parts[j]);}for(;j<item.parts.length;j++){domStyle.parts.push(addStyle(item.parts[j],options));}}else{var parts=[];for(var j=0;j<item.parts.length;j++){parts.push(addStyle(item.parts[j],options));}stylesInDom[item.id]={id:item.id,refs:1,parts:parts};}}}function listToStyles(list){var styles=[];var newStyles={};for(var i=0;i<list.length;i++){var item=list[i];var id=item[0];var css=item[1];var media=item[2];var sourceMap=item[3];var part={css:css,media:media,sourceMap:sourceMap};if(!newStyles[id])styles.push(newStyles[id]={id:id,parts:[part]});else newStyles[id].parts.push(part);}return styles;}function insertStyleElement(options,styleElement){var head=getHeadElement();var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if(options.insertAt==="top"){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild);}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling);}else{head.appendChild(styleElement);}styleElementsInsertedAtTop.push(styleElement);}else if(options.insertAt==="bottom"){head.appendChild(styleElement);}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);if(idx>=0){styleElementsInsertedAtTop.splice(idx,1);}}function createStyleElement(options){var styleElement=document.createElement("style");styleElement.type="text/css";insertStyleElement(options,styleElement);return styleElement;}function createLinkElement(options){var linkElement=document.createElement("link");linkElement.rel="stylesheet";insertStyleElement(options,linkElement);return linkElement;}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options));update=applyToSingletonTag.bind(null,styleElement,styleIndex,false);remove=applyToSingletonTag.bind(null,styleElement,styleIndex,true);}else if(obj.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){styleElement=createLinkElement(options);update=updateLink.bind(null,styleElement);remove=function remove(){removeStyleElement(styleElement);if(styleElement.href)URL.revokeObjectURL(styleElement.href);};}else{styleElement=createStyleElement(options);update=applyToTag.bind(null,styleElement);remove=function remove(){removeStyleElement(styleElement);};}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj);}else{remove();}};}var replaceText=function(){var textStore=[];return function(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join('\n');};}();function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet){styleElement.styleSheet.cssText=replaceText(index,css);}else{var cssNode=document.createTextNode(css);var childNodes=styleElement.childNodes;if(childNodes[index])styleElement.removeChild(childNodes[index]);if(childNodes.length){styleElement.insertBefore(cssNode,childNodes[index]);}else{styleElement.appendChild(cssNode);}}}function applyToTag(styleElement,obj){var css=obj.css;var media=obj.media;if(media){styleElement.setAttribute("media",media);}if(styleElement.styleSheet){styleElement.styleSheet.cssText=css;}else{while(styleElement.firstChild){styleElement.removeChild(styleElement.firstChild);}styleElement.appendChild(document.createTextNode(css));}}function updateLink(linkElement,obj){var css=obj.css;var sourceMap=obj.sourceMap;if(sourceMap){// http://stackoverflow.com/a/26603875
	css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */";}var blob=new Blob([css],{type:"text/css"});var oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob);if(oldSrc)URL.revokeObjectURL(oldSrc);}/***/},/* 6 *//***/function(module,exports,__webpack_require__){'use strict';__webpack_require__(7);var _init=__webpack_require__(76);var _init2=_interopRequireDefault(_init);var _config=__webpack_require__(77);var _config2=_interopRequireDefault(_config);var _vdom=__webpack_require__(114);var _package=__webpack_require__(115);var _methods=__webpack_require__(116);var methods=_interopRequireWildcard(_methods);var _componentManager=__webpack_require__(117);var _componentManager2=_interopRequireDefault(_componentManager);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var config={Document:_vdom.Document,Element:_vdom.Element,Comment:_vdom.Comment,Listener:_componentManager2.default,frameworks:_config2.default,sendTasks:function sendTasks(){var _global;(_global=global).callNative.apply(_global,arguments);}};var runtime=(0,_init2.default)(config);var native=_package.subversion.native;var transformer=_package.subversion.transformer;var _loop=function _loop(methodName){global[methodName]=function(){var ret=runtime[methodName].apply(runtime,arguments);if(ret instanceof Error){console.error(ret.toString());}return ret;};};for(var methodName in runtime){_loop(methodName);}global.frameworkVersion=native;global.transformVersion=transformer;/**
		 * register methods
		 */global.registerMethods(methods);/***/},/* 7 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.isPlainObject=exports.isObject=exports.toArray=exports.bind=exports.hasOwn=exports.remove=exports.def=exports.extend=undefined;var _utils=__webpack_require__(8);Object.defineProperty(exports,'extend',{enumerable:true,get:function get(){return _utils.extend;}});Object.defineProperty(exports,'def',{enumerable:true,get:function get(){return _utils.def;}});Object.defineProperty(exports,'remove',{enumerable:true,get:function get(){return _utils.remove;}});Object.defineProperty(exports,'hasOwn',{enumerable:true,get:function get(){return _utils.hasOwn;}});Object.defineProperty(exports,'bind',{enumerable:true,get:function get(){return _utils.bind;}});Object.defineProperty(exports,'toArray',{enumerable:true,get:function get(){return _utils.toArray;}});Object.defineProperty(exports,'isObject',{enumerable:true,get:function get(){return _utils.isObject;}});Object.defineProperty(exports,'isPlainObject',{enumerable:true,get:function get(){return _utils.isPlainObject;}});__webpack_require__(9);/***/},/* 8 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.extend=extend;exports.def=def;exports.remove=remove;exports.hasOwn=hasOwn;exports.bind=bind;exports.toArray=toArray;exports.isObject=isObject;exports.isPlainObject=isPlainObject;/**
		 * Mix properties into target object.
		 *
		 * @param {Object} to
		 * @param {Object} from
		 */function extend(target){for(var _len=arguments.length,src=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){src[_key-1]=arguments[_key];}if(typeof Object.assign==='function'){Object.assign.apply(Object,[target].concat(src));}else{var first=src.shift();for(var key in first){target[key]=first[key];}if(src.length){extend.apply(undefined,[target].concat(src));}}return target;}/**
		 * Define a property.
		 *
		 * @param {Object} obj
		 * @param {String} key
		 * @param {*} val
		 * @param {Boolean} [enumerable]
		 */function def(obj,key,val,enumerable){Object.defineProperty(obj,key,{value:val,enumerable:!!enumerable,writable:true,configurable:true});}/**
		 * Remove an item from an array
		 *
		 * @param {Array} arr
		 * @param {*} item
		 */function remove(arr,item){if(arr.length){var index=arr.indexOf(item);if(index>-1){return arr.splice(index,1);}}}/**
		 * Check whether the object has the property.
		 *
		 * @param {Object} obj
		 * @param {String} key
		 * @return {Boolean}
		 */var hasOwnProperty=Object.prototype.hasOwnProperty;function hasOwn(obj,key){return hasOwnProperty.call(obj,key);}/**
		 * Simple bind, faster than native
		 *
		 * @param {Function} fn
		 * @param {Object} ctx
		 * @return {Function}
		 */function bind(fn,ctx){return function(a){var l=arguments.length;return l?l>1?fn.apply(ctx,arguments):fn.call(ctx,a):fn.call(ctx);};}/**
		 * Convert an Array-like object to a real Array.
		 *
		 * @param {Array-like} list
		 * @param {Number} [start] - start index
		 * @return {Array}
		 */function toArray(list,start){start=start||0;var i=list.length-start;var ret=new Array(i);while(i--){ret[i]=list[i+start];}return ret;}/**
		 * Quick object check - this is primarily used to tell
		 * Objects from primitive values when we know the value
		 * is a JSON-compliant type.
		 *
		 * @param {*} obj
		 * @return {Boolean}
		 */function isObject(obj){return obj!==null&&(typeof obj==='undefined'?'undefined':_typeof(obj))==='object';}/**
		 * Strict object type check. Only returns true
		 * for plain JavaScript objects.
		 *
		 * @param {*} obj
		 * @return {Boolean}
		 */var toString=Object.prototype.toString;var OBJECT_STRING='[object Object]';function isPlainObject(obj){return toString.call(obj)===OBJECT_STRING;}/***/},/* 9 *//***/function(module,exports,__webpack_require__){'use strict';// fix Promise Problem on JSContext of iOS7~8
	// @see https://bugs.webkit.org/show_bug.cgi?id=135866
	var _global=global;var WXEnvironment=_global.WXEnvironment;if(WXEnvironment&&WXEnvironment.platform==='iOS'){global.Promise=null;}__webpack_require__(10);__webpack_require__(30);__webpack_require__(56);__webpack_require__(60);/***/},/* 10 *//***/function(module,exports,__webpack_require__){'use strict';// 19.1.3.6 Object.prototype.toString()
	var classof=__webpack_require__(11),test={};test[__webpack_require__(13)('toStringTag')]='z';if(test+''!='[object z]'){__webpack_require__(17)(Object.prototype,'toString',function toString(){return'[object '+classof(this)+']';},true);}/***/},/* 11 *//***/function(module,exports,__webpack_require__){// getting tag from 19.1.3.6 Object.prototype.toString()
	var cof=__webpack_require__(12),TAG=__webpack_require__(13)('toStringTag')// ES3 wrong here
	,ARG=cof(function(){return arguments;}())=='Arguments';// fallback for IE11 Script Access Denied error
	var tryGet=function tryGet(it,key){try{return it[key];}catch(e){/* empty */}};module.exports=function(it){var O,T,B;return it===undefined?'Undefined':it===null?'Null'// @@toStringTag case
	:typeof(T=tryGet(O=Object(it),TAG))=='string'?T// builtinTag case
	:ARG?cof(O)// ES3 arguments fallback
	:(B=cof(O))=='Object'&&typeof O.callee=='function'?'Arguments':B;};/***/},/* 12 *//***/function(module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1);};/***/},/* 13 *//***/function(module,exports,__webpack_require__){var store=__webpack_require__(14)('wks'),uid=__webpack_require__(16),_Symbol=__webpack_require__(15).Symbol,USE_SYMBOL=typeof _Symbol=='function';var $exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&_Symbol[name]||(USE_SYMBOL?_Symbol:uid)('Symbol.'+name));};$exports.store=store;/***/},/* 14 *//***/function(module,exports,__webpack_require__){var global=__webpack_require__(15),SHARED='__core-js_shared__',store=global[SHARED]||(global[SHARED]={});module.exports=function(key){return store[key]||(store[key]={});};/***/},/* 15 *//***/function(module,exports){// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global=module.exports=typeof window!='undefined'&&window.Math==Math?window:typeof self!='undefined'&&self.Math==Math?self:Function('return this')();if(typeof __g=='number')__g=global;// eslint-disable-line no-undef
	/***/},/* 16 *//***/function(module,exports){var id=0,px=Math.random();module.exports=function(key){return'Symbol('.concat(key===undefined?'':key,')_',(++id+px).toString(36));};/***/},/* 17 *//***/function(module,exports,__webpack_require__){var global=__webpack_require__(15),hide=__webpack_require__(18),has=__webpack_require__(28),SRC=__webpack_require__(16)('src'),TO_STRING='toString',$toString=Function[TO_STRING],TPL=(''+$toString).split(TO_STRING);__webpack_require__(29).inspectSource=function(it){return $toString.call(it);};(module.exports=function(O,key,val,safe){var isFunction=typeof val=='function';if(isFunction)has(val,'name')||hide(val,'name',key);if(O[key]===val)return;if(isFunction)has(val,SRC)||hide(val,SRC,O[key]?''+O[key]:TPL.join(String(key)));if(O===global){O[key]=val;}else{if(!safe){delete O[key];hide(O,key,val);}else{if(O[key])O[key]=val;else hide(O,key,val);}}// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
	})(Function.prototype,TO_STRING,function toString(){return typeof this=='function'&&this[SRC]||$toString.call(this);});/***/},/* 18 *//***/function(module,exports,__webpack_require__){var dP=__webpack_require__(19),createDesc=__webpack_require__(27);module.exports=__webpack_require__(23)?function(object,key,value){return dP.f(object,key,createDesc(1,value));}:function(object,key,value){object[key]=value;return object;};/***/},/* 19 *//***/function(module,exports,__webpack_require__){var anObject=__webpack_require__(20),IE8_DOM_DEFINE=__webpack_require__(22),toPrimitive=__webpack_require__(26),dP=Object.defineProperty;exports.f=__webpack_require__(23)?Object.defineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return dP(O,P,Attributes);}catch(e){/* empty */}if('get'in Attributes||'set'in Attributes)throw TypeError('Accessors not supported!');if('value'in Attributes)O[P]=Attributes.value;return O;};/***/},/* 20 *//***/function(module,exports,__webpack_require__){var isObject=__webpack_require__(21);module.exports=function(it){if(!isObject(it))throw TypeError(it+' is not an object!');return it;};/***/},/* 21 *//***/function(module,exports){module.exports=function(it){return(typeof it==='undefined'?'undefined':_typeof2(it))==='object'?it!==null:typeof it==='function';};/***/},/* 22 *//***/function(module,exports,__webpack_require__){module.exports=!__webpack_require__(23)&&!__webpack_require__(24)(function(){return Object.defineProperty(__webpack_require__(25)('div'),'a',{get:function get(){return 7;}}).a!=7;});/***/},/* 23 *//***/function(module,exports,__webpack_require__){// Thank's IE8 for his funny defineProperty
	module.exports=!__webpack_require__(24)(function(){return Object.defineProperty({},'a',{get:function get(){return 7;}}).a!=7;});/***/},/* 24 *//***/function(module,exports){module.exports=function(exec){try{return!!exec();}catch(e){return true;}};/***/},/* 25 *//***/function(module,exports,__webpack_require__){var isObject=__webpack_require__(21),document=__webpack_require__(15).document// in old IE typeof document.createElement is 'object'
	,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{};};/***/},/* 26 *//***/function(module,exports,__webpack_require__){// 7.1.1 ToPrimitive(input [, PreferredType])
	var isObject=__webpack_require__(21);// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&typeof(fn=it.toString)=='function'&&!isObject(val=fn.call(it)))return val;if(typeof(fn=it.valueOf)=='function'&&!isObject(val=fn.call(it)))return val;if(!S&&typeof(fn=it.toString)=='function'&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value");};/***/},/* 27 *//***/function(module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value};};/***/},/* 28 *//***/function(module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key);};/***/},/* 29 *//***/function(module,exports){var core=module.exports={version:'2.4.0'};if(typeof __e=='number')__e=core;// eslint-disable-line no-undef
	/***/},/* 30 *//***/function(module,exports,__webpack_require__){'use strict';var $at=__webpack_require__(31)(true);// 21.1.3.27 String.prototype[@@iterator]()
	__webpack_require__(34)(String,'String',function(iterated){this._t=String(iterated);// target
	this._i=0;// next index
	// 21.1.5.2.1 %StringIteratorPrototype%.next()
	},function(){var O=this._t,index=this._i,point;if(index>=O.length)return{value:undefined,done:true};point=$at(O,index);this._i+=point.length;return{value:point,done:false};});/***/},/* 31 *//***/function(module,exports,__webpack_require__){var toInteger=__webpack_require__(32),defined=__webpack_require__(33);// true  -> String#at
	// false -> String#codePointAt
	module.exports=function(TO_STRING){return function(that,pos){var s=String(defined(that)),i=toInteger(pos),l=s.length,a,b;if(i<0||i>=l)return TO_STRING?'':undefined;a=s.charCodeAt(i);return a<0xd800||a>0xdbff||i+1===l||(b=s.charCodeAt(i+1))<0xdc00||b>0xdfff?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-0xd800<<10)+(b-0xdc00)+0x10000;};};/***/},/* 32 *//***/function(module,exports){// 7.1.4 ToInteger
	var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it);};/***/},/* 33 *//***/function(module,exports){// 7.2.1 RequireObjectCoercible(argument)
	module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on  "+it);return it;};/***/},/* 34 *//***/function(module,exports,__webpack_require__){'use strict';var LIBRARY=__webpack_require__(35),$export=__webpack_require__(36),redefine=__webpack_require__(17),hide=__webpack_require__(18),has=__webpack_require__(28),Iterators=__webpack_require__(39),$iterCreate=__webpack_require__(40),setToStringTag=__webpack_require__(53),getPrototypeOf=__webpack_require__(54),ITERATOR=__webpack_require__(13)('iterator'),BUGGY=!([].keys&&'next'in[].keys())// Safari has buggy iterators w/o `next`
	,FF_ITERATOR='@@iterator',KEYS='keys',VALUES='values';var returnThis=function returnThis(){return this;};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var getMethod=function getMethod(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function keys(){return new Constructor(this,kind);};case VALUES:return function values(){return new Constructor(this,kind);};}return function entries(){return new Constructor(this,kind);};};var TAG=NAME+' Iterator',DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=false,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?!DEF_VALUES?$default:getMethod('entries'):undefined,$anyNative=NAME=='Array'?proto.entries||$native:$native,methods,key,IteratorPrototype;// Fix native
	if($anyNative){IteratorPrototype=getPrototypeOf($anyNative.call(new Base()));if(IteratorPrototype!==Object.prototype){// Set @@toStringTag to native iterators
	setToStringTag(IteratorPrototype,TAG,true);// fix for some old engines
	if(!LIBRARY&&!has(IteratorPrototype,ITERATOR))hide(IteratorPrototype,ITERATOR,returnThis);}}// fix Array#{values, @@iterator}.name in V8 / FF
	if(DEF_VALUES&&$native&&$native.name!==VALUES){VALUES_BUG=true;$default=function values(){return $native.call(this);};}// Define iterator
	if((!LIBRARY||FORCED)&&(BUGGY||VALUES_BUG||!proto[ITERATOR])){hide(proto,ITERATOR,$default);}// Plug for library
	Iterators[NAME]=$default;Iterators[TAG]=returnThis;if(DEFAULT){methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries};if(FORCED)for(key in methods){if(!(key in proto))redefine(proto,key,methods[key]);}else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);}return methods;};/***/},/* 35 *//***/function(module,exports){module.exports=false;/***/},/* 36 *//***/function(module,exports,__webpack_require__){var global=__webpack_require__(15),core=__webpack_require__(29),hide=__webpack_require__(18),redefine=__webpack_require__(17),ctx=__webpack_require__(37),PROTOTYPE='prototype';var $export=function $export(type,name,source){var IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={}),key,own,out,exp;if(IS_GLOBAL)source=name;for(key in source){// contains in native
	own=!IS_FORCED&&target&&target[key]!==undefined;// export native or passed
	out=(own?target:source)[key];// bind timers to global for call from export context
	exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&typeof out=='function'?ctx(Function.call,out):out;// extend global
	if(target)redefine(target,key,out,type&$export.U);// export
	if(exports[key]!=out)hide(exports,key,exp);if(IS_PROTO&&expProto[key]!=out)expProto[key]=out;}};global.core=core;// type bitmap
	$export.F=1;// forced
	$export.G=2;// global
	$export.S=4;// static
	$export.P=8;// proto
	$export.B=16;// bind
	$export.W=32;// wrap
	$export.U=64;// safe
	$export.R=128;// real proto method for `library` 
	module.exports=$export;/***/},/* 37 *//***/function(module,exports,__webpack_require__){// optional / simple context binding
	var aFunction=__webpack_require__(38);module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 1:return function(a){return fn.call(that,a);};case 2:return function(a,b){return fn.call(that,a,b);};case 3:return function(a,b,c){return fn.call(that,a,b,c);};}return function()/* ...args */{return fn.apply(that,arguments);};};/***/},/* 38 *//***/function(module,exports){module.exports=function(it){if(typeof it!='function')throw TypeError(it+' is not a function!');return it;};/***/},/* 39 *//***/function(module,exports){module.exports={};/***/},/* 40 *//***/function(module,exports,__webpack_require__){'use strict';var create=__webpack_require__(41),descriptor=__webpack_require__(27),setToStringTag=__webpack_require__(53),IteratorPrototype={};// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
	__webpack_require__(18)(IteratorPrototype,__webpack_require__(13)('iterator'),function(){return this;});module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)});setToStringTag(Constructor,NAME+' Iterator');};/***/},/* 41 *//***/function(module,exports,__webpack_require__){// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
	var anObject=__webpack_require__(20),dPs=__webpack_require__(42),enumBugKeys=__webpack_require__(51),IE_PROTO=__webpack_require__(50)('IE_PROTO'),Empty=function Empty(){/* empty */},PROTOTYPE='prototype';// Create object with fake `null` prototype: use iframe Object with cleared prototype
	var _createDict=function createDict(){// Thrash, waste and sodomy: IE GC bug
	var iframe=__webpack_require__(25)('iframe'),i=enumBugKeys.length,gt='>',iframeDocument;iframe.style.display='none';__webpack_require__(52).appendChild(iframe);iframe.src='javascript:';// eslint-disable-line no-script-url
	// createDict = iframe.contentWindow.Object;
	// html.removeChild(iframe);
	iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write('<script>document.F=Object</script'+gt);iframeDocument.close();_createDict=iframeDocument.F;while(i--){delete _createDict[PROTOTYPE][enumBugKeys[i]];}return _createDict();};module.exports=Object.create||function create(O,Properties){var result;if(O!==null){Empty[PROTOTYPE]=anObject(O);result=new Empty();Empty[PROTOTYPE]=null;// add "__proto__" for Object.getPrototypeOf polyfill
	result[IE_PROTO]=O;}else result=_createDict();return Properties===undefined?result:dPs(result,Properties);};/***/},/* 42 *//***/function(module,exports,__webpack_require__){var dP=__webpack_require__(19),anObject=__webpack_require__(20),getKeys=__webpack_require__(43);module.exports=__webpack_require__(23)?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=getKeys(Properties),length=keys.length,i=0,P;while(length>i){dP.f(O,P=keys[i++],Properties[P]);}return O;};/***/},/* 43 *//***/function(module,exports,__webpack_require__){// 19.1.2.14 / 15.2.3.14 Object.keys(O)
	var $keys=__webpack_require__(44),enumBugKeys=__webpack_require__(51);module.exports=Object.keys||function keys(O){return $keys(O,enumBugKeys);};/***/},/* 44 *//***/function(module,exports,__webpack_require__){var has=__webpack_require__(28),toIObject=__webpack_require__(45),arrayIndexOf=__webpack_require__(47)(false),IE_PROTO=__webpack_require__(50)('IE_PROTO');module.exports=function(object,names){var O=toIObject(object),i=0,result=[],key;for(key in O){if(key!=IE_PROTO)has(O,key)&&result.push(key);}// Don't enum bug & hidden keys
	while(names.length>i){if(has(O,key=names[i++])){~arrayIndexOf(result,key)||result.push(key);}}return result;};/***/},/* 45 *//***/function(module,exports,__webpack_require__){// to indexed object, toObject with fallback for non-array-like ES3 strings
	var IObject=__webpack_require__(46),defined=__webpack_require__(33);module.exports=function(it){return IObject(defined(it));};/***/},/* 46 *//***/function(module,exports,__webpack_require__){// fallback for non-array-like ES3 and non-enumerable old V8 strings
	var cof=__webpack_require__(12);module.exports=Object('z').propertyIsEnumerable(0)?Object:function(it){return cof(it)=='String'?it.split(''):Object(it);};/***/},/* 47 *//***/function(module,exports,__webpack_require__){// false -> Array#indexOf
	// true  -> Array#includes
	var toIObject=__webpack_require__(45),toLength=__webpack_require__(48),toIndex=__webpack_require__(49);module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIObject($this),length=toLength(O.length),index=toIndex(fromIndex,length),value;// Array#includes uses SameValueZero equality algorithm
	if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true;// Array#toIndex ignores holes, Array#includes - not
	}else for(;length>index;index++){if(IS_INCLUDES||index in O){if(O[index]===el)return IS_INCLUDES||index||0;}}return!IS_INCLUDES&&-1;};};/***/},/* 48 *//***/function(module,exports,__webpack_require__){// 7.1.15 ToLength
	var toInteger=__webpack_require__(32),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),0x1fffffffffffff):0;// pow(2, 53) - 1 == 9007199254740991
	};/***/},/* 49 *//***/function(module,exports,__webpack_require__){var toInteger=__webpack_require__(32),max=Math.max,min=Math.min;module.exports=function(index,length){index=toInteger(index);return index<0?max(index+length,0):min(index,length);};/***/},/* 50 *//***/function(module,exports,__webpack_require__){var shared=__webpack_require__(14)('keys'),uid=__webpack_require__(16);module.exports=function(key){return shared[key]||(shared[key]=uid(key));};/***/},/* 51 *//***/function(module,exports){// IE 8- don't enum bug keys
	module.exports='constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'.split(',');/***/},/* 52 *//***/function(module,exports,__webpack_require__){module.exports=__webpack_require__(15).document&&document.documentElement;/***/},/* 53 *//***/function(module,exports,__webpack_require__){var def=__webpack_require__(19).f,has=__webpack_require__(28),TAG=__webpack_require__(13)('toStringTag');module.exports=function(it,tag,stat){if(it&&!has(it=stat?it:it.prototype,TAG))def(it,TAG,{configurable:true,value:tag});};/***/},/* 54 *//***/function(module,exports,__webpack_require__){// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
	var has=__webpack_require__(28),toObject=__webpack_require__(55),IE_PROTO=__webpack_require__(50)('IE_PROTO'),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=='function'&&O instanceof O.constructor){return O.constructor.prototype;}return O instanceof Object?ObjectProto:null;};/***/},/* 55 *//***/function(module,exports,__webpack_require__){// 7.1.13 ToObject(argument)
	var defined=__webpack_require__(33);module.exports=function(it){return Object(defined(it));};/***/},/* 56 *//***/function(module,exports,__webpack_require__){var $iterators=__webpack_require__(57),redefine=__webpack_require__(17),global=__webpack_require__(15),hide=__webpack_require__(18),Iterators=__webpack_require__(39),wks=__webpack_require__(13),ITERATOR=wks('iterator'),TO_STRING_TAG=wks('toStringTag'),ArrayValues=Iterators.Array;for(var collections=['NodeList','DOMTokenList','MediaList','StyleSheetList','CSSRuleList'],i=0;i<5;i++){var NAME=collections[i],Collection=global[NAME],proto=Collection&&Collection.prototype,key;if(proto){if(!proto[ITERATOR])hide(proto,ITERATOR,ArrayValues);if(!proto[TO_STRING_TAG])hide(proto,TO_STRING_TAG,NAME);Iterators[NAME]=ArrayValues;for(key in $iterators){if(!proto[key])redefine(proto,key,$iterators[key],true);}}}/***/},/* 57 *//***/function(module,exports,__webpack_require__){'use strict';var addToUnscopables=__webpack_require__(58),step=__webpack_require__(59),Iterators=__webpack_require__(39),toIObject=__webpack_require__(45);// 22.1.3.4 Array.prototype.entries()
	// 22.1.3.13 Array.prototype.keys()
	// 22.1.3.29 Array.prototype.values()
	// 22.1.3.30 Array.prototype[@@iterator]()
	module.exports=__webpack_require__(34)(Array,'Array',function(iterated,kind){this._t=toIObject(iterated);// target
	this._i=0;// next index
	this._k=kind;// kind
	// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
	},function(){var O=this._t,kind=this._k,index=this._i++;if(!O||index>=O.length){this._t=undefined;return step(1);}if(kind=='keys')return step(0,index);if(kind=='values')return step(0,O[index]);return step(0,[index,O[index]]);},'values');// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
	Iterators.Arguments=Iterators.Array;addToUnscopables('keys');addToUnscopables('values');addToUnscopables('entries');/***/},/* 58 *//***/function(module,exports,__webpack_require__){// 22.1.3.31 Array.prototype[@@unscopables]
	var UNSCOPABLES=__webpack_require__(13)('unscopables'),ArrayProto=Array.prototype;if(ArrayProto[UNSCOPABLES]==undefined)__webpack_require__(18)(ArrayProto,UNSCOPABLES,{});module.exports=function(key){ArrayProto[UNSCOPABLES][key]=true;};/***/},/* 59 *//***/function(module,exports){module.exports=function(done,value){return{value:value,done:!!done};};/***/},/* 60 *//***/function(module,exports,__webpack_require__){'use strict';var LIBRARY=__webpack_require__(35),global=__webpack_require__(15),ctx=__webpack_require__(37),classof=__webpack_require__(11),$export=__webpack_require__(36),isObject=__webpack_require__(21),anObject=__webpack_require__(20),aFunction=__webpack_require__(38),anInstance=__webpack_require__(61),forOf=__webpack_require__(62),setProto=__webpack_require__(66).set,speciesConstructor=__webpack_require__(69),task=__webpack_require__(70).set,microtask=__webpack_require__(72)(),PROMISE='Promise',TypeError=global.TypeError,process=global.process,$Promise=global[PROMISE],process=global.process,isNode=classof(process)=='process',empty=function empty(){/* empty */},Internal,GenericPromiseCapability,Wrapper;var USE_NATIVE=!!function(){try{// correct subclassing with @@species support
	var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[__webpack_require__(13)('species')]=function(exec){exec(empty,empty);};// unhandled rejections tracking support, NodeJS Promise without it fails @@species test
	return(isNode||typeof PromiseRejectionEvent=='function')&&promise.then(empty)instanceof FakePromise;}catch(e){/* empty */}}();// helpers
	var sameConstructor=function sameConstructor(a,b){// with library wrapper special case
	return a===b||a===$Promise&&b===Wrapper;};var isThenable=function isThenable(it){var then;return isObject(it)&&typeof(then=it.then)=='function'?then:false;};var newPromiseCapability=function newPromiseCapability(C){return sameConstructor($Promise,C)?new PromiseCapability(C):new GenericPromiseCapability(C);};var PromiseCapability=GenericPromiseCapability=function GenericPromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError('Bad Promise constructor');resolve=$$resolve;reject=$$reject;});this.resolve=aFunction(resolve);this.reject=aFunction(reject);};var perform=function perform(exec){try{exec();}catch(e){return{error:e};}};var notify=function notify(promise,isReject){if(promise._n)return;promise._n=true;var chain=promise._c;microtask(function(){var value=promise._v,ok=promise._s==1,i=0;var run=function run(reaction){var handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain,result,then;try{if(handler){if(!ok){if(promise._h==2)onHandleUnhandled(promise);promise._h=1;}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain)domain.exit();}if(result===reaction.promise){reject(TypeError('Promise-chain cycle'));}else if(then=isThenable(result)){then.call(result,resolve,reject);}else resolve(result);}else reject(value);}catch(e){reject(e);}};while(chain.length>i){run(chain[i++]);}// variable length - can't use forEach
	promise._c=[];promise._n=false;if(isReject&&!promise._h)onUnhandled(promise);});};var onUnhandled=function onUnhandled(promise){task.call(global,function(){var value=promise._v,abrupt,handler,console;if(isUnhandled(promise)){abrupt=perform(function(){if(isNode){process.emit('unhandledRejection',value,promise);}else if(handler=global.onunhandledrejection){handler({promise:promise,reason:value});}else if((console=global.console)&&console.error){console.error('Unhandled promise rejection',value);}});// Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
	promise._h=isNode||isUnhandled(promise)?2:1;}promise._a=undefined;if(abrupt)throw abrupt.error;});};var isUnhandled=function isUnhandled(promise){if(promise._h==1)return false;var chain=promise._a||promise._c,i=0,reaction;while(chain.length>i){reaction=chain[i++];if(reaction.fail||!isUnhandled(reaction.promise))return false;}return true;};var onHandleUnhandled=function onHandleUnhandled(promise){task.call(global,function(){var handler;if(isNode){process.emit('rejectionHandled',promise);}else if(handler=global.onrejectionhandled){handler({promise:promise,reason:promise._v});}});};var $reject=function $reject(value){var promise=this;if(promise._d)return;promise._d=true;promise=promise._w||promise;// unwrap
	promise._v=value;promise._s=2;if(!promise._a)promise._a=promise._c.slice();notify(promise,true);};var $resolve=function $resolve(value){var promise=this,then;if(promise._d)return;promise._d=true;promise=promise._w||promise;// unwrap
	try{if(promise===value)throw TypeError("Promise can't be resolved itself");if(then=isThenable(value)){microtask(function(){var wrapper={_w:promise,_d:false};// wrap
	try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1));}catch(e){$reject.call(wrapper,e);}});}else{promise._v=value;promise._s=1;notify(promise,false);}}catch(e){$reject.call({_w:promise,_d:false},e);// wrap
	}};// constructor polyfill
	if(!USE_NATIVE){// 25.4.3.1 Promise(executor)
	$Promise=function Promise(executor){anInstance(this,$Promise,PROMISE,'_h');aFunction(executor);Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1));}catch(err){$reject.call(this,err);}};Internal=function Promise(executor){this._c=[];// <- awaiting reactions
	this._a=undefined;// <- checked in isUnhandled reactions
	this._s=0;// <- state
	this._d=false;// <- done
	this._v=undefined;// <- value
	this._h=0;// <- rejection state, 0 - default, 1 - handled, 2 - unhandled
	this._n=false;// <- notify
	};Internal.prototype=__webpack_require__(73)($Promise.prototype,{// 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
	then:function then(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));reaction.ok=typeof onFulfilled=='function'?onFulfilled:true;reaction.fail=typeof onRejected=='function'&&onRejected;reaction.domain=isNode?process.domain:undefined;this._c.push(reaction);if(this._a)this._a.push(reaction);if(this._s)notify(this,false);return reaction.promise;},// 25.4.5.1 Promise.prototype.catch(onRejected)
	'catch':function _catch(onRejected){return this.then(undefined,onRejected);}});PromiseCapability=function PromiseCapability(){var promise=new Internal();this.promise=promise;this.resolve=ctx($resolve,promise,1);this.reject=ctx($reject,promise,1);};}$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise});__webpack_require__(53)($Promise,PROMISE);__webpack_require__(74)(PROMISE);Wrapper=__webpack_require__(29)[PROMISE];// statics
	$export($export.S+$export.F*!USE_NATIVE,PROMISE,{// 25.4.4.5 Promise.reject(r)
	reject:function reject(r){var capability=newPromiseCapability(this),$$reject=capability.reject;$$reject(r);return capability.promise;}});$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{// 25.4.4.6 Promise.resolve(x)
	resolve:function resolve(x){// instanceof instead of internal slot check because we should fix it without replacement native Promise core
	if(x instanceof $Promise&&sameConstructor(x.constructor,this))return x;var capability=newPromiseCapability(this),$$resolve=capability.resolve;$$resolve(x);return capability.promise;}});$export($export.S+$export.F*!(USE_NATIVE&&__webpack_require__(75)(function(iter){$Promise.all(iter)['catch'](empty);})),PROMISE,{// 25.4.4.1 Promise.all(iterable)
	all:function all(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject;var abrupt=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,false,function(promise){var $index=index++,alreadyCalled=false;values.push(undefined);remaining++;C.resolve(promise).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values[$index]=value;--remaining||resolve(values);},reject);});--remaining||resolve(values);});if(abrupt)reject(abrupt.error);return capability.promise;},// 25.4.4.4 Promise.race(iterable)
	race:function race(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject;var abrupt=perform(function(){forOf(iterable,false,function(promise){C.resolve(promise).then(capability.resolve,reject);});});if(abrupt)reject(abrupt.error);return capability.promise;}});/***/},/* 61 *//***/function(module,exports){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||forbiddenField!==undefined&&forbiddenField in it){throw TypeError(name+': incorrect invocation!');}return it;};/***/},/* 62 *//***/function(module,exports,__webpack_require__){var ctx=__webpack_require__(37),call=__webpack_require__(63),isArrayIter=__webpack_require__(64),anObject=__webpack_require__(20),toLength=__webpack_require__(48),getIterFn=__webpack_require__(65),BREAK={},RETURN={};var exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var iterFn=ITERATOR?function(){return iterable;}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0,length,step,iterator,result;if(typeof iterFn!='function')throw TypeError(iterable+' is not iterable!');// fast case for arrays with default iterator
	if(isArrayIter(iterFn))for(length=toLength(iterable.length);length>index;index++){result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]);if(result===BREAK||result===RETURN)return result;}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;){result=call(iterator,f,step.value,entries);if(result===BREAK||result===RETURN)return result;}};exports.BREAK=BREAK;exports.RETURN=RETURN;/***/},/* 63 *//***/function(module,exports,__webpack_require__){// call something on iterator step with safe closing on error
	var anObject=__webpack_require__(20);module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value);// 7.4.6 IteratorClose(iterator, completion)
	}catch(e){var ret=iterator['return'];if(ret!==undefined)anObject(ret.call(iterator));throw e;}};/***/},/* 64 *//***/function(module,exports,__webpack_require__){// check on default Array iterator
	var Iterators=__webpack_require__(39),ITERATOR=__webpack_require__(13)('iterator'),ArrayProto=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayProto[ITERATOR]===it);};/***/},/* 65 *//***/function(module,exports,__webpack_require__){var classof=__webpack_require__(11),ITERATOR=__webpack_require__(13)('iterator'),Iterators=__webpack_require__(39);module.exports=__webpack_require__(29).getIteratorMethod=function(it){if(it!=undefined)return it[ITERATOR]||it['@@iterator']||Iterators[classof(it)];};/***/},/* 66 *//***/function(module,exports,__webpack_require__){// Works with __proto__ only. Old v8 can't work with null proto objects.
	/* eslint-disable no-proto */var isObject=__webpack_require__(21),anObject=__webpack_require__(20);var check=function check(O,proto){anObject(O);if(!isObject(proto)&&proto!==null)throw TypeError(proto+": can't set as prototype!");};module.exports={set:Object.setPrototypeOf||('__proto__'in{}?// eslint-disable-line
	function(test,buggy,set){try{set=__webpack_require__(37)(Function.call,__webpack_require__(67).f(Object.prototype,'__proto__').set,2);set(test,[]);buggy=!(test instanceof Array);}catch(e){buggy=true;}return function setPrototypeOf(O,proto){check(O,proto);if(buggy)O.__proto__=proto;else set(O,proto);return O;};}({},false):undefined),check:check};/***/},/* 67 *//***/function(module,exports,__webpack_require__){var pIE=__webpack_require__(68),createDesc=__webpack_require__(27),toIObject=__webpack_require__(45),toPrimitive=__webpack_require__(26),has=__webpack_require__(28),IE8_DOM_DEFINE=__webpack_require__(22),gOPD=Object.getOwnPropertyDescriptor;exports.f=__webpack_require__(23)?gOPD:function getOwnPropertyDescriptor(O,P){O=toIObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return gOPD(O,P);}catch(e){/* empty */}if(has(O,P))return createDesc(!pIE.f.call(O,P),O[P]);};/***/},/* 68 *//***/function(module,exports){exports.f={}.propertyIsEnumerable;/***/},/* 69 *//***/function(module,exports,__webpack_require__){// 7.3.20 SpeciesConstructor(O, defaultConstructor)
	var anObject=__webpack_require__(20),aFunction=__webpack_require__(38),SPECIES=__webpack_require__(13)('species');module.exports=function(O,D){var C=anObject(O).constructor,S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?D:aFunction(S);};/***/},/* 70 *//***/function(module,exports,__webpack_require__){var ctx=__webpack_require__(37),invoke=__webpack_require__(71),html=__webpack_require__(52),cel=__webpack_require__(25),global=__webpack_require__(15),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,counter=0,queue={},ONREADYSTATECHANGE='onreadystatechange',defer,channel,port;var run=function run(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn();}};var listener=function listener(event){run.call(event.data);};// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
	if(!setTask||!clearTask){setTask=function setImmediate(fn){var args=[],i=1;while(arguments.length>i){args.push(arguments[i++]);}queue[++counter]=function(){invoke(typeof fn=='function'?fn:Function(fn),args);};defer(counter);return counter;};clearTask=function clearImmediate(id){delete queue[id];};// Node.js 0.8-
	if(__webpack_require__(12)(process)=='process'){defer=function defer(id){process.nextTick(ctx(run,id,1));};// Browsers with MessageChannel, includes WebWorkers
	}else if(MessageChannel){channel=new MessageChannel();port=channel.port2;channel.port1.onmessage=listener;defer=ctx(port.postMessage,port,1);// Browsers with postMessage, skip WebWorkers
	// IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
	}else if(global.addEventListener&&typeof postMessage=='function'&&!global.importScripts){defer=function defer(id){global.postMessage(id+'','*');};global.addEventListener('message',listener,false);// IE8-
	}else if(ONREADYSTATECHANGE in cel('script')){defer=function defer(id){html.appendChild(cel('script'))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run.call(id);};};// Rest old browsers
	}else{defer=function defer(id){setTimeout(ctx(run,id,1),0);};}}module.exports={set:setTask,clear:clearTask};/***/},/* 71 *//***/function(module,exports){// fast apply, http://jsperf.lnkit.com/fast-apply/5
	module.exports=function(fn,args,that){var un=that===undefined;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3]);}return fn.apply(that,args);};/***/},/* 72 *//***/function(module,exports,__webpack_require__){var global=__webpack_require__(15),macrotask=__webpack_require__(70).set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode=__webpack_require__(12)(process)=='process';module.exports=function(){var head,last,notify;var flush=function flush(){var parent,fn;if(isNode&&(parent=process.domain))parent.exit();while(head){fn=head.fn;head=head.next;try{fn();}catch(e){if(head)notify();else last=undefined;throw e;}}last=undefined;if(parent)parent.enter();};// Node.js
	if(isNode){notify=function notify(){process.nextTick(flush);};// browsers with MutationObserver
	}else if(Observer){var toggle=true,node=document.createTextNode('');new Observer(flush).observe(node,{characterData:true});// eslint-disable-line no-new
	notify=function notify(){node.data=toggle=!toggle;};// environments with maybe non-completely correct, but existent Promise
	}else if(Promise&&Promise.resolve){var promise=Promise.resolve();notify=function notify(){promise.then(flush);};// for other environments - macrotask based on:
	// - setImmediate
	// - MessageChannel
	// - window.postMessag
	// - onreadystatechange
	// - setTimeout
	}else{notify=function notify(){// strange IE + webpack dev server bug - use .call(global)
	macrotask.call(global,flush);};}return function(fn){var task={fn:fn,next:undefined};if(last)last.next=task;if(!head){head=task;notify();}last=task;};};/***/},/* 73 *//***/function(module,exports,__webpack_require__){var redefine=__webpack_require__(17);module.exports=function(target,src,safe){for(var key in src){redefine(target,key,src[key],safe);}return target;};/***/},/* 74 *//***/function(module,exports,__webpack_require__){'use strict';var global=__webpack_require__(15),dP=__webpack_require__(19),DESCRIPTORS=__webpack_require__(23),SPECIES=__webpack_require__(13)('species');module.exports=function(KEY){var C=global[KEY];if(DESCRIPTORS&&C&&!C[SPECIES])dP.f(C,SPECIES,{configurable:true,get:function get(){return this;}});};/***/},/* 75 *//***/function(module,exports,__webpack_require__){var ITERATOR=__webpack_require__(13)('iterator'),SAFE_CLOSING=false;try{var riter=[7][ITERATOR]();riter['return']=function(){SAFE_CLOSING=true;};Array.from(riter,function(){throw 2;});}catch(e){/* empty */}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return false;var safe=false;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=true};};arr[ITERATOR]=function(){return iter;};exec(arr);}catch(e){/* empty */}return safe;};/***/},/* 76 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=init;var frameworks=void 0;var versionRegExp=/^\s*\/\/ *(\{[^\}]*\}) *\r?\n/;/**
		 * Detect a JS Bundle code and make sure which framework it's based to. Each JS
		 * Bundle should make sure that it starts with a line of JSON comment and is
		 * more that one line.
		 * @param  {string} code
		 * @return {object}
		 */function checkVersion(code){var info=void 0;var result=versionRegExp.exec(code);if(result){try{info=JSON.parse(result[1]);}catch(e){}}return info;}var instanceMap={};/**
		 * Check which framework a certain JS Bundle code based to. And create instance
		 * by this framework.
		 * @param {string} id
		 * @param {string} code
		 * @param {object} config
		 * @param {object} data
		 */function createInstance(id,code,config,data){var info=instanceMap[id];if(!info){info=checkVersion(code)||{};if(!frameworks[info.framework]){info.framework='Weex';}instanceMap[id]=info;config=config||{};config.bundleVersion=info.version;console.debug('[JS Framework] create an '+info.framework+'@'+config.bundleVersion+' instance from '+config.bundleVersion);return frameworks[info.framework].createInstance(id,code,config,data);}return new Error('invalid instance id "'+id+'"');}var methods={createInstance:createInstance};/**
		 * Register methods which init each frameworks.
		 * @param {string} methodName
		 */function genInit(methodName){methods[methodName]=function(){for(var name in frameworks){var framework=frameworks[name];if(framework&&framework[methodName]){framework[methodName].apply(framework,arguments);}}};}/**
		 * Register methods which will be called for each instance.
		 * @param {string} methodName
		 */function genInstance(methodName){methods[methodName]=function(){var id=arguments.length<=0?undefined:arguments[0];var info=instanceMap[id];if(info&&frameworks[info.framework]){var _frameworks$info$fram;return(_frameworks$info$fram=frameworks[info.framework])[methodName].apply(_frameworks$info$fram,arguments);}return new Error('invalid instance id "'+id+'"');};}/**
		 * Adapt some legacy method(s) which will be called for each instance. These
		 * methods should be deprecated and removed later.
		 * @param {string} methodName
		 * @param {string} nativeMethodName
		 */function adaptInstance(methodName,nativeMethodName){methods[nativeMethodName]=function(){var id=arguments.length<=0?undefined:arguments[0];var info=instanceMap[id];if(info&&frameworks[info.framework]){var _frameworks$info$fram2;return(_frameworks$info$fram2=frameworks[info.framework])[methodName].apply(_frameworks$info$fram2,arguments);}return new Error('invalid instance id "'+id+'"');};}function init(config){frameworks=config.frameworks||{};// Init each framework by `init` method and `config` which contains three
	// virtual-DOM Class: `Document`, `Element` & `Comment`, and a JS bridge method:
	// `sendTasks(...args)`.
	for(var name in frameworks){var framework=frameworks[name];framework.init(config);}// @todo: The method `registerMethods` will be re-designed or removed later.
	;['registerComponents','registerModules','registerMethods'].forEach(genInit);['destroyInstance','refreshInstance','receiveTasks','getRoot'].forEach(genInstance);adaptInstance('receiveTasks','callJS');return methods;}/***/},/* 77 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _default=__webpack_require__(78);var Weex=_interopRequireWildcard(_default);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}exports.default={Weex:Weex};/***/},/* 78 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _create=__webpack_require__(79);Object.defineProperty(exports,'createInstance',{enumerable:true,get:function get(){return _create.createInstance;}});var _life=__webpack_require__(104);Object.defineProperty(exports,'init',{enumerable:true,get:function get(){return _life.init;}});Object.defineProperty(exports,'refreshInstance',{enumerable:true,get:function get(){return _life.refreshInstance;}});Object.defineProperty(exports,'destroyInstance',{enumerable:true,get:function get(){return _life.destroyInstance;}});var _register=__webpack_require__(111);Object.defineProperty(exports,'registerComponents',{enumerable:true,get:function get(){return _register.registerComponents;}});Object.defineProperty(exports,'registerModules',{enumerable:true,get:function get(){return _register.registerModules;}});Object.defineProperty(exports,'registerMethods',{enumerable:true,get:function get(){return _register.registerMethods;}});var _bridge=__webpack_require__(112);Object.defineProperty(exports,'receiveTasks',{enumerable:true,get:function get(){return _bridge.receiveTasks;}});var _misc=__webpack_require__(113);Object.defineProperty(exports,'getRoot',{enumerable:true,get:function get(){return _misc.getRoot;}});/***/},/* 79 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.createInstance=createInstance;var _app=__webpack_require__(80);var _app2=_interopRequireDefault(_app);var _map=__webpack_require__(103);var _ctrl=__webpack_require__(82);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * Create a Weex instance.
		 *
		 * @param  {string} id
		 * @param  {string} code
		 * @param  {object} [options] option `HAS_LOG` enable print log
		 * @param  {object} [data]
		 */function createInstance(id,code,options,data){var instance=_map.instanceMap[id];options=options||{};var result=void 0;if(!instance){instance=new _app2.default(id,options);result=_map.instanceMap[id]=instance;(0,_ctrl.init)(instance,code,data);}else{result=new Error('invalid instance id "'+id+'"');}return result;}/***/},/* 80 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _register=__webpack_require__(81);var _ctrl=__webpack_require__(82);var _instance=__webpack_require__(101);var _instance2=_interopRequireDefault(_instance);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * @deprecated
		 */_instance2.default.prototype.requireModule=function(name){return(0,_register.requireModule)(this,name);};/**
		 * @deprecated
		 *//**
		 * @fileOverview
		 * Weex instance constructor & definition
		 */_instance2.default.prototype.updateActions=function(){(0,_ctrl.updateActions)(this);};/**
		 * @deprecated
		 */_instance2.default.prototype.callTasks=function(tasks){(0,_ctrl.callTasks)(this,tasks);};exports.default=_instance2.default;/***/},/* 81 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.getModule=getModule;exports.clearModules=clearModules;exports.initModules=initModules;exports.initMethods=initMethods;exports.requireModule=requireModule;exports.requireCustomComponent=requireCustomComponent;exports.registerCustomComponent=registerCustomComponent;var nativeModules={};// for testing
	/**
		 * for testing
		 */function getModule(moduleName){return nativeModules[moduleName];}/**
		 * for testing
		 */function clearModules(){nativeModules={};}// for framework
	/**
		 * init modules for an app instance
		 * the second param determines whether to replace an existed method
		 */function initModules(modules,ifReplace){var _loop=function _loop(moduleName){// init `modules[moduleName][]`
	var methods=nativeModules[moduleName];if(!methods){methods={};nativeModules[moduleName]=methods;}// push each non-existed new method
	modules[moduleName].forEach(function(method){if(typeof method==='string'){method={name:method};}if(!methods[method.name]||ifReplace){methods[method.name]=method;}});};for(var moduleName in modules){_loop(moduleName);}}/**
		 * init app methods
		 */function initMethods(Vm,apis){var p=Vm.prototype;for(var apiName in apis){if(!p.hasOwnProperty(apiName)){p[apiName]=apis[apiName];}}}// for app
	/**
		 * get a module of methods for an app instance
		 */function requireModule(app,name){var methods=nativeModules[name];var target={};var _loop2=function _loop2(methodName){target[methodName]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return app.callTasks({module:name,method:methodName,args:args});};};for(var methodName in methods){_loop2(methodName);}return target;}/**
		 * get a custom component options
		 */function requireCustomComponent(app,name){var customComponentMap=app.customComponentMap;return customComponentMap[name];}/**
		 * register a custom component options
		 */function registerCustomComponent(app,name,def){var customComponentMap=app.customComponentMap;if(customComponentMap[name]){console.error('[JS Framework] define a component('+name+') that already exists');return;}customComponentMap[name]=def;}/***/},/* 82 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _init=__webpack_require__(83);Object.defineProperty(exports,'init',{enumerable:true,get:function get(){return _init.init;}});var _misc=__webpack_require__(100);Object.defineProperty(exports,'refresh',{enumerable:true,get:function get(){return _misc.refresh;}});Object.defineProperty(exports,'destroy',{enumerable:true,get:function get(){return _misc.destroy;}});Object.defineProperty(exports,'getRootElement',{enumerable:true,get:function get(){return _misc.getRootElement;}});Object.defineProperty(exports,'fireEvent',{enumerable:true,get:function get(){return _misc.fireEvent;}});Object.defineProperty(exports,'callback',{enumerable:true,get:function get(){return _misc.callback;}});Object.defineProperty(exports,'updateActions',{enumerable:true,get:function get(){return _misc.updateActions;}});Object.defineProperty(exports,'callTasks',{enumerable:true,get:function get(){return _misc.callTasks;}});/***/},/* 83 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.init=init;var _vm=__webpack_require__(84);var _vm2=_interopRequireDefault(_vm);var _util=__webpack_require__(85);var _bundle=__webpack_require__(97);var _misc=__webpack_require__(100);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * Init an app by run code witgh data
		 * @param  {object} app
		 * @param  {string} code
		 * @param  {object} data
		 *//**
		 * @fileOverview
		 * instance controls from native
		 *
		 * - init bundle
		 *
		 * corresponded with the API of instance manager (framework.js)
		 */function init(app,code,data){console.debug('[JS Framework] Intialize an instance with:\n',data);var result=void 0;// prepare app env methods
	var bundleDefine=function bundleDefine(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _bundle.defineFn.apply(undefined,[app].concat(args));};var bundleBootstrap=function bundleBootstrap(name,config,_data){result=(0,_bundle.bootstrap)(app,name,config,_data||data);(0,_misc.updateActions)(app);app.doc.listener.createFinish();console.debug('[JS Framework] After intialized an instance('+app.id+')');};var bundleVm=_vm2.default;var bundleRegister=function bundleRegister(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _bundle.register.apply(undefined,[app].concat(args));};var bundleRender=function bundleRender(name,_data){result=(0,_bundle.bootstrap)(app,name,{},_data);};var bundleRequire=function bundleRequire(name){return function(_data){result=(0,_bundle.bootstrap)(app,name,{},_data);};};var bundleDocument=app.doc;var bundleRequireModule=function bundleRequireModule(name){return app.requireModule((0,_util.removeWeexPrefix)(name));};// prepare code
	var functionBody=void 0;/* istanbul ignore if */if(typeof code==='function'){// `function () {...}` -> `{...}`
	// not very strict
	functionBody=code.toString().substr(12);}else if(code){functionBody=code.toString();}// run code and get result
	var _global=global;var WXEnvironment=_global.WXEnvironment;if(WXEnvironment){var fn=new Function('define','require','document','bootstrap','register','render','__weex_define__',// alias for define
	'__weex_bootstrap__',// alias for bootstrap
	'__weex_document__',// alias for bootstrap
	'__weex_require__','__weex_viewmodel__',functionBody);fn(bundleDefine,bundleRequire,bundleDocument,bundleBootstrap,bundleRegister,bundleRender,bundleDefine,bundleBootstrap,bundleDocument,bundleRequireModule,bundleVm);}return result;}/***/},/* 84 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Vm;var _util=__webpack_require__(85);var _state=__webpack_require__(86);var _compiler=__webpack_require__(92);var _observer=__webpack_require__(90);var _directive=__webpack_require__(93);var _events=__webpack_require__(96);/**
		 * ViewModel constructor
		 *
		 * @param {string} type
		 * @param {object} options    component options
		 * @param {object} parentVm   which contains _app
		 * @param {object} parentEl   root element or frag block
		 * @param {object} mergedData external data
		 * @param {object} externalEvents external events
		 *//**
		 * @fileOverview
		 * ViewModel Constructor & definition
		 */function Vm(type,options,parentVm,parentEl,mergedData,externalEvents){parentVm=parentVm||{};this._parent=parentVm._realParent?parentVm._realParent:parentVm;this._app=parentVm._app||{};parentVm._childrenVms&&parentVm._childrenVms.push(this);if(!options&&this._app.customComponentMap){options=this._app.customComponentMap[type];}options=options||{};var data=options.data||{};this._options=options;this._methods=options.methods||{};this._computed=options.computed||{};this._css=options.style||{};this._ids={};this._vmEvents={};this._childrenVms=[];this._type=type;// bind events and lifecycles
	(0,_events.initEvents)(this,externalEvents);console.debug('[JS Framework] "init" lifecycle in Vm('+this._type+')');this.$emit('hook:init');this._inited=true;// proxy data and methods
	// observe data and add this to vms
	this._data=typeof data==='function'?data():data;if(mergedData){(0,_util.extend)(this._data,mergedData);}(0,_state.initState)(this);console.debug('[JS Framework] "created" lifecycle in Vm('+this._type+')');this.$emit('hook:created');this._created=true;// backward old ready entry
	if(options.methods&&options.methods.ready){console.warn('"exports.methods.ready" is deprecated, '+'please use "exports.created" instead');options.methods.ready.call(this);}if(!this._app.doc){return;}// if no parentElement then specify the documentElement
	this._parentEl=parentEl||this._app.doc.documentElement;(0,_compiler.build)(this);}(0,_events.mixinEvents)(Vm.prototype);/**
		 * Watch an function and bind all the data appeared in it. When the related
		 * data changes, the callback will be called with new value as 1st param.
		 *
		 * @param {Function} fn
		 * @param {Function} callback
		 */Vm.prototype.$watch=function(fn,callback){(0,_directive.watch)(this,fn,callback);};Vm.set=_observer.set;Vm.delete=_observer.del;/***/},/* 85 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};var _utils=__webpack_require__(8);Object.defineProperty(exports,'extend',{enumerable:true,get:function get(){return _utils.extend;}});Object.defineProperty(exports,'def',{enumerable:true,get:function get(){return _utils.def;}});Object.defineProperty(exports,'remove',{enumerable:true,get:function get(){return _utils.remove;}});Object.defineProperty(exports,'hasOwn',{enumerable:true,get:function get(){return _utils.hasOwn;}});Object.defineProperty(exports,'bind',{enumerable:true,get:function get(){return _utils.bind;}});Object.defineProperty(exports,'toArray',{enumerable:true,get:function get(){return _utils.toArray;}});Object.defineProperty(exports,'isObject',{enumerable:true,get:function get(){return _utils.isObject;}});Object.defineProperty(exports,'isPlainObject',{enumerable:true,get:function get(){return _utils.isPlainObject;}});exports.isReserved=isReserved;exports.createNewSet=createNewSet;exports.cached=cached;exports.typof=typof;exports.removeWeexPrefix=removeWeexPrefix;exports.removeJSSurfix=removeJSSurfix;/**
		 * Check if a string starts with $ or _
		 *
		 * @param {String} str
		 * @return {Boolean}
		 */function isReserved(str){var c=(str+'').charCodeAt(0);return c===0x24||c===0x5F;}// can we use __proto__?
	var hasProto=exports.hasProto='__proto__'in{};var _Set=void 0;/* istanbul ignore if */if(typeof Set!=='undefined'&&Set.toString().match(/native code/)){// use native Set when available.
	exports._Set=_Set=Set;}else{// a non-standard Set polyfill that only works with primitive keys.
	exports._Set=_Set=function _Set(){this.set=Object.create(null);};_Set.prototype.has=function(key){return this.set[key]!==undefined;};_Set.prototype.add=function(key){this.set[key]=1;};_Set.prototype.clear=function(){this.set=Object.create(null);};}exports._Set=_Set;/**
		 * Polyfill in iOS7 by native because the JavaScript polyfill has memory problem.
		 * @return {object}
		 */function createNewSet(){/* eslint-disable */if((typeof nativeSet==='undefined'?'undefined':_typeof(nativeSet))==='object'){return nativeSet.create();}/* eslint-enable */return new _Set();}/**
		 * Create a cached version of a pure function.
		 *
		 * @param {Function} fn
		 * @return {Function}
		 */function cached(fn){var cache=Object.create(null);return function cachedFn(str){var hit=cache[str];return hit||(cache[str]=fn(str));};}/**
		 * Camelize a hyphen-delmited string.
		 *
		 * @param {String} str
		 * @return {String}
		 */var camelizeRE=/-(\w)/g;var camelize=exports.camelize=cached(function(str){return str.replace(camelizeRE,toUpper);});function toUpper(_,c){return c?c.toUpperCase():'';}/**
		 * Hyphenate a camelCase string.
		 *
		 * @param {String} str
		 * @return {String}
		 */var hyphenateRE=/([a-z\d])([A-Z])/g;var hyphenate=exports.hyphenate=cached(function(str){return str.replace(hyphenateRE,'$1-$2').toLowerCase();});function typof(v){var s=Object.prototype.toString.call(v);return s.substring(8,s.length-1).toLowerCase();}// weex name rules
	var WEEX_COMPONENT_REG=/^@weex-component\//;var WEEX_MODULE_REG=/^@weex-module\//;var NORMAL_MODULE_REG=/^\.{1,2}\//;var JS_SURFIX_REG=/\.js$/;var isWeexComponent=exports.isWeexComponent=function isWeexComponent(name){return!!name.match(WEEX_COMPONENT_REG);};var isWeexModule=exports.isWeexModule=function isWeexModule(name){return!!name.match(WEEX_MODULE_REG);};var isNormalModule=exports.isNormalModule=function isNormalModule(name){return!!name.match(NORMAL_MODULE_REG);};var isNpmModule=exports.isNpmModule=function isNpmModule(name){return!isWeexComponent(name)&&!isWeexModule(name)&&!isNormalModule(name);};function removeWeexPrefix(str){var result=str.replace(WEEX_COMPONENT_REG,'').replace(WEEX_MODULE_REG,'');return result;}function removeJSSurfix(str){return str.replace(JS_SURFIX_REG,'');}/***/},/* 86 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.initState=initState;exports.initData=initData;exports.initComputed=initComputed;exports.initMethods=initMethods;var _watcher=__webpack_require__(87);var _watcher2=_interopRequireDefault(_watcher);var _dep=__webpack_require__(89);var _dep2=_interopRequireDefault(_dep);var _observer=__webpack_require__(90);var _util=__webpack_require__(85);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/* eslint-disable */function initState(vm){vm._watchers=[];initData(vm);initComputed(vm);initMethods(vm);}function initData(vm){var data=vm._data;if(!(0,_util.isPlainObject)(data)){data={};}// proxy data on instance
	var keys=Object.keys(data);var i=keys.length;while(i--){(0,_observer.proxy)(vm,keys[i]);}// observe data
	(0,_observer.observe)(data,vm);}function noop(){}function initComputed(vm){var computed=vm._computed;if(computed){for(var key in computed){var userDef=computed[key];var def={enumerable:true,configurable:true};if(typeof userDef==='function'){def.get=makeComputedGetter(userDef,vm);def.set=noop;}else{def.get=userDef.get?userDef.cache!==false?makeComputedGetter(userDef.get,vm):(0,_util.bind)(userDef.get,vm):noop;def.set=userDef.set?(0,_util.bind)(userDef.set,vm):noop;}Object.defineProperty(vm,key,def);}}}function makeComputedGetter(getter,owner){var watcher=new _watcher2.default(owner,getter,null,{lazy:true});return function computedGetter(){if(watcher.dirty){watcher.evaluate();}if(_dep2.default.target){watcher.depend();}return watcher.value;};}function initMethods(vm){var methods=vm._methods;if(methods){for(var key in methods){vm[key]=methods[key];}}}/***/},/* 87 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(process){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Watcher;var _dep=__webpack_require__(89);var _dep2=_interopRequireDefault(_dep);var _util=__webpack_require__(85);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/* eslint-disable */var uid=0;/**
		 * A watcher parses an expression, collects dependencies,
		 * and fires callback when the expression value changes.
		 * This is used for both the $watch() api and directives.
		 *
		 * @param {Vue} vm
		 * @param {String|Function} expOrFn
		 * @param {Function} cb
		 * @param {Object} options
		 *                 - {Array} filters
		 *                 - {Boolean} twoWay
		 *                 - {Boolean} deep
		 *                 - {Boolean} user
		 *                 - {Boolean} sync
		 *                 - {Boolean} lazy
		 *                 - {Function} [preProcess]
		 *                 - {Function} [postProcess]
		 * @constructor
		 */// import { pushWatcher } from './batcher'
	function Watcher(vm,expOrFn,cb,options){// mix in options
	if(options){(0,_util.extend)(this,options);}var isFn=typeof expOrFn==='function';this.vm=vm;vm._watchers.push(this);this.expression=expOrFn;this.cb=cb;this.id=++uid;// uid for batching
	this.active=true;this.dirty=this.lazy;// for lazy watchers
	this.deps=[];this.newDeps=[];this.depIds=(0,_util.createNewSet)();// new Set()
	this.newDepIds=(0,_util.createNewSet)();// new Set()
	// parse expression for getter
	if(isFn){this.getter=expOrFn;}else{this.getter=(0,_util.parsePath)(expOrFn);if(!this.getter){this.getter=function(){};process.env.NODE_ENV!=='production'&&(0,_util.warn)('Failed watching path: '+expOrFn+'Watcher only accepts simple dot-delimited paths. '+'For full control, use a function instead.',vm);}}this.value=this.lazy?undefined:this.get();// state for avoiding false triggers for deep and Array
	// watchers during vm._digest()
	this.queued=this.shallow=false;}/**
		 * Evaluate the getter, and re-collect dependencies.
		 */Watcher.prototype.get=function(){(0,_dep.pushTarget)(this);var value=this.getter.call(this.vm,this.vm);// "touch" every property so they are all tracked as
	// dependencies for deep watching
	if(this.deep){traverse(value);}(0,_dep.popTarget)();this.cleanupDeps();return value;};/**
		 * Add a dependency to this directive.
		 *
		 * @param {Dep} dep
		 */Watcher.prototype.addDep=function(dep){var id=dep.id;if(!this.newDepIds.has(id)){this.newDepIds.add(id);this.newDeps.push(dep);if(!this.depIds.has(id)){dep.addSub(this);}}};/**
		 * Clean up for dependency collection.
		 */Watcher.prototype.cleanupDeps=function(){var i=this.deps.length;while(i--){var dep=this.deps[i];if(!this.newDepIds.has(dep.id)){dep.removeSub(this);}}var tmp=this.depIds;this.depIds=this.newDepIds;this.newDepIds=tmp;this.newDepIds.clear();tmp=this.deps;this.deps=this.newDeps;this.newDeps=tmp;this.newDeps.length=0;};/**
		 * Subscriber interface.
		 * Will be called when a dependency changes.
		 *
		 * @param {Boolean} shallow
		 */Watcher.prototype.update=function(shallow){if(this.lazy){this.dirty=true;}else{this.run();}// } else if (this.sync) {
	//   this.run()
	// } else {
	//   // if queued, only overwrite shallow with non-shallow,
	//   // but not the other way around.
	//   this.shallow = this.queued
	//     ? shallow
	//       ? this.shallow
	//       : false
	//     : !!shallow
	//   this.queued = true
	//   pushWatcher(this)
	// }
	};/**
		 * Batcher job interface.
		 * Will be called by the batcher.
		 */Watcher.prototype.run=function(){if(this.active){var value=this.get();if(value!==this.value||// Deep watchers and watchers on Object/Arrays should fire even
	// when the value is the same, because the value may
	// have mutated; but only do so if this is a
	// non-shallow update (caused by a vm digest).
	((0,_util.isObject)(value)||this.deep)&&!this.shallow){// set new value
	var oldValue=this.value;this.value=value;this.cb.call(this.vm,value,oldValue);}this.queued=this.shallow=false;}};/**
		 * Evaluate the value of the watcher.
		 * This only gets called for lazy watchers.
		 */Watcher.prototype.evaluate=function(){this.value=this.get();this.dirty=false;};/**
		 * Depend on all deps collected by this watcher.
		 */Watcher.prototype.depend=function(){var i=this.deps.length;while(i--){this.deps[i].depend();}};/**
		 * Remove self from all dependencies' subcriber list.
		 */Watcher.prototype.teardown=function(){if(this.active){// remove self from vm's watcher list
	// this is a somewhat expensive operation so we skip it
	// if the vm is being destroyed or is performing a v-for
	// re-render (the watcher list is then filtered by v-for).
	if(!this.vm._isBeingDestroyed&&!this.vm._vForRemoving){(0,_util.remove)(this.vm._watchers,this);}var i=this.deps.length;while(i--){this.deps[i].removeSub(this);}this.active=false;this.vm=this.cb=this.value=null;}};/**
		 * Recrusively traverse an object to evoke all converted
		 * getters, so that every nested property inside the object
		 * is collected as a "deep" dependency.
		 *
		 * @param {*} val
		 * @param {Set} seen
		 */var seenObjects=(0,_util.createNewSet)();// new Set()
	function traverse(val,seen){var i=void 0,keys=void 0,isA=void 0,isO=void 0;if(!seen){seen=seenObjects;seen.clear();}isA=Array.isArray(val);isO=(0,_util.isObject)(val);if(isA||isO){if(val.__ob__){var depId=val.__ob__.dep.id;if(seen.has(depId)){return;}else{seen.add(depId);}}if(isA){i=val.length;while(i--){traverse(val[i],seen);}}else if(isO){keys=Object.keys(val);i=keys.length;while(i--){traverse(val[keys[i]],seen);}}}}/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(88));/***/},/* 88 *//***/function(module,exports){// shim for using process in browser
	var process=module.exports={};var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}if(queue.length){drainQueue();}}function drainQueue(){if(draining){return;}var timeout=setTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}queueIndex=-1;len=queue.length;}currentQueue=null;draining=false;clearTimeout(timeout);}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){setTimeout(drainQueue,0);}};// v8 likes predictible objects
	function Item(fun,array){this.fun=fun;this.array=array;}Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';// empty string to avoid regexp issues
	process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/';};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};/***/},/* 89 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Dep;exports.pushTarget=pushTarget;exports.popTarget=popTarget;exports.resetTarget=resetTarget;var _util=__webpack_require__(85);var uid=0;/**
		 * A dep is an observable that can have multiple
		 * directives subscribing to it.
		 *
		 * @constructor
		 *//* eslint-disable */function Dep(){this.id=uid++;this.subs=[];}// the current target watcher being evaluated.
	// this is globally unique because there could be only one
	// watcher being evaluated at any time.
	Dep.target=null;var targetStack=[];function pushTarget(_target){if(Dep.target)targetStack.push(Dep.target);Dep.target=_target;}function popTarget(){Dep.target=targetStack.pop();}function resetTarget(){Dep.target=null;targetStack=[];}/**
		 * Add a directive subscriber.
		 *
		 * @param {Directive} sub
		 */Dep.prototype.addSub=function(sub){this.subs.push(sub);};/**
		 * Remove a directive subscriber.
		 *
		 * @param {Directive} sub
		 */Dep.prototype.removeSub=function(sub){(0,_util.remove)(this.subs,sub);};/**
		 * Add self as a dependency to the target watcher.
		 */Dep.prototype.depend=function(){if(Dep.target){Dep.target.addDep(this);}};/**
		 * Notify all subscribers of a new value.
		 */Dep.prototype.notify=function(){// stablize the subscriber list first
	var subs=this.subs.slice();for(var i=0,l=subs.length;i<l;i++){subs[i].update();}};/***/},/* 90 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Observer=Observer;exports.observe=observe;exports.defineReactive=defineReactive;exports.set=set;exports.del=del;exports.proxy=proxy;exports.unproxy=unproxy;var _dep=__webpack_require__(89);var _dep2=_interopRequireDefault(_dep);var _array=__webpack_require__(91);var _util=__webpack_require__(85);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var arrayKeys=Object.getOwnPropertyNames(_array.arrayMethods);/**
		 * Observer class that are attached to each observed
		 * object. Once attached, the observer converts target
		 * object's property keys into getter/setters that
		 * collect dependencies and dispatches updates.
		 *
		 * @param {Array|Object} value
		 * @constructor
		 *//* eslint-disable */function Observer(value){this.value=value;this.dep=new _dep2.default();(0,_util.def)(value,'__ob__',this);if(Array.isArray(value)){var augment=_util.hasProto?protoAugment:copyAugment;augment(value,_array.arrayMethods,arrayKeys);this.observeArray(value);}else{this.walk(value);}}// Instance methods
	/**
		 * Walk through each property and convert them into
		 * getter/setters. This method should only be called when
		 * value type is Object.
		 *
		 * @param {Object} obj
		 */Observer.prototype.walk=function(obj){for(var key in obj){this.convert(key,obj[key]);}};/**
		 * Observe a list of Array items.
		 *
		 * @param {Array} items
		 */Observer.prototype.observeArray=function(items){for(var i=0,l=items.length;i<l;i++){observe(items[i]);}};/**
		 * Convert a property into getter/setter so we can emit
		 * the events when the property is accessed/changed.
		 *
		 * @param {String} key
		 * @param {*} val
		 */Observer.prototype.convert=function(key,val){defineReactive(this.value,key,val);};/**
		 * Add an owner vm, so that when $set/$delete mutations
		 * happen we can notify owner vms to proxy the keys and
		 * digest the watchers. This is only called when the object
		 * is observed as an instance's root $data.
		 *
		 * @param {Vue} vm
		 */Observer.prototype.addVm=function(vm){(this.vms||(this.vms=[])).push(vm);};/**
		 * Remove an owner vm. This is called when the object is
		 * swapped out as an instance's $data object.
		 *
		 * @param {Vue} vm
		 */Observer.prototype.removeVm=function(vm){(0,_util.remove)(this.vms,vm);};// helpers
	/**
		 * Augment an target Object or Array by intercepting
		 * the prototype chain using __proto__
		 *
		 * @param {Object|Array} target
		 * @param {Object} src
		 */function protoAugment(target,src){/* eslint-disable no-proto */target.__proto__=src;/* eslint-enable no-proto */}/**
		 * Augment an target Object or Array by defining
		 * hidden properties.
		 *
		 * @param {Object|Array} target
		 * @param {Object} proto
		 */function copyAugment(target,src,keys){for(var i=0,l=keys.length;i<l;i++){var key=keys[i];(0,_util.def)(target,key,src[key]);}}/**
		 * Attempt to create an observer instance for a value,
		 * returns the new observer if successfully observed,
		 * or the existing observer if the value already has one.
		 *
		 * @param {*} value
		 * @param {Vue} [vm]
		 * @return {Observer|undefined}
		 * @static
		 */function observe(value,vm){if(!(0,_util.isObject)(value)){return;}var ob=void 0;if((0,_util.hasOwn)(value,'__ob__')&&value.__ob__ instanceof Observer){ob=value.__ob__;}else if((Array.isArray(value)||(0,_util.isPlainObject)(value))&&Object.isExtensible(value)&&!value._isVue){ob=new Observer(value);}if(ob&&vm){ob.addVm(vm);}return ob;}/**
		 * Define a reactive property on an Object.
		 *
		 * @param {Object} obj
		 * @param {String} key
		 * @param {*} val
		 */function defineReactive(obj,key,val){var dep=new _dep2.default();var property=Object.getOwnPropertyDescriptor(obj,key);if(property&&property.configurable===false){return;}// cater for pre-defined getter/setters
	var getter=property&&property.get;var setter=property&&property.set;var childOb=observe(val);Object.defineProperty(obj,key,{enumerable:true,configurable:true,get:function reactiveGetter(){var value=getter?getter.call(obj):val;if(_dep2.default.target){dep.depend();if(childOb){childOb.dep.depend();}if(Array.isArray(value)){for(var e,i=0,l=value.length;i<l;i++){e=value[i];e&&e.__ob__&&e.__ob__.dep.depend();}}}return value;},set:function reactiveSetter(newVal){var value=getter?getter.call(obj):val;if(newVal===value){return;}if(setter){setter.call(obj,newVal);}else{val=newVal;}childOb=observe(newVal);dep.notify();}});}/**
		 * Set a property on an object. Adds the new property and
		 * triggers change notification if the property doesn't
		 * already exist.
		 *
		 * @param {Object} obj
		 * @param {String} key
		 * @param {*} val
		 * @public
		 */function set(obj,key,val){if(Array.isArray(obj)){return obj.splice(key,1,val);}if((0,_util.hasOwn)(obj,key)){obj[key]=val;return;}if(obj._isVue){set(obj._data,key,val);return;}var ob=obj.__ob__;if(!ob){obj[key]=val;return;}ob.convert(key,val);ob.dep.notify();if(ob.vms){var i=ob.vms.length;while(i--){var vm=ob.vms[i];proxy(vm,key);// vm.$forceUpdate()
	}}return val;}/**
		 * Delete a property and trigger change if necessary.
		 *
		 * @param {Object} obj
		 * @param {String} key
		 */function del(obj,key){if(!(0,_util.hasOwn)(obj,key)){return;}delete obj[key];var ob=obj.__ob__;if(!ob){if(obj._isVue){delete obj._data[key];// obj.$forceUpdate()
	}return;}ob.dep.notify();if(ob.vms){var i=ob.vms.length;while(i--){var vm=ob.vms[i];unproxy(vm,key);// vm.$forceUpdate()
	}}}var KEY_WORDS=['$index','$value','$event'];function proxy(vm,key){if(KEY_WORDS.indexOf(key)>-1||!(0,_util.isReserved)(key)){Object.defineProperty(vm,key,{configurable:true,enumerable:true,get:function proxyGetter(){return vm._data[key];},set:function proxySetter(val){vm._data[key]=val;}});}}function unproxy(vm,key){if(!(0,_util.isReserved)(key)){delete vm[key];}}/***/},/* 91 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.arrayMethods=undefined;var _util=__webpack_require__(85);var arrayProto=Array.prototype;/* eslint-disable */var arrayMethods=exports.arrayMethods=Object.create(arrayProto)/**
		 * Intercept mutating methods and emit events
		 */;['push','pop','shift','unshift','splice','sort','reverse'].forEach(function(method){// cache original method
	var original=arrayProto[method];(0,_util.def)(arrayMethods,method,function mutator(){// avoid leaking arguments:
	// http://jsperf.com/closure-with-arguments
	var i=arguments.length;var args=new Array(i);while(i--){args[i]=arguments[i];}var result=original.apply(this,args);var ob=this.__ob__;var inserted=void 0;switch(method){case'push':inserted=args;break;case'unshift':inserted=args;break;case'splice':inserted=args.slice(2);break;}if(inserted)ob.observeArray(inserted);// notify change
	ob.dep.notify();return result;});});/**
		 * Swap the element at the given index with a new value
		 * and emits corresponding event.
		 *
		 * @param {Number} index
		 * @param {*} val
		 * @return {*} - replaced element
		 */(0,_util.def)(arrayProto,'$set',function $set(index,val){if(index>=this.length){this.length=index+1;}return this.splice(index,1,val)[0];});/**
		 * Convenience method to remove the element at given index.
		 *
		 * @param {Number} index
		 * @param {*} val
		 */(0,_util.def)(arrayProto,'$remove',function $remove(index){/* istanbul ignore if */if(!this.length)return;if(typeof index!=='number'){index=this.indexOf(index);}if(index>-1){this.splice(index,1);}});/***/},/* 92 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.build=build;var _util=__webpack_require__(85);var _state=__webpack_require__(86);var _directive=__webpack_require__(93);var _domHelper=__webpack_require__(95);/**
		 * build()
		 *   compile(template, parentNode)
		 *     if (type is content) create contentNode
		 *     else if (dirs have v-for) foreach -> create context
		 *       -> compile(templateWithoutFor, parentNode): diff(list) onchange
		 *     else if (dirs have v-if) assert
		 *       -> compile(templateWithoutIf, parentNode): toggle(shown) onchange
		 *     else if (type is dynamic)
		 *       -> compile(templateWithoutDynamicType, parentNode): watch(type) onchange
		 *     else if (type is custom)
		 *       addChildVm(vm, parentVm)
		 *       build(externalDirs)
		 *       foreach childNodes -> compile(childNode, template)
		 *     else if (type is native)
		 *       set(dirs): update(id/attr/style/class) onchange
		 *       append(template, parentNode)
		 *       foreach childNodes -> compile(childNode, template)
		 *//**
		 * @fileOverview
		 * ViewModel template parser & data-binding process
		 */function build(vm){var opt=vm._options||{};var template=opt.template||{};if(opt.replace){if(template.children&&template.children.length===1){compile(vm,template.children[0],vm._parentEl);}else{compile(vm,template.children,vm._parentEl);}}else{compile(vm,template,vm._parentEl);}console.debug('[JS Framework] "ready" lifecycle in Vm('+vm._type+')');vm.$emit('hook:ready');vm._ready=true;}/**
		 * Generate elements by child or children and append to parent elements.
		 * Root element info would be merged if has. The first argument may be an array
		 * if the root element with options.replace has not only one child.
		 *
		 * @param {object|array} target
		 * @param {object}       dest
		 * @param {object}       meta
		 */function compile(vm,target,dest,meta){var app=vm._app||{};if(app.lastSignal===-1){return;}if(target.attr&&target.attr.hasOwnProperty('static')){vm._static=true;}if(targetIsFragment(target)){compileFragment(vm,target,dest,meta);return;}meta=meta||{};if(targetIsContent(target)){console.debug('[JS Framework] compile "content" block by',target);vm._content=(0,_domHelper.createBlock)(vm,dest);return;}if(targetNeedCheckRepeat(target,meta)){console.debug('[JS Framework] compile "repeat" logic by',target);if(dest.type==='document'){console.warn('[JS Framework] The root element does\'t support `repeat` directive!');}else{compileRepeat(vm,target,dest);}return;}if(targetNeedCheckShown(target,meta)){console.debug('[JS Framework] compile "if" logic by',target);if(dest.type==='document'){console.warn('[JS Framework] The root element does\'t support `if` directive!');}else{compileShown(vm,target,dest,meta);}return;}var typeGetter=meta.type||target.type;if(targetNeedCheckType(typeGetter,meta)){compileType(vm,target,dest,typeGetter,meta);return;}var type=typeGetter;var component=targetIsComposed(vm,target,type);if(component){console.debug('[JS Framework] compile composed component by',target);compileCustomComponent(vm,component,target,dest,type,meta);return;}console.debug('[JS Framework] compile native component by',target);compileNativeComponent(vm,target,dest,type);}/**
		 * Check if target is a fragment (an array).
		 *
		 * @param  {object}  target
		 * @return {boolean}
		 */function targetIsFragment(target){return Array.isArray(target);}/**
		 * Check if target type is content/slot.
		 *
		 * @param  {object}  target
		 * @return {boolean}
		 */function targetIsContent(target){return target.type==='content'||target.type==='slot';}/**
		 * Check if target need to compile by a list.
		 *
		 * @param  {object}  target
		 * @param  {object}  meta
		 * @return {boolean}
		 */function targetNeedCheckRepeat(target,meta){return!meta.hasOwnProperty('repeat')&&target.repeat;}/**
		 * Check if target need to compile by a boolean value.
		 *
		 * @param  {object}  target
		 * @param  {object}  meta
		 * @return {boolean}
		 */function targetNeedCheckShown(target,meta){return!meta.hasOwnProperty('shown')&&target.shown;}/**
		 * Check if target need to compile by a dynamic type.
		 *
		 * @param  {string|function} typeGetter
		 * @param  {object}          meta
		 * @return {boolean}
		 */function targetNeedCheckType(typeGetter,meta){return typeof typeGetter==='function'&&!meta.hasOwnProperty('type');}/**
		 * Check if this kind of component is composed.
		 *
		 * @param  {string}  type
		 * @return {boolean}
		 */function targetIsComposed(vm,target,type){var component=void 0;if(vm._app&&vm._app.customComponentMap){component=vm._app.customComponentMap[type];}if(vm._options&&vm._options.components){component=vm._options.components[type];}if(target.component){component=component||{};}return component;}/**
		 * Compile a list of targets.
		 *
		 * @param {object} target
		 * @param {object} dest
		 * @param {object} meta
		 */function compileFragment(vm,target,dest,meta){var fragBlock=(0,_domHelper.createBlock)(vm,dest);target.forEach(function(child){compile(vm,child,fragBlock,meta);});}/**
		 * Compile a target with repeat directive.
		 *
		 * @param {object} target
		 * @param {object} dest
		 */function compileRepeat(vm,target,dest){var repeat=target.repeat;var oldStyle=typeof repeat==='function';var getter=repeat.getter||repeat.expression||repeat;if(typeof getter!=='function'){getter=function getter(){return[];};}var key=repeat.key||'$index';var value=repeat.value||'$value';var trackBy=repeat.trackBy||target.trackBy||target.attr&&target.attr.trackBy;var fragBlock=(0,_domHelper.createBlock)(vm,dest);fragBlock.children=[];fragBlock.data=[];fragBlock.vms=[];bindRepeat(vm,target,fragBlock,{getter:getter,key:key,value:value,trackBy:trackBy,oldStyle:oldStyle});}/**
		 * Compile a target with if directive.
		 *
		 * @param {object} target
		 * @param {object} dest
		 * @param {object} meta
		 */function compileShown(vm,target,dest,meta){var newMeta={shown:true};var fragBlock=(0,_domHelper.createBlock)(vm,dest);if(dest.element&&dest.children){dest.children.push(fragBlock);}if(meta.repeat){newMeta.repeat=meta.repeat;}bindShown(vm,target,fragBlock,newMeta);}/**
		 * Compile a target with dynamic component type.
		 *
		 * @param {object}   target
		 * @param {object}   dest
		 * @param {function} typeGetter
		 */function compileType(vm,target,dest,typeGetter,meta){var type=typeGetter.call(vm);var newMeta=(0,_util.extend)({type:type},meta);var fragBlock=(0,_domHelper.createBlock)(vm,dest);if(dest.element&&dest.children){dest.children.push(fragBlock);}(0,_directive.watch)(vm,typeGetter,function(value){var newMeta=(0,_util.extend)({type:value},meta);(0,_domHelper.removeTarget)(vm,fragBlock,true);compile(vm,target,fragBlock,newMeta);});compile(vm,target,fragBlock,newMeta);}/**
		 * Compile a composed component.
		 *
		 * @param {object} target
		 * @param {object} dest
		 * @param {string} type
		 */function compileCustomComponent(vm,component,target,dest,type,meta){var Ctor=vm.constructor;var subVm=new Ctor(type,component,vm,dest,undefined,{'hook:init':function hookInit(){if(vm._static){this._static=vm._static;}(0,_directive.setId)(vm,null,target.id,this);// bind template earlier because of lifecycle issues
	this._externalBinding={parent:vm,template:target};},'hook:created':function hookCreated(){(0,_directive.bindSubVm)(vm,this,target,meta.repeat);},'hook:ready':function hookReady(){if(this._content){compileChildren(vm,target,this._content);}}});(0,_directive.bindSubVmAfterInitialized)(vm,subVm,target,dest);}/**
		 * Generate element from template and attach to the dest if needed.
		 * The time to attach depends on whether the mode status is node or tree.
		 *
		 * @param {object} template
		 * @param {object} dest
		 * @param {string} type
		 */function compileNativeComponent(vm,template,dest,type){(0,_directive.applyNaitveComponentOptions)(template);var element=void 0;if(dest.ref==='_documentElement'){// if its parent is documentElement then it's a body
	console.debug('[JS Framework] compile to create body for '+type);element=(0,_domHelper.createBody)(vm,type);}else{console.debug('[JS Framework] compile to create element for '+type);element=(0,_domHelper.createElement)(vm,type);}if(!vm._rootEl){vm._rootEl=element;// bind event earlier because of lifecycle issues
	var binding=vm._externalBinding||{};var target=binding.template;var parentVm=binding.parent;if(target&&target.events&&parentVm&&element){for(var _type in target.events){var handler=parentVm[target.events[_type]];if(handler){element.addEvent(_type,(0,_util.bind)(handler,parentVm));}}}}(0,_directive.bindElement)(vm,element,template);if(template.attr&&template.attr.append){// backward, append prop in attr
	template.append=template.attr.append;}if(template.append){// give the append attribute for ios adaptation
	element.attr=element.attr||{};element.attr.append=template.append;}var treeMode=template.append==='tree';var app=vm._app||{};if(app.lastSignal!==-1&&!treeMode){console.debug('[JS Framework] compile to append single node for',element);app.lastSignal=(0,_domHelper.attachTarget)(vm,element,dest);}if(app.lastSignal!==-1){compileChildren(vm,template,element);}if(app.lastSignal!==-1&&treeMode){console.debug('[JS Framework] compile to append whole tree for',element);app.lastSignal=(0,_domHelper.attachTarget)(vm,element,dest);}}/**
		 * Set all children to a certain parent element.
		 *
		 * @param {object} template
		 * @param {object} dest
		 */function compileChildren(vm,template,dest){var app=vm._app||{};var children=template.children;if(children&&children.length){children.every(function(child){compile(vm,child,dest);return app.lastSignal!==-1;});}}/**
		 * Watch the list update and refresh the changes.
		 *
		 * @param {object} target
		 * @param {object} fragBlock {vms, data, children}
		 * @param {object} info      {getter, key, value, trackBy, oldStyle}
		 */function bindRepeat(vm,target,fragBlock,info){var vms=fragBlock.vms;var children=fragBlock.children;var getter=info.getter;var trackBy=info.trackBy;var oldStyle=info.oldStyle;var keyName=info.key;var valueName=info.value;function compileItem(item,index,context){var mergedData=void 0;if(oldStyle){mergedData=item;if((0,_util.isObject)(item)){mergedData[keyName]=index;if(!mergedData.hasOwnProperty('INDEX')){Object.defineProperty(mergedData,'INDEX',{value:function value(){console.warn('[JS Framework] "INDEX" in repeat is deprecated, '+'please use "$index" instead');}});}}else{console.warn('[JS Framework] Each list item must be an object in old-style repeat, '+'please use `repeat={{v in list}}` instead.');mergedData={};mergedData[keyName]=index;mergedData[valueName]=item;}}else{mergedData={};mergedData[keyName]=index;mergedData[valueName]=item;}var newContext=mergeContext(context,mergedData);vms.push(newContext);compile(newContext,target,fragBlock,{repeat:item});}var list=watchBlock(vm,fragBlock,getter,'repeat',function(data){console.debug('[JS Framework] the "repeat" item has changed',data);if(!fragBlock||!data){return;}var oldChildren=children.slice();var oldVms=vms.slice();var oldData=fragBlock.data.slice();// 1. collect all new refs track by
	var trackMap={};var reusedMap={};data.forEach(function(item,index){var key=trackBy?item[trackBy]:oldStyle?item[keyName]:index;/* istanbul ignore if */if(key==null||key===''){return;}trackMap[key]=item;});// 2. remove unused element foreach old item
	var reusedList=[];oldData.forEach(function(item,index){var key=trackBy?item[trackBy]:oldStyle?item[keyName]:index;if(trackMap.hasOwnProperty(key)){reusedMap[key]={item:item,index:index,key:key,target:oldChildren[index],vm:oldVms[index]};reusedList.push(item);}else{(0,_domHelper.removeTarget)(vm,oldChildren[index]);}});// 3. create new element foreach new item
	children.length=0;vms.length=0;fragBlock.data=data.slice();fragBlock.updateMark=fragBlock.start;data.forEach(function(item,index){var key=trackBy?item[trackBy]:oldStyle?item[keyName]:index;var reused=reusedMap[key];if(reused){if(reused.item===reusedList[0]){reusedList.shift();}else{reusedList.$remove(reused.item);(0,_domHelper.moveTarget)(vm,reused.target,fragBlock.updateMark,true);}children.push(reused.target);vms.push(reused.vm);if(oldStyle){reused.vm=item;}else{reused.vm[valueName]=item;}reused.vm[keyName]=index;fragBlock.updateMark=reused.target;}else{compileItem(item,index,vm);}});delete fragBlock.updateMark;});fragBlock.data=list.slice(0);list.forEach(function(item,index){compileItem(item,index,vm);});}/**
		 * Watch the display update and add/remove the element.
		 *
		 * @param  {object} target
		 * @param  {object} fragBlock
		 * @param  {object} context
		 */function bindShown(vm,target,fragBlock,meta){var display=watchBlock(vm,fragBlock,target.shown,'shown',function(display){console.debug('[JS Framework] the "if" item was changed',display);if(!fragBlock||!!fragBlock.display===!!display){return;}fragBlock.display=!!display;if(display){compile(vm,target,fragBlock,meta);}else{(0,_domHelper.removeTarget)(vm,fragBlock,true);}});fragBlock.display=!!display;if(display){compile(vm,target,fragBlock,meta);}}/**
		 * Watch calc value changes and append certain type action to differ.
		 * It is used for if or repeat data-binding generator.
		 *
		 * @param  {object}   fragBlock
		 * @param  {function} calc
		 * @param  {string}   type
		 * @param  {function} handler
		 * @return {any}      init value of calc
		 */function watchBlock(vm,fragBlock,calc,type,handler){var differ=vm&&vm._app&&vm._app.differ;var config={};var depth=(fragBlock.element.depth||0)+1;return(0,_directive.watch)(vm,calc,function(value){config.latestValue=value;if(differ&&!config.recorded){differ.append(type,depth,fragBlock.blockId,function(){var latestValue=config.latestValue;handler(latestValue);config.recorded=false;config.latestValue=undefined;});}config.recorded=true;});}/**
		 * Clone a context and merge certain data.
		 *
		 * @param  {object} mergedData
		 * @return {object}
		 */function mergeContext(context,mergedData){var newContext=Object.create(context);newContext._data=mergedData;(0,_state.initData)(newContext);(0,_state.initComputed)(newContext);newContext._realParent=context;if(context._static){newContext._static=context._static;}return newContext;}/***/},/* 93 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};/**
		                                                                                                                                                                                                                                                   * @fileOverview
		                                                                                                                                                                                                                                                   * Directive Parser
		                                                                                                                                                                                                                                                   */exports.applyNaitveComponentOptions=applyNaitveComponentOptions;exports.bindElement=bindElement;exports.bindSubVm=bindSubVm;exports.bindSubVmAfterInitialized=bindSubVmAfterInitialized;exports.setId=setId;exports.watch=watch;var _util=__webpack_require__(85);var _watcher=__webpack_require__(87);var _watcher2=_interopRequireDefault(_watcher);var _config=__webpack_require__(94);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var nativeComponentMap=_config2.default.nativeComponentMap;var SETTERS={attr:'setAttr',style:'setStyle',event:'addEvent'};/**
		 * apply the native component's options(specified by template.type)
		 * to the template
		 */function applyNaitveComponentOptions(template){var type=template.type;var options=nativeComponentMap[type];if((typeof options==='undefined'?'undefined':_typeof(options))==='object'){for(var key in options){if(template[key]==null){template[key]=options[key];}else if((0,_util.typof)(template[key])==='object'&&(0,_util.typof)(options[key])==='object'){for(var subkey in options[key]){if(template[key][subkey]==null){template[key][subkey]=options[key][subkey];}}}}}}/**
		 * bind all id, attr, classnames, style, events to an element
		 */function bindElement(vm,el,template){setId(vm,el,template.id,vm);setAttr(vm,el,template.attr);setClass(vm,el,template.classList);setStyle(vm,el,template.style);bindEvents(vm,el,template.events);}/**
		 * bind all props to sub vm and bind all style, events to the root element
		 * of the sub vm if it doesn't have a replaced multi-node fragment
		 */function bindSubVm(vm,subVm,template,repeatItem){subVm=subVm||{};template=template||{};var options=subVm._options||{};// bind props
	var props=options.props;if(Array.isArray(props)){props=props.reduce(function(result,value){result[value]=true;return result;},{});}mergeProps(repeatItem,props,vm,subVm);mergeProps(template.attr,props,vm,subVm);}/**
		 * merge class and styles from vm to sub vm.
		 */function bindSubVmAfterInitialized(vm,subVm,template){var target=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];mergeClassStyle(template.classList,vm,subVm);mergeStyle(template.style,vm,subVm);// bind subVm to the target element
	if(target.children){target.children[target.children.length-1]._vm=subVm;}else{target._vm=subVm;}}/**
		 * Bind props from vm to sub vm and watch their updates.
		 */function mergeProps(target,props,vm,subVm){if(!target){return;}var _loop=function _loop(key){if(!props||props[key]){var value=target[key];if(typeof value==='function'){var returnValue=watch(vm,value,function(v){subVm[key]=v;});subVm[key]=returnValue;}else{subVm[key]=value;}}};for(var key in target){_loop(key);}}/**
		 * Bind style from vm to sub vm and watch their updates.
		 */function mergeStyle(target,vm,subVm){var _loop2=function _loop2(key){var value=target[key];if(typeof value==='function'){var returnValue=watch(vm,value,function(v){if(subVm._rootEl){subVm._rootEl.setStyle(key,v);}});subVm._rootEl.setStyle(key,returnValue);}else{if(subVm._rootEl){subVm._rootEl.setStyle(key,value);}}};for(var key in target){_loop2(key);}}/**
		 * Bind class & style from vm to sub vm and watch their updates.
		 */function mergeClassStyle(target,vm,subVm){var css=vm._options&&vm._options.style||{};/* istanbul ignore if */if(!subVm._rootEl){return;}var className='@originalRootEl';css[className]=subVm._rootEl.classStyle;function addClassName(list,name){if((0,_util.typof)(list)==='array'){list.unshift(name);}}if(typeof target==='function'){var _value=watch(vm,target,function(v){addClassName(v,className);setClassStyle(subVm._rootEl,css,v);});addClassName(_value,className);setClassStyle(subVm._rootEl,css,_value);}else if(target!=null){addClassName(target,className);setClassStyle(subVm._rootEl,css,target);}}/**
		 * bind id to an element
		 * each id is unique in a whole vm
		 */function setId(vm,el,id,target){var map=Object.create(null);Object.defineProperties(map,{vm:{value:target,writable:false,configurable:false},el:{get:function get(){return el||target._rootEl;},configurable:false}});if(typeof id==='function'){var handler=id;id=handler.call(vm);if(id){vm._ids[id]=map;}watch(vm,handler,function(newId){if(newId){vm._ids[newId]=map;}});}else if(id&&typeof id==='string'){vm._ids[id]=map;}}/**
		 * bind attr to an element
		 */function setAttr(vm,el,attr){bindDir(vm,el,'attr',attr);}function setClassStyle(el,css,classList){var classStyle={};var length=classList.length;for(var i=0;i<length;i++){var style=css[classList[i]];if(style){for(var key in style){classStyle[key]=style[key];}}}el.setClassStyle(classStyle);}/**
		 * bind classnames to an element
		 */function setClass(vm,el,classList){if(typeof classList!=='function'&&!Array.isArray(classList)){return;}if(Array.isArray(classList)&&!classList.length){el.setClassStyle({});return;}var style=vm._options&&vm._options.style||{};if(typeof classList==='function'){var _value2=watch(vm,classList,function(v){setClassStyle(el,style,v);});setClassStyle(el,style,_value2);}else{setClassStyle(el,style,classList);}}/**
		 * bind style to an element
		 */function setStyle(vm,el,style){bindDir(vm,el,'style',style);}/**
		 * add an event type and handler to an element and generate a dom update
		 */function setEvent(vm,el,type,handler){el.addEvent(type,(0,_util.bind)(handler,vm));}/**
		 * add all events of an element
		 */function bindEvents(vm,el,events){if(!events){return;}var keys=Object.keys(events);var i=keys.length;while(i--){var key=keys[i];var handler=events[key];if(typeof handler==='string'){handler=vm[handler];/* istanbul ignore if */if(!handler){console.debug('[JS Framework] The method "'+handler+'" is not defined.');}}var realVm=vm._realParent?vm._realParent:vm;setEvent(realVm,el,key,handler);}}/**
		 * set a series of members as a kind of an element
		 * for example: style, attr, ...
		 * if the value is a function then bind the data changes
		 */function bindDir(vm,el,name,data){if(!data){return;}var keys=Object.keys(data);var i=keys.length;while(i--){var key=keys[i];var _value3=data[key];if(typeof _value3==='function'){bindKey(vm,el,name,key,_value3);}else{el[SETTERS[name]](key,_value3);}}}/**
		 * bind data changes to a certain key to a name series in an element
		 */function bindKey(vm,el,name,key,calc){var methodName=SETTERS[name];// watch the calc, and returns a value by calc.call()
	var value=watch(vm,calc,function(value){function handler(){el[methodName](key,value);}var differ=vm&&vm._app&&vm._app.differ;if(differ){differ.append('element',el.depth,el.ref,handler);}else{handler();}});el[methodName](key,value);}/**
		 * watch a calc function and callback if the calc value changes
		 */function watch(vm,calc,callback){if(vm._static){return(typeof calc==='function'?calc:(0,_util.parsePath)(calc)).call(vm,vm);}var watcher=new _watcher2.default(vm,calc,function(value,oldValue){/* istanbul ignore if */if((typeof value==='undefined'?'undefined':_typeof(value))!=='object'&&value===oldValue){return;}callback(value);});return watcher.value;}/***/},/* 94 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});// @todo: It should be registered by native from `registerComponents()`.
	exports.default={nativeComponentMap:{text:true,image:true,container:true,slider:{type:'slider',append:'tree'},cell:{type:'cell',append:'tree'}}};/***/},/* 95 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.createBody=createBody;exports.createElement=createElement;exports.createBlock=createBlock;exports.attachTarget=attachTarget;exports.moveTarget=moveTarget;exports.removeTarget=removeTarget;/**
		 * @fileOverview Document & Element Helpers.
		 *
		 * required:
		 * Document#: createElement, createComment, getRef
		 * Element#: appendChild, insertBefore, removeChild, nextSibling
		 *//**
		 * Create a body by type
		 * Using this._app.doc
		 *
		 * @param  {string} type
		 */function createBody(vm,type){var doc=vm._app.doc;return doc.createBody(type);}/**
		 * Create an element by type
		 * Using this._app.doc
		 *
		 * @param  {string} type
		 */function createElement(vm,type){var doc=vm._app.doc;return doc.createElement(type);}/**
		 * Create and return a frag block for an element.
		 * The frag block has a starter, ender and the element itself.
		 *
		 * @param  {object} element
		 */function createBlock(vm,element){var start=createBlockStart(vm);var end=createBlockEnd(vm);var blockId=lastestBlockId++;if(element.element){var updateMark=element.updateMark;if(updateMark){if(updateMark.element){updateMark=updateMark.end;}element.element.insertAfter(end,updateMark);element.element.insertAfter(start,updateMark);element.updateMark=end;}else{element.element.insertBefore(start,element.end);element.element.insertBefore(end,element.end);}element=element.element;}else{element.appendChild(start);element.appendChild(end);}return{start:start,end:end,element:element,blockId:blockId};}var lastestBlockId=1;/**
		 * Create and return a block starter.
		 * Using this._app.doc
		 */function createBlockStart(vm){var doc=vm._app.doc;var anchor=doc.createComment('start');return anchor;}/**
		 * Create and return a block ender.
		 * Using this._app.doc
		 */function createBlockEnd(vm){var doc=vm._app.doc;var anchor=doc.createComment('end');return anchor;}/**
		 * Attach target to a certain dest using appendChild by default.
		 * If the dest is a frag block then insert before the ender.
		 * If the target is a frag block then attach the starter and ender in order.
		 *
		 * @param  {object} target
		 * @param  {object} dest
		 */function attachTarget(vm,target,dest){if(dest.element){var before=dest.end;var after=dest.updateMark;// push new target for watch list update later
	if(dest.children){dest.children.push(target);}// for check repeat case
	if(after){var signal=moveTarget(vm,target,after);dest.updateMark=target.element?target.end:target;return signal;}else if(target.element){dest.element.insertBefore(target.start,before);dest.element.insertBefore(target.end,before);}else{return dest.element.insertBefore(target,before);}}else{if(target.element){dest.appendChild(target.start);dest.appendChild(target.end);}else{return dest.appendChild(target);}}}/**
		 * Move target before a certain element. The target maybe block or element.
		 *
		 * @param  {object} target
		 * @param  {object} before
		 */function moveTarget(vm,target,after){if(target.element){return moveBlock(target,after);}return moveElement(target,after);}/**
		 * Move element before a certain element.
		 *
		 * @param  {object} element
		 * @param  {object} before
		 */function moveElement(element,after){var parent=after.parentNode;if(parent){return parent.insertAfter(element,after);}}/**
		 * Move all elements of the block before a certain element.
		 *
		 * @param  {object} fragBlock
		 * @param  {object} before
		 */function moveBlock(fragBlock,after){var parent=after.parentNode;if(parent){var _ret=function(){var el=fragBlock.start;var signal=void 0;var group=[el];while(el&&el!==fragBlock.end){el=el.nextSibling;group.push(el);}var temp=after;group.every(function(el){signal=parent.insertAfter(el,temp);temp=el;return signal!==-1;});return{v:signal};}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object")return _ret.v;}}/**
		 * Remove target from DOM tree.
		 * If the target is a frag block then call _removeBlock
		 *
		 * @param  {object} target
		 */function removeTarget(vm,target){var preserveBlock=arguments.length<=2||arguments[2]===undefined?false:arguments[2];if(target.element){removeBlock(target,preserveBlock);}else{removeElement(target);}if(target._vm){target._vm.$emit('hook:destroyed');}}/**
		 * Remove a certain element.
		 * Using this._app.doc
		 *
		 * @param  {object} target
		 */function removeElement(target){var parent=target.parentNode;if(parent){parent.removeChild(target);}}/**
		 * Remove a frag block.
		 * The second param decides whether the block self should be removed too.
		 *
		 * @param  {object}  fragBlock
		 * @param  {Boolean} preserveBlock=false
		 */function removeBlock(fragBlock){var preserveBlock=arguments.length<=1||arguments[1]===undefined?false:arguments[1];var result=[];var el=fragBlock.start.nextSibling;while(el&&el!==fragBlock.end){result.push(el);el=el.nextSibling;}if(!preserveBlock){removeElement(fragBlock.start);}result.forEach(function(el){removeElement(el);});if(!preserveBlock){removeElement(fragBlock.end);}}/***/},/* 96 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.$emit=$emit;exports.$dispatch=$dispatch;exports.$broadcast=$broadcast;exports.$on=$on;exports.$off=$off;exports.initEvents=initEvents;exports.mixinEvents=mixinEvents;/**
		 * @fileOverview
		 * Everything about component event which includes event object, event listener,
		 * event emitter and lifecycle hooks.
		 *//**
		 * Event object definition. An event object has `type`, `timestamp` and
		 * `detail` from which a component emit. The event object could be dispatched to
		 * parents or broadcasted to children except `this.stop()` is called.
		 * @param {string} type
		 * @param {any}    detail
		 */function Evt(type,detail){if(detail instanceof Evt){return detail;}this.timestamp=Date.now();this.detail=detail;this.type=type;var shouldStop=false;/**
		   * stop dispatch and broadcast
		   */this.stop=function(){shouldStop=true;};/**
		   * check if it can't be dispatched or broadcasted
		   */this.hasStopped=function(){return shouldStop;};}/**
		 * Emit an event but not broadcast down or dispatch up.
		 * @param  {string} type
		 * @param  {any}    detail
		 */function $emit(type,detail){var _this=this;var events=this._vmEvents;var handlerList=events[type];if(handlerList){(function(){var evt=new Evt(type,detail);handlerList.forEach(function(handler){handler.call(_this,evt);});})();}}/**
		 * Emit an event and dispatch it up.
		 * @param  {string} type
		 * @param  {any}    detail
		 */function $dispatch(type,detail){var evt=new Evt(type,detail);this.$emit(type,evt);if(!evt.hasStopped()&&this._parent&&this._parent.$dispatch){this._parent.$dispatch(type,evt);}}/**
		 * Emit an event and broadcast it down.
		 * @param  {string} type
		 * @param  {any}    detail
		 */function $broadcast(type,detail){var evt=new Evt(type,detail);this.$emit(type,evt);if(!evt.hasStopped()&&this._childrenVms){this._childrenVms.forEach(function(subVm){subVm.$broadcast(type,evt);});}}/**
		 * Add event listener.
		 * @param  {string}   type
		 * @param  {function} handler
		 */function $on(type,handler){if(!type||typeof handler!=='function'){return;}var events=this._vmEvents;var handlerList=events[type]||[];handlerList.push(handler);events[type]=handlerList;// fixed old version lifecycle design
	if(type==='hook:ready'&&this._ready){this.$emit('hook:ready');}}/**
		 * Remove event listener.
		 * @param  {string}   type
		 * @param  {function} handler
		 */function $off(type,handler){if(!type){return;}var events=this._vmEvents;if(!handler){delete events[type];return;}var handlerList=events[type];if(!handlerList){return;}handlerList.$remove(handler);}var LIFE_CYCLE_TYPES=['init','created','ready','destroyed'];/**
		 * Init events:
		 * 1. listen `events` in component options & `externalEvents`.
		 * 2. bind lifecycle hooks.
		 * @param  {Vm}     vm
		 * @param  {object} externalEvents
		 */function initEvents(vm,externalEvents){var options=vm._options||{};var events=options.events||{};for(var type1 in events){vm.$on(type1,events[type1]);}for(var type2 in externalEvents){vm.$on(type2,externalEvents[type2]);}LIFE_CYCLE_TYPES.forEach(function(type){vm.$on('hook:'+type,options[type]);});}/**
		 * Bind event related methods to ViewModel instance.
		 * @param  {Vm} vm
		 */function mixinEvents(vm){vm.$emit=$emit;vm.$dispatch=$dispatch;vm.$broadcast=$broadcast;vm.$on=$on;vm.$off=$off;}/***/},/* 97 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _bootstrap=__webpack_require__(98);Object.defineProperty(exports,'bootstrap',{enumerable:true,get:function get(){return _bootstrap.bootstrap;}});var _define=__webpack_require__(99);Object.defineProperty(exports,'clearCommonModules',{enumerable:true,get:function get(){return _define.clearCommonModules;}});Object.defineProperty(exports,'defineFn',{enumerable:true,get:function get(){return _define.defineFn;}});Object.defineProperty(exports,'register',{enumerable:true,get:function get(){return _define.register;}});/***/},/* 98 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.bootstrap=bootstrap;var _vm=__webpack_require__(84);var _vm2=_interopRequireDefault(_vm);var _register=__webpack_require__(81);var _util=__webpack_require__(85);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * bootstrap app from a certain custom component with config & data
		 */function bootstrap(app,name,config,data){console.debug('[JS Framework] bootstrap for '+name);// 1. validate custom component name first
	var cleanName=void 0;if((0,_util.isWeexComponent)(name)){cleanName=(0,_util.removeWeexPrefix)(name);}else if((0,_util.isNpmModule)(name)){cleanName=(0,_util.removeJSSurfix)(name);// check if define by old 'define' method
	/* istanbul ignore if */if(!(0,_register.requireCustomComponent)(app,cleanName)){return new Error('It\'s not a component: '+name);}}else{return new Error('Wrong component name: '+name);}// 2. validate configuration
	config=(0,_util.isPlainObject)(config)?config:{};// 2.1 transformer version check
	console.log('transformerVersion: '+config.transformerVersion+', '+('available transformerVersion: '+global.transformVersion));// 3. create a new Vm with custom component name and data
	app.vm=new _vm2.default(cleanName,null,{_app:app},null,data);}/***/},/* 99 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.defineFn=undefined;exports.register=register;var _util=__webpack_require__(85);var _register=__webpack_require__(81);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}/**
		 * define(name, factory) for primary usage
		 * or
		 * define(name, deps, factory) for compatibility
		 * Notice: DO NOT use function define() {},
		 * it will cause error after builded by webpack
		 */var defineFn=exports.defineFn=function defineFn(app,name){console.debug('[JS Framework] define a component '+name);// adapt args:
	// 1. name, deps[], factory()
	// 2. name, factory()
	// 3. name, definition{}
	var factory=void 0,definition=void 0;if((arguments.length<=2?0:arguments.length-2)>1){definition=arguments.length<=3?undefined:arguments[3];}else{definition=arguments.length<=2?undefined:arguments[2];}if(typeof definition==='function'){factory=definition;definition=null;}// resolve definition from factory
	if(factory){var r=function r(name){if((0,_util.isWeexComponent)(name)){var cleanName=(0,_util.removeWeexPrefix)(name);return(0,_register.requireCustomComponent)(app,cleanName);}if((0,_util.isWeexModule)(name)){var _cleanName=(0,_util.removeWeexPrefix)(name);return app.requireModule(_cleanName);}if((0,_util.isNormalModule)(name)||(0,_util.isNpmModule)(name)){var _cleanName2=(0,_util.removeJSSurfix)(name);return app.commonModules[_cleanName2];}};var m={exports:{}};factory(r,m.exports,m);definition=m.exports;}// apply definition
	if((0,_util.isWeexComponent)(name)){var cleanName=(0,_util.removeWeexPrefix)(name);(0,_register.registerCustomComponent)(app,cleanName,definition);}else if((0,_util.isWeexModule)(name)){var _cleanName3=(0,_util.removeWeexPrefix)(name);(0,_register.initModules)(_defineProperty({},_cleanName3,definition));}else if((0,_util.isNormalModule)(name)){var _cleanName4=(0,_util.removeJSSurfix)(name);app.commonModules[_cleanName4]=definition;}else if((0,_util.isNpmModule)(name)){var _cleanName5=(0,_util.removeJSSurfix)(name);if(definition.template||definition.style||definition.methods){// downgrade to old define method (define('componentName', factory))
	// the exports contain one key of template, style or methods
	// but it has risk!!!
	(0,_register.registerCustomComponent)(app,_cleanName5,definition);}else{app.commonModules[_cleanName5]=definition;}}};/**
		 * @deprecated
		 */function register(app,type,options){console.warn('[JS Framework] Register is deprecated, please install lastest transformer.');(0,_register.registerCustomComponent)(app,type,options);}/***/},/* 100 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.refresh=refresh;exports.destroy=destroy;exports.destroyVm=destroyVm;exports.getRootElement=getRootElement;exports.fireEvent=fireEvent;exports.callback=callback;exports.updateActions=updateActions;exports.callTasks=callTasks;var _util=__webpack_require__(85);var _config=__webpack_require__(94);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}/**
		                                                                                                                                                                                                     * @fileOverview
		                                                                                                                                                                                                     * instance controls from native
		                                                                                                                                                                                                     *
		                                                                                                                                                                                                     * - fire event
		                                                                                                                                                                                                     * - callback
		                                                                                                                                                                                                     * - refresh
		                                                                                                                                                                                                     * - destroy
		                                                                                                                                                                                                     *
		                                                                                                                                                                                                     * corresponded with the API of instance manager (framework.js)
		                                                                                                                                                                                                     *//**
		 * Refresh an app with data to its root component options.
		 * @param  {object} app
		 * @param  {any}    data
		 */function refresh(app,data){console.debug('[JS Framework] Refresh with',data,'in instance['+app.id+']');var vm=app.vm;if(vm&&data){// app.doc.close()
	if(typeof vm.refreshData==='function'){vm.refreshData(data);}else{(0,_util.extend)(vm,data);}updateActions(app);app.doc.listener.refreshFinish();// app.doc.open()
	return;}return new Error('invalid data "'+data+'"');}/**
		 * Destroy an app.
		 * @param  {object} app
		 */function destroy(app){console.debug('[JS Framework] Destory an instance('+app.id+')');if(app.vm){destroyVm(app.vm);}app.id='';app.options=null;app.blocks=null;app.vm=null;app.doc.destroy();app.doc=null;app.customComponentMap=null;app.commonModules=null;app.callbacks=null;}/**
		 * Destroy an Vm.
		 * @param {object} vm
		 */function destroyVm(vm){delete vm._app;delete vm._computed;delete vm._css;delete vm._data;delete vm._ids;delete vm._methods;delete vm._options;delete vm._parent;delete vm._parentEl;delete vm._rootEl;// remove all watchers
	if(vm._watchers){var watcherCount=vm._watchers.length;while(watcherCount--){vm._watchers[watcherCount].teardown();}delete vm._watchers;}// destroy child vms recursively
	if(vm._childrenVms){var vmCount=vm._childrenVms.length;while(vmCount--){destroyVm(vm._childrenVms[vmCount]);}delete vm._childrenVms;}console.debug('[JS Framework] "destroyed" lifecycle in Vm('+vm._type+')');vm.$emit('hook:destroyed');delete vm._type;delete vm._vmEvents;}/**
		 * Get a JSON object to describe the document body.
		 * @param  {object} app
		 * @return {object}
		 */function getRootElement(app){var doc=app.doc||{};var body=doc.body||{};return body.toJSON?body.toJSON():{};}/**
		 * Fire an event from renderer. The event has type, an event object and an
		 * element ref. If the event comes with some virtual-DOM changes, it should
		 * have one more parameter to describe the changes.
		 * @param  {object} app
		 * @param  {string} ref
		 * @param  {type}   type
		 * @param  {object} e
		 * @param  {object} domChanges
		 */function fireEvent(app,ref,type,e,domChanges){console.debug('[JS Framework] Fire a "'+type+'" event on an element('+ref+') in instance('+app.id+')');if(Array.isArray(ref)){ref.some(function(ref){return app.fireEvent(ref,type,e)!==false;});return;}var el=app.doc.getRef(ref);if(el){// app.doc.close()
	var result=app.doc.fireEvent(el,type,e,domChanges);updateActions(app);app.doc.listener.updateFinish();// app.doc.open()
	return result;}return new Error('invalid element reference "'+ref+'"');}/**
		 * Make a callback for a certain app.
		 * @param  {object}   app
		 * @param  {number}   callbackId
		 * @param  {any}      data
		 * @param  {boolean}  ifKeepAlive
		 */function callback(app,callbackId,data,ifKeepAlive){console.debug('[JS Framework] Invoke a callback('+callbackId+') with',data,'in instance('+app.id+')');var callback=app.callbacks[callbackId];if(typeof callback==='function'){// app.doc.close()
	callback(data);if(typeof ifKeepAlive==='undefined'||ifKeepAlive===false){app.callbacks[callbackId]=undefined;}updateActions(app);app.doc.listener.updateFinish();// app.doc.open()
	return;}return new Error('invalid callback id "'+callbackId+'"');}/**
		 * Collect all virtual-DOM mutations together and send them to renderer.
		 * @param  {object} app
		 */function updateActions(app){app.differ.flush();var tasks=[];if(app.doc&&app.doc.listener&&app.doc.listener.updates.length){tasks.push.apply(tasks,_toConsumableArray(app.doc.listener.updates));app.doc.listener.updates=[];}if(tasks.length){return callTasks(app,tasks);}}/**
		 * Call all tasks from an app to renderer (native).
		 * @param  {object} app
		 * @param  {array}  tasks
		 */function callTasks(app,tasks){if((0,_util.typof)(tasks)!=='array'){tasks=[tasks];}tasks.forEach(function(task){task.args=task.args.map(function(arg){return normalize(arg,app);});});return _config2.default.sendTasks(app.id,tasks,'-1');}/**
		 * Normalize a value. Specially, if the value is a function, then generate a function id
		 * and save it to `app.callbacks`, at last return the function id.
		 * @param  {any}        v
		 * @param  {object}     app
		 * @return {primitive}
		 */function normalize(v,app){var type=(0,_util.typof)(v);switch(type){case'undefined':case'null':return'';case'regexp':return v.toString();case'date':return v.toISOString();case'number':case'string':case'boolean':case'array':case'object':if(v instanceof _config2.default.Element){return v.ref;}return v;case'function':app.callbacks[++app.uid]=v;return app.uid.toString();default:return JSON.stringify(v);}}/***/},/* 101 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=App;var _differ=__webpack_require__(102);var _differ2=_interopRequireDefault(_differ);var _config=__webpack_require__(94);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * App constructor for Weex framework.
		 * @param {string} id
		 * @param {object} options
		 *//**
		 * @fileOverview
		 * Weex App constructor & definition
		 */function App(id,options){this.id=id;this.options=options||{};this.vm=null;this.customComponentMap={};this.commonModules={};this.callbacks={};this.doc=new _config2.default.Document(id,this.options.bundleUrl,null,_config2.default.Listener);this.differ=new _differ2.default(id);this.uid=0;}/***/},/* 102 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Differ=function(){function Differ(id){_classCallCheck(this,Differ);this.id=id;this.map=[];this.hooks=[];}_createClass(Differ,[{key:'isEmpty',value:function isEmpty(){return this.map.length===0;}},{key:'append',value:function append(type,depth,ref,handler){var _this=this;if(!this.hasTimer){this.hasTimer=true;setTimeout(function(){_this.hasTimer=false;_this.flush(true);},0);}var map=this.map;if(!map[depth]){map[depth]={};}var group=map[depth];if(!group[type]){group[type]={};}if(type==='element'){if(!group[type][ref]){group[type][ref]=[];}group[type][ref].push(handler);}else{group[type][ref]=handler;}}},{key:'flush',value:function flush(isTimeout){var map=this.map.slice();this.map.length=0;map.forEach(function(group){callTypeMap(group,'repeat');callTypeMap(group,'shown');callTypeList(group,'element');});var hooks=this.hooks.slice();this.hooks.length=0;hooks.forEach(function(fn){fn();});if(!this.isEmpty()){this.flush();}}},{key:'then',value:function then(fn){this.hooks.push(fn);}}]);return Differ;}();exports.default=Differ;function callTypeMap(group,type){var map=group[type];for(var ref in map){map[ref]();}}function callTypeList(group,type){var map=group[type];for(var ref in map){var list=map[ref];list.forEach(function(handler){handler();});}}/***/},/* 103 *//***/function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var instanceMap=exports.instanceMap={};/***/},/* 104 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.init=init;exports.refreshInstance=refreshInstance;exports.destroyInstance=destroyInstance;var _config=__webpack_require__(94);var _config2=_interopRequireDefault(_config);var _ctrl=__webpack_require__(105);var _map=__webpack_require__(103);var _dep=__webpack_require__(89);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * Init config informations for Weex framework
		 * @param  {object} cfg
		 */function init(cfg){_config2.default.Document=cfg.Document;_config2.default.Element=cfg.Element;_config2.default.Comment=cfg.Comment;_config2.default.sendTasks=cfg.sendTasks;_config2.default.Listener=cfg.Listener;}/**
		 * Refresh a Weex instance with data.
		 *
		 * @param  {string} id
		 * @param  {object} data
		 */function refreshInstance(id,data){var instance=_map.instanceMap[id];var result=void 0;if(instance){result=(0,_ctrl.refresh)(instance,data);}else{result=new Error('invalid instance id "'+id+'"');}return result;}/**
		 * Destroy a Weex instance.
		 * @param  {string} id
		 */function destroyInstance(id){(0,_dep.resetTarget)();var instance=_map.instanceMap[id];if(!instance){return new Error('invalid instance id "'+id+'"');}(0,_ctrl.destroy)(instance);delete _map.instanceMap[id];return _map.instanceMap;}/***/},/* 105 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _init=__webpack_require__(106);Object.defineProperty(exports,'init',{enumerable:true,get:function get(){return _init.init;}});var _misc=__webpack_require__(100);Object.defineProperty(exports,'refresh',{enumerable:true,get:function get(){return _misc.refresh;}});Object.defineProperty(exports,'destroy',{enumerable:true,get:function get(){return _misc.destroy;}});Object.defineProperty(exports,'getRootElement',{enumerable:true,get:function get(){return _misc.getRootElement;}});Object.defineProperty(exports,'fireEvent',{enumerable:true,get:function get(){return _misc.fireEvent;}});Object.defineProperty(exports,'callback',{enumerable:true,get:function get(){return _misc.callback;}});Object.defineProperty(exports,'updateActions',{enumerable:true,get:function get(){return _misc.updateActions;}});Object.defineProperty(exports,'callTasks',{enumerable:true,get:function get(){return _misc.callTasks;}});/***/},/* 106 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.init=init;var _vm=__webpack_require__(84);var _vm2=_interopRequireDefault(_vm);var _util=__webpack_require__(85);var _bundle=__webpack_require__(107);var _misc=__webpack_require__(100);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}/**
		                                                                                                                                                                                                     * @fileOverview
		                                                                                                                                                                                                     * instance controls from native
		                                                                                                                                                                                                     *
		                                                                                                                                                                                                     * - init bundle
		                                                                                                                                                                                                     *
		                                                                                                                                                                                                     * corresponded with the API of instance manager (framework.js)
		                                                                                                                                                                                                     *//**
		 * Init an app by run code witgh data
		 * @param  {object} app
		 * @param  {string} code
		 * @param  {object} data
		 */function init(app,code,data){console.debug('[JS Framework] Intialize an instance with:\n',data);var result=void 0;// prepare app env methods
	var bundleDefine=function bundleDefine(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _bundle.defineFn.apply(undefined,[app].concat(args));};var bundleBootstrap=function bundleBootstrap(name,config,_data){result=(0,_bundle.bootstrap)(app,name,config,_data||data);(0,_misc.updateActions)(app);app.doc.listener.createFinish();console.debug('[JS Framework] After intialized an instance('+app.id+')');};var bundleVm=_vm2.default;var bundleRegister=function bundleRegister(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _bundle.register.apply(undefined,[app].concat(args));};var bundleRender=function bundleRender(name,_data){result=(0,_bundle.bootstrap)(app,name,{},_data);};var bundleRequire=function bundleRequire(name){return function(_data){result=(0,_bundle.bootstrap)(app,name,{},_data);};};var bundleDocument=app.doc;var bundleRequireModule=function bundleRequireModule(name){return app.requireModule((0,_util.removeWeexPrefix)(name));};// prepare code
	var functionBody=void 0;/* istanbul ignore if */if(typeof code==='function'){// `function () {...}` -> `{...}`
	// not very strict
	functionBody=code.toString().substr(12);}else if(code){functionBody=code.toString();}// run code and get result
	var _global=global;var WXEnvironment=_global.WXEnvironment;if(WXEnvironment&&WXEnvironment.platform!=='Web'){(function(){// timer APIs polyfill in native
	var timer=app.requireModule('timer');var timerAPIs={setTimeout:function setTimeout(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}var handler=function handler(){args[0].apply(args,_toConsumableArray(args.slice(2)));};timer.setTimeout(handler,args[1]);return app.uid.toString();},setInterval:function setInterval(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}var handler=function handler(){args[0].apply(args,_toConsumableArray(args.slice(2)));};timer.setInterval(handler,args[1]);return app.uid.toString();},clearTimeout:function clearTimeout(n){timer.clearTimeout(n);},clearInterval:function clearInterval(n){timer.clearInterval(n);}};var fn=new Function('define','require','document','bootstrap','register','render','__weex_define__',// alias for define
	'__weex_bootstrap__',// alias for bootstrap
	'__weex_document__',// alias for bootstrap
	'__weex_require__','__weex_viewmodel__','setTimeout','setInterval','clearTimeout','clearInterval',functionBody);fn(bundleDefine,bundleRequire,bundleDocument,bundleBootstrap,bundleRegister,bundleRender,bundleDefine,bundleBootstrap,bundleDocument,bundleRequireModule,bundleVm,timerAPIs.setTimeout,timerAPIs.setInterval,timerAPIs.clearTimeout,timerAPIs.clearInterval);})();}else{var _fn=new Function('define','require','document','bootstrap','register','render','__weex_define__',// alias for define
	'__weex_bootstrap__',// alias for bootstrap
	'__weex_document__',// alias for bootstrap
	'__weex_require__','__weex_viewmodel__',functionBody);_fn(bundleDefine,bundleRequire,bundleDocument,bundleBootstrap,bundleRegister,bundleRender,bundleDefine,bundleBootstrap,bundleDocument,bundleRequireModule,bundleVm);}return result;}/***/},/* 107 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _bootstrap=__webpack_require__(108);Object.defineProperty(exports,'bootstrap',{enumerable:true,get:function get(){return _bootstrap.bootstrap;}});var _define=__webpack_require__(99);Object.defineProperty(exports,'defineFn',{enumerable:true,get:function get(){return _define.defineFn;}});Object.defineProperty(exports,'register',{enumerable:true,get:function get(){return _define.register;}});/***/},/* 108 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.bootstrap=bootstrap;var _semver=__webpack_require__(109);var _semver2=_interopRequireDefault(_semver);var _vm=__webpack_require__(84);var _vm2=_interopRequireDefault(_vm);var _downgrade=__webpack_require__(110);var downgrade=_interopRequireWildcard(_downgrade);var _register=__webpack_require__(81);var _util=__webpack_require__(85);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * bootstrap app from a certain custom component with config & data
		 */function bootstrap(app,name,config,data){console.debug('[JS Framework] bootstrap for '+name);// 1. validate custom component name first
	var cleanName=void 0;if((0,_util.isWeexComponent)(name)){cleanName=(0,_util.removeWeexPrefix)(name);}else if((0,_util.isNpmModule)(name)){cleanName=(0,_util.removeJSSurfix)(name);// check if define by old 'define' method
	/* istanbul ignore if */if(!(0,_register.requireCustomComponent)(app,cleanName)){return new Error('It\'s not a component: '+name);}}else{return new Error('Wrong component name: '+name);}// 2. validate configuration
	config=(0,_util.isPlainObject)(config)?config:{};// 2.1 transformer version check
	if(typeof config.transformerVersion==='string'&&typeof global.transformerVersion==='string'&&!_semver2.default.satisfies(config.transformerVersion,global.transformerVersion)){return new Error('JS Bundle version: '+config.transformerVersion+' '+('not compatible with '+global.transformerVersion));}// 2.2 downgrade version check
	var downgradeResult=downgrade.check(config.downgrade);/* istanbul ignore if */if(downgradeResult.isDowngrade){app.callTasks([{module:'instanceWrap',method:'error',args:[downgradeResult.errorType,downgradeResult.code,downgradeResult.errorMessage]}]);return new Error('Downgrade['+downgradeResult.code+']: '+downgradeResult.errorMessage);}// 3. create a new Vm with custom component name and data
	app.vm=new _vm2.default(cleanName,null,{_app:app},null,data);}/***/},/* 109 *//***/function(module,exports,__webpack_require__){/* WEBPACK VAR INJECTION */(function(process){exports=module.exports=SemVer;// The debug function is excluded entirely from the minified version.
	/* nomin */var debug;/* nomin */if((typeof process==='undefined'?'undefined':_typeof2(process))==='object'&&/* nomin */process.env&&/* nomin */process.env.NODE_DEBUG&&/* nomin *//\bsemver\b/i.test(process.env.NODE_DEBUG))/* nomin */debug=function debug(){/* nomin */var args=Array.prototype.slice.call(arguments,0);/* nomin */args.unshift('SEMVER');/* nomin */console.log.apply(console,args);/* nomin */};/* nomin */else/* nomin */debug=function debug(){};// Note: this is the semver.org version of the spec that it implements
	// Not necessarily the package version of this code.
	exports.SEMVER_SPEC_VERSION='2.0.0';var MAX_LENGTH=256;var MAX_SAFE_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;// The actual regexps go on exports.re
	var re=exports.re=[];var src=exports.src=[];var R=0;// The following Regular Expressions can be used for tokenizing,
	// validating, and parsing SemVer version strings.
	// ## Numeric Identifier
	// A single `0`, or a non-zero digit followed by zero or more digits.
	var NUMERICIDENTIFIER=R++;src[NUMERICIDENTIFIER]='0|[1-9]\\d*';var NUMERICIDENTIFIERLOOSE=R++;src[NUMERICIDENTIFIERLOOSE]='[0-9]+';// ## Non-numeric Identifier
	// Zero or more digits, followed by a letter or hyphen, and then zero or
	// more letters, digits, or hyphens.
	var NONNUMERICIDENTIFIER=R++;src[NONNUMERICIDENTIFIER]='\\d*[a-zA-Z-][a-zA-Z0-9-]*';// ## Main Version
	// Three dot-separated numeric identifiers.
	var MAINVERSION=R++;src[MAINVERSION]='('+src[NUMERICIDENTIFIER]+')\\.'+'('+src[NUMERICIDENTIFIER]+')\\.'+'('+src[NUMERICIDENTIFIER]+')';var MAINVERSIONLOOSE=R++;src[MAINVERSIONLOOSE]='('+src[NUMERICIDENTIFIERLOOSE]+')\\.'+'('+src[NUMERICIDENTIFIERLOOSE]+')\\.'+'('+src[NUMERICIDENTIFIERLOOSE]+')';// ## Pre-release Version Identifier
	// A numeric identifier, or a non-numeric identifier.
	var PRERELEASEIDENTIFIER=R++;src[PRERELEASEIDENTIFIER]='(?:'+src[NUMERICIDENTIFIER]+'|'+src[NONNUMERICIDENTIFIER]+')';var PRERELEASEIDENTIFIERLOOSE=R++;src[PRERELEASEIDENTIFIERLOOSE]='(?:'+src[NUMERICIDENTIFIERLOOSE]+'|'+src[NONNUMERICIDENTIFIER]+')';// ## Pre-release Version
	// Hyphen, followed by one or more dot-separated pre-release version
	// identifiers.
	var PRERELEASE=R++;src[PRERELEASE]='(?:-('+src[PRERELEASEIDENTIFIER]+'(?:\\.'+src[PRERELEASEIDENTIFIER]+')*))';var PRERELEASELOOSE=R++;src[PRERELEASELOOSE]='(?:-?('+src[PRERELEASEIDENTIFIERLOOSE]+'(?:\\.'+src[PRERELEASEIDENTIFIERLOOSE]+')*))';// ## Build Metadata Identifier
	// Any combination of digits, letters, or hyphens.
	var BUILDIDENTIFIER=R++;src[BUILDIDENTIFIER]='[0-9A-Za-z-]+';// ## Build Metadata
	// Plus sign, followed by one or more period-separated build metadata
	// identifiers.
	var BUILD=R++;src[BUILD]='(?:\\+('+src[BUILDIDENTIFIER]+'(?:\\.'+src[BUILDIDENTIFIER]+')*))';// ## Full Version String
	// A main version, followed optionally by a pre-release version and
	// build metadata.
	// Note that the only major, minor, patch, and pre-release sections of
	// the version string are capturing groups.  The build metadata is not a
	// capturing group, because it should not ever be used in version
	// comparison.
	var FULL=R++;var FULLPLAIN='v?'+src[MAINVERSION]+src[PRERELEASE]+'?'+src[BUILD]+'?';src[FULL]='^'+FULLPLAIN+'$';// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.
	// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty
	// common in the npm registry.
	var LOOSEPLAIN='[v=\\s]*'+src[MAINVERSIONLOOSE]+src[PRERELEASELOOSE]+'?'+src[BUILD]+'?';var LOOSE=R++;src[LOOSE]='^'+LOOSEPLAIN+'$';var GTLT=R++;src[GTLT]='((?:<|>)?=?)';// Something like "2.*" or "1.2.x".
	// Note that "x.x" is a valid xRange identifer, meaning "any version"
	// Only the first item is strictly required.
	var XRANGEIDENTIFIERLOOSE=R++;src[XRANGEIDENTIFIERLOOSE]=src[NUMERICIDENTIFIERLOOSE]+'|x|X|\\*';var XRANGEIDENTIFIER=R++;src[XRANGEIDENTIFIER]=src[NUMERICIDENTIFIER]+'|x|X|\\*';var XRANGEPLAIN=R++;src[XRANGEPLAIN]='[v=\\s]*('+src[XRANGEIDENTIFIER]+')'+'(?:\\.('+src[XRANGEIDENTIFIER]+')'+'(?:\\.('+src[XRANGEIDENTIFIER]+')'+'(?:'+src[PRERELEASE]+')?'+src[BUILD]+'?'+')?)?';var XRANGEPLAINLOOSE=R++;src[XRANGEPLAINLOOSE]='[v=\\s]*('+src[XRANGEIDENTIFIERLOOSE]+')'+'(?:\\.('+src[XRANGEIDENTIFIERLOOSE]+')'+'(?:\\.('+src[XRANGEIDENTIFIERLOOSE]+')'+'(?:'+src[PRERELEASELOOSE]+')?'+src[BUILD]+'?'+')?)?';var XRANGE=R++;src[XRANGE]='^'+src[GTLT]+'\\s*'+src[XRANGEPLAIN]+'$';var XRANGELOOSE=R++;src[XRANGELOOSE]='^'+src[GTLT]+'\\s*'+src[XRANGEPLAINLOOSE]+'$';// Tilde ranges.
	// Meaning is "reasonably at or greater than"
	var LONETILDE=R++;src[LONETILDE]='(?:~>?)';var TILDETRIM=R++;src[TILDETRIM]='(\\s*)'+src[LONETILDE]+'\\s+';re[TILDETRIM]=new RegExp(src[TILDETRIM],'g');var tildeTrimReplace='$1~';var TILDE=R++;src[TILDE]='^'+src[LONETILDE]+src[XRANGEPLAIN]+'$';var TILDELOOSE=R++;src[TILDELOOSE]='^'+src[LONETILDE]+src[XRANGEPLAINLOOSE]+'$';// Caret ranges.
	// Meaning is "at least and backwards compatible with"
	var LONECARET=R++;src[LONECARET]='(?:\\^)';var CARETTRIM=R++;src[CARETTRIM]='(\\s*)'+src[LONECARET]+'\\s+';re[CARETTRIM]=new RegExp(src[CARETTRIM],'g');var caretTrimReplace='$1^';var CARET=R++;src[CARET]='^'+src[LONECARET]+src[XRANGEPLAIN]+'$';var CARETLOOSE=R++;src[CARETLOOSE]='^'+src[LONECARET]+src[XRANGEPLAINLOOSE]+'$';// A simple gt/lt/eq thing, or just "" to indicate "any version"
	var COMPARATORLOOSE=R++;src[COMPARATORLOOSE]='^'+src[GTLT]+'\\s*('+LOOSEPLAIN+')$|^$';var COMPARATOR=R++;src[COMPARATOR]='^'+src[GTLT]+'\\s*('+FULLPLAIN+')$|^$';// An expression to strip any whitespace between the gtlt and the thing
	// it modifies, so that `> 1.2.3` ==> `>1.2.3`
	var COMPARATORTRIM=R++;src[COMPARATORTRIM]='(\\s*)'+src[GTLT]+'\\s*('+LOOSEPLAIN+'|'+src[XRANGEPLAIN]+')';// this one has to use the /g flag
	re[COMPARATORTRIM]=new RegExp(src[COMPARATORTRIM],'g');var comparatorTrimReplace='$1$2$3';// Something like `1.2.3 - 1.2.4`
	// Note that these all use the loose form, because they'll be
	// checked against either the strict or loose comparator form
	// later.
	var HYPHENRANGE=R++;src[HYPHENRANGE]='^\\s*('+src[XRANGEPLAIN]+')'+'\\s+-\\s+'+'('+src[XRANGEPLAIN]+')'+'\\s*$';var HYPHENRANGELOOSE=R++;src[HYPHENRANGELOOSE]='^\\s*('+src[XRANGEPLAINLOOSE]+')'+'\\s+-\\s+'+'('+src[XRANGEPLAINLOOSE]+')'+'\\s*$';// Star ranges basically just allow anything at all.
	var STAR=R++;src[STAR]='(<|>)?=?\\s*\\*';// Compile to actual regexp objects.
	// All are flag-free, unless they were created above with a flag.
	for(var i=0;i<R;i++){debug(i,src[i]);if(!re[i])re[i]=new RegExp(src[i]);}exports.parse=parse;function parse(version,loose){if(version instanceof SemVer)return version;if(typeof version!=='string')return null;if(version.length>MAX_LENGTH)return null;var r=loose?re[LOOSE]:re[FULL];if(!r.test(version))return null;try{return new SemVer(version,loose);}catch(er){return null;}}exports.valid=valid;function valid(version,loose){var v=parse(version,loose);return v?v.version:null;}exports.clean=clean;function clean(version,loose){var s=parse(version.trim().replace(/^[=v]+/,''),loose);return s?s.version:null;}exports.SemVer=SemVer;function SemVer(version,loose){if(version instanceof SemVer){if(version.loose===loose)return version;else version=version.version;}else if(typeof version!=='string'){throw new TypeError('Invalid Version: '+version);}if(version.length>MAX_LENGTH)throw new TypeError('version is longer than '+MAX_LENGTH+' characters');if(!(this instanceof SemVer))return new SemVer(version,loose);debug('SemVer',version,loose);this.loose=loose;var m=version.trim().match(loose?re[LOOSE]:re[FULL]);if(!m)throw new TypeError('Invalid Version: '+version);this.raw=version;// these are actually numbers
	this.major=+m[1];this.minor=+m[2];this.patch=+m[3];if(this.major>MAX_SAFE_INTEGER||this.major<0)throw new TypeError('Invalid major version');if(this.minor>MAX_SAFE_INTEGER||this.minor<0)throw new TypeError('Invalid minor version');if(this.patch>MAX_SAFE_INTEGER||this.patch<0)throw new TypeError('Invalid patch version');// numberify any prerelease numeric ids
	if(!m[4])this.prerelease=[];else this.prerelease=m[4].split('.').map(function(id){if(/^[0-9]+$/.test(id)){var num=+id;if(num>=0&&num<MAX_SAFE_INTEGER)return num;}return id;});this.build=m[5]?m[5].split('.'):[];this.format();}SemVer.prototype.format=function(){this.version=this.major+'.'+this.minor+'.'+this.patch;if(this.prerelease.length)this.version+='-'+this.prerelease.join('.');return this.version;};SemVer.prototype.toString=function(){return this.version;};SemVer.prototype.compare=function(other){debug('SemVer.compare',this.version,this.loose,other);if(!(other instanceof SemVer))other=new SemVer(other,this.loose);return this.compareMain(other)||this.comparePre(other);};SemVer.prototype.compareMain=function(other){if(!(other instanceof SemVer))other=new SemVer(other,this.loose);return compareIdentifiers(this.major,other.major)||compareIdentifiers(this.minor,other.minor)||compareIdentifiers(this.patch,other.patch);};SemVer.prototype.comparePre=function(other){if(!(other instanceof SemVer))other=new SemVer(other,this.loose);// NOT having a prerelease is > having one
	if(this.prerelease.length&&!other.prerelease.length)return-1;else if(!this.prerelease.length&&other.prerelease.length)return 1;else if(!this.prerelease.length&&!other.prerelease.length)return 0;var i=0;do{var a=this.prerelease[i];var b=other.prerelease[i];debug('prerelease compare',i,a,b);if(a===undefined&&b===undefined)return 0;else if(b===undefined)return 1;else if(a===undefined)return-1;else if(a===b)continue;else return compareIdentifiers(a,b);}while(++i);};// preminor will bump the version up to the next minor release, and immediately
	// down to pre-release. premajor and prepatch work the same way.
	SemVer.prototype.inc=function(release,identifier){switch(release){case'premajor':this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc('pre',identifier);break;case'preminor':this.prerelease.length=0;this.patch=0;this.minor++;this.inc('pre',identifier);break;case'prepatch':// If this is already a prerelease, it will bump to the next version
	// drop any prereleases that might already exist, since they are not
	// relevant at this point.
	this.prerelease.length=0;this.inc('patch',identifier);this.inc('pre',identifier);break;// If the input is a non-prerelease version, this acts the same as
	// prepatch.
	case'prerelease':if(this.prerelease.length===0)this.inc('patch',identifier);this.inc('pre',identifier);break;case'major':// If this is a pre-major version, bump up to the same major version.
	// Otherwise increment major.
	// 1.0.0-5 bumps to 1.0.0
	// 1.1.0 bumps to 2.0.0
	if(this.minor!==0||this.patch!==0||this.prerelease.length===0)this.major++;this.minor=0;this.patch=0;this.prerelease=[];break;case'minor':// If this is a pre-minor version, bump up to the same minor version.
	// Otherwise increment minor.
	// 1.2.0-5 bumps to 1.2.0
	// 1.2.1 bumps to 1.3.0
	if(this.patch!==0||this.prerelease.length===0)this.minor++;this.patch=0;this.prerelease=[];break;case'patch':// If this is not a pre-release version, it will increment the patch.
	// If it is a pre-release it will bump up to the same patch version.
	// 1.2.0-5 patches to 1.2.0
	// 1.2.0 patches to 1.2.1
	if(this.prerelease.length===0)this.patch++;this.prerelease=[];break;// This probably shouldn't be used publicly.
	// 1.0.0 "pre" would become 1.0.0-0 which is the wrong direction.
	case'pre':if(this.prerelease.length===0)this.prerelease=[0];else{var i=this.prerelease.length;while(--i>=0){if(typeof this.prerelease[i]==='number'){this.prerelease[i]++;i=-2;}}if(i===-1)// didn't increment anything
	this.prerelease.push(0);}if(identifier){// 1.2.0-beta.1 bumps to 1.2.0-beta.2,
	// 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0
	if(this.prerelease[0]===identifier){if(isNaN(this.prerelease[1]))this.prerelease=[identifier,0];}else this.prerelease=[identifier,0];}break;default:throw new Error('invalid increment argument: '+release);}this.format();this.raw=this.version;return this;};exports.inc=inc;function inc(version,release,loose,identifier){if(typeof loose==='string'){identifier=loose;loose=undefined;}try{return new SemVer(version,loose).inc(release,identifier).version;}catch(er){return null;}}exports.diff=diff;function diff(version1,version2){if(eq(version1,version2)){return null;}else{var v1=parse(version1);var v2=parse(version2);if(v1.prerelease.length||v2.prerelease.length){for(var key in v1){if(key==='major'||key==='minor'||key==='patch'){if(v1[key]!==v2[key]){return'pre'+key;}}}return'prerelease';}for(var key in v1){if(key==='major'||key==='minor'||key==='patch'){if(v1[key]!==v2[key]){return key;}}}}}exports.compareIdentifiers=compareIdentifiers;var numeric=/^[0-9]+$/;function compareIdentifiers(a,b){var anum=numeric.test(a);var bnum=numeric.test(b);if(anum&&bnum){a=+a;b=+b;}return anum&&!bnum?-1:bnum&&!anum?1:a<b?-1:a>b?1:0;}exports.rcompareIdentifiers=rcompareIdentifiers;function rcompareIdentifiers(a,b){return compareIdentifiers(b,a);}exports.major=major;function major(a,loose){return new SemVer(a,loose).major;}exports.minor=minor;function minor(a,loose){return new SemVer(a,loose).minor;}exports.patch=patch;function patch(a,loose){return new SemVer(a,loose).patch;}exports.compare=compare;function compare(a,b,loose){return new SemVer(a,loose).compare(b);}exports.compareLoose=compareLoose;function compareLoose(a,b){return compare(a,b,true);}exports.rcompare=rcompare;function rcompare(a,b,loose){return compare(b,a,loose);}exports.sort=sort;function sort(list,loose){return list.sort(function(a,b){return exports.compare(a,b,loose);});}exports.rsort=rsort;function rsort(list,loose){return list.sort(function(a,b){return exports.rcompare(a,b,loose);});}exports.gt=gt;function gt(a,b,loose){return compare(a,b,loose)>0;}exports.lt=lt;function lt(a,b,loose){return compare(a,b,loose)<0;}exports.eq=eq;function eq(a,b,loose){return compare(a,b,loose)===0;}exports.neq=neq;function neq(a,b,loose){return compare(a,b,loose)!==0;}exports.gte=gte;function gte(a,b,loose){return compare(a,b,loose)>=0;}exports.lte=lte;function lte(a,b,loose){return compare(a,b,loose)<=0;}exports.cmp=cmp;function cmp(a,op,b,loose){var ret;switch(op){case'===':if((typeof a==='undefined'?'undefined':_typeof2(a))==='object')a=a.version;if((typeof b==='undefined'?'undefined':_typeof2(b))==='object')b=b.version;ret=a===b;break;case'!==':if((typeof a==='undefined'?'undefined':_typeof2(a))==='object')a=a.version;if((typeof b==='undefined'?'undefined':_typeof2(b))==='object')b=b.version;ret=a!==b;break;case'':case'=':case'==':ret=eq(a,b,loose);break;case'!=':ret=neq(a,b,loose);break;case'>':ret=gt(a,b,loose);break;case'>=':ret=gte(a,b,loose);break;case'<':ret=lt(a,b,loose);break;case'<=':ret=lte(a,b,loose);break;default:throw new TypeError('Invalid operator: '+op);}return ret;}exports.Comparator=Comparator;function Comparator(comp,loose){if(comp instanceof Comparator){if(comp.loose===loose)return comp;else comp=comp.value;}if(!(this instanceof Comparator))return new Comparator(comp,loose);debug('comparator',comp,loose);this.loose=loose;this.parse(comp);if(this.semver===ANY)this.value='';else this.value=this.operator+this.semver.version;debug('comp',this);}var ANY={};Comparator.prototype.parse=function(comp){var r=this.loose?re[COMPARATORLOOSE]:re[COMPARATOR];var m=comp.match(r);if(!m)throw new TypeError('Invalid comparator: '+comp);this.operator=m[1];if(this.operator==='=')this.operator='';// if it literally is just '>' or '' then allow anything.
	if(!m[2])this.semver=ANY;else this.semver=new SemVer(m[2],this.loose);};Comparator.prototype.toString=function(){return this.value;};Comparator.prototype.test=function(version){debug('Comparator.test',version,this.loose);if(this.semver===ANY)return true;if(typeof version==='string')version=new SemVer(version,this.loose);return cmp(version,this.operator,this.semver,this.loose);};exports.Range=Range;function Range(range,loose){if(range instanceof Range&&range.loose===loose)return range;if(!(this instanceof Range))return new Range(range,loose);this.loose=loose;// First, split based on boolean or ||
	this.raw=range;this.set=range.split(/\s*\|\|\s*/).map(function(range){return this.parseRange(range.trim());},this).filter(function(c){// throw out any that are not relevant for whatever reason
	return c.length;});if(!this.set.length){throw new TypeError('Invalid SemVer Range: '+range);}this.format();}Range.prototype.format=function(){this.range=this.set.map(function(comps){return comps.join(' ').trim();}).join('||').trim();return this.range;};Range.prototype.toString=function(){return this.range;};Range.prototype.parseRange=function(range){var loose=this.loose;range=range.trim();debug('range',range,loose);// `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`
	var hr=loose?re[HYPHENRANGELOOSE]:re[HYPHENRANGE];range=range.replace(hr,hyphenReplace);debug('hyphen replace',range);// `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`
	range=range.replace(re[COMPARATORTRIM],comparatorTrimReplace);debug('comparator trim',range,re[COMPARATORTRIM]);// `~ 1.2.3` => `~1.2.3`
	range=range.replace(re[TILDETRIM],tildeTrimReplace);// `^ 1.2.3` => `^1.2.3`
	range=range.replace(re[CARETTRIM],caretTrimReplace);// normalize spaces
	range=range.split(/\s+/).join(' ');// At this point, the range is completely trimmed and
	// ready to be split into comparators.
	var compRe=loose?re[COMPARATORLOOSE]:re[COMPARATOR];var set=range.split(' ').map(function(comp){return parseComparator(comp,loose);}).join(' ').split(/\s+/);if(this.loose){// in loose mode, throw out any that are not valid comparators
	set=set.filter(function(comp){return!!comp.match(compRe);});}set=set.map(function(comp){return new Comparator(comp,loose);});return set;};// Mostly just for testing and legacy API reasons
	exports.toComparators=toComparators;function toComparators(range,loose){return new Range(range,loose).set.map(function(comp){return comp.map(function(c){return c.value;}).join(' ').trim().split(' ');});}// comprised of xranges, tildes, stars, and gtlt's at this point.
	// already replaced the hyphen ranges
	// turn into a set of JUST comparators.
	function parseComparator(comp,loose){debug('comp',comp);comp=replaceCarets(comp,loose);debug('caret',comp);comp=replaceTildes(comp,loose);debug('tildes',comp);comp=replaceXRanges(comp,loose);debug('xrange',comp);comp=replaceStars(comp,loose);debug('stars',comp);return comp;}function isX(id){return!id||id.toLowerCase()==='x'||id==='*';}// ~, ~> --> * (any, kinda silly)
	// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0
	// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0
	// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0
	// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0
	// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0
	function replaceTildes(comp,loose){return comp.trim().split(/\s+/).map(function(comp){return replaceTilde(comp,loose);}).join(' ');}function replaceTilde(comp,loose){var r=loose?re[TILDELOOSE]:re[TILDE];return comp.replace(r,function(_,M,m,p,pr){debug('tilde',comp,_,M,m,p,pr);var ret;if(isX(M))ret='';else if(isX(m))ret='>='+M+'.0.0 <'+(+M+1)+'.0.0';else if(isX(p))// ~1.2 == >=1.2.0- <1.3.0-
	ret='>='+M+'.'+m+'.0 <'+M+'.'+(+m+1)+'.0';else if(pr){debug('replaceTilde pr',pr);if(pr.charAt(0)!=='-')pr='-'+pr;ret='>='+M+'.'+m+'.'+p+pr+' <'+M+'.'+(+m+1)+'.0';}else// ~1.2.3 == >=1.2.3 <1.3.0
	ret='>='+M+'.'+m+'.'+p+' <'+M+'.'+(+m+1)+'.0';debug('tilde return',ret);return ret;});}// ^ --> * (any, kinda silly)
	// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0
	// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0
	// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0
	// ^1.2.3 --> >=1.2.3 <2.0.0
	// ^1.2.0 --> >=1.2.0 <2.0.0
	function replaceCarets(comp,loose){return comp.trim().split(/\s+/).map(function(comp){return replaceCaret(comp,loose);}).join(' ');}function replaceCaret(comp,loose){debug('caret',comp,loose);var r=loose?re[CARETLOOSE]:re[CARET];return comp.replace(r,function(_,M,m,p,pr){debug('caret',comp,_,M,m,p,pr);var ret;if(isX(M))ret='';else if(isX(m))ret='>='+M+'.0.0 <'+(+M+1)+'.0.0';else if(isX(p)){if(M==='0')ret='>='+M+'.'+m+'.0 <'+M+'.'+(+m+1)+'.0';else ret='>='+M+'.'+m+'.0 <'+(+M+1)+'.0.0';}else if(pr){debug('replaceCaret pr',pr);if(pr.charAt(0)!=='-')pr='-'+pr;if(M==='0'){if(m==='0')ret='>='+M+'.'+m+'.'+p+pr+' <'+M+'.'+m+'.'+(+p+1);else ret='>='+M+'.'+m+'.'+p+pr+' <'+M+'.'+(+m+1)+'.0';}else ret='>='+M+'.'+m+'.'+p+pr+' <'+(+M+1)+'.0.0';}else{debug('no pr');if(M==='0'){if(m==='0')ret='>='+M+'.'+m+'.'+p+' <'+M+'.'+m+'.'+(+p+1);else ret='>='+M+'.'+m+'.'+p+' <'+M+'.'+(+m+1)+'.0';}else ret='>='+M+'.'+m+'.'+p+' <'+(+M+1)+'.0.0';}debug('caret return',ret);return ret;});}function replaceXRanges(comp,loose){debug('replaceXRanges',comp,loose);return comp.split(/\s+/).map(function(comp){return replaceXRange(comp,loose);}).join(' ');}function replaceXRange(comp,loose){comp=comp.trim();var r=loose?re[XRANGELOOSE]:re[XRANGE];return comp.replace(r,function(ret,gtlt,M,m,p,pr){debug('xRange',comp,ret,gtlt,M,m,p,pr);var xM=isX(M);var xm=xM||isX(m);var xp=xm||isX(p);var anyX=xp;if(gtlt==='='&&anyX)gtlt='';if(xM){if(gtlt==='>'||gtlt==='<'){// nothing is allowed
	ret='<0.0.0';}else{// nothing is forbidden
	ret='*';}}else if(gtlt&&anyX){// replace X with 0
	if(xm)m=0;if(xp)p=0;if(gtlt==='>'){// >1 => >=2.0.0
	// >1.2 => >=1.3.0
	// >1.2.3 => >= 1.2.4
	gtlt='>=';if(xm){M=+M+1;m=0;p=0;}else if(xp){m=+m+1;p=0;}}else if(gtlt==='<='){// <=0.7.x is actually <0.8.0, since any 0.7.x should
	// pass.  Similarly, <=7.x is actually <8.0.0, etc.
	gtlt='<';if(xm)M=+M+1;else m=+m+1;}ret=gtlt+M+'.'+m+'.'+p;}else if(xm){ret='>='+M+'.0.0 <'+(+M+1)+'.0.0';}else if(xp){ret='>='+M+'.'+m+'.0 <'+M+'.'+(+m+1)+'.0';}debug('xRange return',ret);return ret;});}// Because * is AND-ed with everything else in the comparator,
	// and '' means "any version", just remove the *s entirely.
	function replaceStars(comp,loose){debug('replaceStars',comp,loose);// Looseness is ignored here.  star is always as loose as it gets!
	return comp.trim().replace(re[STAR],'');}// This function is passed to string.replace(re[HYPHENRANGE])
	// M, m, patch, prerelease, build
	// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5
	// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do
	// 1.2 - 3.4 => >=1.2.0 <3.5.0
	function hyphenReplace($0,from,fM,fm,fp,fpr,fb,to,tM,tm,tp,tpr,tb){if(isX(fM))from='';else if(isX(fm))from='>='+fM+'.0.0';else if(isX(fp))from='>='+fM+'.'+fm+'.0';else from='>='+from;if(isX(tM))to='';else if(isX(tm))to='<'+(+tM+1)+'.0.0';else if(isX(tp))to='<'+tM+'.'+(+tm+1)+'.0';else if(tpr)to='<='+tM+'.'+tm+'.'+tp+'-'+tpr;else to='<='+to;return(from+' '+to).trim();}// if ANY of the sets match ALL of its comparators, then pass
	Range.prototype.test=function(version){if(!version)return false;if(typeof version==='string')version=new SemVer(version,this.loose);for(var i=0;i<this.set.length;i++){if(testSet(this.set[i],version))return true;}return false;};function testSet(set,version){for(var i=0;i<set.length;i++){if(!set[i].test(version))return false;}if(version.prerelease.length){// Find the set of versions that are allowed to have prereleases
	// For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0
	// That should allow `1.2.3-pr.2` to pass.
	// However, `1.2.4-alpha.notready` should NOT be allowed,
	// even though it's within the range set by the comparators.
	for(var i=0;i<set.length;i++){debug(set[i].semver);if(set[i].semver===ANY)continue;if(set[i].semver.prerelease.length>0){var allowed=set[i].semver;if(allowed.major===version.major&&allowed.minor===version.minor&&allowed.patch===version.patch)return true;}}// Version has a -pre, but it's not one of the ones we like.
	return false;}return true;}exports.satisfies=satisfies;function satisfies(version,range,loose){try{range=new Range(range,loose);}catch(er){return false;}return range.test(version);}exports.maxSatisfying=maxSatisfying;function maxSatisfying(versions,range,loose){return versions.filter(function(version){return satisfies(version,range,loose);}).sort(function(a,b){return rcompare(a,b,loose);})[0]||null;}exports.validRange=validRange;function validRange(range,loose){try{// Return '*' instead of '' so that truthiness works.
	// This will throw if it's invalid anyway
	return new Range(range,loose).range||'*';}catch(er){return null;}}// Determine if version is less than all the versions possible in the range
	exports.ltr=ltr;function ltr(version,range,loose){return outside(version,range,'<',loose);}// Determine if version is greater than all the versions possible in the range.
	exports.gtr=gtr;function gtr(version,range,loose){return outside(version,range,'>',loose);}exports.outside=outside;function outside(version,range,hilo,loose){version=new SemVer(version,loose);range=new Range(range,loose);var gtfn,ltefn,ltfn,comp,ecomp;switch(hilo){case'>':gtfn=gt;ltefn=lte;ltfn=lt;comp='>';ecomp='>=';break;case'<':gtfn=lt;ltefn=gte;ltfn=gt;comp='<';ecomp='<=';break;default:throw new TypeError('Must provide a hilo val of "<" or ">"');}// If it satisifes the range it is not outside
	if(satisfies(version,range,loose)){return false;}// From now on, variable terms are as if we're in "gtr" mode.
	// but note that everything is flipped for the "ltr" function.
	for(var i=0;i<range.set.length;++i){var comparators=range.set[i];var high=null;var low=null;comparators.forEach(function(comparator){if(comparator.semver===ANY){comparator=new Comparator('>=0.0.0');}high=high||comparator;low=low||comparator;if(gtfn(comparator.semver,high.semver,loose)){high=comparator;}else if(ltfn(comparator.semver,low.semver,loose)){low=comparator;}});// If the edge version comparator has a operator then our version
	// isn't outside it
	if(high.operator===comp||high.operator===ecomp){return false;}// If the lowest version comparator has an operator and our version
	// is less than it then it isn't higher than the range
	if((!low.operator||low.operator===comp)&&ltefn(version,low.semver)){return false;}else if(low.operator===ecomp&&ltfn(version,low.semver)){return false;}}return true;}/* WEBPACK VAR INJECTION */}).call(exports,__webpack_require__(88));/***/},/* 110 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.normalizeVersion=normalizeVersion;exports.getError=getError;exports.check=check;var _semver=__webpack_require__(109);var _semver2=_interopRequireDefault(_semver);var _util=__webpack_require__(85);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}/**
		 * Normalize a version string.
		 * @param  {String} Version. ie: 1, 1.0, 1.0.0
		 * @return {String} Version
		 */function normalizeVersion(v){var isValid=_semver2.default.valid(v);if(isValid){return v;}v=typeof v==='string'?v:'';var split=v.split('.');var i=0;var result=[];while(i<3){var s=typeof split[i]==='string'&&split[i]?split[i]:'0';result.push(s);i++;}return result.join('.');}/**
		 * Get informations from different error key. Like:
		 * - code
		 * - errorMessage
		 * - errorType
		 * - isDowngrade
		 * @param  {string} key
		 * @param  {string} val
		 * @param  {string} criteria
		 * @return {object}
		 */function getError(key,val,criteria){var result={isDowngrade:true,errorType:1,code:1000};var getMsg=function getMsg(key,val,criteria){return'Downgrade['+key+'] :: deviceInfo '+val+' matched criteria '+criteria;};var _key=key.toLowerCase();result.errorMessage=getMsg(key,val,criteria);if(_key.indexOf('osversion')>=0){result.code=1001;}else if(_key.indexOf('appversion')>=0){result.code=1002;}else if(_key.indexOf('weexversion')>=0){result.code=1003;}else if(_key.indexOf('devicemodel')>=0){result.code=1004;}return result;}/**
		 * WEEX framework input(deviceInfo)
		 * {
		 *   platform: 'iOS' or 'android'
		 *   osVersion: '1.0.0' or '1.0' or '1'
		 *   appVersion: '1.0.0' or '1.0' or '1'
		 *   weexVersion: '1.0.0' or '1.0' or '1'
		 *   dDeviceModel: 'MODEL_NAME'
		 * }
		 *
		 * downgrade config(config)
		 * {
		 *   ios: {
		 *     osVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     appVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     weexVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     deviceModel: ['modelA', 'modelB', ...]
		 *   },
		 *   android: {
		 *     osVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     appVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     weexVersion: '>1.0.0' or '>=1.0.0' or '<1.0.0' or '<=1.0.0' or '1.0.0'
		 *     deviceModel: ['modelA', 'modelB', ...]
		 *   }
		 * }
		 *
		 *
		 * @param  {object} deviceInfo Weex SDK framework input
		 * @param  {object} config     user input
		 * @return {Object}            { isDowngrade: true/false, errorMessage... }
		 */function check(config,deviceInfo){deviceInfo=deviceInfo||global.WXEnvironment;deviceInfo=(0,_util.isPlainObject)(deviceInfo)?deviceInfo:{};var result={isDowngrade:false// defautl is pass
	};if((0,_util.typof)(config)==='function'){var customDowngrade=config.call(this,deviceInfo,{semver:_semver2.default,normalizeVersion:this.normalizeVersion});customDowngrade=!!customDowngrade;result=customDowngrade?this.getError('custom','','custom params'):result;}else{config=(0,_util.isPlainObject)(config)?config:{};var platform=deviceInfo.platform||'unknow';var dPlatform=platform.toLowerCase();var cObj=config[dPlatform]||{};for(var i in deviceInfo){var key=i;var keyLower=key.toLowerCase();var val=deviceInfo[i];var isVersion=keyLower.indexOf('version')>=0;var isDeviceModel=keyLower.indexOf('devicemodel')>=0;var criteria=cObj[i];if(criteria&&isVersion){var c=this.normalizeVersion(criteria);var d=this.normalizeVersion(deviceInfo[i]);if(_semver2.default.satisfies(d,c)){result=this.getError(key,val,criteria);break;}}else if(isDeviceModel){var _criteria=(0,_util.typof)(criteria)==='array'?criteria:[criteria];if(_criteria.indexOf(val)>=0){result=this.getError(key,val,criteria);break;}}}}return result;}/***/},/* 111 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.registerComponents=registerComponents;exports.registerModules=registerModules;exports.registerMethods=registerMethods;var _vm=__webpack_require__(84);var _vm2=_interopRequireDefault(_vm);var _config=__webpack_require__(94);var _config2=_interopRequireDefault(_config);var _register=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var nativeComponentMap=_config2.default.nativeComponentMap;/**
		 * Register the name of each native component.
		 * @param  {array} components array of name
		 */function registerComponents(components){if(Array.isArray(components)){components.forEach(function register(name){/* istanbul ignore if */if(!name){return;}if(typeof name==='string'){nativeComponentMap[name]=true;}else if((typeof name==='undefined'?'undefined':_typeof(name))==='object'&&typeof name.type==='string'){nativeComponentMap[name.type]=name;}});}}/**
		 * Register the name and methods of each module.
		 * @param  {object} modules a object of modules
		 */function registerModules(modules){if((typeof modules==='undefined'?'undefined':_typeof(modules))==='object'){(0,_register.initModules)(modules);}}/**
		 * Register the name and methods of each api.
		 * @param  {object} apis a object of apis
		 */function registerMethods(methods){if((typeof methods==='undefined'?'undefined':_typeof(methods))==='object'){(0,_register.initMethods)(_vm2.default,methods);}}// @todo: Hack for this framework only. Will be re-designed or removed later.
	global.registerMethods=registerMethods;/***/},/* 112 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.receiveTasks=receiveTasks;var _map=__webpack_require__(103);var _ctrl=__webpack_require__(105);function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}var jsHandlers={fireEvent:function fireEvent(id){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return _ctrl.fireEvent.apply(undefined,[_map.instanceMap[id]].concat(args));},callback:function callback(id){for(var _len2=arguments.length,args=Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}return _ctrl.callback.apply(undefined,[_map.instanceMap[id]].concat(args));}};/**
		 * Accept calls from native (event or callback).
		 *
		 * @param  {string} id
		 * @param  {array} tasks list with `method` and `args`
		 */function receiveTasks(id,tasks){var instance=_map.instanceMap[id];if(instance&&Array.isArray(tasks)){var _ret=function(){var results=[];tasks.forEach(function(task){var handler=jsHandlers[task.method];var args=[].concat(_toConsumableArray(task.args));if(typeof handler==='function'){args.unshift(id);results.push(handler.apply(undefined,_toConsumableArray(args)));}});return{v:results};}();if((typeof _ret==='undefined'?'undefined':_typeof(_ret))==="object")return _ret.v;}return new Error('invalid instance id "'+id+'" or tasks');}/***/},/* 113 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.getRoot=getRoot;var _map=__webpack_require__(103);var _ctrl=__webpack_require__(105);/**
		 * Get a whole element tree of an instance for debugging.
		 * @param  {string} id
		 * @return {object} a virtual dom tree
		 */function getRoot(id){var instance=_map.instanceMap[id];var result=void 0;if(instance){result=(0,_ctrl.getRootElement)(instance);}else{result=new Error('invalid instance id "'+id+'"');}return result;}/***/},/* 114 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.instanceMap=undefined;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();/**
		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @fileOverview
		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * A simple virtual dom implementation
		                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */// import { extend } from '../shared'
	exports.Document=Document;exports.Node=Node;exports.Element=Element;exports.Comment=Comment;var _utils=__webpack_require__(8);var DEFAULT_TAG_NAME='div';var instanceMap=exports.instanceMap={};var nextNodeRef=1;function Document(id,url,handler,Listener){id=id?id.toString():'';this.id=id;this.URL=url;instanceMap[id]=this;this.nodeMap={};Listener&&(this.listener=new Listener(id,handler||genCallTasks(id)));this.createDocumentElement();}function genCallTasks(id){// @todo: The `callAddElement` API should be re-design immediately
	// because its public and global and without config opportunity.
	var hasAddElementHandler=typeof callAddElement==='function';return function(tasks){if(!Array.isArray(tasks)){tasks=[tasks];}for(var i=0;i<tasks.length;i++){var task=tasks[i];var returnValue=void 0;if(hasAddElementHandler&&task.module==='dom'&&task.method==='addElement'){var _task$args=_slicedToArray(task.args,3);var ref=_task$args[0];var json=_task$args[1];var index=_task$args[2];returnValue=callAddElement(id,ref,json,index,'-1');}else{returnValue=callNative(id,[task],'-1');}if(returnValue===-1){return returnValue;}}};}Document.prototype.destroy=function(){delete this.listener;delete this.nodeMap;delete instanceMap[this.id];};Document.prototype.open=function(){this.listener.batched=false;};Document.prototype.close=function(){this.listener.batched=true;};Document.prototype.createDocumentElement=function(){var _this=this;if(!this.documentElement){var el=new Element('document');el.docId=this.id;el.ownerDocument=this;el.role='documentElement';el.depth=0;el.ref='_documentElement';this.nodeMap._documentElement=el;this.documentElement=el;el.appendChild=function(node){appendBody(_this,node);};el.insertBefore=function(node,before){appendBody(_this,node,before);};}return this.documentElement;};function appendBody(doc,node,before){var documentElement=doc.documentElement;if(documentElement.pureChildren.length>0||node.parentNode){return;}var children=documentElement.children;var beforeIndex=children.indexOf(before);if(beforeIndex<0){children.push(node);}else{children.splice(beforeIndex,0,node);}if(node.nodeType===1){if(node.role==='body'){node.docId=doc.id;node.ownerDocument=doc;node.parentNode=documentElement;linkParent(node,documentElement);}else{node.children.forEach(function(child){child.parentNode=node;});setBody(doc,node);node.docId=doc.id;node.ownerDocument=doc;linkParent(node,documentElement);delete doc.nodeMap[node.nodeId];}documentElement.pureChildren.push(node);doc.listener.createBody(node);}else{node.parentNode=documentElement;doc.nodeMap[node.ref]=node;}}function setBody(doc,el){el.role='body';el.depth=1;delete doc.nodeMap[el.nodeId];el.ref='_root';doc.nodeMap._root=el;doc.body=el;}Document.prototype.createBody=function(type,props){if(!this.body){var el=new Element(type,props);setBody(this,el);}return this.body;};Document.prototype.createElement=function(tagName,props){return new Element(tagName,props);};Document.prototype.createComment=function(text){return new Comment(text);};Document.prototype.fireEvent=function(el,type,e,domChanges){if(!el){return;}e=e||{};e.type=type;e.target=el;e.timestamp=Date.now();if(domChanges){updateElement(el,domChanges);}return el.fireEvent(type,e);};Document.prototype.getRef=function(ref){return this.nodeMap[ref];};function updateElement(el,changes){var attrs=changes.attrs||{};for(var name in attrs){el.setAttr(name,attrs[name],true);}var style=changes.style||{};for(var _name in style){el.setStyle(_name,style[_name],true);}}function Node(){this.nodeId=(nextNodeRef++).toString();this.ref=this.nodeId;this.children=[];this.pureChildren=[];this.parentNode=null;this.nextSibling=null;this.previousSibling=null;}Node.prototype.destroy=function(){var doc=instanceMap[this.docId];if(doc){delete this.docId;delete doc.nodeMap[this.nodeId];}this.children.forEach(function(child){child.destroy();});};function Element(){var type=arguments.length<=0||arguments[0]===undefined?DEFAULT_TAG_NAME:arguments[0];var props=arguments[1];props=props||{};this.nodeType=1;this.nodeId=(nextNodeRef++).toString();this.ref=this.nodeId;this.type=type;this.attr=props.attr||{};this.classStyle=props.classStyle||{};this.style=props.style||{};this.event={};this.children=[];this.pureChildren=[];}Element.prototype=new Node();Element.prototype.appendChild=function(node){if(node.parentNode&&node.parentNode!==this){return;}if(!node.parentNode){linkParent(node,this);insertIndex(node,this.children,this.children.length,true);if(this.docId){registerNode(this.docId,node);}if(node.nodeType===1){insertIndex(node,this.pureChildren,this.pureChildren.length);if(this.docId){var listener=instanceMap[this.docId].listener;return listener.addElement(node,this.ref,-1);}}}else{moveIndex(node,this.children,this.children.length,true);if(node.nodeType===1){var index=moveIndex(node,this.pureChildren,this.pureChildren.length);if(this.docId&&index>=0){var _listener=instanceMap[this.docId].listener;return _listener.moveElement(node.ref,this.ref,index);}}}};Element.prototype.insertBefore=function(node,before){if(node.parentNode&&node.parentNode!==this){return;}if(node===before||node.nextSibling===before){return;}if(!node.parentNode){linkParent(node,this);insertIndex(node,this.children,this.children.indexOf(before),true);if(this.docId){registerNode(this.docId,node);}if(node.nodeType===1){var pureBefore=nextElement(before);var index=insertIndex(node,this.pureChildren,pureBefore?this.pureChildren.indexOf(pureBefore):this.pureChildren.length);if(this.docId){var listener=instanceMap[this.docId].listener;return listener.addElement(node,this.ref,index);}}}else{moveIndex(node,this.children,this.children.indexOf(before),true);if(node.nodeType===1){var _pureBefore=nextElement(before);var _index=moveIndex(node,this.pureChildren,_pureBefore?this.pureChildren.indexOf(_pureBefore):this.pureChildren.length);if(this.docId&&_index>=0){var _listener2=instanceMap[this.docId].listener;return _listener2.moveElement(node.ref,this.ref,_index);}}}};Element.prototype.insertAfter=function(node,after){if(node.parentNode&&node.parentNode!==this){return;}if(node===after||node.previousSibling===after){return;}if(!node.parentNode){linkParent(node,this);insertIndex(node,this.children,this.children.indexOf(after)+1,true);if(this.docId){registerNode(this.docId,node);}if(node.nodeType===1){var index=insertIndex(node,this.pureChildren,this.pureChildren.indexOf(previousElement(after))+1);if(this.docId){var listener=instanceMap[this.docId].listener;return listener.addElement(node,this.ref,index);}}}else{moveIndex(node,this.children,this.children.indexOf(after)+1,true);if(node.nodeType===1){var _index2=moveIndex(node,this.pureChildren,this.pureChildren.indexOf(previousElement(after))+1);if(this.docId&&_index2>=0){var _listener3=instanceMap[this.docId].listener;return _listener3.moveElement(node.ref,this.ref,_index2);}}}};Element.prototype.removeChild=function(node,preserved){if(node.parentNode){removeIndex(node,this.children,true);if(node.nodeType===1){removeIndex(node,this.pureChildren);if(this.docId){var listener=instanceMap[this.docId].listener;listener.removeElement(node.ref);}}}if(!preserved){node.destroy();}};Element.prototype.clear=function(){var _this2=this;if(this.docId){(function(){var listener=instanceMap[_this2.docId].listener;_this2.pureChildren.forEach(function(node){listener.removeElement(node.ref);});})();}this.children.forEach(function(node){node.destroy();});this.children.length=0;this.pureChildren.length=0;};function nextElement(node){while(node){if(node.nodeType===1){return node;}node=node.nextSibling;}}function previousElement(node){while(node){if(node.nodeType===1){return node;}node=node.previousSibling;}}function linkParent(node,parent){node.parentNode=parent;if(parent.docId){node.docId=parent.docId;node.ownerDocument=parent.ownerDocument;node.ownerDocument.nodeMap[node.nodeId]=node;node.depth=parent.depth+1;}node.children.forEach(function(child){linkParent(child,node);});}function registerNode(docId,node){var doc=instanceMap[docId];doc.nodeMap[node.nodeId]=node;}function insertIndex(target,list,newIndex,changeSibling){if(newIndex<0){newIndex=0;}var before=list[newIndex-1];var after=list[newIndex];list.splice(newIndex,0,target);if(changeSibling){before&&(before.nextSibling=target);target.previousSibling=before;target.nextSibling=after;after&&(after.previousSibling=target);}return newIndex;}function moveIndex(target,list,newIndex,changeSibling){var index=list.indexOf(target);if(index<0){return-1;}if(changeSibling){var before=list[index-1];var after=list[index+1];before&&(before.nextSibling=after);after&&(after.previousSibling=before);}list.splice(index,1);var newIndexAfter=newIndex;if(index<=newIndex){newIndexAfter=newIndex-1;}var beforeNew=list[newIndexAfter-1];var afterNew=list[newIndexAfter];list.splice(newIndexAfter,0,target);if(changeSibling){beforeNew&&(beforeNew.nextSibling=target);target.previousSibling=beforeNew;target.nextSibling=afterNew;afterNew&&(afterNew.previousSibling=target);}if(index===newIndexAfter){return-1;}return newIndex;}function removeIndex(target,list,changeSibling){var index=list.indexOf(target);if(index<0){return;}if(changeSibling){var before=list[index-1];var after=list[index+1];before&&(before.nextSibling=after);after&&(after.previousSibling=before);}list.splice(index,1);}Element.prototype.setAttr=function(key,value,silent){if(this.attr[key]===value&&silent!==false){return;}this.attr[key]=value;if(!silent&&this.docId){var listener=instanceMap[this.docId].listener;listener.setAttr(this.ref,key,value);}};Element.prototype.setStyle=function(key,value,silent){if(this.style[key]===value&&silent!==false){return;}this.style[key]=value;if(!silent&&this.docId){var listener=instanceMap[this.docId].listener;listener.setStyle(this.ref,key,value);}};Element.prototype.resetClassStyle=function(){for(var key in this.classStyle){this.classStyle[key]='';}};Element.prototype.setClassStyle=function(classStyle){this.resetClassStyle();(0,_utils.extend)(this.classStyle,classStyle);if(this.docId){var listener=instanceMap[this.docId].listener;listener.setStyles(this.ref,this.toStyle());}};Element.prototype.addEvent=function(type,handler){if(!this.event[type]){this.event[type]=handler;if(this.docId){var listener=instanceMap[this.docId].listener;listener.addEvent(this.ref,type);}}};Element.prototype.removeEvent=function(type){if(this.event[type]){delete this.event[type];if(this.docId){var listener=instanceMap[this.docId].listener;listener.removeEvent(this.ref,type);}}};Element.prototype.fireEvent=function(type,e){var handler=this.event[type];if(handler){return handler.call(this,e);}};Element.prototype.toStyle=function(){return(0,_utils.extend)({},this.classStyle,this.style);};Element.prototype.toJSON=function(){var result={ref:this.ref.toString(),type:this.type,attr:this.attr,style:this.toStyle()};var event=Object.keys(this.event);if(event.length){result.event=event;}if(this.pureChildren.length){result.children=this.pureChildren.map(function(child){return child.toJSON();});}return result;};Element.prototype.toString=function(){return'<'+this.type+' attr='+JSON.stringify(this.attr)+' style='+JSON.stringify(this.toStyle())+'>'+this.pureChildren.map(function(child){return child.toString();}).join('')+'</'+this.type+'>';};function Comment(value){this.nodeType=8;this.nodeId=(nextNodeRef++).toString();this.ref=this.nodeId;this.type='comment';this.value=value;this.children=[];this.pureChildren=[];}Comment.prototype=new Node();Comment.prototype.toString=function(){return'<!-- '+this.value+' -->';};/***/},/* 115 *//***/function(module,exports){module.exports={"name":"weex","version":"0.4.0","description":"A framework for building Mobile cross-platform UI","license":"Apache-2.0","repository":{"type":"git","url":"git@github.com:alibaba/weex.git"},"homepage":"http://alibaba.github.io/weex/","bugs":{"url":"https://github.com/alibaba/weex/issues"},"private":true,"keywords":["weex","hybrid","webcomponent","appframework","mvvm","javascript","webkit","v8","jscore","html5","android","ios","yunos"],"engines":{"node":">=4"},"scripts":{"postinstall":"bash ./bin/install-hooks.sh","build:config":"node build/config.frameworks.js","build:browser":"wwp && webpack --config build/webpack.browser.config.js","build:common":"webpack --config build/webpack.common.config.js","build:native":"webpack --config build/webpack.native.config.js","build:examples":"webpack --config build/webpack.examples.config.js","build:test":"webpack --config build/webpack.test.config.js","dist:browser":"npm run build:browser && npm run build:common && bash ./bin/dist-browser.sh","dist":"npm run dist:browser","dev:browser":"wwp && webpack --watch --config build/webpack.browser.config.js","dev:native":"webpack --watch --config build/webpack.native.config.js","dev:examples":"webpack --watch --config build/webpack.examples.config.js","dev:test":"webpack --watch --config build/webpack.test.config.js","build":"npm run build:native && npm run build:browser && npm run build:examples && npm run build:test","lint":"eslint html5","test:unit":"mocha --compilers js:babel-core/register html5/test/unit/*/*.js html5/test/unit/*/*/*.js","test:cover":"babel-node node_modules/isparta/bin/isparta cover --report text node_modules/mocha/bin/_mocha -- --reporter dot html5/test/unit/*/*.js html5/test/unit/*/*/*.js","test:e2e":"npm run build:browser && node html5/test/e2e/runner.js","test":"npm run build:config && npm run lint && npm run test:cover && npm run test:e2e","serve":"serve ./ -p 12580","clean:examples":"echo \"\\033[36;1m[Clean]\\033[0m \\033[33mexamples\\033[0m\" && rm -vrf examples/build/*","clean:test":"echo \"\\033[36;1m[Clean]\\033[0m \\033[33mtest\\033[0m\" && rm -vrf test/build/*","clean":"npm run clean:examples && npm run clean:test","copy:js":"cp -vf ./dist/native.js ./android/sdk/assets/main.js","copy:examples":"rm -rf ./android/playground/app/src/main/assets/* && cp -vrf ./examples/build/* ./android/playground/app/src/main/assets/","copy":"npm run copy:js && npm run copy:examples"},"subversion":{"browser":"0.4.0","framework":"0.16.17","transformer":">=0.1.5 <0.4"},"dependencies":{"animationjs":"^0.1.5","core-js":"^2.4.0","cubicbezier":"^0.1.1","envd":"^0.1.1","httpurl":"^0.1.1","lazyimg":"^0.1.2","modals":"^0.1.6","scroll-to":"0.0.2","semver":"^5.1.0","weex-components":"^0.2.0"},"devDependencies":{"babel-cli":"~6.4.5","babel-loader":"^6.2.4","babel-plugin-transform-runtime":"^6.15.0","babel-preset-es2015":"^6.9.0","babel-runtime":"^6.11.6","chai":"^3.5.0","chromedriver":"^2.21.2","cross-spawn":"^4.0.0","css-loader":"^0.23.1","eslint":"^2.11.1","http-server":"^0.9.0","isparta":"^4.0.0","istanbul":"^0.4.3","json-loader":"^0.5.4","mocha":"^2.5.3","nightwatch":"^0.9.4","phantomjs-prebuilt":"^2.1.7","selenium-server":"2.53.1","serve":"^1.4.0","sinon":"^1.17.4","sinon-chai":"^2.8.0","style-loader":"^0.13.1","uglify-js":"^2.6.4","webpack":"^1.13.1","weex-loader":"^0.3.1","wwp":"^0.2.0"}};/***/},/* 116 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.$=$;exports.$el=$el;exports.$vm=$vm;exports.$renderThen=$renderThen;exports.$scrollTo=$scrollTo;exports.$transition=$transition;exports.$getConfig=$getConfig;exports.$sendHttp=$sendHttp;exports.$openURL=$openURL;exports.$setTitle=$setTitle;exports.$call=$call;var _util=__webpack_require__(85);/**
		 * ==========================================================
		 * common
		 * ==========================================================
		 *//**
		 * @deprecated use $vm instead
		 * find the vm by id
		 * Note: there is only one id in whole component
		 * @param  {string} id
		 * @return {Vm}
		 */function $(id){console.warn('[JS Framework] Vm#$ is deprecated, please use Vm#$vm instead');var info=this._ids[id];if(info){return info.vm;}}/**
		 * find the element by id
		 * Note: there is only one id in whole component
		 * @param  {string} id
		 * @return {Element}
		 *//**
		 * @fileOverview The api for invoking with "$" prefix
		 */function $el(id){var info=this._ids[id];if(info){return info.el;}}/**
		 * find the vm of the custom component by id
		 * Note: there is only one id in whole component
		 * @param  {string} id
		 * @return {Vm}
		 */function $vm(id){var info=this._ids[id];if(info){return info.vm;}}/**
		 * Fire when differ rendering finished
		 *
		 * @param  {Function} fn
		 */function $renderThen(fn){var app=this._app;var differ=app.differ;return differ.then(function(){fn();});}/**
		 * scroll an element specified by id into view,
		 * moreover specify a number of offset optionally
		 * @param  {string} id
		 * @param  {number} offset
		 */function $scrollTo(id,offset){console.warn('[JS Framework] Vm#$scrollTo is deprecated, '+'please use "require(\'@weex-module/dom\')'+'.scrollTo(el, options)" instead');var el=this.$el(id);if(el){var dom=this._app.requireModule('dom');dom.scrollToElement(el.ref,{offset:offset});}}/**
		 * perform transition animation on an element specified by id
		 * @param  {string}   id
		 * @param  {object}   options
		 * @param  {object}   options.styles
		 * @param  {object}   options.duration(ms)
		 * @param  {object}   [options.timingFunction]
		 * @param  {object}   [options.delay=0(ms)]
		 * @param  {Function} callback
		 */function $transition(id,options,callback){var _this=this;var el=this.$el(id);if(el&&options&&options.styles){var animation=this._app.requireModule('animation');animation.transition(el.ref,options,function(){_this._setStyle(el,options.styles);callback&&callback.apply(undefined,arguments);});}}/**
		 * get some config
		 * @return {object} some config for app instance
		 * @property {string} bundleUrl
		 * @property {boolean} debug
		 * @property {object} env
		 * @property {string} env.weexVersion(ex. 1.0.0)
		 * @property {string} env.appName(ex. TB/TM)
		 * @property {string} env.appVersion(ex. 5.0.0)
		 * @property {string} env.platform(ex. iOS/Android)
		 * @property {string} env.osVersion(ex. 7.0.0)
		 * @property {string} env.deviceModel **native only**
		 * @property {number} env.[deviceWidth=750]
		 * @property {number} env.deviceHeight
		 */function $getConfig(callback){var config=(0,_util.extend)({env:global.WXEnvironment||{}},this._app.options);if((0,_util.typof)(callback)==='function'){console.warn('[JS Framework] the callback of Vm#$getConfig(callback) is deprecated, '+'this api now can directly RETURN config info.');callback(config);}return config;}/**
		 * @deprecated
		 * request network via http protocol
		 * @param  {object}   params
		 * @param  {Function} callback
		 */function $sendHttp(params,callback){console.warn('[JS Framework] Vm#$sendHttp is deprecated, '+'please use "require(\'@weex-module/stream\')'+'.sendHttp(params, callback)" instead');var stream=this._app.requireModule('stream');stream.sendHttp(params,callback);}/**
		 * @deprecated
		 * open a url
		 * @param  {string} url
		 */function $openURL(url){console.warn('[JS Framework] Vm#$openURL is deprecated, '+'please use "require(\'@weex-module/event\')'+'.openURL(url)" instead');var event=this._app.requireModule('event');event.openURL(url);}/**
		 * @deprecated
		 * set a title for page
		 * @param  {string} title
		 */function $setTitle(title){console.warn('[JS Framework] Vm#$setTitle is deprecated, '+'please use "require(\'@weex-module/pageInfo\')'+'.setTitle(title)" instead');var pageInfo=this._app.requireModule('pageInfo');pageInfo.setTitle(title);}/**
		 * @deprecated use "require('@weex-module/moduleName') instead"
		 * invoke a native method by specifing the name of module and method
		 * @param  {string} moduleName
		 * @param  {string} methodName
		 * @param  {...*} the rest arguments
		 */function $call(moduleName,methodName){console.warn('[JS Framework] Vm#$call is deprecated, '+'please use "require(\'@weex-module/moduleName\')" instead');var module=this._app.requireModule(moduleName);if(module&&module[methodName]){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_key<_len;_key++){args[_key-2]=arguments[_key];}module[methodName].apply(module,args);}}/***/},/* 117 *//***/function(module,exports,__webpack_require__){/* global Event */'use strict';// const FrameUpdater = require('./frameUpdater')
	Object.defineProperty(exports,"__esModule",{value:true});exports.default=ComponentManager;var _appearWatcher=__webpack_require__(118);var _utils=__webpack_require__(119);function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}// const lazyload = require('./lazyload')
	// const animation = require('./animation')
	var RENDERING_INDENT=800;var _instanceMap={};var typeMap={};var scrollableTypes=['scroller','hscroller','vscroller','list','hlist','vlist'];function ComponentManager(id){this.id=id;this.batched=false;this.updates=[];this.componentMap={};_instanceMap[this.id]=this;}ComponentManager.getInstance=function(instanceId){return _instanceMap[instanceId];};ComponentManager.registerComponent=function(type,definition){typeMap[type]=definition;};ComponentManager.getScrollableTypes=function(){return scrollableTypes;};ComponentManager.prototype={getWeexInstance:function getWeexInstance(){if(!this._weexInstance){this._weexInstance=global.weex?global.weex.getInstance(this.id):null;}return this._weexInstance;},// Fire a event 'renderbegin'/'renderend' on body element.
	rendering:function rendering(){function _renderingEnd(){// get weex instance root
	window.dispatchEvent(new Event('renderend'));this._renderingTimer=null;}if(this._renderingTimer){clearTimeout(this._renderingTimer);this._renderingTimer=setTimeout(_renderingEnd.bind(this),RENDERING_INDENT);}else{window.dispatchEvent(new Event('renderbegin'));this._renderingTimer=setTimeout(_renderingEnd.bind(this),RENDERING_INDENT);}},getComponent:function getComponent(ref){return this.componentMap[ref];},removeComponent:function removeComponent(ref){var self=this;if(!ref||!this.componentMap[ref]){return;}// remove from this.componentMap cursively
	(function _removeCursively(_ref){var child=self.componentMap[_ref];var listeners=child._listeners;var children=child.data.children;if(children&&children.length){for(var i=0,l=children.length;i<l;i++){_removeCursively(children[i].ref);}}// remove events from _ref component
	if(listeners){for(var type in listeners){child.node.removeEventListener(type,listeners[type]);}}delete child._listeners;delete child.node._listeners;// remove _ref component
	delete self.componentMap[_ref];})(ref);},createElement:function createElement(data,nodeType){var ComponentType=typeMap[data.type];if(!ComponentType){ComponentType=typeMap['div'];}data.instanceId=this.id;data.scale=this.getWeexInstance().scale;var component=new ComponentType(data,nodeType);var ref=data.ref;this.componentMap[ref]=component;component.node.setAttribute('data-ref',ref);return component;},/**
		   * createBody: generate root component
		   * @param  {object} element
		   */createBody:function createBody(element){console.log('[h5-render] createBody',element);if(this.componentMap['_root']){return;}element=element.toJSON();var nodeType=element.type;element.type='root';element.rootId=this.getWeexInstance().rootId;element.ref='_root';var root=this.createElement(element,nodeType);var body=document.querySelector('#'+this.getWeexInstance().rootId)||document.body;body.appendChild(root.node);root._appended=true;this.handleAppend(root);},appendChild:function appendChild(parentRef,data){var parent=this.componentMap[parentRef];if(this.componentMap[data.ref]||!parent){return;}if(parentRef==='_root'&&!parent){parent=this.createElement({type:'root',rootId:this.getWeexInstance().rootId,ref:'_root'});parent._appended=true;}var child=parent.appendChild(data);// In some parent component the implementation of method
	// appendChild didn't return the component at all, therefor
	// child maybe a undefined object.
	if(child){child.parentRef=parentRef;}if(child&&parent._appended){this.handleAppend(child);}},// appendChildren (ref, elements) {
	//   for (let i = 0; i < elements.length; i++) {
	//     this.appendChild(ref, elements[i])
	//   }
	// },
	removeElement:function removeElement(ref){var _this=this;if((0,_utils.isArray)(ref)){return ref.map(function(r){return _this.removeElement(r);});}var component=this.componentMap[ref];// fire event for rendering dom on body elment.
	this.rendering();if(component&&component.parentRef){var parent=this.componentMap[component.parentRef];component.onRemove&&component.onRemove();parent.removeChild(component);}else if(!component){console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}else{console.error('[h5-render] parent component \''+component.parentRef+'\' does not exist.');}},moveElement:function moveElement(ref,parentRef,index){var component=this.componentMap[ref];var newParent=this.componentMap[parentRef];var oldParentRef=component.parentRef;var children=void 0,before=void 0,i=void 0,l=void 0;if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}if(!newParent){return console.error('[h5-render] parent component \''+parentRef+'\' does not exist.');}if(index<-1){index=-1;return console.error('[h5-render] index cannot be less than -1.');}// fire event for rendering.
	this.rendering();children=newParent.data.children;if(children&&children.length&&index!==-1&&index<children.length){before=this.componentMap[newParent.data.children[index].ref];}// remove from oldParent.data.children
	if(oldParentRef&&this.componentMap[oldParentRef]){children=this.componentMap[oldParentRef].data.children;if(children&&children.length){for(i=0,l=children.length;i<l;i++){if(children[i].ref===ref){break;}}if(l>i){children.splice(i,1);}}}newParent.insertBefore(component,before);component.onMove&&component.onMove(parentRef,index);},insertBefore:function insertBefore(ref,data){var child=void 0,parent=void 0;var before=this.componentMap[ref];child=this.componentMap[data.ref];before&&(parent=this.componentMap[before.parentRef]);if(child||!parent||!before){return;}child=this.createElement(data);if(child){child.parentRef=before.parentRef;parent.insertBefore(child,before);}else{return;}if(this.componentMap[before.parentRef]._appended){this.handleAppend(child);}},/**
		   * addElement
		   * If index is larget than any child's index, the
		   * element will be appended behind.
		   * @param {string} parentRef
		   * @param {obj} element (data of the component)
		   * @param {number} index
		   */addElement:function addElement(element,parentRef,index){// fire event for rendering dom on body elment.
	element=element.toJSON();this.rendering();var parent=this.componentMap[parentRef];if(!parent){return;}var children=parent.data.children;// -1 means append as the last.
	if(index<-1){index=-1;return console.error('[h5-render] index cannot be less than -1.');}if(children&&children.length&&children.length>index&&index!==-1){this.insertBefore(children[index].ref,element);}else{this.appendChild(parentRef,element);}},addEvent:function addEvent(ref,type){var component=this.componentMap[ref];if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}component.bindEvents([type]);},removeEvent:function removeEvent(ref,type){var component=this.componentMap[ref];if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}component.unbindEvents([type]);},setAttr:function setAttr(ref,key,value){var component=this.componentMap[ref];if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}component.updateAttrs(_defineProperty({},key,value));},setStyle:function setStyle(ref,key,value){var component=this.componentMap[ref];if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}component.updateStyle(_defineProperty({},key,value));},setStyles:function setStyles(ref,style){var component=this.componentMap[ref];if(!component){return console.error('[h5-render] component of ref \''+ref+'\' does not exist.');}component.updateStyle(style);},handleAppend:function handleAppend(component){component._appended=true;component.onAppend&&component.onAppend();// invoke onAppend on children recursively
	var children=component.data.children;if(children){for(var i=0;i<children.length;i++){var child=this.componentMap[children[i].ref];if(child){this.handleAppend(child);}}}// watch appear/disappear of the component if needed
	(0,_appearWatcher.watchIfNeeded)(component);// do lazyload if needed
	component.fireLazyload();// lazyload.startIfNeeded(component);
	},createFinish:function createFinish(callback){// TODO
	},updateFinish:function updateFinish(callback){// TODO
	},refreshFinish:function refreshFinish(callback){// TODO
	}};/***/},/* 118 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.watchIfNeeded=watchIfNeeded;var _utils=__webpack_require__(119);var componentsInScroller=[];var componentsOutOfScroller=[];var listened=false;var direction='up';var scrollY=0;function watchIfNeeded(component){if(needWatch(component)){if(component.isInScrollable()){componentsInScroller.push(component);}else{componentsOutOfScroller.push(component);}if(!listened){listened=true;// const handler = throttle(onScroll, 25)
	var handler=throttle(onScroll,100);window.addEventListener('scroll',handler,false);}}}function needWatch(component){var events=component.data.event;if(events&&(events.indexOf('appear')!==-1||events.indexOf('disappear')!==-1)){return true;}return false;}function onScroll(e){// If the scroll event is dispatched from a scrollable component
	// implemented through scrollerjs, then the appear/disappear events
	// should be treated specially by handleScrollerScroll.
	if(e.originalType==='scrolling'){handleScrollerScroll(e);}else{handleWindowScroll();}}function handleScrollerScroll(e){var cmps=componentsInScroller;var len=cmps.length;direction=e.direction;for(var i=0;i<len;i++){var component=cmps[i];var appear=isComponentInScrollerAppear(component);if(appear&&!component._appear){component._appear=true;fireEvent(component,'appear');}else if(!appear&&component._appear){component._appear=false;fireEvent(component,'disappear');}}}function handleWindowScroll(){var y=window.scrollY;direction=y>=scrollY?'up':'down';scrollY=y;var len=componentsOutOfScroller.length;if(len===0){return;}for(var i=0;i<len;i++){var component=componentsOutOfScroller[i];var appear=isComponentInWindow(component);if(appear&&!component._appear){component._appear=true;fireEvent(component,'appear');}else if(!appear&&component._appear){component._appear=false;fireEvent(component,'disappear');}}}function isComponentInScrollerAppear(component){var parentScroller=component._parentScroller;var cmpRect=component.node.getBoundingClientRect();if(!isComponentInWindow(component)){return false;}while(parentScroller){var parentRect=parentScroller.node.getBoundingClientRect();if(!(cmpRect.right>parentRect.left&&cmpRect.left<parentRect.right&&cmpRect.bottom>parentRect.top&&cmpRect.top<parentRect.bottom)){return false;}parentScroller=parentScroller._parentScroller;}return true;}function isComponentInWindow(component){var rect=component.node.getBoundingClientRect();return rect.right>0&&rect.left<window.innerWidth&&rect.bottom>0&&rect.top<window.innerHeight;}function fireEvent(component,type){var evt=document.createEvent('HTMLEvents');var data={direction:direction};evt.initEvent(type,false,false);evt.data=data;(0,_utils.extend)(evt,data);component.node.dispatchEvent(evt);}function throttle(func,wait){var context=void 0,args=void 0,result=void 0;var timeout=null;var previous=0;var later=function later(){previous=Date.now();timeout=null;result=func.apply(context,args);};return function(){var now=Date.now();var remaining=wait-(now-previous);context=this;args=arguments;if(remaining<=0){clearTimeout(timeout);timeout=null;previous=now;result=func.apply(context,args);}else if(!timeout){timeout=setTimeout(later,remaining);}return result;};}/***/},/* 119 *//***/function(module,exports,__webpack_require__){/* global Image */'use strict';// const WEAPP_STYLE_ID = 'weapp-style'
	Object.defineProperty(exports,"__esModule",{value:true});exports.vendors=exports.slice=exports.isArray=exports.typof=exports.isPlainObject=exports.isObject=exports.toArray=exports.bind=exports.hasOwn=exports.remove=exports.def=exports.extend=exports.frameUpdater=undefined;var _util=__webpack_require__(85);Object.defineProperty(exports,'extend',{enumerable:true,get:function get(){return _util.extend;}});Object.defineProperty(exports,'def',{enumerable:true,get:function get(){return _util.def;}});Object.defineProperty(exports,'remove',{enumerable:true,get:function get(){return _util.remove;}});Object.defineProperty(exports,'hasOwn',{enumerable:true,get:function get(){return _util.hasOwn;}});Object.defineProperty(exports,'bind',{enumerable:true,get:function get(){return _util.bind;}});Object.defineProperty(exports,'toArray',{enumerable:true,get:function get(){return _util.toArray;}});Object.defineProperty(exports,'isObject',{enumerable:true,get:function get(){return _util.isObject;}});Object.defineProperty(exports,'isPlainObject',{enumerable:true,get:function get(){return _util.isPlainObject;}});Object.defineProperty(exports,'typof',{enumerable:true,get:function get(){return _util.typof;}});exports.getType=getType;exports.appendStyle=appendStyle;exports.getUniqueFromArray=getUniqueFromArray;exports.detectWebp=detectWebp;exports.detectSticky=detectSticky;exports.getRandom=getRandom;exports.getRgb=getRgb;exports.loopArray=loopArray;exports.throttle=throttle;exports.camelToKebab=camelToKebab;exports.kebabToCamel=kebabToCamel;var _frameUpdater=__webpack_require__(120);var _frameUpdater2=_interopRequireDefault(_frameUpdater);__webpack_require__(121);var _array=__webpack_require__(126);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.frameUpdater=_frameUpdater2.default;exports.isArray=_array.isArray;exports.slice=_array.slice;var vendors=exports.vendors=['ms','moz','webkit','o'];var _isWebpSupported=false;(function isSupportWebp(){try{(function(){var webP=new Image();webP.src='data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdA'+'SoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA';webP.onload=function(){if(webP.height===2){_isWebpSupported=true;}};})();}catch(e){// do nothing.
	}})();var _isStickySupported=false;(function isSupportSticky(){var element=document.createElement('div');var elementStyle=element.style;elementStyle.cssText=vendors.concat(['']).map(function(vendor){return'position:'+(vendor?'-'+vendor+'-':'')+'sticky';}).join(';')+';';_isStickySupported=elementStyle.position.indexOf('sticky')!==-1;})();// export function extend (to, from) {
	//   for (const key in from) {
	//     to[key] = from[key]
	//   }
	//   return to
	// }
	// export function isPlainObject (obj) {
	//   return Object.prototype.toString.call(obj)
	//     .slice(8, -1).toLowerCase() === 'object'
	// }
	function getType(obj){return Object.prototype.toString.call(obj).slice(8,-1).toLowerCase();}function appendStyle(css,styleId,replace){var style=document.getElementById(styleId);if(style&&replace){style.parentNode.removeChild(style);style=null;}if(!style){style=document.createElement('style');style.type='text/css';styleId&&(style.id=styleId);document.getElementsByTagName('head')[0].appendChild(style);}style.appendChild(document.createTextNode(css));}function getUniqueFromArray(arr){if(!(0,_array.isArray)(arr)){return[];}var res=[];var unique={};var val=void 0;for(var i=0,l=arr.length;i<l;i++){val=arr[i];if(unique[val]){continue;}unique[val]=true;res.push(val);}return res;}function detectWebp(){return _isWebpSupported;}function detectSticky(){return _isStickySupported;}function getRandom(num){var _defaultNum=10;if(typeof num!=='number'||num<=0){num=_defaultNum;}var _max=Math.pow(10,num);return Math.floor(Date.now()+Math.random()*_max)%_max;}function getRgb(color){var match=void 0;color=color+'';match=color.match(/#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})/);if(match){return{r:parseInt(match[1],16),g:parseInt(match[2],16),b:parseInt(match[3],16)};}match=color.match(/rgb\((\d+),\s*(\d+),\s*(\d+)\)/);if(match){return{r:parseInt(match[1]),g:parseInt(match[2]),b:parseInt(match[3])};}}// direction: 'l' | 'r', default is 'r'
	// num: how many times to loop, should be a positive integer
	function loopArray(arr,num,direction){if(!(0,_array.isArray)(arr)){return;}var isLeft=(direction+'').toLowerCase()==='l';var len=arr.length;num=num%len;if(num<0){num=-num;isLeft=!isLeft;}if(num===0){return arr;}var lp=void 0,rp=void 0;if(isLeft){lp=arr.slice(0,num);rp=arr.slice(num);}else{lp=arr.slice(0,len-num);rp=arr.slice(len-num);}return rp.concat(lp);}function throttle(func,wait){var result=void 0;var timerId=null;var previous=0;var context=void 0;var args=void 0;var later=function later(){previous=Date.now();timerId=null;result=func.apply(context,args);};return function(){var now=Date.now();var remaining=wait-(now-previous);context=this;args=Array.prototype.slice.call(arguments);if(remaining<=0){clearTimeout(timerId);timerId=null;previous=now;result=func.apply(context,args);}else if(!timerId){timerId=setTimeout(later,remaining);}return result;};}function camelToKebab(name){if(!name){return'';}return name.replace(/([A-Z])/g,function(g,g1){return'-'+g1.toLowerCase();});}function kebabToCamel(name){if(!name){return'';}return name.replace(/-([a-z])/g,function(g,g1){console.log(g1);return''+g1.toUpperCase();});}/***/},/* 120 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(calllback){setTimeout(calllback,16);};var rafId=void 0;var observers=[];var paused=false;exports.default={start:function start(){if(rafId){return;}rafId=raf(function runLoop(){if(!paused){for(var i=0;i<observers.length;i++){observers[i]();}raf(runLoop);}});},isActive:function isActive(){return!paused;},pause:function pause(){paused=true;rafId=undefined;},resume:function resume(){paused=false;this.start();},addUpdateObserver:function addUpdateObserver(observeMethod){observers.push(observeMethod);}};/***/},/* 121 *//***/function(module,exports,__webpack_require__){'use strict';__webpack_require__(122);/***/},/* 122 *//***/function(module,exports,__webpack_require__){__webpack_require__(123);module.exports=__webpack_require__(29).Object.assign;/***/},/* 123 *//***/function(module,exports,__webpack_require__){// 19.1.3.1 Object.assign(target, source)
	var $export=__webpack_require__(36);$export($export.S+$export.F,'Object',{assign:__webpack_require__(124)});/***/},/* 124 *//***/function(module,exports,__webpack_require__){'use strict';// 19.1.2.1 Object.assign(target, source, ...)
	var getKeys=__webpack_require__(43),gOPS=__webpack_require__(125),pIE=__webpack_require__(68),toObject=__webpack_require__(55),IObject=__webpack_require__(46),$assign=Object.assign;// should work with symbols and should have deterministic property order (V8 bug)
	module.exports=!$assign||__webpack_require__(24)(function(){var A={},B={},S=Symbol(),K='abcdefghijklmnopqrst';A[S]=7;K.split('').forEach(function(k){B[k]=k;});return $assign({},A)[S]!=7||Object.keys($assign({},B)).join('')!=K;})?function assign(target,source){// eslint-disable-line no-unused-vars
	var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;while(aLen>index){var S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0,key;while(length>j){if(isEnum.call(S,key=keys[j++]))T[key]=S[key];}}return T;}:$assign;/***/},/* 125 *//***/function(module,exports){exports.f=Object.getOwnPropertySymbols;/***/},/* 126 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.isArray=isArray;exports.slice=slice;function isArray(arr){return Array.isArray?Array.isArray(arr):Object.prototype.toString.call(arr)==='[object Array]';}function slice(arr,start,end){if(isArray(arr)){return arr.slice(start,end);}var slice=Array.prototype.slice;return slice.call(arr,start,end);}/***/},/* 127 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var config={weexVersion:'0.5.0',debug:false,validRoots:['div','list','vlist','scroller'],downgrade:{// root: true
	}};exports.default=config;/***/},/* 128 *//***/function(module,exports){/* global XMLHttpRequest */'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.load=load;exports.registerLoader=registerLoader;function loadByXHR(config,callback){if(!config.source){callback(new Error('xhr loader: missing config.source.'));}var xhr=new XMLHttpRequest();xhr.open('GET',config.source);xhr.onload=function(){callback(null,this.responseText);};xhr.onerror=function(error){callback(error);};xhr.send();}function loadByJsonp(config,callback){if(!config.source){callback(new Error('jsonp loader: missing config.source.'));}var callbackName=config.jsonpCallback||'weexJsonpCallback';window[callbackName]=function(code){if(code){callback(null,code);}else{callback(new Error('load by jsonp error'));}};var script=document.createElement('script');script.src=decodeURIComponent(config.source);script.type='text/javascript';document.body.appendChild(script);}function loadBySourceCode(config,callback){// src is the jsbundle.
	// no need to fetch from anywhere.
	if(config.source){callback(null,config.source);}else{callback(new Error('source code laoder: missing config.source.'));}}var callbackMap={xhr:loadByXHR,jsonp:loadByJsonp,source:loadBySourceCode};function load(options,callback){var loadFn=callbackMap[options.loader];loadFn(options,callback);}function registerLoader(name,loaderFunc){if(typeof loaderFunc==='function'){callbackMap[name]=loaderFunc;}}/***/},/* 129 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Sender=exports.receiver=exports.protocol=undefined;var _protocol=__webpack_require__(130);var _protocol2=_interopRequireDefault(_protocol);var _receiver=__webpack_require__(131);var _receiver2=_interopRequireDefault(_receiver);var _sender=__webpack_require__(132);var _sender2=_interopRequireDefault(_sender);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.protocol=_protocol2.default;exports.receiver=_receiver2.default;exports.Sender=_sender2.default;/***/},/* 130 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default={// weex instances
	_instances:{},// api meta info
	_meta:{},// Weex.registerApiModule used this to register and access apiModules.
	apiModule:{},// get the api method meta info array for the module.
	getApiModuleMeta:function getApiModuleMeta(moduleName){var metaObj={};metaObj[moduleName]=this._meta[moduleName];return metaObj;},// Set meta info for a api module.
	// If there is a same named api, just replace it.
	// opts:
	// - metaObj: meta object like
	// {
	//    dom: [{
	//      name: 'addElement',
	//      args: ['string', 'object']
	//    }]
	// }
	setApiModuleMeta:function setApiModuleMeta(metaObj){var moduleName=void 0;for(var k in metaObj){if(metaObj.hasOwnProperty(k)){moduleName=k;}}var metaArray=this._meta[moduleName];if(!metaArray){this._meta[moduleName]=metaObj[moduleName];}else{(function(){var nameObj={};metaObj[moduleName].forEach(function(api){nameObj[api.name]=api;});metaArray.forEach(function(api,i){if(nameObj[api.name]){metaArray[i]=nameObj[api.name];delete nameObj[api.name];}});for(var _k in metaObj){if(metaObj.hasOwnProperty(_k)){metaArray.push(metaObj[_k]);}}})();}this._meta[moduleName]=metaObj[moduleName];},// Set meta info for a single api.
	// opts:
	//  - moduleName: api module name.
	//  - meta: a meta object like:
	//  {
	//    name: 'addElement',
	//    args: ['string', 'object']
	//  }
	setApiMeta:function setApiMeta(moduleName,meta){var metaArray=this._meta[moduleName];if(!metaArray){this._meta[moduleName]=[meta];}else{var metaIdx=-1;metaArray.forEach(function(api,i){var name=void 0;// todo
	if(meta.name===name){metaIdx=i;}});if(metaIdx!==-1){metaArray[metaIdx]=meta;}else{metaArray.push(meta);}}}};// _registerModules([{
	//   modal: [{
	//     name: 'toast',
	//     args: ['object', 'function']
	//   }, {
	//     name: 'alert',
	//     args: ['object', 'function']
	//   }, {
	//     name: 'confirm',
	//     args: ['object', 'function']
	//   }, {
	//     name: 'prompt',
	//     args: ['object', 'function']
	//   }]
	// }, {
	//   animation: [{
	//     name: 'transition',
	//     args: ['string', 'object', 'function']
	//   }]
	// }])
	/***/},/* 131 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _config=__webpack_require__(127);var _config2=_interopRequireDefault(_config);var _protocol=__webpack_require__(130);var _protocol2=_interopRequireDefault(_protocol);var _utils=__webpack_require__(119);var _sender=__webpack_require__(132);var _sender2=_interopRequireDefault(_sender);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var callQueue=[];// Need a task counter?
	// When frameUpdater is not activated, tasks will not be push
	// into callQueue and there will be no trace for situation of
	// execution of tasks.
	// give 10ms for call handling, and rest 6ms for others
	var MAX_TIME_FOR_EACH_FRAME=10;// callNative: jsFramework will call this method to talk to
	// this renderer.
	// params:
	//  - instanceId: string.
	//  - tasks: array of object.
	//  - callbackId: number.
	function callNative(instanceId,tasks,callbackId){var calls=[];if(typeof tasks==='string'){try{calls=JSON.parse(tasks);}catch(e){console.error('invalid tasks:',tasks);}}else if((0,_utils.isArray)(tasks)){calls=tasks;}var len=calls.length;calls[len-1].callbackId=!callbackId&&callbackId!==0?-1:callbackId;// To solve the problem of callapp, the two-way time loop rule must
	// be replaced by calling directly except the situation of page loading.
	// 2015-11-03
	for(var i=0;i<len;i++){if(_utils.frameUpdater.isActive()){callQueue.push({instanceId:instanceId,call:calls[i]});}else{processCall(instanceId,calls[i]);}}}function processCallQueue(){var len=callQueue.length;if(len===0){return;}var start=Date.now();var elapsed=0;while(--len>=0&&elapsed<MAX_TIME_FOR_EACH_FRAME){var callObj=callQueue.shift();processCall(callObj.instanceId,callObj.call);elapsed=Date.now()-start;}}function processCall(instanceId,call){var moduleName=call.module;var methodName=call.method;var module=void 0,method=void 0;var args=call.args||call.arguments||[];if(!(module=_protocol2.default.apiModule[moduleName])){return;}if(!(method=module[methodName])){return;}method.apply(global.weex.getInstance(instanceId),args);var callbackId=call.callbackId;if((callbackId||callbackId===0||callbackId==='0')&&callbackId!=='-1'&&callbackId!==-1){performNextTick(instanceId,callbackId);}}function performNextTick(instanceId,callbackId){_sender2.default.getSender(instanceId).performCallback(callbackId);}function nativeLog(){if(_config2.default.debug){if(arguments[0].match(/^perf/)){console.info.apply(console,arguments);return;}console.debug.apply(console,arguments);}}function exportsBridgeMethodsToGlobal(){global.callNative=callNative;global.nativeLog=nativeLog;}exports.default={init:function init(){// process callQueue every 16 milliseconds.
	_utils.frameUpdater.addUpdateObserver(processCallQueue);_utils.frameUpdater.start();// exports methods to global(window).
	exportsBridgeMethodsToGlobal();}};/***/},/* 132 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Sender;var _utils=__webpack_require__(119);var _senderMap={};function Sender(instance){if(!(this instanceof Sender)){return new Sender(instance);}this.instanceId=instance.instanceId;this.weexInstance=instance;_senderMap[this.instanceId]=this;}function _send(instanceId,msg){callJS(instanceId,[msg]);}Sender.getSender=function(instanceId){return _senderMap[instanceId];};Sender.prototype={// perform a callback to jsframework.
	performCallback:function performCallback(callbackId,data,keepAlive){var args=[callbackId];data&&args.push(data);keepAlive&&args.push(keepAlive);_send(this.instanceId,{method:'callback',args:args});},fireEvent:function fireEvent(ref,type,func,event){func.extra&&(0,_utils.extend)(event,func.extra());_send(this.instanceId,{method:'fireEvent',args:[ref,type,event,func.updator&&func.updator()]});}};/***/},/* 133 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Component;var _utils=__webpack_require__(119);var _dom=__webpack_require__(134);var _operate=__webpack_require__(135);var operate=_interopRequireWildcard(_operate);var _position=__webpack_require__(137);var position=_interopRequireWildcard(_position);var _flexbox=__webpack_require__(139);var _flexbox2=_interopRequireDefault(_flexbox);var _lazyload=__webpack_require__(140);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj.default=obj;return newObj;}}function hasIntersection(rect,ctRect){return rect.left<ctRect.right&&rect.right>ctRect.left&&rect.top<ctRect.bottom&&rect.bottom>ctRect.top;}function Component(data,nodeType){this.data=data;this.node=this.create(nodeType);this.createChildren();this.updateAttrs(this.data.attr||{});// issue: when add element to a list in lifetime hook 'ready', the
	// styles is set to the classStyle, not style. This is a issue
	// that jsframework should do something about.
	var classStyle=this.data.classStyle;classStyle&&this.updateStyle(this.data.classStyle);this.updateStyle(this.data.style||{});this.bindEvents(this.data.event||[]);}Component.prototype={getComponentManager:function getComponentManager(){return _dom.ComponentManager.getInstance(this.data.instanceId);},getWeexInstance:function getWeexInstance(){return this.getComponentManager().getWeexInstance();},getParent:function getParent(){return this.getComponentManager().componentMap[this.parentRef];},getParentScroller:function getParentScroller(){if(this.isInScrollable()){return this._parentScroller;}return null;},getRootScroller:function getRootScroller(){if(this.isInScrollable()){var scroller=this._parentScroller;var parent=scroller._parentScroller;while(parent){scroller=parent;parent=scroller._parentScroller;}return scroller;}return null;},getRootContainer:function getRootContainer(){var root=this.getWeexInstance().getRoot()||document.body;return root;},isScrollable:function isScrollable(){var t=this.data.type;return _dom.ComponentManager.getScrollableTypes().indexOf(t)!==-1;},isInScrollable:function isInScrollable(){if(typeof this._isInScrollable==='boolean'){return this._isInScrollable;}var parent=this.getParent();if(parent&&typeof parent._isInScrollable!=='boolean'&&!parent.isScrollable()){if(parent.data.ref==='_root'){this._isInScrollable=false;return false;}this._isInScrollable=parent.isInScrollable();this._parentScroller=parent._parentScroller;return this._isInScrollable;}if(parent&&typeof parent._isInScrollable==='boolean'){this._isInScrollable=parent._isInScrollable;this._parentScroller=parent._parentScroller;return this._isInScrollable;}if(parent&&parent.isScrollable()){this._isInScrollable=true;this._parentScroller=parent;return true;}},// dispatch a specified event on this.node
	//  - type: event type
	//  - data: event data
	//  - config: event config object
	//     - bubbles
	//     - cancelable
	dispatchEvent:function dispatchEvent(type,data,config){var event=document.createEvent('HTMLEvents');config=config||{};event.initEvent(type,config.bubbles||false,config.cancelable||false);!data&&(data={});event.data=(0,_utils.extend)({},data);(0,_utils.extend)(event,data);this.node.dispatchEvent(event);},onAppend:function onAppend(){var _this=this;var evts=this.data.event;if(!evts||!evts.length){return;}var flag=false;for(var i=0,l=evts.length;i<l;i++){if(evts[i]==='appear'){flag=true;break;}}if(!flag){return;}// trigger 'appear' event in the next tick.
	setTimeout(function(){var rect=_this.node.getBoundingClientRect();var parent=_this.getParentScroller();var parentNode=parent?parent.node:_this.getRootContainer();var ctRect=parentNode.getBoundingClientRect();if(hasIntersection(rect,ctRect)){_this.dispatchEvent('appear',{direction:''});}},0);},addAppendHandler:function addAppendHandler(cb){var pre=void 0;if(this.onAppend){pre=this.onAppend.bind(this);}this.onAppend=function(){pre&&pre.call(this);cb&&cb.call(this);}.bind(this);},// change src to img-src for lib.img to fire lazyload later.
	enableLazyload:function enableLazyload(src){if(this.node){(0,_lazyload.makeImageLazy)(this.node,src);}else{console.error('[h5-render] this.node does not exist.');}},// target can be both weex component and dom element.
	fireLazyload:function fireLazyload(target){!target&&(target=this);(0,_lazyload.fireLazyload)(target);},attr:{},// attr setters
	style:{},// style setters
	// event funcs
	//  - 1. 'updator' for updating attrs or styles with out triggering messages.
	//  - 2. 'extra' for binding extra data.
	//  - 3. 'setter' set a specified event handler.
	// funcs should be functions like this: (take 'change' event as a example)
	// {
	//   change: {
	//     updator () {
	//       return {
	//         attrs: {
	//           checked: this.checked
	//         }
	//       }
	//     },
	//     extra () {
	//       return {
	//         value: this.checked
	//       }
	//     }
	//   }
	// }
	event:{},clearAttr:function clearAttr(){},clearStyle:function clearStyle(){this.node.cssText='';}};// extend operations.
	(0,_utils.extend)(Component.prototype,operate);// extend attr and style setters from 'position' and 'flexbox'.
	(0,_utils.extend)(Component.prototype,position);(0,_utils.extend)(Component.prototype.style,_flexbox2.default.style);/***/},/* 134 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.ComponentManager=undefined;var _componentManager=__webpack_require__(117);var _componentManager2=_interopRequireDefault(_componentManager);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.ComponentManager=_componentManager2.default;/**
		                                                        * @fileOverview
		                                                        * A simple virtual dom implementation
		                                                        *//***/},/* 135 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.create=create;exports.createChildren=createChildren;exports.appendChild=appendChild;exports.insertBefore=insertBefore;exports.removeChild=removeChild;exports.updateAttrs=updateAttrs;exports.updateStyle=updateStyle;exports.bindEvents=bindEvents;exports.unbindEvents=unbindEvents;var _utils=__webpack_require__(119);var _valueFilter=__webpack_require__(136);function create(nodeType){return document.createElement(nodeType||'div');}function createChildren(){var children=this.data.children;var parentRef=this.data.ref;var componentManager=this.getComponentManager();if(children&&children.length){var fragment=document.createDocumentFragment();var isFlex=false;for(var i=0;i<children.length;i++){children[i].instanceId=this.data.instanceId;children[i].scale=this.data.scale;var child=componentManager.createElement(children[i]);fragment.appendChild(child.node);child.parentRef=parentRef;if(!isFlex&&child.data.style&&child.data.style.hasOwnProperty('flex')){isFlex=true;}}this.node.appendChild(fragment);}}function appendChild(data){var children=this.data.children;var componentManager=this.getComponentManager();var child=componentManager.createElement(data);this.node.appendChild(child.node);// update this.data.children
	if(!children||!children.length){this.data.children=[data];}else{children.push(data);}return child;}function insertBefore(child,before){var children=this.data.children;var i=0;var l=void 0;var isAppend=false;// update this.data.children
	if(!children||!children.length||!before){isAppend=true;}else{for(l=children.length;i<l;i++){if(children[i].ref===before.data.ref){break;}}if(i===l){isAppend=true;}}if(isAppend){this.node.appendChild(child.node);children.push(child.data);}else{if(before.fixedPlaceholder){this.node.insertBefore(child.node,before.fixedPlaceholder);}else if(before.stickyPlaceholder){this.node.insertBefore(child.node,before.stickyPlaceholder);}else{this.node.insertBefore(child.node,before.node);}children.splice(i,0,child.data);}}function removeChild(child){var children=this.data.children;// remove from this.data.children
	var i=0;var componentManager=this.getComponentManager();if(children&&children.length){var l=void 0;for(l=children.length;i<l;i++){if(children[i].ref===child.data.ref){break;}}if(i<l){children.splice(i,1);}}// remove from componentMap recursively
	componentManager.removeComponent(child.data.ref);child.unsetPosition();child.node.parentNode.removeChild(child.node);}function updateAttrs(attrs){// Note：attr must be injected into the dom element because
	// it will be accessed from the outside developer by event.target.attr.
	if(!this.node.attr){this.node.attr={};}for(var key in attrs){var value=attrs[key];var attrSetter=this.attr[key];if(typeof attrSetter==='function'){attrSetter.call(this,value);}else{if(typeof value==='boolean'){this.node[key]=value;}else{this.node.setAttribute(key,value);}this.node.attr[key]=value;}}}function updateStyle(style){for(var key in style){var value=style[key];var styleSetter=this.style[key];if(typeof styleSetter==='function'){styleSetter.call(this,value);continue;}var parser=(0,_valueFilter.getFilters)(key,{scale:this.data.scale})[typeof value==='undefined'?'undefined':_typeof(value)];if(typeof parser==='function'){value=parser(value);}this.node.style[key]=value;}}function bindEvents(evts){var self=this;var weexInstance=this.getWeexInstance();evts.map(function(evt){var func=self.event[evt]||{};var setter=func.setter;if(setter){self.node.addEventListener(evt,setter);return;}var sender=weexInstance.sender;var listener=function listener(e){// do stop bubbling.
	// do not prevent default, otherwise the touchstart
	// event will no longer trigger a click event
	if(e._alreadyTriggered){return;}e._alreadyTriggered=true;var event=(0,_utils.extend)({},e);event.target=self.data;sender.fireEvent(self.data.ref,evt,{extra:func.extra&&func.extra.bind(self),updator:func.updator&&func.updator.bind(self)},event);};self.node.addEventListener(evt,listener,false,false);var listeners=self._listeners;if(!listeners){listeners=self._listeners={};self.node._listeners={};}listeners[evt]=listener;self.node._listeners[evt]=listener;});}function unbindEvents(evts){var self=this;evts.map(function(evt){var listener=this._listeners;if(listener){self.node.removeEventListener(evt,listener);self._listeners[evt]=null;self.node._listeners[evt]=null;}});}/***/},/* 136 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.filterStyles=filterStyles;exports.getFilters=getFilters;var NOT_PX_NUMBER_PROPERTIES=['flex','opacity','zIndex','fontWeight'];function filterStyles(styles,config){for(var key in styles){var value=styles[key];var parser=this.getFilters(key,config)[typeof value==='undefined'?'undefined':_typeof(value)];if(typeof parser==='function'){styles[key]=parser(value);}}}function getFilters(key,config){if(NOT_PX_NUMBER_PROPERTIES.indexOf(key)!==-1){return{};}return{number:function number(val){return val*config.scale+'px';},string:function string(val){// string of a pure number or a number suffixed with a 'px' unit
	if(val.match(/^\-?\d*\.?\d+(?:px)?$/)){return parseFloat(val)*config.scale+'px';}if(key.match(/transform/)&&val.match(/translate/)){return val.replace(/\d*\.?\d+px/g,function(match){return parseInt(parseFloat(match)*config.scale)+'px';});}return val;}};}/***/},/* 137 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.style=undefined;exports.setFixed=setFixed;exports.unsetFixed=unsetFixed;exports.setSticky=setSticky;exports.unsetSticky=unsetSticky;exports.unsetPosition=unsetPosition;var _sticky=__webpack_require__(138);var _sticky2=_interopRequireDefault(_sticky);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}// Set positon to fixed, with a placeholder if it's in a
	// scrollable component.
	function setFixed(){// delay processing in case the node is not appended yet.
	setTimeout(function(){this.node.style.position='fixed';if(!this.isInScrollable()){return;}var parent=this.node.parentNode;if(parent){// For the elements who are fixed: this fixedPlaceholder
	// shoud be inserted, and the fixed element itself should
	// be moved to the root container.
	this.fixedPlaceholder=document.createElement('div');this.fixedPlaceholder.classList.add('weex-fixed-placeholder');this.fixedPlaceholder.style.cssText=['display:none;','width:0px;','height:0px;'].join('');parent.insertBefore(this.fixedPlaceholder,this.node);this.getRootContainer().appendChild(this.node);}}.bind(this),0);}// unset a fixed node to the pecified 'position' or 'relative' by default.
	function unsetFixed(position){// For the elements who are fixed elements before, now
	// are not fixed: the fixedPlaceholder has to be replaced
	// by this element.
	position=position?position+'':'relative';if(this.fixedPlaceholder){var parent=this.fixedPlaceholder.parentNode;parent.insertBefore(this.node,this.fixedPlaceholder);parent.removeChild(this.fixedPlaceholder);this.fixedPlaceholder=null;this.node.style.position=position;}}function setSticky(){this.node.style.zIndex=100;setTimeout(function(){this.sticky=new _sticky2.default(this);}.bind(this),0);}function unsetSticky(){if(this.sticky){this.sticky.destroy();this.sticky=null;}}// usally used to unset sticky and fixed
	function unsetPosition(position){this.style.position.call(this,position);}var style=exports.style={position:function position(value){// This is a peace of hacking to fix the problem about
	// mixing fixed and transform. See 'http://stackoverflo
	// w.com/questions/15194313/webkit-css-transform3d-posi
	// tion-fixed-issue' for more info.
	value!=='fixed'&&this.unsetFixed();value!=='sticky'&&this.unsetSticky();if(value==='fixed'){return this.setFixed();}if(value==='sticky'){return this.setSticky();}this.node.style.position=value;}};/***/},/* 138 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Sticky;var _utils=__webpack_require__(119);var ua=navigator.userAgent;/* global HTMLElement */var isFirefox=!!ua.match(/Firefox/i);var isIEMobile=!!ua.match(/IEMobile/i);var cssPrefix=isFirefox?'-moz-':isIEMobile?'-ms-':'-webkit-';var stylePrefix=isFirefox?'Moz':isIEMobile?'ms':'webkit';// even sticky, still not work. so...
	// const supportSticky = detectSticky()
	function bindParent(sticky){if(!sticky instanceof Sticky){return;}var scroller=sticky.component.getParentScroller();var pt=void 0;if(scroller){pt=sticky.parent=scroller;sticky.parentElement=pt.node;}else{pt=sticky.parent=sticky.component.getRootContainer();sticky.parentElement=pt;}}function setSticky(sticky){var comp=sticky.component;var element=sticky.element;comp.stickyPlaceholder=sticky.element.cloneNode(true);comp.stickyPlaceholder.removeAttribute('data-ref');comp.stickyPlaceholder.classList.add('weex-sticky-placeholder');element.classList.add('weex-sticky');sticky.preMarginTop=element.style.marginTop;sticky.preTop=element.style.top;element.style.marginTop=sticky.top||'0'+'px';element.parentNode.insertBefore(comp.stickyPlaceholder,element);element.style.position='fixed';var top=void 0;if(sticky.parent instanceof HTMLElement){top=0;}else{top=sticky.parentElement.getBoundingClientRect().top;}element.style.top=top+'px';sticky.parentElement.appendChild(element);}/**
		 * unsetSticky
		 * @param  {Sticky} sticky : a sticky instance.
		 * @param  {string} position : position replacing with (default: 'relative').
		 */function unsetSticky(sticky,position){var comp=sticky.component;var element=sticky.element;position=position?position+'':sticky.prePosition;element.style.position=position;element.style.marginTop=sticky.preMarginTop||'';element.style.top=sticky.preTop||'';element.classList.remove('weex-sticky');if(comp.stickyPlaceholder){var parent=comp.stickyPlaceholder.parentNode;parent.insertBefore(element,comp.stickyPlaceholder);parent.removeChild(comp.stickyPlaceholder);comp.stickyPlaceholder=null;}}/**
		 * @class  Sticky
		 * @param {Component} component: a weex component.
		 * @param {object} options config options.
		 *  - options.component (optional) incase the component param is missing, it can
		 *    be specified in this options.
		 *  - options.withinParent=false（optional，only for Android）the sticky effect is
		 *    limited within the parent element only.
		 */function Sticky(component,options){options=options||{};this.component=component;this.element=component.node;this.prePosition=this.element.style.position;this.withinParent=options.withinParent||false;this.parent=null;this.init();}Sticky.prototype={constructor:Sticky,init:function init(){var elementStyle=this.element.style;elementStyle[stylePrefix+'Transform']='translateZ(0)';// fix flickering
	elementStyle['transform']='translateZ(0)';bindParent(this);// if (supportSticky) {
	//   elementStyle.position = cssPrefix + 'sticky'
	// }
	this._simulateSticky();this._bindResize();},_bindResize:function _bindResize(){var self=this;var isAndroid=/android/gi.test(navigator.appVersion);var resizeEvent=self._resizeEvent='onorientationchange'in window?'orientationchange':'resize';var resizeHandler=self._resizeHandler=function(){setTimeout(function(){self.refresh();},isAndroid?200:0);};window.addEventListener(resizeEvent,resizeHandler,false);},/**
		   * Refresh a instance.
		   * If withParent is true and the parent' height altered, this
		   * method should be called.
		   */refresh:function refresh(){// if (supportSticky) {
	//   return
	// }
	this._detach();this._simulateSticky();},_simulateSticky:function _simulateSticky(){var self=this;var isInScrollable=this.isInScrollable();// the initial y offset.
	this.offset=(isInScrollable?this.getParentScroller().offset:window.pageYOffset)||0;var rectTop=this.element.getBoundingClientRect().top;var wrapperTop=0;if(isInScrollable){wrapperTop=this.parentElement.getBoundingClientRect().top;}var withinParent=this.withinParent;var thresholdBase=rectTop-wrapperTop+this.offset;/**
		     * curState:
		     *   1 - normal
		     *   2 - sticky
		     *   3 - exceed parent
		     * @type {Number}
		     */this.curState=1;var scrollHandler=this._scrollHandler=(0,_utils.throttle)(function(e){var thresholdTop=thresholdBase;var ypos=self.isInScrollable()?e.offset:window.pageYOffset;self.offset=ypos;if(ypos<thresholdTop){if(self.curState!==1){unsetSticky(self);self.curState=1;}}else if(!withinParent&&ypos>=thresholdTop||withinParent&&ypos>=thresholdTop/* && ypos < thresholdBottom*/){if(self.curState!==2){setSticky(self);self.curState=2;}}},100);window.addEventListener('scroll',scrollHandler,false);// take effect once inited after a destroyment.
	if(this.offset>=thresholdBase){var dummyEvent=document.createEvent('HTMLEvents');dummyEvent.initEvent('scroll',true,true);window.dispatchEvent(dummyEvent);}},_detach:function _detach(position){position=position?position+'':'relative';// if (supportSticky) {
	//   return
	// }
	if(this.curState===2){unsetSticky(this);}window.removeEventListener('scroll',this._scrollHandler,false);},isInScrollable:function isInScrollable(){if(!this._isInScrollable){try{this._isInScrollable=this.component.isInScrollable();}catch(err){// The parentRef is not in componentManager's componentMap yet, so
	// it's invalid to get the parent and test if it's scrollable.
	// This is most likely to happen in the case that the parent
	// component's 'append' attribute is set to 'tree'.
	console.error('isInScrollable is not yet available to call',err);}}return this._isInScrollable;},getParentScroller:function getParentScroller(){return this.component.getParentScroller();},destroy:function destroy(position){this._detach(position);var elementStyle=this.element.style;elementStyle.removeProperty(cssPrefix+'transform');elementStyle.removeProperty('transform');// if (supportSticky) {
	//   return
	// }
	window.removeEventListener(this._resizeEvent,this._resizeHandler,false);}};/***/},/* 139 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var boxAlignMap={stretch:'stretch','flex-start':'start','flex-end':'end',center:'center'};var boxOrientMap={row:'horizontal',column:'vertical'};var boxPackMap={'flex-start':'start','flex-end':'end',center:'center','space-between':'justify','space-around':'justify'// Just same as `space-between`
	};exports.default={style:{flex:function flex(value){this.node.style.webkitBoxFlex=value;this.node.style.webkitFlex=value;this.node.style.flex=value;},alignItems:function alignItems(value){this.node.style.webkitBoxAlign=boxAlignMap[value];this.node.style.webkitAlignItems=value;this.node.style.alignItems=value;},alignSelf:function alignSelf(value){this.node.style.webkitAlignSelf=value;this.node.style.alignSelf=value;},flexDirection:function flexDirection(value){this.node.style.webkitBoxOrient=boxOrientMap[value];this.node.style.webkitFlexDirection=value;this.node.style.flexDirection=value;},justifyContent:function justifyContent(value){this.node.style.webkitBoxPack=boxPackMap[value];this.node.style.webkitJustifyContent=value;this.node.style.justifyContent=value;}}};/***/},/* 140 *//***/function(module,exports,__webpack_require__){/* global lib, HTMLElement */'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};exports.makeImageLazy=makeImageLazy;exports.fireLazyload=fireLazyload;__webpack_require__(141);var lazyloadTimer=void 0;// fire lazyimg on images.
	function fire(){setTimeout(function(){return lib.img.fire();},0);}// we don't know when all images are appended
	// just use setTimeout to do delay lazyload
	//
	// -- actually everytime we add a element or update styles,
	// the component manager will call startIfNeed to fire
	// lazyload once again in the handleAppend function. so there
	// is no way that any image element can miss it. See source
	// code in componentMangager.js.
	// just for the image component to start lazyload.
	function startIfNeeded(target){if(!lazyloadTimer){lazyloadTimer=setTimeout(function(){fire();clearTimeout(lazyloadTimer);lazyloadTimer=null;},16);}}// for a scope of element, not for a image.
	function loadIfNeeded(elementScope){var notPreProcessed=elementScope.querySelectorAll('[img-src]');// image elements which have attribute 'i-lazy-src' were elements
	// that had been preprocessed by lib-img-core, but not loaded yet, and
	// must be loaded when 'appear' events were fired. It turns out the
	// 'appear' event was not fired correctly in the css-translate-transition
	// situation, so 'i-lazy-src' must be checked and lazyload must be
	// fired manually.
	var preProcessed=elementScope.querySelectorAll('[i-lazy-src]');if(notPreProcessed.length>0||preProcessed.length>0){fire();}}function makeImageLazy(image,src){image.removeAttribute('img-src');image.removeAttribute('i-lazy-src');image.removeAttribute('src');image.setAttribute('img-src',src);fire();}function fireLazyload(target){if((typeof target==='undefined'?'undefined':_typeof(target))==='object'&&!(target instanceof HTMLElement)){target=target.node;}if(!target){return;}if(target.tagName.toLowerCase()==='image'){return startIfNeeded(target);}return loadIfNeeded(target);}/***/},/* 141 *//***/function(module,exports,__webpack_require__){/*
		    lib-img-adpter 
		    Author: kongshi.wl@alibaba-inc.com 
		    Date:   Dec,2015
		*/;(function(win,lib){__webpack_require__(142);var adapter={};var appearInstance;var runtimeFlags={};var config={'dataSrc':'img-src',//指定图片地址的attribute名, 兼做lazy-class的作用
	'lazyHeight':0,//以此高度提前触发懒加载
	'lazyWidth':0//以此宽度提前触发懒加载
	};function extendStrict(main,sub){var ret={};for(var k in main){if(main.hasOwnProperty(k)){ret[k]=sub.hasOwnProperty(k)?sub[k]:main[k];}}return ret;}function applySrc(item,processedSrc){if(!processedSrc){return;}if(item.nodeName.toUpperCase()=='IMG'){item.setAttribute('src',processedSrc);}else{item.style.backgroundImage='url("'+processedSrc+'")';}}function init(){appearInstance=lib.appear.init({cls:'imgtmp',//可选，需要遍历的元素
	once:true,//可选，是否只触发一次
	x:config.lazyWidth,//可选，容器右边距离x以内的元素加载，默认为0
	y:config.lazyHeight,//可选，容器底部距离y以内的元素加载，默认为0
	onAppear:function onAppear(evt){var item=this;applySrc(item,item.getAttribute('i-lazy-src'));item.removeAttribute('i-lazy-src');}});}adapter.logConfig=function(){console.log('lib-img Config\n',config);};adapter.fire=function(){if(!appearInstance){init();}var label='i_'+Date.now()%100000;var domList=document.querySelectorAll('['+config.dataSrc+']');[].forEach.call(domList,function(item){if(item.dataset.lazy=='false'&&item.dataset.lazy!='true'){applySrc(item,processSrc(item,item.getAttribute(config.dataSrc)));}else{item.classList.add(label);item.setAttribute('i-lazy-src',item.getAttribute(config.dataSrc));}item.removeAttribute(config.dataSrc);});appearInstance.bind('.'+label);appearInstance.fire();};adapter.defaultSrc='data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==';lib.img=adapter;module.exports=adapter;})(window,window['lib']||(window['lib']={}));/***/},/* 142 *//***/function(module,exports){;(function(win,lib){var doc=document;var appearEvt;var disappearEvt;function createEvent(){appearEvt=doc.createEvent("HTMLEvents");//创建自定义显示事件  
	disappearEvt=doc.createEvent("HTMLEvents");//创建自定义消失事件  
	appearEvt.initEvent('_appear',false,true);disappearEvt.initEvent('_disappear',false,true);}/**
		   * [throttle 节流函数]
		   * @param  {[function]} func [执行函数]
		   * @param  {[int]} wait [等待时长]
		   * @return {[type]}      [description]
		   */function throttle(func,wait){var latest=Date.now(),previous=0,//上次执行的时间
	timeout=null,//setTimout任务
	context,//上下文
	args,//参数
	result;//结果
	var later=function later(){previous=Date.now();timeout=null;//清空计时器
	func.apply(context,args);};return function(){var now=Date.now();context=this;args=arguments;var remaining=wait-(now-previous);if(remaining<=0||remaining>=wait){//如果没有剩余时间，或者存在修改过系统时间导致剩余时间增大的情况，则执行
	clearTimeout(timeout);timeout=null;result=func.apply(context,args);}else if(timeout==null){timeout=setTimeout(later,remaining);}return result;};}/**
		   * [getOffset 获取边距尺寸]
		   * @param  {[type]} el   [description]
		   * @param  {[type]} param [description]
		   * @return {[type]}       [description]
		   */function getOffset(el,param){var el,l,r,b,t;if(!el){return;}if(!param){param={x:0,y:0};}if(el!=window){el=el.getBoundingClientRect();l=el.left;t=el.top;r=el.right;b=el.bottom;}else{l=0;t=0;r=l+el.innerWidth;b=t+el.innerHeight;}return{'left':l,'top':t,'right':r+param.x,'bottom':b+param.y};}//元素位置比较
	function compareOffset(d1,d2){var left=d2.right>d1.left&&d2.left<d1.right;var top=d2.bottom>d1.top&&d2.top<d1.bottom;return left&&top;}//获取移动方向
	function getDirection(beforeOffset,nowOffset){var direction='none';var horizental=beforeOffset.left-nowOffset.left;var vertical=beforeOffset.top-nowOffset.top;if(vertical==0){if(horizental!=0){direction=horizental>0?'left':'right';}else{direction='none';}}if(horizental==0){if(vertical!=0){direction=vertical>0?'up':'down';}else{direction='none';}}return direction;}function extend(target,el){for(var k in el){if(el.hasOwnProperty(k)){target[k]=el[k];}}return target;}/**
		   * [__bindEvent 绑定事件，包括滚动、touchmove、transform、resize等]
		   * @return {[type]}      [description]
		   */function __bindEvent(){var self=this;var handle=throttle(function(){__fire.apply(self,arguments);},this.options.wait);if(this.__handle){//避免重复绑定
	this.container.removeEventListener('scroll',this.__handle);this.__handle=null;}this.__handle=handle;this.container.addEventListener('scroll',handle,false);this.container.addEventListener('resize',function(ev){__fire.apply(self,arguments);},false);this.container.addEventListener('animationEnd',function(){__fire.apply(self,arguments);},false);// android4.0以下
	this.container.addEventListener('webkitAnimationEnd',function(){__fire.apply(self,arguments);},false);this.container.addEventListener('transitionend',function(){__fire.apply(self,arguments);},false);}//获取容器内所有的加载元素
	function __getElements(selector){var self=this;//获取容器
	var container=this.options.container;if(typeof container=='string'){//如果是字符串，则选择器
	this.container=doc.querySelector(container);}else{//对象传值
	this.container=container;}//获取容器内的所有目标元素
	if(this.container==window){var appearWatchElements=doc.querySelectorAll(selector);}else{var appearWatchElements=this.container.querySelectorAll(selector);}var appearWatchElements=[].slice.call(appearWatchElements,null);appearWatchElements=appearWatchElements.filter(function(ele){// 如果已经绑定过，清除appear状态，不再加入到数组里
	if(ele.dataset['bind']=='1'){delete ele._hasAppear;delete ele._hasDisAppear;delete ele._appear;ele.classList.remove(self.options.cls);return false;}else{return true;}});return appearWatchElements;}function __initBoundingRect(elements){var self=this;if(elements&&elements.length>0){[].forEach.call(elements,function(ele){ele._eleOffset=getOffset(ele);//移除类名
	ele.classList.remove(self.options.cls);// 标志已经绑定
	ele.dataset['bind']=1;});}}// 触发加载
	function __fire(){var container=this.container,elements=this.appearWatchElements,appearCallback=this.options.onAppear,//appear的执行函数
	disappearCallback=this.options.onDisappear,//disappear的执行函数
	containerOffset=getOffset(container,{x:this.options.x,y:this.options.y}),isOnce=this.options.once,//是否只执行一次
	ev=arguments[0]||{};if(elements&&elements.length>0){[].forEach.call(elements,function(ele,i){//获取左右距离
	var eleOffset=getOffset(ele);var direction=getDirection(ele._eleOffset,eleOffset);//保存上个时段的位置信息
	ele._eleOffset=eleOffset;//查看是否在可视区域范围内
	var isInView=compareOffset(containerOffset,eleOffset);var appear=ele._appear;var _hasAppear=ele._hasAppear;var _hasDisAppear=ele._hasDisAppear;appearEvt.data={direction:direction};disappearEvt.data={direction:direction};if(isInView&&!appear){if(isOnce&&!_hasAppear||!isOnce){//如果只触发一次并且没有触发过或者允许触发多次
	//如果在可视区域内，并且是从disppear进入appear，则执行回调
	appearCallback&&appearCallback.call(ele,ev);//触发自定义事件
	ele.dispatchEvent(appearEvt);ele._hasAppear=true;ele._appear=true;}}else if(!isInView&&appear){if(isOnce&&!_hasDisAppear||!isOnce){//如果不在可视区域内，并且是从appear进入disappear，执行disappear回调
	disappearCallback&&disappearCallback.call(ele,ev);//触发自定义事件
	ele.dispatchEvent(disappearEvt);ele._hasDisAppear=true;ele._appear=false;}}});}}// proto = extend(proto, listener);
	function __init(opts){//扩展参数
	extend(this.options,opts||(opts={}));//获取目标元素
	this.appearWatchElements=this.appearWatchElements||__getElements.call(this,'.'+this.options.cls);//初始化位置信息
	__initBoundingRect.call(this,this.appearWatchElements);//绑定事件
	__bindEvent.call(this);}var Appear=function Appear(){__init.apply(this,arguments);};var appear={instances:[],init:function init(opts){var proto={//默认参数
	options:{container:window,wait:100,x:0,y:0,cls:'lib-appear',once:false,onReset:function onReset(){},onAppear:function onAppear(){},onDisappear:function onDisappear(){}},container:null,appearWatchElements:null,bind:function bind(node){var cls=this.options.cls;// 添加需要绑定的appear元素
	if(typeof node=='string'){var elements=__getElements.call(this,node);[].forEach.call(elements,function(ele,i){if(!ele.classList.contains(cls)){ele.classList.add(cls);}});}else if(node.nodeType==1&&this.container.contains(node)){//如果传入的是元素并且在包含在容器中，直接添加类名
	if(!node.classList.contains(cls)){//添加类名
	node.classList.add(cls);}}else{return this;}//新增的子元素
	var newElements=__getElements.call(this,'.'+this.options.cls);//对缓存的子元素做增量
	this.appearWatchElements=this.appearWatchElements.concat(newElements);//初始化新子元素的位置信息
	__initBoundingRect.call(this,newElements);return this;},// 重置函数
	reset:function reset(opts){__init.call(this,opts);this.appearWatchElements.forEach(function(ele){delete ele._hasAppear;delete ele._hasDisAppear;delete ele._appear;});return this;},fire:function fire(){if(!this.appearWatchElements){this.appearWatchElements=[];}var newElements=__getElements.call(this,'.'+this.options.cls);this.appearWatchElements=this.appearWatchElements.concat(newElements);//初始化位置信息
	__initBoundingRect.call(this,newElements);__fire.call(this);return this;}};Appear.prototype=proto;var instance=new Appear(opts);this.instances.push(instance);return instance;},fireAll:function fireAll(){var instances=this.instances;instances.forEach(function(instance){instance.fire();});}};//注册事件
	createEvent();lib.appear=appear;})(window,window.lib||(window.lib={}));/***/},/* 143 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=Atomic;var _component=__webpack_require__(133);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}// Component which can have no subcomponents.
	// This component should not be instantiated directly, since
	// it is designed to be used as a base class to extend from.
	function Atomic(data){_component2.default.call(this,data);}Atomic.prototype=Object.create(_component2.default.prototype);Atomic.prototype.createChildren=function(data){// do nonthing
	return;};Atomic.prototype.appendChild=function(data){// do nothing
	return;};Atomic.prototype.insertBefore=function(child,before){// do nothing
	return;};Atomic.prototype.removeChild=function(child){// do nothing
	return;};/***/},/* 144 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.bind=bind;var _componentManager=__webpack_require__(117);var _componentManager2=_interopRequireDefault(_componentManager);var _loader=__webpack_require__(128);var _bridge=__webpack_require__(129);var _utils=__webpack_require__(119);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var methods={// Register a new component with the specified name.
	registerComponent:function registerComponent(name,comp){_componentManager2.default.registerComponent(name,comp);},// Register a new api module.
	// If the module already exists, just add methods from the
	// new module to the old one.
	registerApiModule:function registerApiModule(name,module,meta){if(!_bridge.protocol.apiModule[name]){_bridge.protocol.apiModule[name]=module;}else{for(var key in module){if(module.hasOwnProperty(key)){_bridge.protocol.apiModule[name][key]=module[key];}}}// register API module's meta info to jsframework
	if(meta){_bridge.protocol.setApiModuleMeta(meta);global.registerModules(_bridge.protocol.getApiModuleMeta(name),true);}},// Register a new api method for the specified module.
	// opts:
	//  - args: type of arguments the API method takes such
	//    as ['string', 'function']
	registerApi:function registerApi(moduleName,name,method,args){if(typeof method!=='function'){return;}if(!_bridge.protocol.apiModule[moduleName]){_bridge.protocol.apiModule[moduleName]={};_bridge.protocol._meta[moduleName]=[];}_bridge.protocol.apiModule[moduleName][name]=method;if(!args){return;}// register API meta info to jsframework
	_bridge.protocol.setApiMeta(moduleName,{name:name,args:args});global.registerModules(_bridge.protocol.getApiModuleMeta(moduleName),true);},// Register a new weex-bundle-loader.
	registerLoader:function registerLoader(name,loaderFunc){(0,_loader.registerLoader)(name,loaderFunc);}};// To install components and plugins.
	function install(mod){mod.init(this);}function bind(Weex){Weex.install=install.bind(Weex);(0,_utils.extend)(Weex,methods);}/***/},/* 145 *//***/function(module,exports){typeof window==='undefined'&&(window={ctrl:{},lib:{}});!window.ctrl&&(window.ctrl={});!window.lib&&(window.lib={});!function(a,b){function c(a){Object.defineProperty(this,"val",{value:a.toString(),enumerable:!0}),this.gt=function(a){return c.compare(this,a)>0;},this.gte=function(a){return c.compare(this,a)>=0;},this.lt=function(a){return c.compare(this,a)<0;},this.lte=function(a){return c.compare(this,a)<=0;},this.eq=function(a){return 0===c.compare(this,a);};}b.env=b.env||{},c.prototype.toString=function(){return this.val;},c.prototype.valueOf=function(){for(var a=this.val.split("."),b=[],c=0;c<a.length;c++){var d=parseInt(a[c],10);isNaN(d)&&(d=0);var e=d.toString();e.length<5&&(e=Array(6-e.length).join("0")+e),b.push(e),1===b.length&&b.push(".");}return parseFloat(b.join(""));},c.compare=function(a,b){a=a.toString().split("."),b=b.toString().split(".");for(var c=0;c<a.length||c<b.length;c++){var d=parseInt(a[c],10),e=parseInt(b[c],10);if(window.isNaN(d)&&(d=0),window.isNaN(e)&&(e=0),e>d)return-1;if(d>e)return 1;}return 0;},b.version=function(a){return new c(a);};}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.location.search.replace(/^\?/,"");if(b.env.params={},c)for(var d=c.split("&"),e=0;e<d.length;e++){d[e]=d[e].split("=");try{b.env.params[d[e][0]]=decodeURIComponent(d[e][1]);}catch(f){b.env.params[d[e][0]]=d[e][1];}}}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;if(c=d.match(/Windows\sPhone\s(?:OS\s)?([\d\.]+)/))b.env.os={name:"Windows Phone",isWindowsPhone:!0,version:c[1]};else if(d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/)))b.env.os={version:c[1]},d.match(/Mobile\s+Safari/)?(b.env.os.name="Android",b.env.os.isAndroid=!0):(b.env.os.name="AndroidPad",b.env.os.isAndroidPad=!0);else if(c=d.match(/(iPhone|iPad|iPod)/)){var e=c[1];c=d.match(/OS ([\d_\.]+) like Mac OS X/),b.env.os={name:e,isIPhone:"iPhone"===e||"iPod"===e,isIPad:"iPad"===e,isIOS:!0,version:c[1].split("_").join(".")};}else b.env.os={name:"unknown",version:"0.0.0"};b.version&&(b.env.os.version=b.version(b.env.os.version));}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d=a.navigator.userAgent;(c=d.match(/(?:UCWEB|UCBrowser\/)([\d\.]+)/))?b.env.browser={name:"UC",isUC:!0,version:c[1]}:(c=d.match(/MQQBrowser\/([\d\.]+)/))?b.env.browser={name:"QQ",isQQ:!0,version:c[1]}:(c=d.match(/Firefox\/([\d\.]+)/))?b.env.browser={name:"Firefox",isFirefox:!0,version:c[1]}:(c=d.match(/MSIE\s([\d\.]+)/))||(c=d.match(/IEMobile\/([\d\.]+)/))?(b.env.browser={version:c[1]},d.match(/IEMobile/)?(b.env.browser.name="IEMobile",b.env.browser.isIEMobile=!0):(b.env.browser.name="IE",b.env.browser.isIE=!0),d.match(/Android|iPhone/)&&(b.env.browser.isIELikeWebkit=!0)):(c=d.match(/(?:Chrome|CriOS)\/([\d\.]+)/))?(b.env.browser={name:"Chrome",isChrome:!0,version:c[1]},d.match(/Version\/[\d+\.]+\s*Chrome/)&&(b.env.browser.name="Chrome Webview",b.env.browser.isWebview=!0)):d.match(/Safari/)&&(c=d.match(/Android[\s\/]([\d\.]+)/))?b.env.browser={name:"Android",isAndroid:!0,version:c[1]}:d.match(/iPhone|iPad|iPod/)?d.match(/Safari/)?(c=d.match(/Version\/([\d\.]+)/),b.env.browser={name:"Safari",isSafari:!0,version:c[1]}):(c=d.match(/OS ([\d_\.]+) like Mac OS X/),b.env.browser={name:"iOS Webview",isWebview:!0,version:c[1].replace(/\_/g,".")}):b.env.browser={name:"unknown",version:"0.0.0"},b.version&&(b.env.browser.version=b.version(b.env.browser.version));}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c=a.navigator.userAgent;c.match(/Weibo/i)?b.env.thirdapp={appname:"Weibo",isWeibo:!0}:c.match(/MicroMessenger/i)?b.env.thirdapp={appname:"Weixin",isWeixin:!0}:b.env.thirdapp=!1;}(window,window.lib||(window.lib={})),function(a,b){b.env=b.env||{};var c,d,e=a.navigator.userAgent;(d=e.match(/WindVane[\/\s]([\d\.\_]+)/))&&(c=d[1]);var f=!1,g="",h="",i="";(d=e.match(/AliApp\(([A-Z\-]+)\/([\d\.]+)\)/i))&&(f=!0,g=d[1],i=d[2],h=g.indexOf("-PD")>0?b.env.os.isIOS?"iPad":b.env.os.isAndroid?"AndroidPad":b.env.os.name:b.env.os.name),!g&&e.indexOf("TBIOS")>0&&(g="TB"),f?b.env.aliapp={windvane:b.version(c||"0.0.0"),appname:g||"unkown",version:b.version(i||"0.0.0"),platform:h||b.env.os.name}:b.env.aliapp=!1,b.env.taobaoApp=b.env.aliapp;}(window,window.lib||(window.lib={}));;module.exports=window.lib['env'];/***/},/* 146 *//***/function(module,exports){typeof window==='undefined'&&(window={ctrl:{},lib:{}});!window.ctrl&&(window.ctrl={});!window.lib&&(window.lib={});!function(a,b){function c(a){var b={};Object.defineProperty(this,"params",{set:function set(a){if("object"==(typeof a==='undefined'?'undefined':_typeof2(a))){for(var c in b){delete b[c];}for(var c in a){b[c]=a[c];}}},get:function get(){return b;},enumerable:!0}),Object.defineProperty(this,"search",{set:function set(a){if("string"==typeof a){0===a.indexOf("?")&&(a=a.substr(1));var c=a.split("&");for(var d in b){delete b[d];}for(var e=0;e<c.length;e++){var f=c[e].split("=");if(void 0!==f[1]&&(f[1]=f[1].toString()),f[0])try{b[decodeURIComponent(f[0])]=decodeURIComponent(f[1]);}catch(g){b[f[0]]=f[1];}}}},get:function get(){var a=[];for(var c in b){if(void 0!==b[c])if(""!==b[c])try{a.push(encodeURIComponent(c)+"="+encodeURIComponent(b[c]));}catch(d){a.push(c+"="+b[c]);}else try{a.push(encodeURIComponent(c));}catch(d){a.push(c);}}return a.length?"?"+a.join("&"):"";},enumerable:!0});var c;Object.defineProperty(this,"hash",{set:function set(a){"string"==typeof a&&(a&&a.indexOf("#")<0&&(a="#"+a),c=a||"");},get:function get(){return c;},enumerable:!0}),this.set=function(a){a=a||"";var b;if(!(b=a.match(new RegExp("^([a-z0-9-]+:)?[/]{2}(?:([^@/:?]+)(?::([^@/:]+))?@)?([^:/?#]+)(?:[:]([0-9]+))?([/][^?#;]*)?(?:[?]([^#]*))?([#][^?]*)?$","i"))))throw new Error("Wrong uri scheme.");this.protocol=b[1]||("object"==(typeof location==='undefined'?'undefined':_typeof2(location))?location.protocol:""),this.username=b[2]||"",this.password=b[3]||"",this.hostname=this.host=b[4],this.port=b[5]||"",this.pathname=b[6]||"/",this.search=b[7]||"",this.hash=b[8]||"",this.origin=this.protocol+"//"+this.hostname;},this.toString=function(){var a=this.protocol+"//";return this.username&&(a+=this.username,this.password&&(a+=":"+this.password),a+="@"),a+=this.host,this.port&&"80"!==this.port&&(a+=":"+this.port),this.pathname&&(a+=this.pathname),this.search&&(a+=this.search),this.hash&&(a+=this.hash),a;},a&&this.set(a.toString());}b.httpurl=function(a){return new c(a);};}(window,window.lib||(window.lib={}));;module.exports=window.lib['httpurl'];/***/},/* 147 *//***/function(module,exports){/* eslint-disable */'use strict';var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};var isInitialized=false;// major events supported:
	//   panstart
	//   panmove
	//   panend
	//   swipe
	//   longpress
	// extra events supported:
	//   dualtouchstart
	//   dualtouch
	//   dualtouchend
	//   tap
	//   doubletap
	//   pressend
	var doc=window.document;var docEl=doc.documentElement;var slice=Array.prototype.slice;var gestures={};var lastTap=null;/**
		 * find the closest common ancestor
		 * if there's no one, return null
		 *
		 * @param  {Element} el1 first element
		 * @param  {Element} el2 second element
		 * @return {Element}     common ancestor
		 */function getCommonAncestor(el1,el2){var el=el1;while(el){if(el.contains(el2)||el==el2){return el;}el=el.parentNode;}return null;}/**
		 * fire a HTMLEvent
		 *
		 * @param  {Element} element which element to fire a event on
		 * @param  {string}  type    type of event
		 * @param  {object}  extra   extra data for the event object
		 */function fireEvent(element,type,extra){var event=doc.createEvent('HTMLEvents');event.initEvent(type,true,true);if((typeof extra==='undefined'?'undefined':_typeof(extra))==='object'){for(var p in extra){event[p]=extra[p];}}element.dispatchEvent(event);}/**
		 * calc the transform
		 * assume 4 points ABCD on the coordinate system
		 * > rotate：angle rotating from AB to CD
		 * > scale：scale ratio from AB to CD
		 * > translate：translate shift from A to C
		 *
		 * @param  {number} x1 abscissa of A
		 * @param  {number} y1 ordinate of A
		 * @param  {number} x2 abscissa of B
		 * @param  {number} y2 ordinate of B
		 * @param  {number} x3 abscissa of C
		 * @param  {number} y3 ordinate of C
		 * @param  {number} x4 abscissa of D
		 * @param  {number} y4 ordinate of D
		 * @return {object}    transform object like
		 *   {rotate, scale, translate[2], matrix[3][3]}
		 */function calc(x1,y1,x2,y2,x3,y3,x4,y4){var rotate=Math.atan2(y4-y3,x4-x3)-Math.atan2(y2-y1,x2-x1);var scale=Math.sqrt((Math.pow(y4-y3,2)+Math.pow(x4-x3,2))/(Math.pow(y2-y1,2)+Math.pow(x2-x1,2)));var translate=[x3-scale*x1*Math.cos(rotate)+scale*y1*Math.sin(rotate),y3-scale*y1*Math.cos(rotate)-scale*x1*Math.sin(rotate)];return{rotate:rotate,scale:scale,translate:translate,matrix:[[scale*Math.cos(rotate),-scale*Math.sin(rotate),translate[0]],[scale*Math.sin(rotate),scale*Math.cos(rotate),translate[1]],[0,0,1]]};}/**
		 * take over the touchstart events. Add new touches to the gestures.
		 * If there is no previous records, then bind touchmove, tochend
		 * and touchcancel events.
		 * new touches initialized with state 'tapping', and within 500 milliseconds
		 * if the state is still tapping, then trigger gesture 'press'.
		 * If there are two touche points, then the 'dualtouchstart' is triggerd. The
		 * node of the touch gesture is their cloest common ancestor.
		 *
		 * @event
		 * @param  {event} event
		 */function touchstartHandler(event){if(Object.keys(gestures).length===0){docEl.addEventListener('touchmove',touchmoveHandler,false);docEl.addEventListener('touchend',touchendHandler,false);docEl.addEventListener('touchcancel',touchcancelHandler,false);}// record every touch
	for(var i=0;i<event.changedTouches.length;i++){var touch=event.changedTouches[i];var touchRecord={};for(var p in touch){touchRecord[p]=touch[p];}var gesture={startTouch:touchRecord,startTime:Date.now(),status:'tapping',element:event.srcElement||event.target,pressingHandler:setTimeout(function(element,touch){return function(){if(gesture.status==='tapping'){gesture.status='pressing';fireEvent(element,'longpress',{// add touch data for weex
	touch:touch,touches:event.touches,changedTouches:event.changedTouches,touchEvent:event});}clearTimeout(gesture.pressingHandler);gesture.pressingHandler=null;};}(event.srcElement||event.target,event.changedTouches[i]),500)};gestures[touch.identifier]=gesture;}if(Object.keys(gestures).length==2){var elements=[];for(var p in gestures){elements.push(gestures[p].element);}fireEvent(getCommonAncestor(elements[0],elements[1]),'dualtouchstart',{touches:slice.call(event.touches),touchEvent:event});}}/**
		 * take over touchmove events, and handle pan and dual related gestures.
		 *
		 * 1. traverse every touch point：
		 * > if 'tapping' and the shift is over 10 pixles, then it's a 'panning'.
		 * 2. if there are two touch points, then calc the tranform and trigger
		 *   'dualtouch'.
		 *
		 * @event
		 * @param  {event} event
		 */function touchmoveHandler(event){for(var i=0;i<event.changedTouches.length;i++){var touch=event.changedTouches[i];var gesture=gestures[touch.identifier];if(!gesture){return;}if(!gesture.lastTouch){gesture.lastTouch=gesture.startTouch;}if(!gesture.lastTime){gesture.lastTime=gesture.startTime;}if(!gesture.velocityX){gesture.velocityX=0;}if(!gesture.velocityY){gesture.velocityY=0;}if(!gesture.duration){gesture.duration=0;}var time=Date.now()-gesture.lastTime;var vx=(touch.clientX-gesture.lastTouch.clientX)/time;var vy=(touch.clientY-gesture.lastTouch.clientY)/time;var RECORD_DURATION=70;if(time>RECORD_DURATION){time=RECORD_DURATION;}if(gesture.duration+time>RECORD_DURATION){gesture.duration=RECORD_DURATION-time;}gesture.velocityX=(gesture.velocityX*gesture.duration+vx*time)/(gesture.duration+time);gesture.velocityY=(gesture.velocityY*gesture.duration+vy*time)/(gesture.duration+time);gesture.duration+=time;gesture.lastTouch={};for(var p in touch){gesture.lastTouch[p]=touch[p];}gesture.lastTime=Date.now();var displacementX=touch.clientX-gesture.startTouch.clientX;var displacementY=touch.clientY-gesture.startTouch.clientY;var distance=Math.sqrt(Math.pow(displacementX,2)+Math.pow(displacementY,2));var isVertical=!(Math.abs(displacementX)>Math.abs(displacementY));var direction=isVertical?displacementY>=0?'down':'up':displacementX>=0?'right':'left';// magic number 10: moving 10px means pan, not tap
	if((gesture.status==='tapping'||gesture.status==='pressing')&&distance>10){gesture.status='panning';gesture.isVertical=isVertical;gesture.direction=direction;fireEvent(gesture.element,'panstart',{touch:touch,touches:event.touches,changedTouches:event.changedTouches,touchEvent:event,isVertical:gesture.isVertical,direction:direction});}if(gesture.status==='panning'){gesture.panTime=Date.now();fireEvent(gesture.element,'panmove',{displacementX:displacementX,displacementY:displacementY,touch:touch,touches:event.touches,changedTouches:event.changedTouches,touchEvent:event,isVertical:gesture.isVertical,direction:direction});}}if(Object.keys(gestures).length==2){var position=[];var current=[];var elements=[];var transform;for(var i=0;i<event.touches.length;i++){var touch=event.touches[i];var gesture=gestures[touch.identifier];position.push([gesture.startTouch.clientX,gesture.startTouch.clientY]);current.push([touch.clientX,touch.clientY]);}for(var p in gestures){elements.push(gestures[p].element);}transform=calc(position[0][0],position[0][1],position[1][0],position[1][1],current[0][0],current[0][1],current[1][0],current[1][1]);fireEvent(getCommonAncestor(elements[0],elements[1]),'dualtouch',{transform:transform,touches:event.touches,touchEvent:event});}}/**
		 * handle touchend event
		 *
		 * 1. if there are tow touch points, then trigger 'dualtouchend'如
		 *
		 * 2. traverse every touch piont：
		 * > if tapping, then trigger 'tap'.
		 * If there is a tap 300 milliseconds before, then it's a 'doubletap'.
		 * > if padding, then decide to trigger 'panend' or 'swipe'
		 * > if pressing, then trigger 'pressend'.
		 *
		 * 3. remove listeners.
		 *
		 * @event
		 * @param  {event} event
		 */function touchendHandler(event){if(Object.keys(gestures).length==2){var elements=[];for(var p in gestures){elements.push(gestures[p].element);}fireEvent(getCommonAncestor(elements[0],elements[1]),'dualtouchend',{touches:slice.call(event.touches),touchEvent:event});}for(var i=0;i<event.changedTouches.length;i++){var touch=event.changedTouches[i];var id=touch.identifier;var gesture=gestures[id];if(!gesture){continue;}if(gesture.pressingHandler){clearTimeout(gesture.pressingHandler);gesture.pressingHandler=null;}if(gesture.status==='tapping'){gesture.timestamp=Date.now();fireEvent(gesture.element,'tap',{touch:touch,touchEvent:event});if(lastTap&&gesture.timestamp-lastTap.timestamp<300){fireEvent(gesture.element,'doubletap',{touch:touch,touchEvent:event});}lastTap=gesture;}if(gesture.status==='panning'){var now=Date.now();var duration=now-gesture.startTime;var displacementX=touch.clientX-gesture.startTouch.clientX;var displacementY=touch.clientY-gesture.startTouch.clientY;var velocity=Math.sqrt(gesture.velocityY*gesture.velocityY+gesture.velocityX*gesture.velocityX);var isSwipe=velocity>0.5&&now-gesture.lastTime<100;var extra={duration:duration,isSwipe:isSwipe,velocityX:gesture.velocityX,velocityY:gesture.velocityY,displacementX:displacementX,displacementY:displacementY,touch:touch,touches:event.touches,changedTouches:event.changedTouches,touchEvent:event,isVertical:gesture.isVertical,direction:gesture.direction};fireEvent(gesture.element,'panend',extra);if(isSwipe){fireEvent(gesture.element,'swipe',extra);}}if(gesture.status==='pressing'){fireEvent(gesture.element,'pressend',{touch:touch,touchEvent:event});}delete gestures[id];}if(Object.keys(gestures).length===0){docEl.removeEventListener('touchmove',touchmoveHandler,false);docEl.removeEventListener('touchend',touchendHandler,false);docEl.removeEventListener('touchcancel',touchcancelHandler,false);}}/**
		 * handle touchcancel
		 *
		 * 1. if there are two touch points, then trigger 'dualtouchend'
		 *
		 * 2. traverse everty touch point:
		 * > if pannnig, then trigger 'panend'
		 * > if pressing, then trigger 'pressend'
		 *
		 * 3. remove listeners
		 *
		 * @event
		 * @param  {event} event
		 */function touchcancelHandler(event){if(Object.keys(gestures).length==2){var elements=[];for(var p in gestures){elements.push(gestures[p].element);}fireEvent(getCommonAncestor(elements[0],elements[1]),'dualtouchend',{touches:slice.call(event.touches),touchEvent:event});}for(var i=0;i<event.changedTouches.length;i++){var touch=event.changedTouches[i];var id=touch.identifier;var gesture=gestures[id];if(!gesture){continue;}if(gesture.pressingHandler){clearTimeout(gesture.pressingHandler);gesture.pressingHandler=null;}if(gesture.status==='panning'){fireEvent(gesture.element,'panend',{touch:touch,touches:event.touches,changedTouches:event.changedTouches,touchEvent:event});}if(gesture.status==='pressing'){fireEvent(gesture.element,'pressend',{touch:touch,touchEvent:event});}delete gestures[id];}if(Object.keys(gestures).length===0){docEl.removeEventListener('touchmove',touchmoveHandler,false);docEl.removeEventListener('touchend',touchendHandler,false);docEl.removeEventListener('touchcancel',touchcancelHandler,false);}}if(!isInitialized){docEl.addEventListener('touchstart',touchstartHandler,false);isInitialized=true;}/***/},/* 148 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _componentManager=__webpack_require__(117);var _componentManager2=_interopRequireDefault(_componentManager);var _config=__webpack_require__(127);var _config2=_interopRequireDefault(_config);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function detectRootHeight(root){var rootQuery='#'+root.getWeexInstance().rootId;var rootContainer=document.querySelector(rootQuery)||document.body;var height=rootContainer.getBoundingClientRect().height;if(height>global.innerHeight){console.warn(['[h5-render] for scrollable root like \'list\' and \'scroller\', the height of ','the root container must be a user-specified value. Otherwise ','the scrollable element may not be able to work correctly. ','Current height of the root element \''+rootQuery+'\' is ',height+'px, and mostly its height should be less than the ','viewport\'s height '+global.innerHeight+'px. Please ','make sure the height is correct.'].join(''));}}function init(Weex){var Component=Weex.Component;function RootComponent(data,nodeType){var id=data.rootId+'-root';var cm=_componentManager2.default.getInstance(data.instanceId);this.data=data;// The root component should be implemented as a div component, as the scrollable
	// components have performance issue compare to the original body scroll.
	if(!nodeType){console.warn('[h5-render] no nodeType is specified, construct Root use \'droot\' by default.');nodeType='droot';}else if(_config2.default.validRoots.indexOf(nodeType)===-1){console.warn('[h5-render] the root component type \''+nodeType+'\' is not one of\nthe types in ['+_config2.default.validRoots+'] list. It is auto downgraded\nto \'droot\'.');nodeType='droot';}else if(_config2.default.downgrade.root){console.warn('[h5-render] the root is downgrade to \'droot\' due to the downgrade\nconfiguration of weex.');nodeType='droot';}else{if(!global.weex.getInstance(data.instanceId).embed){window.addEventListener('renderend',function(){detectRootHeight(this);}.bind(this));}}if(nodeType==='droot'){data.style.height='';}else if(nodeType==='div'){// do nothing.
	}else{!data.style.height&&(data.style.height='100%');}data.type=nodeType;var cmp=cm.createElement(data);cmp.node.id=id;return cmp;}RootComponent.prototype=Object.create(Component.prototype);Weex.registerComponent('root',RootComponent);}exports.default={init:init};/***/},/* 149 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});function init(Weex){var Component=Weex.Component;function Div(data,nodeType){Component.call(this,data,nodeType);this.node.classList.add('weex-container');}Div.prototype=Object.create(Component.prototype);Weex.registerComponent('div',Div);Weex.registerComponent('container',Div);}exports.default={init:init};/***/},/* 150 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var DEFAULT_LOAD_MORE_OFFSET=0;var Component=void 0;var proto={create:function create(nodeType){var node=document.createElement(nodeType||'div');node.classList.add('weex-droot');return node;},bindEvents:function bindEvents(evts){Component.prototype.bindEvents.call(this,evts);window.addEventListener('scroll',function(e){// fire loadmore event.
	var body=document.body;var leftDist=body.scrollHeight-window.innerHeight-body.scrollTop;if(leftDist<=this.loadmoreoffset){this.dispatchEvent('loadmore');}}.bind(this));}};var attr={loadmoreoffset:function loadmoreoffset(val){var value=parseFloat(val);if(value<0||isNaN(value)){console.warn('[h5-render] invalid loadmoreoffset: '+val);return;}this.loadmoreoffset=value;}};function init(Weex){Component=Weex.Component;var extend=Weex.utils.extend;function Droot(data,nodeType){if(data.ref!=='_root'){return console.warn('[h5-render] droot can only be used as a downgraded root.');}this.loadmoreoffset=DEFAULT_LOAD_MORE_OFFSET;Component.call(this,data,nodeType);}Droot.prototype=Object.create(Component.prototype);extend(Droot.prototype,proto);extend(Droot.prototype,{attr:attr});Weex.registerComponent('droot',Droot);}exports.default={init:init};/***/},/* 151 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _packer=__webpack_require__(152);var _packer2=_interopRequireDefault(_packer);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}// install the apis and components as packages.
	exports.default={init:function init(Weex){if(!_packer2.default||!_packer2.default.length){return;}_packer2.default.forEach(function(pkg){return Weex.install(pkg);});}};/***/},/* 152 *//***/function(module,exports,__webpack_require__){'use strict';var _text=__webpack_require__(153);var _text2=_interopRequireDefault(_text);var _image=__webpack_require__(154);var _image2=_interopRequireDefault(_image);var _slider=__webpack_require__(157);var _slider2=_interopRequireDefault(_slider);var _scrollable=__webpack_require__(166);var _scrollable2=_interopRequireDefault(_scrollable);var _indicator=__webpack_require__(183);var _indicator2=_interopRequireDefault(_indicator);var _tabheader=__webpack_require__(186);var _tabheader2=_interopRequireDefault(_tabheader);var _input=__webpack_require__(189);var _input2=_interopRequireDefault(_input);var _textarea=__webpack_require__(190);var _textarea2=_interopRequireDefault(_textarea);var _video=__webpack_require__(191);var _video2=_interopRequireDefault(_video);var _switch=__webpack_require__(194);var _switch2=_interopRequireDefault(_switch);var _embed=__webpack_require__(197);var _embed2=_interopRequireDefault(_embed);var _spinner=__webpack_require__(198);var _spinner2=_interopRequireDefault(_spinner);var _web=__webpack_require__(201);var _web2=_interopRequireDefault(_web);var _animation=__webpack_require__(202);var _animation2=_interopRequireDefault(_animation);var _clipboard=__webpack_require__(204);var _clipboard2=_interopRequireDefault(_clipboard);var _dom=__webpack_require__(205);var _dom2=_interopRequireDefault(_dom);var _event=__webpack_require__(213);var _event2=_interopRequireDefault(_event);var _geolocation=__webpack_require__(214);var _geolocation2=_interopRequireDefault(_geolocation);var _globalEvent=__webpack_require__(215);var _globalEvent2=_interopRequireDefault(_globalEvent);var _modal=__webpack_require__(216);var _modal2=_interopRequireDefault(_modal);var _navigator=__webpack_require__(233);var _navigator2=_interopRequireDefault(_navigator);var _pageInfo=__webpack_require__(234);var _pageInfo2=_interopRequireDefault(_pageInfo);var _storage=__webpack_require__(235);var _storage2=_interopRequireDefault(_storage);var _stream=__webpack_require__(236);var _stream2=_interopRequireDefault(_stream);var _webview=__webpack_require__(237);var _webview2=_interopRequireDefault(_webview);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}// import apis.
	module.exports=[_text2.default,_image2.default,_slider2.default,_scrollable2.default,_indicator2.default,_tabheader2.default,_input2.default,_textarea2.default,_video2.default,_switch2.default,_embed2.default,_spinner2.default,_web2.default,_animation2.default,_clipboard2.default,_dom2.default,_event2.default,_geolocation2.default,_globalEvent2.default,_modal2.default,_navigator2.default,_pageInfo2.default,_storage2.default,_stream2.default,_webview2.default];// import components.
	/***/},/* 153 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var DEFAULT_FONT_SIZE=32;var DEFAULT_TEXT_OVERFLOW='ellipsis';var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-container');node.style.fontSize=DEFAULT_FONT_SIZE*this.data.scale+'px';this.textNode=document.createElement('span');// Give the developers the ability to control space
	// and line-breakers.
	this.textNode.style.whiteSpace='pre-wrap';this.textNode.style.wordWrap='break-word';this.textNode.style.display='-webkit-box';this.textNode.style.webkitBoxOrient='vertical';this.style.lines.call(this,this.data.style.lines);node.appendChild(this.textNode);return node;},clearAttr:function clearAttr(){this.node.firstChild.textContent='';}};var attr={value:function value(_value){var span=this.node.firstChild;span.innerHTML='';if(_value==null||_value===''){return;}span.textContent=_value;/**
		     * Developers are supposed to have the ability to break text
		     * lines manually. Using ``&nbsp;`` to replace text space is
		     * not compatible with the ``-webkit-line-clamp``. Therefor
		     * we use ``white-space: no-wrap`` instead (instead of the
		     * code bellow).
		       const frag = document.createDocumentFragment()
		        text.split(' ').forEach(function(str) {
		          const textNode = document.createTextNode(str)
		          const space = document.createElement('i')
		          space.innerHTML = '&nbsp;'
		          frag.appendChild(space)
		          frag.appendChild(textNode)
		        })
		        frag.removeChild(frag.firstChild)
		        span.appendChild(document.createElement('br'))
		        span.appendChild(frag)
		      })
		      span.removeChild(span.firstChild)
		     */}};var style={lines:function lines(val){val=parseInt(val);if(isNaN(val)){return;}if(val<=0){this.textNode.style.textOverflow='';this.textNode.style.overflow='visible';this.textNode.style.webkitLineClamp='';}else{var _style=this.data?this.data.style:null;this.textNode.style.overflow='hidden';this.textNode.style.textOverflow=_style?_style.textOverflow:DEFAULT_TEXT_OVERFLOW;this.textNode.style.webkitLineClamp=val;}},textOverflow:function textOverflow(val){this.textNode.style.textOverflow=val;}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;// attr
	//  - value: text content.
	// style
	//  - lines: maximum lines of the text.
	function Text(data){Atomic.call(this,data);}Text.prototype=Object.create(Atomic.prototype);extend(Text.prototype,proto);extend(Text.prototype,{attr:attr});extend(Text.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});Weex.registerComponent('text',Text);}exports.default={init:init};/***/},/* 154 *//***/function(module,exports,__webpack_require__){/* global lib */'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(155);var DEFAULT_SIZE=200;var RESIZE_MODES=['stretch','cover','contain'];var DEFAULT_RESIZE_MODE='stretch';/**
		 * resize: 'cover' | 'contain' | 'stretch', default is 'stretch'
		 * src: url
		 */var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-img');node.classList.add('weex-element');return node;},clearAttr:function clearAttr(){this.src='';this.node.style.backgroundImage='';}};var attr={src:function src(val){if(!this.src){this.src=lib.img.defaultSrc;this.node.style.backgroundImage='url('+this.src+')';}this.enableLazyload(val);},resize:function resize(val){if(RESIZE_MODES.indexOf(val)===-1){val='stretch';}this.node.style.backgroundSize=val==='stretch'?'100% 100%':val;}};var style={width:function width(val){val=parseFloat(val)*this.data.scale;if(val<0||isNaN(val)){val=DEFAULT_SIZE;}this.node.style.width=val+'px';},height:function height(val){val=parseFloat(val)*this.data.scale;if(val<0||isNaN(val)){val=DEFAULT_SIZE;}this.node.style.height=val+'px';}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;function Image(data){this.resize=DEFAULT_RESIZE_MODE;Atomic.call(this,data);}Image.prototype=Object.create(Atomic.prototype);extend(Image.prototype,proto);extend(Image.prototype,{attr:attr});extend(Image.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});Weex.registerComponent('image',Image);}exports.default={init:init};/***/},/* 155 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(156);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./image.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./image.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 156 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-img {\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n  background-position: 50%;\n}",""]);// exports
	/***/},/* 157 *//***/function(module,exports,__webpack_require__){/* global lib */'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(158);__webpack_require__(164);var DEFAULT_INTERVAL=3000;var extend=void 0,Component=void 0;function idleWhenPageDisappear(slider){function handlePageShow(){slider.isPageShow=true;slider.autoPlay&&!slider.isDomRendering&&slider.play();}function handlePageHide(){slider.isPageShow=false;slider.stop();}global.addEventListener('pageshow',handlePageShow);global.addEventListener('pagehide',handlePageHide);document.addEventListener('visibilitychange',function(){if(document.visibilityState==='visible'){handlePageShow();}else if(document.visibilityState==='hidden'){handlePageHide();}});}function idleWhenDomRendering(slider){global.addEventListener('renderend',function(){slider.isDomRendering=false;slider.autoPlay&&slider.isPageShow&&slider.play();});global.addEventListener('renderbegin',function(){slider.isDomRendering=true;slider.stop();});}function updateIndicators(slider){slider.indicator&&slider.indicator.setIndex(slider.currentIndex);}function getSliderChangeHandler(slider){if(!slider._sliderChangeHandler){slider._sliderChangeHandler=function(e){var index=this.carrousel.items.index;this.currentIndex=index;updateIndicators(this);this.dispatchEvent('change',{index:index});}.bind(slider);}return slider._sliderChangeHandler;}function doRender(slider){slider.createChildren();slider.onAppend();}var proto={create:function create(){var node=document.createElement('div');node.classList.add('slider');node.style.position='relative';node.style.overflow='hidden';return node;},createChildren:function createChildren(){var componentManager=this.getComponentManager();// recreate slider container.
	if(this.sliderContainer){this.node.removeChild(this.sliderContainer);}if(this.indicator){this.indicator.node.parentNode.removeChild(this.indicator.node);}this.children=[];var sliderContainer=document.createElement('ul');sliderContainer.style.listStyle='none';this.node.appendChild(sliderContainer);this.sliderContainer=sliderContainer;var children=this.data.children;var scale=this.data.scale;var fragment=document.createDocumentFragment();var indicatorData=void 0,width=void 0,height=void 0;var childWidth=0;var childHeight=0;if(children&&children.length){for(var i=0;i<children.length;i++){var child=void 0;children[i].scale=this.data.scale;children[i].instanceId=this.data.instanceId;if(children[i].type==='indicator'){indicatorData=extend(children[i],{extra:{amount:children.length-1,index:0}});}else{child=componentManager.createElement(children[i],'li');this.children.push(child);fragment.appendChild(child.node);width=child.data.style.width||0;height=child.data.style.height||0;width>childWidth&&(childWidth=width);height>childHeight&&(childHeight=height);child.parentRef=this.data.ref;}}// append indicator
	if(indicatorData){indicatorData.extra.width=this.data.style.width||childWidth;indicatorData.extra.height=this.data.style.height||childHeight;this.indicator=componentManager.createElement(indicatorData);this.indicator.parentRef=this.data.ref;this.indicator.slider=this;this.node.appendChild(this.indicator.node);}sliderContainer.style.height=scale*this.data.style.height+'px';sliderContainer.appendChild(fragment);}},appendChild:function appendChild(data){var children=this.data.children||(this.data.children=[]);children.push(data);doRender(this);if(this.children.length>0){return this.children[this.children.length-1];}},insertBefore:function insertBefore(child,before){var children=this.data.children;var childIndex=-1;for(var i=0,l=children.length;i<l;i++){if(children[i].ref===before.data.ref){childIndex=i;break;}}children.splice(childIndex,0,child.data);doRender(this);if(this.children.length>0){return this.children[this.children.length-1];}},removeChild:function removeChild(child){var children=this.data.children;if(children){for(var i=0;i<children.length;i++){if(child.data.ref===children[i].ref){children.splice(i,1);break;}}}doRender(this);},onAppend:function onAppend(){if(this.carrousel){this.carrousel.removeEventListener('change',getSliderChangeHandler(this));this.carrousel.stop();this.carrousel=null;}var Carrousel=lib.carrousel;this.carrousel=new Carrousel(this.sliderContainer,{autoplay:this.autoPlay,useGesture:true});this.carrousel.playInterval=this.interval;this.carrousel.addEventListener('change',getSliderChangeHandler(this));this.currentIndex=0;// preload all images for slider
	// because:
	// 1. lib-img doesn't listen to event transitionend
	// 2. even if we fire lazy load in slider's change event handler,
	//    the next image still won't be preloaded utill the moment it
	//    slides into the view, which is too late.
	if(this.preloadImgsTimer){clearTimeout(this.preloadImgsTimer);}// The time just before the second slide appear and enough
	// for all child elements to append is ok.
	var preloadTime=0.8;this.preloadImgsTimer=setTimeout(function(){var imgs=this.carrousel.element.querySelectorAll('.weex-img');for(var i=0,l=imgs.length;i<l;i++){var img=imgs[i];var iLazySrc=img.getAttribute('i-lazy-src');var imgSrc=img.getAttribute('img-src');if(iLazySrc){img.style.backgroundImage='url('+iLazySrc+')';}else if(imgSrc){img.style.backgroundImage='url('+imgSrc+')';}img.removeAttribute('i-lazy-src');img.removeAttribute('img-src');}}.bind(this),preloadTime*1000);// avoid page scroll when panning
	var panning=false;this.carrousel.element.addEventListener('panstart',function(e){if(!e.isVertical){panning=true;}});this.carrousel.element.addEventListener('panend',function(e){if(!e.isVertical){panning=false;}});document.addEventListener('touchmove',function(e){if(panning){e.preventDefault();return false;}return true;});Component.prototype.onAppend.call(this);},play:function play(){this.carrousel.play();},stop:function stop(){this.carrousel.stop();},slideTo:function slideTo(index){var offset=index-this.currentIndex;this.carrousel.items.slide(offset);}};var attr={interval:function interval(val){this.interval=parseInt(val)||DEFAULT_INTERVAL;if(this.carrousel){this.carrousel.playInterval=this.interval;}},index:function index(val){var _this=this;function doSlide(index){index=parseInt(index);if(index<0||isNaN(index)){return console.error('[h5-render] invalid index ',index);}_this.slideTo(index);if(_this._updateIndex){window.removeEventListener('renderend',_this._updateIndex);}}if(this.isDomRendering){var pre=!!this._updateIndex;this._updateIndex=function(){_this.autoPlay&&_this.isPageShow&&_this.play();doSlide(val);};!pre&&window.addEventListener('renderend',this._updateIndex);}else{doSlide(val);}},playstatus:function playstatus(val){this.playstatus=val&&val!=='false';this.autoPlay=this.playstatus;if(this.carrousel){if(this.playstatus){this.play();}else{this.stop();}}},// support playstatus' alias auto-play for compatibility
	autoPlay:function autoPlay(val){this.attr.playstatus.call(this,val);}};var event={change:{updator:function updator(){return{attrs:{index:this.currentIndex}};}}};function init(Weex){Component=Weex.Component;extend=Weex.utils.extend;function Slider(data){this.autoPlay=false;// default value is false.
	this.interval=DEFAULT_INTERVAL;this.direction='row';// 'column' is not temporarily supported.
	this.children=[];this.isPageShow=true;this.isDomRendering=true;// bind event 'pageshow', 'pagehide' and 'visibilitychange' on window.
	idleWhenPageDisappear(this);// bind event 'renderBegin' and 'renderEnd' on window.
	idleWhenDomRendering(this);Component.call(this,data);}Slider.prototype=Object.create(Component.prototype);extend(Slider.prototype,proto);extend(Slider.prototype,{attr:attr});extend(Slider.prototype,{event:event});Weex.registerComponent('slider',Slider);}exports.default={init:init};/***/},/* 158 *//***/function(module,exports,__webpack_require__){/* eslint-disable */'use strict';// require('./gesture')
	__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);var doc=window.document;var ua=window.navigator.userAgent;var Firefox=!!ua.match(/Firefox/i);var IEMobile=!!ua.match(/IEMobile/i);var cssPrefix=Firefox?'-moz-':IEMobile?'-ms-':'-webkit-';var stylePrefix=Firefox?'Moz':IEMobile?'ms':'webkit';var timer=__webpack_require__(163);var setTimeout=timer.setTimeout;var clearTimeout=timer.clearTimeout;function getTransformOffset(element){var offset={x:0,y:0};var transform=getComputedStyle(element)[stylePrefix+'Transform'];var regMatrix3d=new RegExp('^matrix3d\\((?:[-\\d.]+,\\s*){12}([-\\d.]+),'+'\\s*([-\\d.]+)(?:,\\s*[-\\d.]+){2}\\)');var regMatrix=/^matrix\((?:[-\d.]+,\s*){4}([-\d.]+),\s*([-\d.]+)\)$/;var matched;if(transform!=='none'){if(matched=transform.match(regMatrix3d)||transform.match(regMatrix)){offset.x=parseFloat(matched[1])||0;offset.y=parseFloat(matched[2])||0;}}return offset;}var CSSMatrix=IEMobile?'MSCSSMatrix':'WebKitCSSMatrix';var has3d=!!Firefox||CSSMatrix in window&&'m11'in new window[CSSMatrix]();function getTranslate(x,y){x=parseFloat(x);y=parseFloat(y);if(x!=0){x+='px';}if(y!=0){y+='px';}if(has3d){return'translate3d('+x+', '+y+', 0)';}return'translate('+x+', '+y+')';}var slice=Array.prototype.slice;function ArrayFrom(a){return slice.call(a);}var incId=0;function Carrousel(element,options){var that=this;var views=[];var pages={};var id=Date.now()+'-'+ ++incId;var root=document.createDocumentFragment();if(arguments.length===1&&!(arguments[0]instanceof HTMLElement)){options=arguments[0];element=null;}if(!element){element=document.createElement('ul');root.appendChild(element);}options=options||{};element.setAttribute('data-ctrl-name','carrousel');element.setAttribute('data-ctrl-id',id);function fireEvent(name,extra){var ev=doc.createEvent('HTMLEvents');ev.initEvent(name,false,false);if(extra){for(var key in extra){ev[key]=extra[key];}}root.dispatchEvent(ev);}element.style.position='relative';element.style[stylePrefix+'Transform']=getTranslate(0,0);var transformOffset=0;var items={};var itemLength=0;var itemStep=options.step||element.getBoundingClientRect().width;var itemIndex=0;items.add=function(html){var li=document.createElement('li');li.style.display='none';li.style.float='left';li.index=itemLength;if(typeof html==='string'){li.innerHTML=html;}else if(html instanceof HTMLElement){li.appendChild(html);}element.appendChild(li);Object.defineProperty(items,itemLength+'',{get:function get(){return li;}});itemLength++;return li;};function normalizeIndex(index){while(index<0){index+=itemLength;}while(index>=itemLength){index-=itemLength;}return index;}items.get=function(index){return items[normalizeIndex(index)];};items.getCloned=function(index){var index=normalizeIndex(index);var item=element.querySelector('[cloned="cloned-'+index+'"]');var originalItem=items[index];// If there a _listeners attribute on the dom element
	// then clone the _listeners as well for the events' binding
	function cloneEvents(origin,clone,deep){var listeners=origin._listeners;if(listeners){clone._listeners=listeners;for(var type in listeners){clone.addEventListener(type,listeners[type]);}}if(deep&&origin.children&&origin.children.length){for(var i=0,l=origin.children.length;i<l;i++){cloneEvents(origin.children[i],clone.children[i],deep);}}}if(!item){item=originalItem.cloneNode(true);cloneEvents(originalItem,item,true);element.appendChild(item);item.setAttribute('cloned','cloned-'+index);item.index=index;}return item;};function activate(index){if(itemLength===0){return;}var curItem=items.get(index);var prevItem;var nextItem;if(itemLength>1){prevItem=items.get(index-1);if(itemLength===2){nextItem=items.getCloned(index+1);}else{nextItem=items.get(index+1);}curItem.style.left=-transformOffset+'px';prevItem.style.left=-transformOffset-itemStep+'px';nextItem.style.left=-transformOffset+itemStep+'px';}itemIndex=curItem.index;fireEvent('change',{prevItem:prevItem,curItem:curItem,nextItem:nextItem});}items.slide=function(index){if(itemLength===0){return;}if(itemLength===1){index=0;}var startOffset=getTransformOffset(element).x;var endOffset=transformOffset+itemStep*-index;var interOffset=endOffset-startOffset;if(interOffset===0){return;}var anim=new lib.animation(400,lib.cubicbezier.ease,function(i1,i2){element.style[stylePrefix+'Transform']=getTranslate(startOffset+interOffset*i2,0);}).play().then(function(){transformOffset=endOffset;element.style[stylePrefix+'Transform']=getTranslate(endOffset,0);index&&activate(itemIndex+index);});};items.next=function(){items.slide(1);};items.prev=function(){items.slide(-1);};ArrayFrom(element.children).forEach(function(el){el.style.position='absolute';el.style.top='0';el.style.left=itemLength*itemStep+'px';el.style.float='left';el.index=itemLength;Object.defineProperty(items,itemLength+'',{get:function get(){return el;}});itemLength++;});Object.defineProperty(this,'items',{get:function get(){return items;}});Object.defineProperty(items,'length',{get:function get(){return itemLength;}});Object.defineProperty(items,'index',{get:function get(){return itemIndex;}});Object.defineProperty(items,'step',{get:function get(){return itemStep;},set:function set(v){itemStep=v;}});var starting=false;var playing=false;var isSliding=false;this.play=function(){if(!starting){starting=true;return activate(0);}if(!!playing){return;}playing=setTimeout(function play(){isSliding=true;items.next();setTimeout(function(){isSliding=false;},500);playing=setTimeout(play,400+playInterval);},400+playInterval);};this.stop=function(){if(!playing){return;}clearTimeout(playing);setTimeout(function(){playing=false;},500);};var autoplay=false;var readyToPlay=false;Object.defineProperty(this,'autoplay',{get:function get(){return autoplay;},set:function set(v){autoplay=!!v;if(readyToPlay){clearTimeout(readyToPlay);readyToPlay=false;}if(autoplay){readyToPlay=setTimeout(function(){that.play();},2000);}else{that.stop();}}});this.autoplay=!!options.autoplay;var playInterval=1500;Object.defineProperty(this,'playInterval',{get:function get(){return playInterval;},set:function set(n){playInterval=n;}});this.playInterval=!!options.playInterval||1500;if(options.useGesture){var panning=false;var displacement;element.addEventListener('panstart',function(e){if(!e.isVertical&&!(panning&&isSliding)){e.preventDefault();e.stopPropagation();if(autoplay){that.stop();}displacement=0;panning=true;}});element.addEventListener('panmove',function(e){if(!e.isVertical&&panning){e.preventDefault();e.stopPropagation();displacement=e.displacementX;element.style[stylePrefix+'Transform']=getTranslate(transformOffset+displacement,0);}});element.addEventListener('panend',function(e){if(!e.isVertical&&panning){e.preventDefault();e.stopPropagation();panning=false;if(e.isSwipe){if(displacement<0){items.next();}else{items.prev();}}else{if(Math.abs(displacement)<itemStep/2){items.slide(0);}else{items.slide(displacement<0?1:-1);}}if(autoplay){setTimeout(function(){that.play();},2000);}}},false);element.addEventListener('swipe',function(e){if(!e.isVertical){e.preventDefault();e.stopPropagation();}});}this.addEventListener=function(name,handler){this.root.addEventListener(name,handler,false);};this.removeEventListener=function(name,handler){this.root.removeEventListener(name,handler,false);};this.root=root;this.element=element;}!lib&&(lib={});lib.carrousel=Carrousel;/***/},/* 159 *//***/function(module,exports){typeof window==='undefined'&&(window={ctrl:{},lib:{}});!window.ctrl&&(window.ctrl={});!window.lib&&(window.lib={});!function(a,b){function c(a,b,c,d){function e(a){return(3*k*a+2*l)*a+m;}function f(a){return((k*a+l)*a+m)*a;}function g(a){return((n*a+o)*a+p)*a;}function h(a){for(var b,c,d=a,g=0;8>g;g++){if(c=f(d)-a,Math.abs(c)<j)return d;if(b=e(d),Math.abs(b)<j)break;d-=c/b;}var h=1,i=0;for(d=a;h>i;){if(c=f(d)-a,Math.abs(c)<j)return d;c>0?h=d:i=d,d=(h+i)/2;}return d;}function i(a){return g(h(a));}var j=1e-6,k=3*a-3*c+1,l=3*c-6*a,m=3*a,n=3*b-3*d+1,o=3*d-6*b,p=3*b;return i;}b.cubicbezier=c,b.cubicbezier.linear=c(0,0,1,1),b.cubicbezier.ease=c(.25,.1,.25,1),b.cubicbezier.easeIn=c(.42,0,1,1),b.cubicbezier.easeOut=c(0,0,.58,1),b.cubicbezier.easeInOut=c(.42,0,.58,1);}(window,window.lib||(window.lib={}));;module.exports=window.lib['cubicbezier'];/***/},/* 160 *//***/function(module,exports){typeof window==='undefined'&&(window={ctrl:{},lib:{}});!window.ctrl&&(window.ctrl={});!window.lib&&(window.lib={});!function(a,b){function c(a){return setTimeout(a,l);}function d(a){clearTimeout(a);}function e(){var a={},b=new m(function(b,c){a.resolve=b,a.reject=c;});return a.promise=b,a;}function f(a,b){return["then","catch"].forEach(function(c){b[c]=function(){return a[c].apply(a,arguments);};}),b;}function g(b){var c,d,h=!1;this.request=function(){h=!1;var g=arguments;return c=e(),f(c.promise,this),d=n(function(){h||c&&c.resolve(b.apply(a,g));}),this;},this.cancel=function(){return d&&(h=!0,o(d),c&&c.reject("CANCEL")),this;},this.clone=function(){return new g(b);};}function h(a,b){"function"==typeof b&&(b={0:b});for(var c=a/l,d=1/c,e=[],f=Object.keys(b).map(function(a){return parseInt(a);}),h=0;c>h;h++){var i=f[0],j=d*h;if(null!=i&&100*j>=i){var k=b[""+i];k instanceof g||(k=new g(k)),e.push(k),f.shift();}else e.length&&e.push(e[e.length-1].clone());}return e;}function i(a){var c;return"string"==typeof a||a instanceof Array?b.cubicbezier?"string"==typeof a?b.cubicbezier[a]&&(c=b.cubicbezier[a]):a instanceof Array&&4===a.length&&(c=b.cubicbezier.apply(b.cubicbezier,a)):console.error("require lib.cubicbezier"):"function"==typeof a&&(c=a),c;}function j(a,b,c){var d,g=h(a,c),j=1/(a/l),k=0,m=i(b);if(!m)throw new Error("unexcept timing function");var n=!1;this.play=function(){function a(){var c=j*(k+1).toFixed(10),e=g[k];e.request(c.toFixed(10),b(c).toFixed(10)).then(function(){n&&(k===g.length-1?(n=!1,d&&d.resolve("FINISH"),d=null):(k++,a()));},function(){});}if(!n)return n=!0,d||(d=e(),f(d.promise,this)),a(),this;},this.stop=function(){return n?(n=!1,g[k]&&g[k].cancel(),this):void 0;};}var k=60,l=1e3/k,m=a.Promise||b.promise&&b.promise.ES6Promise,n=window.requestAnimationFrame||window.msRequestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||c,o=window.cancelAnimationFrame||window.msCancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||d;(n===c||o===d)&&(n=c,o=d),b.animation=function(a,b,c){return new j(a,b,c);},b.animation.frame=function(a){return new g(a);},b.animation.requestFrame=function(a){var b=new g(a);return b.request();};}(window,window.lib||(window.lib={}));;module.exports=window.lib['animation'];/***/},/* 161 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(162);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./carrousel.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./carrousel.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 162 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,"[data-ctrl-name=\"carrousel\"] {\n  position: relative;\n  -webkit-transform: translateZ(1px);\n  -ms-transform: translateZ(1px);\n  transform: translateZ(1px);\n}",""]);// exports
	/***/},/* 163 *//***/function(module,exports){/* eslint-disable */'use strict';var _fallback=false;var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame;if(!raf){_fallback=true;raf=function raf(callback){return setTimeout(callback,16);};}var caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame;if(!caf&&_fallback){caf=function caf(id){return clearTimeout(id);};}else if(!caf){caf=function caf(){};}var MAX=(Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1)-1;var _idMap={};var _globalId=0;function _getGlobalId(){_globalId=(_globalId+1)%MAX;if(_idMap[_globalId]){return _getGlobalId();}return _globalId;}var timer={setTimeout:function setTimeout(cb,ms){var id=_getGlobalId();var start=Date.now();_idMap[id]=raf(function loop(){if(!_idMap[id]&&_idMap[id]!==0){return;}var ind=Date.now()-start;if(ind<ms){_idMap[id]=raf(loop);}else{delete _idMap[id];cb();}});return id;},clearTimeout:function clearTimeout(id){var tid=_idMap[id];tid&&caf(tid);delete _idMap[id];}};module.exports=timer;/***/},/* 164 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(165);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./slider.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./slider.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 165 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".slider {\n  position: relative;\n}\n\n.slider .indicator-container {\n  position: absolute;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  font-size: 0;\n}\n.slider .indicator-container .indicator {\n  border-radius: 50%;\n}\n.slider .indicator-container.row {\n  -webkit-box-orient: horizontal;\n  box-orient: horizontal;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n}\n.slider .indicator-container.column {\n  -webkit-box-orient: vertical;\n  box-orient: vertical;\n  -webkit-flex-direction: column;\n  flex-direction: column;\n}\n",""]);// exports
	/***/},/* 166 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(167);var _list2=_interopRequireDefault(_list);var _scroller=__webpack_require__(176);var _scroller2=_interopRequireDefault(_scroller);var _refresh=__webpack_require__(177);var _refresh2=_interopRequireDefault(_refresh);var _loading=__webpack_require__(180);var _loading2=_interopRequireDefault(_loading);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}exports.default={init:function init(Weex){Weex.install(_list2.default);Weex.install(_scroller2.default);Weex.install(_refresh2.default);Weex.install(_loading2.default);}};/***/},/* 167 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _vlist=__webpack_require__(168);var _vlist2=_interopRequireDefault(_vlist);var _hlist=__webpack_require__(175);var _hlist2=_interopRequireDefault(_hlist);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function init(Weex){Weex.install(_vlist2.default);Weex.install(_hlist2.default);}exports.default={init:init};/***/},/* 168 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(169);var _list2=_interopRequireDefault(_list);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function init(Weex){var List=_list2.default.init(Weex);function Vlist(data,nodeType){data.attr.direction='v';List.call(this,data,nodeType);}Vlist.prototype=Object.create(List.prototype);Weex.registerComponent('list',Vlist);Weex.registerComponent('vlist',Vlist);}exports.default={init:init};/***/},/* 169 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _scrollable=__webpack_require__(170);var _scrollable2=_interopRequireDefault(_scrollable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var availableChildrenTypes=['cell','loading','refresh'];function getProto(Scrollable){return{create:function create(){var node=Scrollable.prototype.create.call(this);node.classList.add('list-wrap');this.scrollElement.classList.add('list-element');return node;},createChildren:function createChildren(){var children=this.data.children||[];children.forEach(function(data){var type=data.type;if(availableChildrenTypes.indexOf(type)===-1){// throw new Error('[h5-render] invalid child type "'
	//   + type + '" for list.')
	console.warn('[h5-render] invalid child type "'+type+'" for list.');}});return Scrollable.prototype.createChildren.call(this);},appendChild:function appendChild(data){var type=data.type;if(availableChildrenTypes.indexOf(type)===-1){// throw new Error('[h5-render] invalid child type "'
	//   + type + '" for list.')
	console.warn('[h5-render] invalid child type "'+type+'" for list.');}return Scrollable.prototype.appendChild.call(this,data);},insertBefore:function insertBefore(child,before){var type=child.data.type;if(availableChildrenTypes.indexOf(type)===-1){// throw new Error('[h5-render] invalid child type "'
	//   + type + '" for list.')
	console.warn('[h5-render] invalid child type "'+type+'" for list.');}return Scrollable.prototype.insertBefore.call(this,child,before);}};}function init(Weex){var Scrollable=_scrollable2.default.init(Weex);function List(data,nodeType){Scrollable.call(this,data,nodeType);}var extend=Weex.utils.extend;List.prototype=Object.create(Scrollable.prototype);extend(List.prototype,getProto(Scrollable));return List;}exports.default={init:init};/***/},/* 170 *//***/function(module,exports,__webpack_require__){/* global lib */'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(171);__webpack_require__(173);// lib.scroll events:
	//  - scrollstart
	//  - scrolling
	//  - pulldownend
	//  - pullupend
	//  - pullleftend
	//  - pullrightend
	//  - pulldown
	//  - pullup
	//  - pullleft
	//  - pullright
	//  - contentrefresh
	var directionMap={h:['row','horizontal','h','x'],v:['column','vertical','v','y']};var DEFAULT_DIRECTION='column';var DEFAULT_LOAD_MORE_OFFSET=0;function refreshWhenDomRenderend(comp){if(!comp.renderendHandler){comp.renderendHandler=function(){comp.scroller.refresh();};}window.addEventListener('renderend',comp.renderendHandler);}function removeEvents(comp){if(comp.renderendHandler){window.removeEventListener('renderend',comp.renderendHandler);}}function getProto(Weex){var Component=Weex.Component;function create(nodeType){var Scroll=lib.scroll;var node=Component.prototype.create.call(this,nodeType);node.classList.add('weex-container');node.classList.add('scrollable-wrap');this.scrollElement=document.createElement('div');this.scrollElement.classList.add('weex-container');this.scrollElement.classList.add('scrollable-element');this.scrollElement.classList.add('dir-'+this.direction);this.scrollElement.style.webkitBoxOrient=directionMap[this.direction][1];this.scrollElement.style.webkitFlexDirection=directionMap[this.direction][0];this.scrollElement.style.flexDirection=directionMap[this.direction][0];node.appendChild(this.scrollElement);this.scroller=new Scroll({// if the direction is x, then the bounding rect of the scroll element
	// should be got by the 'Range' API other than the 'getBoundingClientRect'
	// API, because the width outside the viewport won't be count in by
	// 'getBoundingClientRect'.
	// Otherwise should use the element rect in case there is a child scroller
	// or list in this scroller. If using 'Range', the whole scroll element
	// including the hiding part will be count in the rect.
	useElementRect:this.direction==='v',scrollElement:this.scrollElement,direction:this.direction==='h'?'x':'y'});this.scroller.init();this.offset=0;return node;}function createChildren(){var children=this.data.children;var parentRef=this.data.ref;var componentManager=this.getComponentManager();if(children&&children.length){var fragment=document.createDocumentFragment();var isFlex=false;for(var i=0;i<children.length;i++){children[i].instanceId=this.data.instanceId;children[i].scale=this.data.scale;var child=componentManager.createElement(children[i]);fragment.appendChild(child.node);child.parentRef=parentRef;if(!isFlex&&child.data.style&&child.data.style.hasOwnProperty('flex')){isFlex=true;}}this.scrollElement.appendChild(fragment);}// wait for fragment to appended on scrollElement on UI thread.
	setTimeout(function(){this.scroller.refresh();}.bind(this),0);}function appendChild(data){var children=this.data.children;var componentManager=this.getComponentManager();var child=componentManager.createElement(data);this.scrollElement.appendChild(child.node);// wait for UI thread to update.
	setTimeout(function(){this.scroller.refresh();}.bind(this),0);// update this.data.children
	if(!children||!children.length){this.data.children=[data];}else{children.push(data);}return child;}function insertBefore(child,before){var children=this.data.children;var i=0;var isAppend=false;// update this.data.children
	if(!children||!children.length||!before){isAppend=true;}else{var l=void 0;for(l=children.length;i<l;i++){if(children[i].ref===before.data.ref){break;}}if(i===l){isAppend=true;}}if(isAppend){this.scrollElement.appendChild(child.node);children.push(child.data);}else{var refreshLoadingPlaceholder=before.refreshPlaceholder||before.loadingPlaceholder;if(refreshLoadingPlaceholder){this.scrollElement.insertBefore(child.node,refreshLoadingPlaceholder);}else if(before.fixedPlaceholder){this.scrollElement.insertBefore(child.node,before.fixedPlaceholder);}else if(before.stickyPlaceholder){this.scrollElement.insertBefore(child.node,before.stickyPlaceholder);}else{this.scrollElement.insertBefore(child.node,before.node);}children.splice(i,0,child.data);}// wait for UI thread to update.
	setTimeout(function(){this.scroller.refresh();}.bind(this),0);}function removeChild(child){var children=this.data.children;// remove from this.data.children
	var i=0;var componentManager=this.getComponentManager();if(children&&children.length){var l=void 0;for(l=children.length;i<l;i++){if(children[i].ref===child.data.ref){break;}}if(i<l){children.splice(i,1);}}// remove from componentMap recursively
	componentManager.removeComponent(child.data.ref);var refreshLoadingPlaceholder=child.refreshPlaceholder||child.loadingPlaceholder;child.unsetPosition();if(refreshLoadingPlaceholder){this.scrollElement.removeChild(refreshLoadingPlaceholder);}child.node.parentNode.removeChild(child.node);// wait for UI thread to update.
	setTimeout(function(){this.scroller.refresh();}.bind(this),0);}function bindEvents(evts){Component.prototype.bindEvents.call(this,evts);// to enable lazyload for Images
	this.scroller.addEventListener('scrolling',function(e){var so=e.scrollObj;var scrollTop=so.getScrollTop();var scrollLeft=so.getScrollLeft();var offset=this.direction==='v'?scrollTop:scrollLeft;var diff=offset-this.offset;var dir=void 0;if(diff>=0){dir=this.direction==='v'?'up':'left';}else{dir=this.direction==='v'?'down':'right';}this.dispatchEvent('scroll',{originalType:'scrolling',scrollTop:so.getScrollTop(),scrollLeft:so.getScrollLeft(),offset:offset,direction:dir},{bubbles:true});this.offset=offset;// fire loadmore event.
	var leftDist=Math.abs(so.maxScrollOffset)-this.offset;if(leftDist<=this.loadmoreoffset&&this.isAvailableToFireloadmore){this.isAvailableToFireloadmore=false;this.dispatchEvent('loadmore');}else if(leftDist>this.loadmoreoffset&&!this.isAvailableToFireloadmore){this.isAvailableToFireloadmore=true;}}.bind(this));}function onAppend(){refreshWhenDomRenderend(this);}function onRemove(){removeEvents(this);}return{create:create,createChildren:createChildren,appendChild:appendChild,insertBefore:insertBefore,removeChild:removeChild,bindEvents:bindEvents,onAppend:onAppend,onRemove:onRemove};}var attr={loadmoreoffset:function loadmoreoffset(val){val=parseFloat(val);if(val<0||isNaN(val)){console.warn('[h5-render] invalida');return;}this.loadmoreoffset=val;}};function init(Weex){var Component=Weex.Component;var extend=Weex.utils.extend;// attrs:
	//  - loadmoreoffset: updatable
	//  - scroll-direciton: none|vertical|horizontal (default is vertical)
	//  - show-scrollbar: true|false (default is true)
	function Scrollable(data,nodeType){this.loadmoreoffset=DEFAULT_LOAD_MORE_OFFSET;this.isAvailableToFireloadmore=true;var attrs=data.attr||{};var direction=attrs.scrollDirection||attrs.direction||DEFAULT_DIRECTION;this.direction=directionMap.h.indexOf(direction)===-1?'v':'h';this.showScrollbar=attrs.showScrollbar||true;Component.call(this,data,nodeType);}Scrollable.prototype=Object.create(Component.prototype);extend(Scrollable.prototype,getProto(Weex));extend(Scrollable.prototype,{attr:attr});return Scrollable;}exports.default={init:init};/***/},/* 171 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(172);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./scrollable.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./scrollable.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 172 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".scrollable-wrap {\n  display: block;\n  overflow: hidden;\n}\n\n.scrollable-element.horizontal {\n  -webkit-box-orient: horizontal;\n  -webkit-flex-direction: row;\n  flex-direction: row;\n}\n.scrollable-element.vertical {\n  -webkit-box-orient: vertical;\n  -webkit-flex-direction: column;\n  flex-direction: column;\n}\n",""]);// exports
	/***/},/* 173 *//***/function(module,exports,__webpack_require__){'use strict';var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};/* eslint-disable */__webpack_require__(174);var doc=window.document;var ua=window.navigator.userAgent;var scrollObjs={};var plugins={};var dpr=window.dpr||(!!window.navigator.userAgent.match(/iPhone|iPad|iPod/)?document.documentElement.clientWidth/window.screen.availWidth:1);var inertiaCoefficient={normal:[2*dpr,0.0015*dpr],slow:[1.5*dpr,0.003*dpr],veryslow:[1.5*dpr,0.005*dpr]};var timeFunction={ease:[.25,.1,.25,1],liner:[0,0,1,1],'ease-in':[.42,0,1,1],'ease-out':[0,0,.58,1],'ease-in-out':[.42,0,.58,1]};var Firefox=!!ua.match(/Firefox/i);var IEMobile=!!ua.match(/IEMobile/i);var cssPrefix=Firefox?'-moz-':IEMobile?'-ms-':'-webkit-';var stylePrefix=Firefox?'Moz':IEMobile?'ms':'webkit';function debugLog(){if(lib.scroll.outputDebugLog){console.log.apply(console,arguments);}}function getBoundingClientRect(el){var rect=el.getBoundingClientRect();if(!rect){rect={};rect.width=el.offsetWidth;rect.height=el.offsetHeight;rect.left=el.offsetLeft;rect.top=el.offsetTop;var parent=el.offsetParent;while(parent){rect.left+=parent.offsetLeft;rect.top+=parent.offsetTop;parent=parent.offsetParent;}rect.right=rect.left+rect.width;rect.bottom=rect.top+rect.height;}return rect;}function getMinScrollOffset(scrollObj){return 0-scrollObj.options[scrollObj.axis+'PaddingTop'];}function getMaxScrollOffset(scrollObj){var rect=getBoundingClientRect(scrollObj.element);var pRect=getBoundingClientRect(scrollObj.viewport);var min=getMinScrollOffset(scrollObj);if(scrollObj.axis==='y'){var max=0-rect.height+pRect.height;}else{var max=0-rect.width+pRect.width;}return Math.min(max+scrollObj.options[scrollObj.axis+'PaddingBottom'],min);}function _getBoundaryOffset(scrollObj,offset){if(offset>scrollObj.minScrollOffset){return offset-scrollObj.minScrollOffset;}if(offset<scrollObj.maxScrollOffset){return offset-scrollObj.maxScrollOffset;}}function touchBoundary(scrollObj,offset){if(offset>scrollObj.minScrollOffset){offset=scrollObj.minScrollOffset;}else if(offset<scrollObj.maxScrollOffset){offset=scrollObj.maxScrollOffset;}return offset;}function fireEvent(scrollObj,eventName,extra){debugLog(scrollObj.element.scrollId,eventName,extra);var event=doc.createEvent('HTMLEvents');event.initEvent(eventName,false,true);event.scrollObj=scrollObj;if(extra){for(var key in extra){event[key]=extra[key];}}scrollObj.element.dispatchEvent(event);scrollObj.viewport.dispatchEvent(event);}function getTransformOffset(scrollObj){var offset={x:0,y:0};var transform=getComputedStyle(scrollObj.element)[stylePrefix+'Transform'];var matched;var reg1=new RegExp('^matrix3d'+'\\((?:[-\\d.]+,\\s*){12}([-\\d.]+),'+'\\s*([-\\d.]+)(?:,\\s*[-\\d.]+){2}\\)');var reg2=new RegExp('^matrix'+'\\((?:[-\\d.]+,\\s*){4}([-\\d.]+),\\s*([-\\d.]+)\\)$');if(transform!=='none'){if(matched=transform.match(reg1)||transform.match(reg2)){offset.x=parseFloat(matched[1])||0;offset.y=parseFloat(matched[2])||0;}}return offset;}var CSSMatrix=IEMobile?'MSCSSMatrix':'WebKitCSSMatrix';var has3d=!!Firefox||CSSMatrix in window&&'m11'in new window[CSSMatrix]();function getTranslate(x,y){x=parseFloat(x);y=parseFloat(y);if(x!=0){x+='px';}if(y!=0){y+='px';}if(has3d){return'translate3d('+x+', '+y+', 0)';}return'translate('+x+', '+y+')';}function setTransitionStyle(scrollObj,duration,timingFunction){if(duration===''&&timingFunction===''){scrollObj.element.style[stylePrefix+'Transition']='';}else{scrollObj.element.style[stylePrefix+'Transition']=cssPrefix+'transform '+duration+' '+timingFunction+' 0s';}}function setTransformStyle(scrollObj,offset){var x=0;var y=0;if((typeof offset==='undefined'?'undefined':_typeof(offset))==='object'){x=offset.x;y=offset.y;}else{if(scrollObj.axis==='y'){y=offset;}else{x=offset;}}scrollObj.element.style[stylePrefix+'Transform']=getTranslate(x,y);}var panning=false;doc.addEventListener('touchmove',function(e){if(panning){e.preventDefault();return false;}return true;},false);function Scroll(element,options){var that=this;options=options||{};options.noBounce=!!options.noBounce;options.padding=options.padding||{};if(options.isPrevent==null){options.isPrevent=true;}else{options.isPrevent=!!options.isPrevent;}if(options.isFixScrollendClick==null){options.isFixScrollendClick=true;}else{options.isFixScrollendClick=!!options.isFixScrollendClick;}if(options.padding){options.yPaddingTop=-options.padding.top||0;options.yPaddingBottom=-options.padding.bottom||0;options.xPaddingTop=-options.padding.left||0;options.xPaddingBottom=-options.padding.right||0;}else{options.yPaddingTop=0;options.yPaddingBottom=0;options.xPaddingTop=0;options.xPaddingBottom=0;}options.direction=options.direction||'y';options.inertia=options.inertia||'normal';this.options=options;that.axis=options.direction;this.element=element;this.viewport=element.parentNode;this.plugins={};this.element.scrollId=setTimeout(function(){scrollObjs[that.element.scrollId+'']=that;},1);this.viewport.addEventListener('touchstart',touchstartHandler,false);this.viewport.addEventListener('touchend',touchendHandler,false);this.viewport.addEventListener('touchcancel',touchendHandler,false);this.viewport.addEventListener('panstart',panstartHandler,false);this.viewport.addEventListener('panmove',panHandler,false);this.viewport.addEventListener('panend',panendHandler,false);if(options.isPrevent){this.viewport.addEventListener('touchstart',function(e){panning=true;},false);that.viewport.addEventListener('touchend',function(e){panning=false;},false);}// if (options.isPrevent) {
	//   var d = this.axis === 'y'?'vertical':'horizontal'
	//   this.viewport.addEventListener(d + 'panstart', function (e) {
	//     panning = true
	//   }, false)
	//   that.viewport.addEventListener('panend', function (e) {
	//     panning = false
	//   }, false)
	// }
	if(options.isFixScrollendClick){var preventScrollendClickHandler=function preventScrollendClickHandler(e){if(preventScrollendClick||isScrolling){e.preventDefault();e.stopPropagation();return false;}return true;};var fireNiceTapEventHandler=function fireNiceTapEventHandler(e){if(!preventScrollendClick&&!isScrolling){setTimeout(function(){var niceTapEvent=document.createEvent('HTMLEvents');niceTapEvent.initEvent('niceclick',true,true);e.target.dispatchEvent(niceTapEvent);},300);}};var preventScrollendClick;var fixScrollendClickTimeoutId;this.viewport.addEventListener('scrolling',function(){preventScrollendClick=true;fixScrollendClickTimeoutId&&clearTimeout(fixScrollendClickTimeoutId);fixScrollendClickTimeoutId=setTimeout(function(e){preventScrollendClick=false;},400);},false);this.viewport.addEventListener('click',preventScrollendClickHandler);this.viewport.addEventListener('tap',fireNiceTapEventHandler);}function setTransitionEndHandler(h,t){if(options.useFrameAnimation){return;}transitionEndHandler=null;clearTimeout(transitionEndTimeoutId);transitionEndTimeoutId=setTimeout(function(){if(transitionEndHandler){transitionEndHandler=null;lib.animation.requestFrame(h);}},t||400);transitionEndHandler=h;}if(options.useFrameAnimation){var scrollAnimation;Object.defineProperty(this,'animation',{get:function get(){return scrollAnimation;}});}else{var transitionEndHandler;var transitionEndTimeoutId=0;element.addEventListener(Firefox?'transitionend':stylePrefix+'TransitionEnd',function(e){if(transitionEndHandler){var handler=transitionEndHandler;transitionEndHandler=null;clearTimeout(transitionEndTimeoutId);lib.animation.requestFrame(function(){handler(e);});}},false);}var panFixRatio;var isScrolling;var isFlickScrolling;var cancelScrollEnd;Object.defineProperty(this,'isScrolling',{get:function get(){return!!isScrolling;}});function isEnabled(e){if(!that.enabled){return false;}if(typeof e.isVertical!='undefined'){if(that.axis==='y'&&e.isVertical||that.axis==='x'&&!e.isVertical){// gesture in same direction, stop bubbling up
	e.stopPropagation();}else{// gesture in different direction, bubbling up
	// to the top, without any other process
	return false;}}return true;}function touchstartHandler(e){if(!isEnabled(e)){return;}if(isScrolling){scrollEnd();}if(options.useFrameAnimation){scrollAnimation&&scrollAnimation.stop();scrollAnimation=null;}else{var transform=getTransformOffset(that);setTransformStyle(that,transform);setTransitionStyle(that,'','');transitionEndHandler=null;clearTimeout(transitionEndTimeoutId);}}function touchendHandler(e){if(!isEnabled(e)){return;}var s0=getTransformOffset(that)[that.axis];var boundaryOffset=_getBoundaryOffset(that,s0);if(boundaryOffset){// dragging out of boundray, bounce is needed
	var s1=touchBoundary(that,s0);if(options.useFrameAnimation){// frame
	var _s=s1-s0;scrollAnimation=new lib.animation(400,lib.cubicbezier.ease,0,function(i1,i2){var offset=(s0+_s*i2).toFixed(2);setTransformStyle(that,offset);fireEvent(that,'scrolling');});scrollAnimation.onend(scrollEnd);scrollAnimation.play();}else{// css
	var offset=s1.toFixed(0);setTransitionEndHandler(scrollEnd,400);setTransitionStyle(that,'0.4s','ease');setTransformStyle(that,offset);lib.animation.requestFrame(function doScroll(){if(isScrolling&&that.enabled){fireEvent(that,'scrolling');lib.animation.requestFrame(doScroll);}});}if(boundaryOffset>0){fireEvent(that,that.axis==='y'?'pulldownend':'pullrightend');}else if(boundaryOffset<0){fireEvent(that,that.axis==='y'?'pullupend':'pullleftend');}}else if(isScrolling){// without exceeding the boundary, just end it
	scrollEnd();}}var lastDisplacement;function panstartHandler(e){if(!isEnabled(e)){return;}that.transformOffset=getTransformOffset(that);that.minScrollOffset=getMinScrollOffset(that);that.maxScrollOffset=getMaxScrollOffset(that);panFixRatio=2.5;cancelScrollEnd=true;isScrolling=true;isFlickScrolling=false;fireEvent(that,'scrollstart');lastDisplacement=e['displacement'+that.axis.toUpperCase()];}function panHandler(e){if(!isEnabled(e)){return;}// finger move less than 5 px. just ignore that.
	var displacement=e['displacement'+that.axis.toUpperCase()];if(Math.abs(displacement-lastDisplacement)<5){e.stopPropagation();return;}lastDisplacement=displacement;var offset=that.transformOffset[that.axis]+displacement;if(offset>that.minScrollOffset){offset=that.minScrollOffset+(offset-that.minScrollOffset)/panFixRatio;panFixRatio*=1.003;}else if(offset<that.maxScrollOffset){offset=that.maxScrollOffset-(that.maxScrollOffset-offset)/panFixRatio;panFixRatio*=1.003;}if(panFixRatio>4){panFixRatio=4;}// tell whether or not reach the fringe
	var boundaryOffset=_getBoundaryOffset(that,offset);if(boundaryOffset){fireEvent(that,boundaryOffset>0?that.axis==='y'?'pulldown':'pullright':that.axis==='y'?'pullup':'pullleft',{boundaryOffset:Math.abs(boundaryOffset)});if(that.options.noBounce){offset=touchBoundary(that,offset);}}setTransformStyle(that,offset.toFixed(2));fireEvent(that,'scrolling');}function panendHandler(e){if(!isEnabled(e)){return;}if(e.isSwipe){flickHandler(e);}}function flickHandler(e){cancelScrollEnd=true;var v0,a0,t0,s0,s,motion0;var v1,a1,t1,s1,motion1,sign;var v2,a2,t2,s2,motion2,ft;s0=getTransformOffset(that)[that.axis];var boundaryOffset0=_getBoundaryOffset(that,s0);if(!boundaryOffset0){// when fingers left the range of screen, let touch end handler
	// to deal with it.
	// when fingers left the screen, but still in the range of
	// screen, calculate the intertia.
	v0=e['velocity'+that.axis.toUpperCase()];var maxV=2;var friction=0.0015;if(options.inertia&&inertiaCoefficient[options.inertia]){maxV=inertiaCoefficient[options.inertia][0];friction=inertiaCoefficient[options.inertia][1];}if(v0>maxV){v0=maxV;}if(v0<-maxV){v0=-maxV;}a0=friction*(v0/Math.abs(v0));motion0=new lib.motion({v:v0,a:-a0});t0=motion0.t;s=s0+motion0.s;var boundaryOffset1=_getBoundaryOffset(that,s);if(boundaryOffset1){debugLog('inertial calculation has exceeded the boundary',boundaryOffset1);v1=v0;a1=a0;if(boundaryOffset1>0){s1=that.minScrollOffset;sign=1;}else{s1=that.maxScrollOffset;sign=-1;}motion1=new lib.motion({v:sign*v1,a:-sign*a1,s:Math.abs(s1-s0)});t1=motion1.t;var timeFunction1=motion1.generateCubicBezier();v2=v1-a1*t1;a2=0.03*(v2/Math.abs(v2));motion2=new lib.motion({v:v2,a:-a2});t2=motion2.t;s2=s1+motion2.s;var timeFunction2=motion2.generateCubicBezier();if(options.noBounce){debugLog('no bounce effect');if(s0!==s1){if(options.useFrameAnimation){// frame
	var _s=s1-s0;var bezier=lib.cubicbezier(timeFunction1[0][0],timeFunction1[0][1],timeFunction1[1][0],timeFunction1[1][1]);scrollAnimation=new lib.animation(t1.toFixed(0),bezier,0,function(i1,i2){var offset=s0+_s*i2;getTransformOffset(that,offset.toFixed(2));fireEvent(that,'scrolling',{afterFlick:true});});scrollAnimation.onend(scrollEnd);scrollAnimation.play();}else{// css
	var offset=s1.toFixed(0);setTransitionEndHandler(scrollEnd,(t1/1000).toFixed(2)*1000);setTransitionStyle(that,(t1/1000).toFixed(2)+'s','cubic-bezier('+timeFunction1+')');setTransformStyle(that,offset);}}else{scrollEnd();}}else if(s0!==s2){debugLog('scroll for inertia','s='+s2.toFixed(0),'t='+((t1+t2)/1000).toFixed(2));if(options.useFrameAnimation){var _s=s2-s0;var bezier=lib.cubicbezier.easeOut;scrollAnimation=new lib.animation((t1+t2).toFixed(0),bezier,0,function(i1,i2){var offset=s0+_s*i2;setTransformStyle(that,offset.toFixed(2));fireEvent(that,'scrolling',{afterFlick:true});});scrollAnimation.onend(function(){if(!that.enabled){return;}var _s=s1-s2;var bezier=lib.cubicbezier.ease;scrollAnimation=new lib.animation(400,bezier,0,function(i1,i2){var offset=s2+_s*i2;setTransformStyle(that,offset.toFixed(2));fireEvent(that,'scrolling',{afterFlick:true});});scrollAnimation.onend(scrollEnd);scrollAnimation.play();});scrollAnimation.play();}else{var offset=s2.toFixed(0);setTransitionEndHandler(function(e){if(!that.enabled){return;}debugLog('inertial bounce','s='+s1.toFixed(0),'t=400');if(s2!==s1){var offset=s1.toFixed(0);setTransitionStyle(that,'0.4s','ease');setTransformStyle(that,offset);setTransitionEndHandler(scrollEnd,400);}else{scrollEnd();}},((t1+t2)/1000).toFixed(2)*1000);setTransitionStyle(that,((t1+t2)/1000).toFixed(2)+'s','ease-out');setTransformStyle(that,offset);}}else{scrollEnd();}}else{debugLog('inertial calculation hasn\'t exceeded the boundary');var timeFunction=motion0.generateCubicBezier();if(options.useFrameAnimation){// frame
	var _s=s-s0;var bezier=lib.cubicbezier(timeFunction[0][0],timeFunction[0][1],timeFunction[1][0],timeFunction[1][1]);scrollAnimation=new lib.animation(t0.toFixed(0),bezier,0,function(i1,i2){var offset=(s0+_s*i2).toFixed(2);setTransformStyle(that,offset);fireEvent(that,'scrolling',{afterFlick:true});});scrollAnimation.onend(scrollEnd);scrollAnimation.play();}else{// css
	var offset=s.toFixed(0);setTransitionEndHandler(scrollEnd,(t0/1000).toFixed(2)*1000);setTransitionStyle(that,(t0/1000).toFixed(2)+'s','cubic-bezier('+timeFunction+')');setTransformStyle(that,offset);}}isFlickScrolling=true;if(!options.useFrameAnimation){lib.animation.requestFrame(function doScroll(){if(isScrolling&&isFlickScrolling&&that.enabled){fireEvent(that,'scrolling',{afterFlick:true});lib.animation.requestFrame(doScroll);}});}}}function scrollEnd(){if(!that.enabled){return;}cancelScrollEnd=false;setTimeout(function(){if(!cancelScrollEnd&&isScrolling){isScrolling=false;isFlickScrolling=false;if(options.useFrameAnimation){scrollAnimation&&scrollAnimation.stop();scrollAnimation=null;}else{setTransitionStyle(that,'','');}fireEvent(that,'scrollend');}},50);}var proto={init:function init(){this.enable();this.refresh();this.scrollTo(0);return this;},enable:function enable(){this.enabled=true;return this;},disable:function disable(){var el=this.element;this.enabled=false;if(this.options.useFrameAnimation){scrollAnimation&&scrollAnimation.stop();}else{lib.animation.requestFrame(function(){el.style[stylePrefix+'Transform']=getComputedStyle(el)[stylePrefix+'Transform'];});}return this;},getScrollWidth:function getScrollWidth(){return getBoundingClientRect(this.element).width;},getScrollHeight:function getScrollHeight(){return getBoundingClientRect(this.element).height;},getScrollLeft:function getScrollLeft(){return-getTransformOffset(this).x-this.options.xPaddingTop;},getScrollTop:function getScrollTop(){return-getTransformOffset(this).y-this.options.yPaddingTop;},getMaxScrollLeft:function getMaxScrollLeft(){return-that.maxScrollOffset-this.options.xPaddingTop;},getMaxScrollTop:function getMaxScrollTop(){return-that.maxScrollOffset-this.options.yPaddingTop;},getBoundaryOffset:function getBoundaryOffset(){return Math.abs(_getBoundaryOffset(this,getTransformOffset(this)[this.axis])||0);},refresh:function refresh(){var el=this.element;var isVertical=this.axis==='y';var type=isVertical?'height':'width';var size,rect,extraSize;function getExtraSize(el,isVertical){var extraType=isVertical?['top','bottom']:['left','right'];return parseFloat(getComputedStyle(el.firstElementChild)['margin-'+extraType[0]])+parseFloat(getComputedStyle(el.lastElementChild)['margin-'+extraType[1]]);}if(this.options[type]!=null){// use options
	size=this.options[type];}else if(el.childElementCount<=0){el.style[type]='auto';size=null;}else if(!!this.options.useElementRect){el.style[type]='auto';rect=getBoundingClientRect(el);size=rect[type];size+=getExtraSize(el,isVertical);}else{var range,rect;var firstEl=el.firstElementChild;var lastEl=el.lastElementChild;if(document.createRange&&!this.options.ignoreOverflow){// use range
	range=document.createRange();range.selectNodeContents(el);rect=getBoundingClientRect(range);}if(rect){size=rect[type];}else{// use child offsets
	while(firstEl){if(getBoundingClientRect(firstEl)[type]===0&&firstEl.nextElementSibling){firstEl=firstEl.nextElementSibling;}else{break;}}while(lastEl&&lastEl!==firstEl){if(getBoundingClientRect(lastEl)[type]===0&&lastEl.previousElementSibling){lastEl=lastEl.previousElementSibling;}else{break;}}size=getBoundingClientRect(lastEl)[isVertical?'bottom':'right']-getBoundingClientRect(firstEl)[isVertical?'top':'left'];}size+=getExtraSize(el,isVertical);}el.style[type]=size?size+'px':'auto';this.transformOffset=getTransformOffset(this);this.minScrollOffset=getMinScrollOffset(this);this.maxScrollOffset=getMaxScrollOffset(this);this.scrollTo(-this.transformOffset[this.axis]-this.options[this.axis+'PaddingTop']);fireEvent(this,'contentrefresh');return this;},offset:function offset(childEl){var elRect=getBoundingClientRect(this.element);var childRect=getBoundingClientRect(childEl);if(this.axis==='y'){var offsetRect={top:childRect.top-elRect.top-this.options.yPaddingTop,left:childRect.left-elRect.left,right:elRect.right-childRect.right,width:childRect.width,height:childRect.height};offsetRect.bottom=offsetRect.top+offsetRect.height;}else{var offsetRect={top:childRect.top-elRect.top,bottom:elRect.bottom-childRect.bottom,left:childRect.left-elRect.left-this.options.xPaddingTop,width:childRect.width,height:childRect.height};offsetRect.right=offsetRect.left+offsetRect.width;}return offsetRect;},getRect:function getRect(childEl){var viewRect=getBoundingClientRect(this.viewport);var childRect=getBoundingClientRect(childEl);if(this.axis==='y'){var offsetRect={top:childRect.top-viewRect.top,left:childRect.left-viewRect.left,right:viewRect.right-childRect.right,width:childRect.width,height:childRect.height};offsetRect.bottom=offsetRect.top+offsetRect.height;}else{var offsetRect={top:childRect.top-viewRect.top,bottom:viewRect.bottom-childRect.bottom,left:childRect.left-viewRect.left,width:childRect.width,height:childRect.height};offsetRect.right=offsetRect.left+offsetRect.width;}return offsetRect;},isInView:function isInView(childEl){var viewRect=this.getRect(this.viewport);var childRect=this.getRect(childEl);if(this.axis==='y'){return viewRect.top<childRect.bottom&&viewRect.bottom>childRect.top;}return viewRect.left<childRect.right&&viewRect.right>childRect.left;},scrollTo:function scrollTo(offset,isSmooth){var that=this;var element=this.element;offset=-offset-this.options[this.axis+'PaddingTop'];offset=touchBoundary(this,offset);isScrolling=true;if(isSmooth===true){if(this.options.useFrameAnimation){var s0=getTransformOffset(that)[this.axis];var _s=offset-s0;scrollAnimation=new lib.animation(400,lib.cubicbezier.easeInOut,0,function(i1,i2){var offset=(s0+_s*i2).toFixed(2);setTransformStyle(that,offset);fireEvent(that,'scrolling');});scrollAnimation.onend(scrollEnd);scrollAnimation.play();}else{(function(){var _cancelScroll=function _cancelScroll(){if(isScrolling&&that.enabled){fireEvent(that,'scrolling');lib.animation.requestFrame(_cancelScroll);}};setTransitionEndHandler(scrollEnd,400);setTransitionStyle(that,'0.4s','ease-in-out');setTransformStyle(that,offset);lib.animation.requestFrame(_cancelScroll);})();}}else{if(!this.options.useFrameAnimation){setTransitionStyle(that,'','');}setTransformStyle(that,offset);scrollEnd();}return this;},scrollToElement:function scrollToElement(childEl,isSmooth,topOffset){var offset=this.offset(childEl);offset=offset[this.axis==='y'?'top':'left'];topOffset&&(offset+=topOffset);return this.scrollTo(offset,isSmooth);},getViewWidth:function getViewWidth(){return getBoundingClientRect(this.viewport).width;},getViewHeight:function getViewHeight(){return getBoundingClientRect(this.viewport).height;},addPulldownHandler:function addPulldownHandler(handler){var that=this;this.element.addEventListener('pulldownend',function(e){that.disable();handler.call(that,e,function(){that.scrollTo(0,true);that.refresh();that.enable();});},false);return this;},addPullupHandler:function addPullupHandler(handler){var that=this;this.element.addEventListener('pullupend',function(e){that.disable();handler.call(that,e,function(){that.scrollTo(that.getScrollHeight(),true);that.refresh();that.enable();});},false);return this;},addScrollstartHandler:function addScrollstartHandler(handler){var that=this;this.element.addEventListener('scrollstart',function(e){handler.call(that,e);},false);return this;},addScrollingHandler:function addScrollingHandler(handler){var that=this;this.element.addEventListener('scrolling',function(e){handler.call(that,e);},false);return this;},addScrollendHandler:function addScrollendHandler(handler){var that=this;this.element.addEventListener('scrollend',function(e){handler.call(that,e);},false);return this;},addContentrenfreshHandler:function addContentrenfreshHandler(handler){var that=this;this.element.addEventListener('contentrefresh',function(e){handler.call(that,e);},false);},addEventListener:function addEventListener(name,handler,useCapture){var that=this;this.element.addEventListener(name,function(e){handler.call(that,e);},!!useCapture);},removeEventListener:function removeEventListener(name,handler){var that=this;this.element.removeEventListener(name,function(e){handler.call(that,e);});},enablePlugin:function enablePlugin(name,options){var plugin=plugins[name];if(plugin&&!this.plugins[name]){this.plugins[name]=true;options=options||{};plugin.call(this,name,options);}return this;}};for(var k in proto){this[k]=proto[k];}// delete proto
	}lib.scroll=function(el,options){if(arguments.length===1&&!(arguments[0]instanceof HTMLElement)){options=arguments[0];if(options.scrollElement){el=options.scrollElement;}else if(options.scrollWrap){el=options.scrollWrap.firstElementChild;}else{throw new Error('no scroll element');}}if(!el.parentNode){throw new Error('wrong dom tree');}if(options&&options.direction&&['x','y'].indexOf(options.direction)<0){throw new Error('wrong direction');}var scroll;if(options.downgrade===true&&lib.scroll.downgrade){scroll=lib.scroll.downgrade(el,options);}else{if(el.scrollId){scroll=scrollObjs[el.scrollId];}else{scroll=new Scroll(el,options);}}return scroll;};lib.scroll.plugin=function(name,constructor){if(constructor){name=name.split(',');name.forEach(function(n){plugins[n]=constructor;});}else{return plugins[name];}};/***/},/* 174 *//***/function(module,exports){/* global lib: true */'use strict';/**
		 * transfer Quadratic Bezier Curve to Cubic Bezier Curve
		 *
		 * @param  {number} a abscissa of p1
		 * @param  {number} b ordinate of p1
		 * @return {Array} parameter matrix for cubic bezier curve
		 *   like [[p1x, p1y], [p2x, p2y]]
		 */function quadratic2cubicBezier(a,b){return[[(a/3+(a+b)/3-a)/(b-a),(a*a/3+a*b*2/3-a*a)/(b*b-a*a)],[(b/3+(a+b)/3-a)/(b-a),(b*b/3+a*b*2/3-a*a)/(b*b-a*a)]];}/**
		 * derive position data from knowing motion parameters
		 * base on Newton's second law: s = vt + at^2/2
		 *
		 * @param {object} config object of { v, a, s, t }
		 *   - v: initial velocity
		 *   - a: accelerate speed
		 *   - t: time
		 *   - s: shifting
		 */function Motion(config){this.v=config.v||0;this.a=config.a||0;if(typeof config.t!=='undefined'){this.t=config.t;}if(typeof config.s!=='undefined'){this.s=config.s;}// derive time from shifting
	if(typeof this.t==='undefined'){if(typeof this.s==='undefined'){this.t=-this.v/this.a;}else{var t1=(Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a;var t2=(-Math.sqrt(this.v*this.v+2*this.a*this.s)-this.v)/this.a;this.t=Math.min(t1,t2);}}// derive shifting from time
	if(typeof this.s==='undefined'){this.s=this.a*this.t*this.t/2+this.v*this.t;}}/**
		 * derive cubic bezier parameters from motion parameters
		 * @return {Array} parameter matrix for cubic bezier curve
		 *   like [[p1x, p1y], [p2x, p2y]]
		 */Motion.prototype.generateCubicBezier=function(){return quadratic2cubicBezier(this.v/this.a,this.t+this.v/this.a);};!lib&&(lib={});lib.motion=Motion;module.exports=Motion;/***/},/* 175 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _list=__webpack_require__(169);var _list2=_interopRequireDefault(_list);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function init(Weex){var List=_list2.default.init(Weex);function Hlist(data,nodeType){data.attr.direction='h';List.call(this,data,nodeType);}Hlist.prototype=Object.create(List.prototype);Weex.registerComponent('hlist',Hlist);}exports.default={init:init};/***/},/* 176 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _scrollable=__webpack_require__(170);var _scrollable2=_interopRequireDefault(_scrollable);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function init(Weex){var Scrollable=_scrollable2.default.init(Weex);function Scroller(data,nodeType){Scrollable.call(this,data,nodeType);}var extend=Weex.utils.extend;Scroller.prototype=Object.create(Scrollable.prototype);extend(Scroller.prototype,{create:function create(){var node=Scrollable.prototype.create.call(this);node.classList.add('scroller-wrap');this.scrollElement.classList.add('scroller-element');return node;}});Weex.registerComponent('scroller',Scroller);}exports.default={init:init};/***/},/* 177 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(178);var parents=['scroller','list','vlist'];// Only if pulldown offset is larger than this value can this
	// component trigger the 'refresh' event, otherwise just recover
	// to the start point.
	var DEFAULT_CLAMP=130;var DEFAULT_ALIGN_ITEMS='center';var DEFAULT_JUSTIFY_CONTENT='center';function adjustHeight(refresh,val){refresh.node.style.height=val+'px';}// function adJustPosition (refresh, val) {
	//   refresh.node.style.top = -val + 'px'
	// }
	function handleRefresh(refresh,e){refresh.node.style.height=refresh.clamp+'px';refresh.dispatchEvent('refresh');refresh.isRefreshing=true;}function show(refresh){refresh.display=true;refresh.node.style.display='-webkit-box';refresh.node.style.display='-webkit-flex';refresh.node.style.display='flex';}function hide(refresh){refresh.display=false;refresh.node.style.display='none';refresh.isRefreshing=false;}var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-container');node.classList.add('weex-refresh');return node;},onAppend:function onAppend(){var parent=this.getParent();var self=this;if(parents.indexOf(parent.data.type)===-1){// not in a scroller or a list
	return;}this.refreshPlaceholder=document.createElement('div');this.refreshPlaceholder.classList.add('weex-refresh-placeholder');this.refreshPlaceholder.style.display='none';this.refreshPlaceholder.style.width='0px';this.refreshPlaceholder.style.height='0px';var scrollElement=parent.scrollElement||parent.listElement;scrollElement.insertBefore(this.refreshPlaceholder,this.node);parent.node.appendChild(this.node);parent.scroller.addEventListener('pulldown',function(e){if(self.isRefreshing){return;}adjustHeight(self,Math.abs(e.scrollObj.getScrollTop()));if(!self.display){show(self);}});parent.scroller.addEventListener('pulldownend',function(e){if(self.isRefreshing){return;}var top=Math.abs(e.scrollObj.getScrollTop());if(top>self.clamp){handleRefresh(self,e);}else{hide(self);}});}};var attr={display:function display(val){if(val==='show'){setTimeout(function(){show(this);}.bind(this),0);}else if(val==='hide'){setTimeout(function(){hide(this);}.bind(this),0);}else{console.error('[h5-render] attr \'display\' of <refresh>\': value '+val+' is invalid. Should be \'show\' or \'hide\'');}}};var style={height:function height(val){val=parseFloat(val);if(isNaN(val)||val<0){return console.warn('[h5-render] <refresh>\'s height ('+val+') is invalid.');}this.clamp=val*this.data.scale;}};function init(Weex){var Component=Weex.Component;var extend=Weex.utils.extend;function Refresh(data){this.isRefreshing=false;this.clamp=(data.style.height||DEFAULT_CLAMP)*data.scale;!data.style.alignItems&&(data.style.alignItems=DEFAULT_ALIGN_ITEMS);!data.style.justifyContent&&(data.style.justifyContent=DEFAULT_JUSTIFY_CONTENT);Component.call(this,data);}Refresh.prototype=Object.create(Component.prototype);extend(Refresh.prototype,proto);extend(Refresh.prototype,{attr:attr});extend(Refresh.prototype,{style:extend(Object.create(Component.prototype.style),style)});Weex.registerComponent('refresh',Refresh);}exports.default={init:init};/***/},/* 178 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(179);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../../node_modules/css-loader/index.js!./refresh.css",function(){var newContent=require("!!./../../../../../../node_modules/css-loader/index.js!./refresh.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 179 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-refresh {\n  // -webkit-box-align: center;\n  // -webkit-align-items: center;\n  // align-items: center;\n  // -webkit-box-pack: center;\n  // -webkit-justify-content: center;\n  // justify-content: center;\n  overflow: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 0;\n  z-index: 999999;\n  background-color: #666;\n}",""]);// exports
	/***/},/* 180 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(181);var parents=['scroller','list','vlist'];var DEFAULT_CLAMP=130;var DEFAULT_ALIGN_ITEMS='center';var DEFAULT_JUSTIFY_CONTENT='center';function adjustHeight(loading,val){loading.node.style.height=val+'px';}function handleLoading(loading,e){loading.node.style.height=loading.clamp+'px';loading.dispatchEvent('loading');loading.isLoading=true;}function show(loading){loading.display=true;loading.node.style.display='-webkit-box';loading.node.style.display='-webkit-flex';loading.node.style.display='flex';}function hide(loading){loading.display=false;loading.node.style.display='none';loading.isLoading=false;}var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-container');node.classList.add('weex-loading');return node;},onAppend:function onAppend(){var parent=this.getParent();var self=this;var scrollWrapHeight=parent.node.getBoundingClientRect().height;if(parents.indexOf(parent.data.type)===-1){// not in a scroller or a list
	return;}this.loadingPlaceholder=document.createElement('div');this.loadingPlaceholder.classList.add('weex-loading-placeholder');this.loadingPlaceholder.style.display='none';this.loadingPlaceholder.style.width='0px';this.loadingPlaceholder.style.height='0px';var scrollElement=parent.scrollElement||parent.listElement;scrollElement.insertBefore(this.loadingPlaceholder,this.node);parent.node.appendChild(this.node);parent.scroller.addEventListener('pullup',function(e){if(self.isLoading){return;}var obj=e.scrollObj;adjustHeight(self,Math.abs(obj.getScrollHeight()-obj.getScrollTop()-scrollWrapHeight));if(!self.display){show(self);}});parent.scroller.addEventListener('pullupend',function(e){if(self.isLoading){return;}handleLoading(self,e);});}};var attr={display:function display(val){if(val==='show'){setTimeout(function(){show(this);}.bind(this),0);}else if(val==='hide'){setTimeout(function(){hide(this);}.bind(this),0);}else{console.error('[h5-render] attr \'display\' of <refresh>\': value '+val+' is invalid. Should be \'show\' or \'hide\'');}}};var style={height:function height(val){val=parseFloat(val);if(Number.isNaN(val)||val<0){return console.warn('[h5-render] <loading>\'s height ('+val+') is invalid.');}this.clamp=val*this.data.scale;}};function init(Weex){var Component=Weex.Component;var extend=Weex.utils.extend;function Loading(data){this.clamp=(data.style.height||DEFAULT_CLAMP)*data.scale;!data.style.alignItems&&(data.style.alignItems=DEFAULT_ALIGN_ITEMS);!data.style.justifyContent&&(data.style.justifyContent=DEFAULT_JUSTIFY_CONTENT);Component.call(this,data);}Loading.prototype=Object.create(Component.prototype);extend(Loading.prototype,proto);extend(Loading.prototype,{attr:attr});extend(Loading.prototype,{style:extend(Object.create(Component.prototype.style),style)});Weex.registerComponent('loading',Loading);}exports.default={init:init};/***/},/* 181 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(182);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../../node_modules/css-loader/index.js!./loading.css",function(){var newContent=require("!!./../../../../../../node_modules/css-loader/index.js!./loading.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 182 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-loading {\n  // -webkit-box-align: center;\n  // -webkit-align-items: center;\n  // align-items: center;\n  // -webkit-box-pack: center;\n  // -webkit-justify-content: center;\n  // justify-content: center;\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 0;\n  background-color: #666;\n}",""]);// exports
	/***/},/* 183 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(184);var DEFAULT_ITEM_COLOR='#999';var DEFAULT_ITEM_SELECTED_COLOR='#0000ff';var DEFAULT_ITEM_SIZE=20;var DEFAULT_MARGIN_SIZE=10;function resetColor(indicator){var len=indicator.items.length;if(typeof indicator.index!=='undefined'&&len>indicator.index){for(var i=0;i<len;i++){var item=indicator.items[i];if(indicator.index===i){item.classList.add('active');item.style.backgroundColor=indicator.itemSelectedColor;}else{item.style.backgroundColor=indicator.itemColor;}}}}function handleClick(indicator,idx,e){indicator.slider.slideTo(idx,true);}var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-indicators');node.classList.add('weex-element');node.style.position='absolute';this.node=node;this.style.itemSize.call(this,0);this.updateStyle({left:0,top:0,itemSize:0});return node;},createChildren:function createChildren(){var root=document.createDocumentFragment();for(var i=0;i<this.amount;i++){var indicator=document.createElement('div');indicator.classList.add('weex-indicator');indicator.style.boxSizing='border-box';indicator.style.margin='0 '+DEFAULT_MARGIN_SIZE*this.data.scale+'px';indicator.style.width=this.itemSize+'px';indicator.style.height=this.itemSize+'px';indicator.setAttribute('index',i);if(this.index===i){indicator.classList.add('active');indicator.style.backgroundColor=this.itemSelectedColor;}else{indicator.style.backgroundColor=this.itemColor;}indicator.addEventListener('click',handleClick.bind(null,this,i));this.items[i]=indicator;root.appendChild(indicator);}this.node.appendChild(root);},setIndex:function setIndex(idx){if(idx>=this.amount){return;}var prev=this.items[this.index];var cur=this.items[idx];prev.classList.remove('active');prev.style.backgroundColor=this.itemColor;cur.classList.add('active');cur.style.backgroundColor=this.itemSelectedColor;this.index=idx;}};var style={itemColor:function itemColor(val){this.itemColor=val||DEFAULT_ITEM_COLOR;resetColor(this);},itemSelectedColor:function itemSelectedColor(val){this.itemSelectedColor=val||DEFAULT_ITEM_SELECTED_COLOR;resetColor(this);},itemSize:function itemSize(val){val=parseInt(val)*this.data.scale||DEFAULT_ITEM_SIZE*this.data.scale;this.itemSize=val;this.node.style.height=val+'px';for(var i=0,l=this.items.length;i<l;i++){this.items[i].style.width=val+'px';this.items[i].style.height=val+'px';}},width:function width(val){val=parseInt(val)*this.data.scale||parseInt(this.sliderWidth);this.virtualWrapperWidth=val;},height:function height(val){val=parseInt(val)*this.data.scale||parseInt(this.sliderHeight);this.virtualWrapperHeight=val;},top:function top(val){val=this.virtualWrapperHeight/2-this.itemSize/2+val*this.data.scale;this.node.style.bottom='';this.node.style.top=val+'px';},bottom:function bottom(val){val=this.virtualWrapperHeight/2-this.itemSize/2+val*this.data.scale;this.node.style.top='';this.node.style.bottom=val+'px';},left:function left(val){val=this.virtualWrapperWidth/2-(this.itemSize+2*DEFAULT_MARGIN_SIZE*this.data.scale)*this.amount/2+val*this.data.scale;this.node.style.right='';this.node.style.left=val+'px';},right:function right(val){val=this.virtualWrapperWidth/2-(this.itemSize+2*DEFAULT_MARGIN_SIZE*this.data.scale)*this.amount/2+val*this.data.scale;this.node.style.left='';this.node.style.right=val+'px';}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;// Style supported:
	//   position: (default - absolute)
	//   itemColor: color of indicator dots
	//   itemSelectedColor: color of the selected indicator dot
	//   itemSize: size of indicators
	//   other layout styles
	function Indicator(data){this.direction='row';// 'column' is not temporarily supported.
	this.amount=data.extra.amount;this.index=data.extra.index;this.sliderWidth=data.extra.width;this.sliderHeight=data.extra.height;var styles=data.style||{};this.data=data;this.style.width.call(this,styles.width);this.style.height.call(this,styles.height);this.itemColor=styles.itemColor||DEFAULT_ITEM_COLOR;this.itemSelectedColor=styles.itemSelectedColor||DEFAULT_ITEM_SELECTED_COLOR;this.items=[];Atomic.call(this,data);}Indicator.prototype=Object.create(Atomic.prototype);extend(Indicator.prototype,proto);extend(Indicator.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});Weex.registerComponent('indicator',Indicator);}exports.default={init:init};/***/},/* 184 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(185);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./indicator.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./indicator.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 185 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-indicators {\n  position: absolute;\n  white-space: nowrap;\n  z-index: 999;\n}\n.weex-indicators .weex-indicator {\n  float: left;\n  border-radius: 50%;\n}\n",""]);// exports
	/***/},/* 186 *//***/function(module,exports,__webpack_require__){'use strict';// TODO: refactor this scss code since this is strongly
	// dependent on lib.flexible other than the value of
	// scale.
	Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(187);function initFoldBtn(tabheader){var node=tabheader.node;var btn=document.createElement('span');btn.className='fold-toggle iconfont';btn.innerHTML='&#xe661;';node.appendChild(btn);btn.addEventListener('click',function(){if(tabheader.unfolding){folding(tabheader);}else{unfolding(tabheader);}});}function initMask(tabheader){var mask=document.createElement('div');mask.className='tabheader-mask';tabheader.mask=mask;// stop default behavior: page moving.
	mask.addEventListener('touchmove',function(evt){evt.preventDefault();});// click to unfold.
	mask.addEventListener('click',function(){folding(tabheader);});document.body.appendChild(mask);}function unfolding(tabheader){// mark the initial posiiton of tabheader
	if(!tabheader.flag){var flag=document.createComment('tabheader');tabheader.flag=flag;tabheader.node.parentNode.insertBefore(flag,tabheader.node);}if(!tabheader.mask){initMask(tabheader);}// record the scroll position.
	tabheader._scrollVal=tabheader._body.scrollLeft;// record the position in document.
	tabheader._topVal=tabheader.node.getBoundingClientRect().top;tabheader._styleTop=tabheader.node.style.top;document.body.appendChild(tabheader.node);tabheader.node.classList.add('unfold-header');tabheader.node.style.height='auto';// recalc the position when it is unfolded.
	var thHeight=tabheader.node.getBoundingClientRect().height;if(thHeight+tabheader._topVal>window.innerHeight){tabheader._topVal=tabheader._topVal+(window.innerHeight-thHeight-tabheader._topVal);}tabheader.node.style.top=tabheader._topVal+'px';// process mask style
	tabheader.mask.classList.add('unfold-header');tabheader.mask.style.height=window.innerHeight+'px';tabheader.unfolding=true;}function folding(tabheader){if(tabheader.unfolding!==true){return;}tabheader.mask.classList.remove('unfold-header');tabheader.node.classList.remove('unfold-header');tabheader.node.style.height='';tabheader.node.style.top=tabheader._styleTop;// recover the position of tabheader.
	tabheader.flag.parentNode.insertBefore(tabheader.node,tabheader.flag);// recover the position of scoller.
	tabheader._body.scrollLeft=tabheader._scrollVal;scrollToView(tabheader);tabheader.unfolding=false;}function initEvent(tabheader){initClickEvent(tabheader);initSelectEvent(tabheader);}// init events.
	function initClickEvent(tabheader){var box=tabheader.box;box.addEventListener('click',function(evt){var target=evt.target;if(target.nodeName==='UL'){return;}if(target.parentNode.nodeName==='LI'){target=target.parentNode;}var floor=target.getAttribute('data-floor');/* eslint-disable eqeqeq */if(tabheader.data.attr.selectedIndex==floor){// Duplicated clicking, not to trigger select event.
	return;}/* eslint-enable eqeqeq */fireEvent(target,'select',{index:floor});});}function initSelectEvent(tabheader){var node=tabheader.node;node.addEventListener('select',function(evt){var index=void 0;if(evt.index!==undefined){index=evt.index;}else if(evt.data&&evt.data.index!==undefined){index=evt.data.index;}if(index===undefined){return;}tabheader.attr.selectedIndex.call(tabheader,index);});}function scrollToView(tabheader,node){if(!node){var _attr=tabheader.data.attr;node=tabheader.node.querySelector('[data-floor="'+_attr.selectedIndex+'"]');}if(!node){return;}// const defaultVal = tabheader._body.scrollLeft
	// const leftVal = defaultVal - node.offsetLeft + 300
	var scrollVal=getScrollVal(tabheader._body.getBoundingClientRect(),node);doScroll(tabheader._body,scrollVal);}// scroll the tabheader.
	// positive val means to scroll right.
	// negative val means to scroll left.
	function doScroll(node,val,finish){if(!val){return;}if(finish===undefined){finish=Math.abs(val);}if(finish<=0){return;}setTimeout(function(){if(val>0){node.scrollLeft+=2;}else{node.scrollLeft-=2;}finish-=2;doScroll(node,val,finish);});}// get scroll distance.
	function getScrollVal(rect,node){var left=node.previousSibling;var right=node.nextSibling;var scrollVal=void 0;// process left-side element first.
	if(left){var leftRect=left.getBoundingClientRect();// only need to compare the value of left.
	if(leftRect.left<rect.left){scrollVal=leftRect.left;return scrollVal;}}if(right){var rightRect=right.getBoundingClientRect();// compare the value of right.
	if(rightRect.right>rect.right){scrollVal=rightRect.right-rect.right;return scrollVal;}}// process current node, from left to right.
	var nodeRect=node.getBoundingClientRect();if(nodeRect.left<rect.left){scrollVal=nodeRect.left;}else if(nodeRect.right>rect.right){scrollVal=nodeRect.right-rect.right;}return scrollVal;}// trigger and broadcast events.
	function fireEvent(element,type,data){var evt=document.createEvent('Event');evt.data=data;for(var k in data){if(data.hasOwnProperty(k)){evt[k]=data[k];}}// need bubble.
	evt.initEvent(type,true,true);element.dispatchEvent(evt);}function createHighlightIcon(code){var html='<i class="hl-icon iconfont">'+'&#xe650'+'</i>';return html;}function isValidColor(color){if(!color){return false;}if(color.charAt(0)!=='#'){return false;}if(color.length!==7){return false;}return true;}var proto={create:function create(){// outside container.
	var node=document.createElement('div');node.className='tab-header';// tip on the top.
	var bar=document.createElement('div');bar.className='header-bar';bar.textContent='CHANGE FLOOR';// middle layer.
	var body=document.createElement('div');body.className='header-body';var box=document.createElement('ul');box.className='tabheader';body.appendChild(box);node.appendChild(bar);node.appendChild(body);this._bar=bar;this._body=body;this.box=box;this.node=node;// init events.
	initFoldBtn(this);initEvent(this);return node;}};var attr={highlightIcon:function highlightIcon(){return createHighlightIcon();},data:function data(){var attr=this.data.attr;// Ensure there is a default selected value.
	if(attr.selectedIndex===undefined){attr.selectedIndex=0;}var list=attr.data||[];var curItem=attr.selectedIndex;var ret=[];var itemTmpl='<li class="th-item" data-floor="{{floor}}">'+'{{hlIcon}}{{floorName}}</li>';list.forEach(function(item,idx){var html=itemTmpl.replace('{{floor}}',idx);/* eslint-disable eqeqeq */if(curItem==idx){html=html.replace('{{hlIcon}}',createHighlightIcon());}else{html=html.replace('{{hlIcon}}','');}/* eslint-enable eqeqeq */html=html.replace('{{floorName}}',item);ret.push(html);},this);this.box.innerHTML=ret.join('');},selectedIndex:function selectedIndex(val){var attr=this.data.attr;if(val===undefined){val=0;}// if (val == attr.selectedIndex) {
	//   return
	// }
	attr.selectedIndex=val;this.attr.data.call(this);folding(this);this.style.textHighlightColor.call(this,this.textHighlightColor);}};var style={opacity:function opacity(val){if(val===undefined||val<0||val>1){val=1;}this.node.style.opacity=val;},textColor:function textColor(val){if(!isValidColor(val)){return;}this.node.style.color=val;},textHighlightColor:function textHighlightColor(val){if(!isValidColor(val)){return;}this.textHighlightColor=val;var attr=this.data.attr;var node=this.node.querySelector('[data-floor="'+attr.selectedIndex+'"]');if(node){node.style.color=val;scrollToView(this,node);}}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;function TabHeader(data){Atomic.call(this,data);}TabHeader.prototype=Object.create(Atomic.prototype);extend(TabHeader.prototype,proto);extend(TabHeader.prototype,{attr:attr});extend(TabHeader.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});Weex.registerComponent('tabheader',TabHeader);}exports.default={init:init};/***/},/* 187 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(188);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./tabheader.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./tabheader.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 188 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".tab-header {\n  position: relative;\n  width: 10rem;\n  font-size: 14px;\n  color: #333;\n}\n.tab-header .header-bar {\n  height: 1.17rem;\n  line-height: 1.17rem;\n  display: none;\n  color: #999;\n  padding-left: 0.4rem;\n}\n.tab-header .header-body {\n  margin-right: 1.07rem;\n  overflow-x: auto;\n  overflow-y: hidden;\n}\n.tab-header .header-body::-webkit-scrollbar {\n  width: 0;\n  height: 0;\n  overflow: hidden;\n}\n.tab-header .fold-toggle {\n  position: absolute;\n  top: 0.59rem;\n  -webkit-transform: translateY(-50%);\n  right: 0.29rem;\n  width: 0.48rem;\n  height: 0.48rem;\n  line-height: 0.48rem;\n  text-align: center;\n  z-index: 99;\n  font-size: 14px;\n}\n.tab-header.unfold-header {\n  position: fixed !important;\n  top: 0;\n  left: 0;\n  overflow: hidden;\n}\n\n.tabheader {\n  list-style: none;\n  white-space: nowrap;\n  height: 1.17rem;\n  line-height: 1.17rem;\n}\n.tabheader .th-item {\n  padding-left: 0.72rem;\n  position: relative;\n  display: inline-block;\n}\n.tabheader .hl-icon {\n  width: 0.4rem;\n  height: 0.4rem;\n  line-height: 0.4rem;\n  text-align: center;\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  left: 0.24rem;\n  font-size: 14px;\n}\n\n.unfold-header .header-bar {\n  display: block;\n}\n.unfold-header .fold-toggle {\n  -webkit-transform: translateY(-50%) rotate(180deg);\n}\n.unfold-header .header-body {\n  margin-right: 0;\n  padding: 0.24rem;\n}\n.unfold-header .tabheader {\n  display: block;\n  height: auto;\n}\n.unfold-header .th-item {\n  box-sizing: border-box;\n  float: left;\n  width: 33.3333%;\n  height: 1.01rem;\n  line-height: 1.01rem;\n}\n.unfold-header .hl-icon {\n  margin-right: 0;\n  position: absolute;\n}\n.unfold-header.tabheader-mask {\n  display: block;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.6);\n}\n\n.tabheader-mask {\n  display: none;\n  position: fixed;\n  left: 0;\n  top: 0;\n}\n\n@font-face {\n  font-family: \"iconfont\";\n  src: url(\"data:application/x-font-ttf;charset=utf-8;base64,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R7AEQ7CAYmAgsAArIIqKYSCwAkNgZCOwA0NhZFBYsAJDYRuwA0NgWbADJbCAYmGwAiVGYTgjIDwjOBshICBGI0ewACsjYTghWbEkARQrLbA7LLAuKy6xJAEUKy2wPCywLyshIyAgPLAEI0IjOLEkARQrsARDLrAkKy2wPSywABUgR7AAI0KyAAEBFRQTLrAqKi2wPiywABUgR7AAI0KyAAEBFRQTLrAqKi2wPyyxAAEUE7ArKi2wQCywLSotsEEssAAWRSMgLiBGiiNhOLEkARQrLbBCLLAJI0KwQSstsEMssgAAOistsEQssgABOistsEUssgEAOistsEYssgEBOistsEcssgAAOystsEgssgABOystsEkssgEAOystsEossgEBOystsEsssgAANystsEwssgABNystsE0ssgEANystsE4ssgEBNystsE8ssgAAOSstsFAssgABOSstsFEssgEAOSstsFIssgEBOSstsFMssgAAPCstsFQssgABPCstsFUssgEAPCstsFYssgEBPCstsFcssgAAOCstsFgssgABOCstsFkssgEAOCstsFossgEBOCstsFsssDArLrEkARQrLbBcLLAwK7A0Ky2wXSywMCuwNSstsF4ssAAWsDArsDYrLbBfLLAxKy6xJAEUKy2wYCywMSuwNCstsGEssDErsDUrLbBiLLAxK7A2Ky2wYyywMisusSQBFCstsGQssDIrsDQrLbBlLLAyK7A1Ky2wZiywMiuwNistsGcssDMrLrEkARQrLbBoLLAzK7A0Ky2waSywMyuwNSstsGossDMrsDYrLbBrLCuwCGWwAyRQeLABFTAtAABLuADIUlixAQGOWbkIAAgAYyCwASNEILADI3CwDkUgIEu4AA5RS7AGU1pYsDQbsChZYGYgilVYsAIlYbABRWMjYrACI0SzCgkFBCuzCgsFBCuzDg8FBCtZsgQoCUVSRLMKDQYEK7EGAUSxJAGIUViwQIhYsQYDRLEmAYhRWLgEAIhYsQYBRFlZWVm4Af+FsASNsQUARAAAAA==\") format(\"truetype\");\n}\n.iconfont {\n  font-family: iconfont !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -webkit-text-stroke-width: 0.2px;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n[data-dpr=\"2\"] .tab-header {\n  font-size: 28px;\n}\n\n[data-dpr=\"3\"] .tab-header {\n  font-size: 42px;\n}\n\n[data-dpr=\"2\"] .tabheader .hl-icon {\n  font-size: 28px;\n}\n\n[data-dpr=\"3\"] .tabheader .hl-icon {\n  font-size: 42px;\n}\n\n[data-dpr=\"2\"] .tab-header .fold-toggle {\n  font-size: 28px;\n}\n\n[data-dpr=\"3\"] .tab-header .fold-toggle {\n  font-size: 42px;\n}\n",""]);// exports
	/***/},/* 189 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var appendStyle=void 0;var availableTypes=['text','password','tel','email','url'];var DEFAULT_TYPE='text';function setPlaceholderColor(input,placeholderColor){if(!placeholderColor){return;}var vendors=['::-webkit-input-placeholder',':-moz-placeholder','::-moz-placeholder',':-ms-input-placeholder',':placeholder-shown'];var css='';var cssRule='color: '+placeholderColor+';';for(var i=0,l=vendors.length;i<l;i++){css+='.'+input.className+vendors[i]+'{'+cssRule+'}';}appendStyle(css,input.styleId,true);}var proto={create:function create(){var node=document.createElement('input');var uuid=Math.floor(10000000000000*Math.random())+Date.now();this.className='weex-ipt-'+uuid;this.styleId='weex-style-'+uuid;node.classList.add(this.className);node.classList.add('weex-element');this.placeholder&&(node.placeholder=this.placeholder);return node;}};// updatable attributes
	var attr={disabled:function disabled(val){this.node.disabled=!!val;},placeholder:function placeholder(val){this.node.placeholder=val||'';},value:function value(val){this.node.value=val||'';},autofocus:function autofocus(val){this.node.autofocus=!!val;},type:function type(val){this.node.type=availableTypes.indexOf(val)!==-1?val:DEFAULT_TYPE;}};// updatable styles
	var style={placeholderColor:function placeholderColor(val){setPlaceholderColor(this,val);}};// events configurations
	var event={input:{updator:function updator(){return{attrs:{value:this.node.value}};},extra:function extra(){return{value:this.node.value,timestamp:Date.now()};}},change:{updator:function updator(){return{attrs:{value:this.node.value}};},extra:function extra(){return{value:this.node.value,timestamp:Date.now()};}}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;appendStyle=Weex.utils.appendStyle;// attrs:
	//   - type: text|password|tel|email|url
	//   - value
	//   - placeholder
	//   - disabled
	//   - autofocus
	function Input(data){Atomic.call(this,data);}Input.prototype=Object.create(Atomic.prototype);extend(Input.prototype,proto);extend(Input.prototype,{attr:attr});extend(Input.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});extend(Input.prototype,{event:event});Weex.registerComponent('input',Input);}exports.default={init:init};/***/},/* 190 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var DEFAULT_ROWS=2;/**
		 * attr:
		 * rows: default is 2.
		 * disabled
		 * placeholder
		 */var proto={create:function create(){var node=document.createElement('textarea');node.classList.add('weex-element');node.classList.add('weex-textarea');return node;}};// updatable attributes
	var attr={rows:function rows(val){this.node.rows=val||DEFAULT_ROWS;},disabled:function disabled(val){this.node.disabled=!!val;},placeholder:function placeholder(val){this.node.placeholder=val||'';},value:function value(val){this.node.value=val||'';},autofocus:function autofocus(val){this.node.autofocus=!!val;}};// events configurations
	var event={input:{updator:function updator(){return{attrs:{value:this.node.value}};},extra:function extra(){return{value:this.node.value,timestamp:Date.now()};}},change:{updator:function updator(){return{attrs:{value:this.node.value}};},extra:function extra(){return{value:this.node.value,timestamp:Date.now()};}}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;// attrs:
	//   - rows
	//   - disabled
	//   - placeholder
	function Textarea(data){Atomic.call(this,data);}Textarea.prototype=Object.create(Atomic.prototype);extend(Textarea.prototype,proto);extend(Textarea.prototype,{attr:attr});extend(Textarea.prototype,{event:event});Weex.registerComponent('textarea',Textarea);}exports.default={init:init};/***/},/* 191 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(192);function getProto(Weex){var Atomic=Weex.Atomic;return{create:function create(){var node=document.createElement('video');node.classList.add('weex-video');node.classList.add('weex-element');node.controls=true;node.autoplay=this.autoPlay;node.setAttribute('play-status',this.playStatus);this.node=node;if(this.autoPlay&&this.playStatus==='play'){this.play();}return node;},bindEvents:function bindEvents(evts){Atomic.prototype.bindEvents.call(this,evts);// convert w3c-video events to weex-video events.
	var evtsMap={start:'play',finish:'ended',fail:'error'};for(var evtName in evtsMap){this.node.addEventListener(evtsMap[evtName],function(type,e){this.dispatchEvent(type,e.data);}.bind(this,evtName));}},play:function play(){var src=this.node.getAttribute('src');if(!src){src=this.node.getAttribute('data-src');src&&this.node.setAttribute('src',src);}this.node.play();},pause:function pause(){this.node.pause();},stop:function stop(){this.node.pause();this.node.autoplay=false;this.node.setAttribute('data-src',this.node.src);this.node.src='';}};}var attr={playStatus:function playStatus(val){if(val!=='play'&&val!=='stop'&&val!=='pause'){val='pause';}if(this.playStatus===val){return;}this.playStatus=val;this.node.setAttribute('play-status',val);this[this.playStatus]();},autoPlay:function autoPlay(val){// DO NOTHING
	}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;// attrs:
	//   - autoPlay: true | false (default: false)
	//   - playStatus: play | pause | stop
	//   - src: {string}
	//   - poster: {string}
	//   - loop: true | false (default: false)
	//   - muted: true | false (default: false)
	// events:
	//   - start
	//   - pause
	//   - finish
	//   - fail
	function Video(data){var autoPlay=data.attr.autoPlay;var playStatus=data.attr.playStatus;this.autoPlay=autoPlay===true||autoPlay==='true';if(playStatus!=='play'&&playStatus!=='stop'&&playStatus!=='pause'){this.playStatus='pause';}else{this.playStatus=playStatus;}Atomic.call(this,data);}Video.prototype=Object.create(Atomic.prototype);extend(Video.prototype,getProto(Weex));extend(Video.prototype,{attr:attr});Weex.registerComponent('video',Video);}exports.default={init:init};/***/},/* 192 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(193);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./video.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./video.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 193 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-video {\n\tbackground-color: #000;\n}",""]);// exports
	/***/},/* 194 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(195);var defaults={color:'#64bd63',secondaryColor:'#dfdfdf',jackColor:'#fff',jackSecondaryColor:null,className:'weex-switch',disabledOpacity:0.5,speed:'0.4s',width:100,height:60,// is width and height scalable ?
	scalable:false};function transitionize(element,props){var transitions=[];for(var key in props){transitions.push(key+' '+props[key]);}element.style.transition=transitions.join(', ');element.style.webkitTransition=transitions.join(', ');}function setSize(comp){var min=Math.min(comp.width,comp.height);var max=Math.max(comp.width,comp.height);comp.node.style.width=max+'px';comp.node.style.height=min+'px';comp.node.style.borderRadius=min/2+'px';comp.jack.style.width=comp.jack.style.height=min+'px';}function setPosition(comp,clicked){var checked=comp.checked;var node=comp.node;var jack=comp.jack;if(clicked&&checked){checked=false;}else if(clicked&&!checked){checked=true;}if(checked===true){comp.checked=true;if(window.getComputedStyle){jack.style.left=parseInt(window.getComputedStyle(node).width)-parseInt(window.getComputedStyle(jack).width)+'px';}else{jack.style.left=parseInt(node.currentStyle['width'])-parseInt(jack.currentStyle['width'])+'px';}comp.options.color&&colorize(comp);setSpeed(comp);}else{comp.checked=false;jack.style.left=0;node.style.boxShadow='inset 0 0 0 0 '+comp.options.secondaryColor;node.style.borderColor=comp.options.secondaryColor;node.style.backgroundColor=comp.options.secondaryColor!==defaults.secondaryColor?comp.options.secondaryColor:'#fff';jack.style.backgroundColor=comp.options.jackSecondaryColor!==comp.options.jackColor?comp.options.jackSecondaryColor:comp.options.jackColor;setSpeed(comp);}}function setSpeed(comp){var switcherProp={};var jackProp={'background-color':comp.options.speed,left:comp.options.speed.replace(/[a-z]/,'')/2+'s'};if(comp.checked){switcherProp={border:comp.options.speed,'box-shadow':comp.options.speed,'background-color':comp.options.speed.replace(/[a-z]/,'')*3+'s'};}else{switcherProp={border:comp.options.speed,'box-shadow':comp.options.speed};}transitionize(comp.node,switcherProp);transitionize(comp.jack,jackProp);}function colorize(comp){var nodeHeight=comp.node.offsetHeight/2;comp.node.style.backgroundColor=comp.options.color;comp.node.style.borderColor=comp.options.color;comp.node.style.boxShadow='inset 0 0 0 '+nodeHeight+'px '+comp.options.color;comp.jack.style.backgroundColor=comp.options.jackColor;}function getClickHandler(comp){if(!comp._clickHandler){comp._clickHandler=function(){setPosition(comp,true);comp.dispatchEvent('change',{value:comp.checked});};}return comp._clickHandler;}var proto={create:function create(){var node=document.createElement('span');this.jack=document.createElement('small');node.appendChild(this.jack);node.className=this.options.className;this.node=node;this.attr.disabled.call(this,this.data.attr.disabled);return node;},onAppend:function onAppend(){setSize(this);setPosition(this);},enable:function enable(){this.disabled&&(this.disabled=false);this.node.style.opacity=1;this.node.addEventListener('click',getClickHandler(this));},disable:function disable(){!this.disabled&&(this.disabled=true);this.node.style.opacity=defaults.disabledOpacity;this.node.removeEventListener('click',getClickHandler(this));}};var attr={disabled:function disabled(val){this.disabled=val&&val!=='false';this.disabled?this.disable():this.enable();}};var style={width:function width(val){if(!this.options.scalable){return;}val=parseFloat(val);if(isNaN(val)||val<0){val=this.options.width;}this.width=val*this.data.scale;this.setSize();},height:function height(val){if(!this.options.scalable){return;}val=parseFloat(val);if(isNaN(val)||val<0){val=this.options.height;}this.height=val*this.data.scale;this.setSize();}};var event={change:{updator:function updator(){return{attrs:{checked:this.checked}};},extra:function extra(){return{value:this.checked};}}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;// attrs:
	//   - checked: if is checked.
	//   - disabled: if true, this component is not available for interaction.
	function Switch(data){this.options=extend({},defaults);this.checked=data.attr.checked&&data.attr.checked!=='false';this.data=data;this.width=this.options.width*data.scale;this.height=this.options.height*data.scale;Atomic.call(this,data);}Switch.prototype=Object.create(Atomic.prototype);extend(Switch.prototype,proto);extend(Switch.prototype,{attr:attr});extend(Switch.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});extend(Switch.prototype,{event:event});Weex.registerComponent('switch',Switch);}exports.default={init:init};/***/},/* 195 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(196);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./switch.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./switch.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 196 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,"/* switch defaults. */\n.weex-switch {\n  background-color: #fff;\n  border: 1px solid #dfdfdf;\n  cursor: pointer;\n  display: inline-block;\n  position: relative;\n  vertical-align: middle;\n  -moz-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  box-sizing: content-box;\n  background-clip: content-box;\n}\n\n.weex-switch > small {\n  background: #fff;\n  border-radius: 100%;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4);\n  position: absolute;\n  top: 0;\n}\n",""]);// exports
	/***/},/* 197 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var ID_PREFIX='weex_embed_';var getRandom=void 0;function _generateId(){return ID_PREFIX+getRandom(10);}var proto={create:function create(){var node=document.createElement('div');node.id=this.id;node.style.overflow='scroll';return node;},initWeex:function initWeex(){this.id=_generateId();this.node.id=this.id;var config={appId:this.id,source:this.source,bundleUrl:this.source,loader:this.loader,jsonpCallback:this.jsonpCallback,width:this.node.getBoundingClientRect().width,rootId:this.id,embed:true};window.weex.init(config);},destroyWeex:function destroyWeex(){this.id&&window.destroyInstance(this.id);// TODO: unbind events and clear doms.
	this.node.innerHTML='';},reloadWeex:function reloadWeex(){if(this.id){this.destroyWeex();this.id=null;this.node.id=null;this.node.innerHTML='';}this.initWeex();}};// not recommended, because of the leak of memory.
	var attr={src:function src(value){this.source=value;this.reloadWeex();}};function init(Weex){var Component=Weex.Component;var extend=Weex.utils.extend;getRandom=Weex.utils.getRandom;function Embed(data,nodeType){var attr=data.attr;if(attr){this.source=attr.src;this.loader=attr.loader||'xhr';this.jsonpCallback=attr.jsonpCallback;}Component.call(this,data,nodeType);}Embed.prototype=Object.create(Component.prototype);extend(Embed.prototype,proto);extend(Embed.prototype,{attr:attr});Weex.registerComponent('embed',Embed);}exports.default={init:init};/***/},/* 198 *//***/function(module,exports,__webpack_require__){/* global CSSRule */'use strict';Object.defineProperty(exports,"__esModule",{value:true});__webpack_require__(199);var loopArray=void 0,getRgb=void 0;function getStyleSheet(spinner){if(spinner.styleSheet){return;}var styles=document.styleSheets;var i=void 0,l=void 0,j=void 0,m=void 0;/* eslint-disable no-labels */outer:for(i=0,l=styles.length;i<l;i++){var rules=styles[i].rules;if(!rules){continue;}for(j=0,m=rules.length;j<m;j++){var item=rules.item(j);if((item.type===CSSRule.KEYFRAMES_RULE||item.type===CSSRule.WEBKIT_KEYFRAMES_RULE)&&item.name==='weex-spinner'){break outer;}}}/* eslint-enable no-labels */spinner.styleSheet=styles[i];}function setKeyframeColor(spinner,val){getStyleSheet(spinner);var keyframeRules=computeKeyFrameRules(val);var rules=spinner.styleSheet.rules;for(var i=0,l=rules.length;i<l;i++){var item=rules.item(i);if((item.type===CSSRule.KEYFRAMES_RULE||item.type===CSSRule.WEBKIT_KEYFRAMES_RULE)&&item.name==='weex-spinner'){var cssRules=item.cssRules;for(var j=0,m=cssRules.length;j<m;j++){var keyframe=cssRules[j];if(keyframe.type===CSSRule.KEYFRAME_RULE||keyframe.type===CSSRule.WEBKIT_KEYFRAME_RULE){keyframe.style.boxShadow=keyframeRules[j];}}}}}function computeKeyFrameRules(rgb){if(!rgb){return;}var scaleArr=['0em -2.6em 0em 0em','1.8em -1.8em 0 0em','2.5em 0em 0 0em','1.75em 1.75em 0 0em','0em 2.5em 0 0em','-1.8em 1.8em 0 0em','-2.6em 0em 0 0em','-1.8em -1.8em 0 0em'];var colorArr=['1','0.2','0.2','0.2','0.2','0.2','0.5','0.7'].map(function(e){return'rgba('+rgb.r+','+rgb.g+','+rgb.b+','+e+')';});var rules=[];var _loop=function _loop(i){var tmpColorArr=loopArray(colorArr,i,'r');rules.push(scaleArr.map(function(scaleStr,i){return scaleStr+' '+tmpColorArr[i];}).join(', '));};for(var i=0;i<scaleArr.length;i++){_loop(i);}return rules;}var proto={create:function create(){var node=document.createElement('div');node.classList.add('weex-container');node.classList.add('weex-spinner-wrap');this.spinner=document.createElement('div');this.spinner.classList.add('weex-element');this.spinner.classList.add('weex-spinner');node.appendChild(this.spinner);return node;}};var style={color:function color(val){var rgb=getRgb(val);if(!rgb){return console.error('[web-render] invalid color value:',val);}setKeyframeColor(this,rgb);}};// Spinner.prototype.updateStyle = function (style) {
	//   Atomic.prototype.updateStyle.call(this, style)
	//   if (style && style.color) {
	//     this.setKeyframeColor(global.weex.utils.getRgb(this.node.style.color))
	//   }
	// }
	function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;getRgb=Weex.utils.getRgb;loopArray=Weex.utils.loopArray;function Spinner(data){Atomic.call(this,data);}Spinner.prototype=Object.create(Atomic.prototype);extend(Spinner.prototype,proto);extend(Spinner.prototype,{style:extend(Object.create(Atomic.prototype.style),style)});Weex.registerComponent('spinner',Spinner);Weex.registerComponent('loading-indicator',Spinner);}exports.default={init:init};/***/},/* 199 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(200);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../../../../node_modules/css-loader/index.js!./spinner.css",function(){var newContent=require("!!./../../../../../node_modules/css-loader/index.js!./spinner.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 200 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".weex-spinner-wrap {\n  width: 1.013333rem; /* 76px */\n  height: 1.013333rem;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  overflow: visible;\n}\n\n.weex-spinner {\n  font-size: 0.16rem; /* 12px */\n  width: 1em;\n  height: 1em;\n  border-radius: 50%;\n  position: relative;\n  text-indent: -9999em;\n  -webkit-animation: weex-spinner 1.1s infinite ease;\n  animation: weex-spinner 1.1s infinite ease;\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n}\n@-webkit-keyframes weex-spinner {\n  0%,\n  100% {\n    box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  12.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  62.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;\n  }\n}\n@keyframes weex-spinner {\n  0%,\n  100% {\n    box-shadow: 0em -2.6em 0em 0em #ffffff, 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.5), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7);\n  }\n  12.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.7), 1.8em -1.8em 0 0em #ffffff, 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5);\n  }\n  25% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.5), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.7), 2.5em 0em 0 0em #ffffff, 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  37.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.5), 2.5em 0em 0 0em rgba(255, 255, 255, 0.7), 1.75em 1.75em 0 0em #ffffff, 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  50% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.5), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.7), 0em 2.5em 0 0em #ffffff, -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.2), -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  62.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.5), 0em 2.5em 0 0em rgba(255, 255, 255, 0.7), -1.8em 1.8em 0 0em #ffffff, -2.6em 0em 0 0em rgba(255, 255, 255, 0.2), -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  75% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.5), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.7), -2.6em 0em 0 0em #ffffff, -1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2);\n  }\n  87.5% {\n    box-shadow: 0em -2.6em 0em 0em rgba(255, 255, 255, 0.2), 1.8em -1.8em 0 0em rgba(255, 255, 255, 0.2), 2.5em 0em 0 0em rgba(255, 255, 255, 0.2), 1.75em 1.75em 0 0em rgba(255, 255, 255, 0.2), 0em 2.5em 0 0em rgba(255, 255, 255, 0.2), -1.8em 1.8em 0 0em rgba(255, 255, 255, 0.5), -2.6em 0em 0 0em rgba(255, 255, 255, 0.7), -1.8em -1.8em 0 0em #ffffff;\n  }\n}\n",""]);// exports
	/***/},/* 201 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var isArray=void 0;function handleMsg(web,evt){var msg=evt.data;if(typeof msg==='string'){try{msg=JSON.parse(msg);}catch(e){}}if(!msg){return;}if(msg.type==='weex'){if(!isArray(msg.content)){return console.error('[h5-render] weex msg received by web component.'+' msg.content should be a array:',msg.content);}callNative(web.getComponentManager().instanceId,msg.content);}}function getProto(Weex){var Atomic=Weex.Atomic;return{create:function create(){// Iframe's defect: can't use position:absolute and top, left, right,
	// bottom all setting to zero and use margin to leave specified
	// height for a blank area, and have to use 100% to fill the parent
	// container, otherwise it will use a unwanted default size instead.
	// Therefore a div as a iframe wrapper is needed here.
	var node=document.createElement('div');node.classList.add('weex-container');this.web=document.createElement('iframe');node.appendChild(this.web);this.web.classList.add('weex-element');this.web.style.width='100%';this.web.style.height='100%';this.web.style.border='none';return node;},bindEvents:function bindEvents(evts){Atomic.prototype.bindEvents.call(this,evts);var that=this;this.web.addEventListener('load',function(e){that.dispatchEvent('pagefinish',{url:that.web.src});});window.addEventListener('message',handleMsg.bind(null,this));},goBack:function goBack(){this.web.contentWindow.history.back();},goForward:function goForward(){this.web.contentWindow.history.forward();},reload:function reload(){this.web.contentWindow.location.reload();}};}var attr={src:function src(val){this.web.src=val;setTimeout(function(){this.dispatchEvent('pagestart',{url:val});}.bind(this),0);}};function init(Weex){var Atomic=Weex.Atomic;var extend=Weex.utils.extend;isArray=Weex.utils.isArray;// A component to import web pages, which works like
	// a iframe element or a webview.
	// attrs:
	//   - src
	// events:
	//   - pagestart
	//   - pagefinish
	//   - error
	function Web(data){Atomic.call(this,data);}Web.prototype=Object.create(Atomic.prototype);extend(Web.prototype,getProto(Weex));extend(Web.prototype,{attr:attr});Weex.registerComponent('web',Web);}exports.default={init:init};/***/},/* 202 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _lib=__webpack_require__(203);var _data={};var animation={/**
		   * transition
		   * @param  {string} ref        [description]
		   * @param  {obj} config     [description]
		   * @param  {string} callbackId [description]
		   */transition:function transition(ref,config,callbackId){var refData=_data[ref];var stylesKey=JSON.stringify(config.styles);var weexInstance=this;// If the same component perform a animation with exactly the same
	// styles in a sequence with so short interval that the prev animation
	// is still in playing, then the next animation should be ignored.
	if(refData&&refData[stylesKey]){return;}if(!refData){refData=_data[ref]={};}refData[stylesKey]=true;var component=this.getComponentManager().getComponent(ref);return(0,_lib.transitionOnce)(component,config,function(){// Remove the stylesKey in refData so that the same animation
	// can be played again after current animation is already finished.
	delete refData[stylesKey];weexInstance.sender.performCallback(callbackId);});}};var meta={animation:[{name:'transition',args:['string','object','function']}]};exports.default={init:function init(Weex){Weex.registerApiModule('animation',animation,meta);}};/***/},/* 203 *//***/function(module,exports){'use strict';module.exports={/**
		   * config:
		   *   - styles
		   *   - duration [Number] milliseconds(ms)
		   *   - timingFunction [string]
		   *   - dealy [Number] milliseconds(ms)
		   */transitionOnce:function transitionOnce(comp,config,callback){var styles=config.styles||{};var duration=config.duration||1000;// ms
	var timingFunction=config.timingFunction||'ease';var delay=config.delay||0;// ms
	var transitionValue='all '+duration+'ms '+timingFunction+' '+delay+'ms';var dom=comp.node;var transitionEndHandler=function transitionEndHandler(e){e.stopPropagation();dom.removeEventListener('webkitTransitionEnd',transitionEndHandler);dom.removeEventListener('transitionend',transitionEndHandler);dom.style.transition='';dom.style.webkitTransition='';callback();};dom.style.transition=transitionValue;dom.style.webkitTransition=transitionValue;dom.addEventListener('webkitTransitionEnd',transitionEndHandler);dom.addEventListener('transitionend',transitionEndHandler);comp.updateStyle(styles);}};/***/},/* 204 *//***/function(module,exports){'use strict';/**
		
		AUCTION:
		taskQueue
		Clipboard.setString()  NOW not works, facing to user-act lose of taskQueue.
		
		works in Chrome Firefox Opera. but not in Safari.
		@see https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand#Browser_compatibility
		
		Clipboard.getString() unimplemented. There is no easy way to do paste from clipboard to js variable.
		
		So look out your app behavior, when downgrade to html5 render.
		Any idea is welcome.
		**/Object.defineProperty(exports,"__esModule",{value:true});var WEEX_CLIPBOARD_ID='__weex_clipboard_id__';var clipboard={getString:function getString(callbackId){// not supported in html5
	console.log('clipboard.getString() is not supported now.');},setString:function setString(text){// not support safari
	if(typeof text==='string'&&text!==''&&document.execCommand){var tempInput=element();tempInput.value=text;tempInput.select();document.execCommand('copy');// var out = document.execCommand('copy');
	// console.log("execCommand out is " + out);
	tempInput.value='';tempInput.blur();}else{console.log('only support string input now');}}};function element(){var tempInput=document.getElementById(WEEX_CLIPBOARD_ID);if(tempInput===undefined){tempInput=document.createElement('input');tempInput.setAttribute('id',WEEX_CLIPBOARD_ID);tempInput.style.cssText='height:1px;width:1px;border:none;';// tempInput.style.cssText = "height:40px;width:300px;border:solid;"
	document.body.appendChild(tempInput);}return tempInput;}var meta={clipboard:[{name:'getString',args:['function']},{name:'setString',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('clipboard',clipboard,meta);}};/***/},/* 205 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _scrollTo=__webpack_require__(206);var _scrollTo2=_interopRequireDefault(_scrollTo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var camelToKebab=void 0,appendStyle=void 0;var dom={/**
		   * scrollToElement
		   * @param  {string} ref
		   * @param  {obj} options {offset:Number}
		   *   ps: scroll-to has 'ease' and 'duration'(ms) as options.
		   */scrollToElement:function scrollToElement(ref,options){!options&&(options={});var offset=(Number(options.offset)||0)*this.scale;var elem=this.getComponentManager().getComponent(ref);if(!elem){return console.error('[h5-render] component of ref '+ref+' doesn\'t exist.');}var parentScroller=elem.getParentScroller();if(parentScroller){parentScroller.scroller.scrollToElement(elem.node,true,offset);}else{var offsetTop=elem.node.getBoundingClientRect().top+document.body.scrollTop;var tween=(0,_scrollTo2.default)(0,offsetTop+offset,options);tween.on('end',function(){console.log('scroll end.');});}},/**
		   * for adding fontFace
		   * @param {string} key fontFace
		   * @param {object} styles rules
		   */addRule:function addRule(key,styles){key=camelToKebab(key);var stylesText='';for(var k in styles){if(styles.hasOwnProperty(k)){stylesText+=camelToKebab(k)+':'+styles[k]+';';}}var styleText='@'+key+'{'+stylesText+'}';appendStyle(styleText,'dom-added-rules');}};var meta={dom:[{name:'scrollToElement',args:['string','object']},{name:'addRule',args:['string','object']}]};exports.default={init:function init(Weex){camelToKebab=Weex.utils.camelToKebab;appendStyle=Weex.utils.appendStyle;Weex.registerApiModule('dom',dom,meta);}};/***/},/* 206 *//***/function(module,exports,__webpack_require__){/**
		 * Module dependencies.
		 */var Tween=__webpack_require__(207);var raf=__webpack_require__(212);/**
		 * Expose `scrollTo`.
		 */module.exports=scrollTo;/**
		 * Scroll to `(x, y)`.
		 *
		 * @param {Number} x
		 * @param {Number} y
		 * @api public
		 */function scrollTo(x,y,options){options=options||{};// start position
	var start=scroll();// setup tween
	var tween=Tween(start).ease(options.ease||'out-circ').to({top:y,left:x}).duration(options.duration||1000);// scroll
	tween.update(function(o){window.scrollTo(o.left|0,o.top|0);});// handle end
	tween.on('end',function(){animate=function animate(){};});// animate
	function animate(){raf(animate);tween.update();}animate();return tween;}/**
		 * Return scroll position.
		 *
		 * @return {Object}
		 * @api private
		 */function scroll(){var y=window.pageYOffset||document.documentElement.scrollTop;var x=window.pageXOffset||document.documentElement.scrollLeft;return{top:y,left:x};}/***/},/* 207 *//***/function(module,exports,__webpack_require__){/**
		 * Module dependencies.
		 */var Emitter=__webpack_require__(208);var clone=__webpack_require__(209);var type=__webpack_require__(210);var ease=__webpack_require__(211);/**
		 * Expose `Tween`.
		 */module.exports=Tween;/**
		 * Initialize a new `Tween` with `obj`.
		 *
		 * @param {Object|Array} obj
		 * @api public
		 */function Tween(obj){if(!(this instanceof Tween))return new Tween(obj);this._from=obj;this.ease('linear');this.duration(500);}/**
		 * Mixin emitter.
		 */Emitter(Tween.prototype);/**
		 * Reset the tween.
		 *
		 * @api public
		 */Tween.prototype.reset=function(){this.isArray='array'===type(this._from);this._curr=clone(this._from);this._done=false;this._start=Date.now();return this;};/**
		 * Tween to `obj` and reset internal state.
		 *
		 *    tween.to({ x: 50, y: 100 })
		 *
		 * @param {Object|Array} obj
		 * @return {Tween} self
		 * @api public
		 */Tween.prototype.to=function(obj){this.reset();this._to=obj;return this;};/**
		 * Set duration to `ms` [500].
		 *
		 * @param {Number} ms
		 * @return {Tween} self
		 * @api public
		 */Tween.prototype.duration=function(ms){this._duration=ms;return this;};/**
		 * Set easing function to `fn`.
		 *
		 *    tween.ease('in-out-sine')
		 *
		 * @param {String|Function} fn
		 * @return {Tween}
		 * @api public
		 */Tween.prototype.ease=function(fn){fn='function'==typeof fn?fn:ease[fn];if(!fn)throw new TypeError('invalid easing function');this._ease=fn;return this;};/**
		 * Stop the tween and immediately emit "stop" and "end".
		 *
		 * @return {Tween}
		 * @api public
		 */Tween.prototype.stop=function(){this.stopped=true;this._done=true;this.emit('stop');this.emit('end');return this;};/**
		 * Perform a step.
		 *
		 * @return {Tween} self
		 * @api private
		 */Tween.prototype.step=function(){if(this._done)return;// duration
	var duration=this._duration;var now=Date.now();var delta=now-this._start;var done=delta>=duration;// complete
	if(done){this._from=this._to;this._update(this._to);this._done=true;this.emit('end');return this;}// tween
	var from=this._from;var to=this._to;var curr=this._curr;var fn=this._ease;var p=(now-this._start)/duration;var n=fn(p);// array
	if(this.isArray){for(var i=0;i<from.length;++i){curr[i]=from[i]+(to[i]-from[i])*n;}this._update(curr);return this;}// objech
	for(var k in from){curr[k]=from[k]+(to[k]-from[k])*n;}this._update(curr);return this;};/**
		 * Set update function to `fn` or
		 * when no argument is given this performs
		 * a "step".
		 *
		 * @param {Function} fn
		 * @return {Tween} self
		 * @api public
		 */Tween.prototype.update=function(fn){if(0==arguments.length)return this.step();this._update=fn;return this;};/***/},/* 208 *//***/function(module,exports){/**
		 * Expose `Emitter`.
		 */module.exports=Emitter;/**
		 * Initialize a new `Emitter`.
		 *
		 * @api public
		 */function Emitter(obj){if(obj)return mixin(obj);};/**
		 * Mixin the emitter properties.
		 *
		 * @param {Object} obj
		 * @return {Object}
		 * @api private
		 */function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key];}return obj;}/**
		 * Listen on the given `event` with `fn`.
		 *
		 * @param {String} event
		 * @param {Function} fn
		 * @return {Emitter}
		 * @api public
		 */Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks['$'+event]=this._callbacks['$'+event]||[]).push(fn);return this;};/**
		 * Adds an `event` listener that will be invoked a single
		 * time then automatically removed.
		 *
		 * @param {String} event
		 * @param {Function} fn
		 * @return {Emitter}
		 * @api public
		 */Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments);}on.fn=fn;this.on(event,on);return this;};/**
		 * Remove the given callback for `event` or all
		 * registered callbacks.
		 *
		 * @param {String} event
		 * @param {Function} fn
		 * @return {Emitter}
		 * @api public
		 */Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};// all
	if(0==arguments.length){this._callbacks={};return this;}// specific event
	var callbacks=this._callbacks['$'+event];if(!callbacks)return this;// remove all handlers
	if(1==arguments.length){delete this._callbacks['$'+event];return this;}// remove specific handler
	var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break;}}return this;};/**
		 * Emit `event` with the given args.
		 *
		 * @param {String} event
		 * @param {Mixed} ...
		 * @return {Emitter}
		 */Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks['$'+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args);}}return this;};/**
		 * Return array of callbacks for `event`.
		 *
		 * @param {String} event
		 * @return {Array}
		 * @api public
		 */Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks['$'+event]||[];};/**
		 * Check if this emitter has `event` handlers.
		 *
		 * @param {String} event
		 * @return {Boolean}
		 * @api public
		 */Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length;};/***/},/* 209 *//***/function(module,exports,__webpack_require__){/**
		 * Module dependencies.
		 */var type;try{type=__webpack_require__(210);}catch(_){type=__webpack_require__(210);}/**
		 * Module exports.
		 */module.exports=clone;/**
		 * Clones objects.
		 *
		 * @param {Mixed} any object
		 * @api public
		 */function clone(obj){switch(type(obj)){case'object':var copy={};for(var key in obj){if(obj.hasOwnProperty(key)){copy[key]=clone(obj[key]);}}return copy;case'array':var copy=new Array(obj.length);for(var i=0,l=obj.length;i<l;i++){copy[i]=clone(obj[i]);}return copy;case'regexp':// from millermedeiros/amd-utils - MIT
	var flags='';flags+=obj.multiline?'m':'';flags+=obj.global?'g':'';flags+=obj.ignoreCase?'i':'';return new RegExp(obj.source,flags);case'date':return new Date(obj.getTime());default:// string, number, boolean, …
	return obj;}}/***/},/* 210 *//***/function(module,exports){/**
		 * toString ref.
		 */var toString=Object.prototype.toString;/**
		 * Return the type of `val`.
		 *
		 * @param {Mixed} val
		 * @return {String}
		 * @api public
		 */module.exports=function(val){switch(toString.call(val)){case'[object Date]':return'date';case'[object RegExp]':return'regexp';case'[object Arguments]':return'arguments';case'[object Array]':return'array';case'[object Error]':return'error';}if(val===null)return'null';if(val===undefined)return'undefined';if(val!==val)return'nan';if(val&&val.nodeType===1)return'element';val=val.valueOf?val.valueOf():Object.prototype.valueOf.apply(val);return typeof val==='undefined'?'undefined':_typeof2(val);};/***/},/* 211 *//***/function(module,exports){// easing functions from "Tween.js"
	exports.linear=function(n){return n;};exports.inQuad=function(n){return n*n;};exports.outQuad=function(n){return n*(2-n);};exports.inOutQuad=function(n){n*=2;if(n<1)return 0.5*n*n;return-0.5*(--n*(n-2)-1);};exports.inCube=function(n){return n*n*n;};exports.outCube=function(n){return--n*n*n+1;};exports.inOutCube=function(n){n*=2;if(n<1)return 0.5*n*n*n;return 0.5*((n-=2)*n*n+2);};exports.inQuart=function(n){return n*n*n*n;};exports.outQuart=function(n){return 1- --n*n*n*n;};exports.inOutQuart=function(n){n*=2;if(n<1)return 0.5*n*n*n*n;return-0.5*((n-=2)*n*n*n-2);};exports.inQuint=function(n){return n*n*n*n*n;};exports.outQuint=function(n){return--n*n*n*n*n+1;};exports.inOutQuint=function(n){n*=2;if(n<1)return 0.5*n*n*n*n*n;return 0.5*((n-=2)*n*n*n*n+2);};exports.inSine=function(n){return 1-Math.cos(n*Math.PI/2);};exports.outSine=function(n){return Math.sin(n*Math.PI/2);};exports.inOutSine=function(n){return .5*(1-Math.cos(Math.PI*n));};exports.inExpo=function(n){return 0==n?0:Math.pow(1024,n-1);};exports.outExpo=function(n){return 1==n?n:1-Math.pow(2,-10*n);};exports.inOutExpo=function(n){if(0==n)return 0;if(1==n)return 1;if((n*=2)<1)return .5*Math.pow(1024,n-1);return .5*(-Math.pow(2,-10*(n-1))+2);};exports.inCirc=function(n){return 1-Math.sqrt(1-n*n);};exports.outCirc=function(n){return Math.sqrt(1- --n*n);};exports.inOutCirc=function(n){n*=2;if(n<1)return-0.5*(Math.sqrt(1-n*n)-1);return 0.5*(Math.sqrt(1-(n-=2)*n)+1);};exports.inBack=function(n){var s=1.70158;return n*n*((s+1)*n-s);};exports.outBack=function(n){var s=1.70158;return--n*n*((s+1)*n+s)+1;};exports.inOutBack=function(n){var s=1.70158*1.525;if((n*=2)<1)return 0.5*(n*n*((s+1)*n-s));return 0.5*((n-=2)*n*((s+1)*n+s)+2);};exports.inBounce=function(n){return 1-exports.outBounce(1-n);};exports.outBounce=function(n){if(n<1/2.75){return 7.5625*n*n;}else if(n<2/2.75){return 7.5625*(n-=1.5/2.75)*n+0.75;}else if(n<2.5/2.75){return 7.5625*(n-=2.25/2.75)*n+0.9375;}else{return 7.5625*(n-=2.625/2.75)*n+0.984375;}};exports.inOutBounce=function(n){if(n<.5)return exports.inBounce(n*2)*.5;return exports.outBounce(n*2-1)*.5+.5;};// aliases
	exports['in-quad']=exports.inQuad;exports['out-quad']=exports.outQuad;exports['in-out-quad']=exports.inOutQuad;exports['in-cube']=exports.inCube;exports['out-cube']=exports.outCube;exports['in-out-cube']=exports.inOutCube;exports['in-quart']=exports.inQuart;exports['out-quart']=exports.outQuart;exports['in-out-quart']=exports.inOutQuart;exports['in-quint']=exports.inQuint;exports['out-quint']=exports.outQuint;exports['in-out-quint']=exports.inOutQuint;exports['in-sine']=exports.inSine;exports['out-sine']=exports.outSine;exports['in-out-sine']=exports.inOutSine;exports['in-expo']=exports.inExpo;exports['out-expo']=exports.outExpo;exports['in-out-expo']=exports.inOutExpo;exports['in-circ']=exports.inCirc;exports['out-circ']=exports.outCirc;exports['in-out-circ']=exports.inOutCirc;exports['in-back']=exports.inBack;exports['out-back']=exports.outBack;exports['in-out-back']=exports.inOutBack;exports['in-bounce']=exports.inBounce;exports['out-bounce']=exports.outBounce;exports['in-out-bounce']=exports.inOutBounce;/***/},/* 212 *//***/function(module,exports){/**
		 * Expose `requestAnimationFrame()`.
		 */exports=module.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||fallback;/**
		 * Fallback implementation.
		 */var prev=new Date().getTime();function fallback(fn){var curr=new Date().getTime();var ms=Math.max(0,16-(curr-prev));var req=setTimeout(fn,ms);prev=curr;return req;}/**
		 * Cancel.
		 */var cancel=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;exports.cancel=function(id){cancel.call(window,id);};/***/},/* 213 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var event={/**
		   * openUrl
		   * @param  {string} url
		   */openURL:function openURL(url){location.href=url;}};var meta={event:[{name:'openURL',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('event',event,meta);}};/***/},/* 214 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var supportGeolocation='geolocation'in navigator;var errorMsg='[h5-render]: browser doesn\'t support geolocation.';var geolocation={// options:
	//   - enableHighAccuracy optional, value is true or false, false by default.
	//   - timeout [none-native] optional, value is a number (milliseconds), default vaule is FINFINITY.
	//   - maximumAge [none-native] optional, value is a number (milliseconds), default value is 0.
	getCurrentPosition:function getCurrentPosition(successCbId,errorCbId,options){var _this=this;var successCb=function successCb(pos){return _this.sender.performCallback(successCbId,pos);};var errorCb=function errorCb(err){return _this.sender.performCallback(errorCbId,err);};if(supportGeolocation){navigator.geolocation.getCurrentPosition(successCb,errorCb,options);}else{console.warn(errorMsg);errorCb(new Error(errorMsg));}},// options: the same with `getCurrentPosition`.
	watchPosition:function watchPosition(successCbId,errorCbId,options){var _this2=this;var successCb=function successCb(pos){return _this2.sender.performCallback(successCbId,pos,true);};var errorCb=function errorCb(err){return _this2.sender.performCallback(errorCbId,err);};if(supportGeolocation){(function(){var id=navigator.geolocation.watchPosition(function(pos){pos.watchId=id;successCb(pos);},errorCb,options);})();}else{console.warn(errorMsg);errorCb(new Error(errorMsg));}},clearWatch:function clearWatch(watchId){if(supportGeolocation){navigator.geolocation.clearWatch(watchId);}else{console.warn(errorMsg);}}};var meta={geolocation:[{name:'getCurrentPosition',args:['function','function','object']},{name:'watchPosition',args:['function','function','object']},{name:'clearWatch',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('geolocation',geolocation,meta);}};/***/},/* 215 *//***/function(module,exports){'use strict';// track varies kinds of events and listeners.
	Object.defineProperty(exports,"__esModule",{value:true});var handlerTraker={};var globalEvent={/**
		   * addEventListener
		   * @param {string} evt - the event name to add a listener on.
		   */addEventListener:function addEventListener(evt,callbackId){var _this=this;var cb=function cb(e){return _this.sender.performCallback(callbackId,e);};if(!handlerTraker[evt]){handlerTraker[evt]=[cb];}else{handlerTraker.push(cb);}document.addEventListener(evt,cb);},/**
		   * removeEventListener
		   * @param {string} evt - the event name to remove a listener from.
		   */removeEventListener:function removeEventListener(evt){handlerTraker[evt].forEach(function(cb){return document.removeEventListener(evt,cb);});}};var meta={globalEvent:[{name:'addEventListener',args:['string','function']},{name:'removeEventListener',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('globalEvent',globalEvent,meta);}};/***/},/* 216 *//***/function(module,exports,__webpack_require__){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _modals=__webpack_require__(217);var _modals2=_interopRequireDefault(_modals);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var msg={// duration: default is 0.8 seconds.
	toast:function toast(config){_modals2.default.toast(config.message,config.duration);},// config:
	//  - message: string
	//  - okTitle: title of ok button
	//  - callback
	alert:function alert(config,callbackId){var sender=this.sender;config.callback=function(){sender.performCallback(callbackId);};_modals2.default.alert(config);},// config:
	//  - message: string
	//  - okTitle: title of ok button
	//  - cancelTitle: title of cancel button
	//  - callback
	confirm:function confirm(config,callbackId){var sender=this.sender;config.callback=function(val){sender.performCallback(callbackId,val);};_modals2.default.confirm(config);},// config:
	//  - message: string
	//  - okTitle: title of ok button
	//  - cancelTitle: title of cancel button
	//  - callback
	prompt:function prompt(config,callbackId){var sender=this.sender;config.callback=function(val){sender.performCallback(callbackId,val);};_modals2.default.prompt(config);}};var meta={modal:[{name:'toast',args:['object']},{name:'alert',args:['object','function']},{name:'confirm',args:['object','function']},{name:'prompt',args:['object','function']}]};exports.default={init:function init(Weex){Weex.registerApiModule('modal',msg,meta);}};/***/},/* 217 *//***/function(module,exports,__webpack_require__){'use strict';var Alert=__webpack_require__(218);var Confirm=__webpack_require__(224);var Prompt=__webpack_require__(227);var _toast=__webpack_require__(230);var modal={toast:function toast(msg,duration){_toast.push(msg,duration);},alert:function alert(config){new Alert(config).show();},prompt:function prompt(config){new Prompt(config).show();},confirm:function confirm(config){new Confirm(config).show();}};!window.lib&&(window.lib={});window.lib.modal=modal;module.exports=modal;/***/},/* 218 *//***/function(module,exports,__webpack_require__){'use strict';var Modal=__webpack_require__(219);__webpack_require__(222);var CONTENT_CLASS='content';var MSG_CLASS='content-msg';var BUTTON_GROUP_CLASS='btn-group';var BUTTON_CLASS='btn';function Alert(config){this.msg=config.message||'';this.callback=config.callback;this.okTitle=config.okTitle||'OK';Modal.call(this);this.node.classList.add('amfe-alert');}Alert.prototype=Object.create(Modal.prototype);Alert.prototype.createNodeContent=function(){var content=document.createElement('div');content.classList.add(CONTENT_CLASS);this.node.appendChild(content);var msg=document.createElement('div');msg.classList.add(MSG_CLASS);msg.appendChild(document.createTextNode(this.msg));content.appendChild(msg);var buttonGroup=document.createElement('div');buttonGroup.classList.add(BUTTON_GROUP_CLASS);this.node.appendChild(buttonGroup);var button=document.createElement('div');button.classList.add(BUTTON_CLASS,'alert-ok');button.appendChild(document.createTextNode(this.okTitle));buttonGroup.appendChild(button);};Alert.prototype.bindEvents=function(){Modal.prototype.bindEvents.call(this);var button=this.node.querySelector('.'+BUTTON_CLASS);button.addEventListener('click',function(){this.destroy();this.callback&&this.callback();}.bind(this));};module.exports=Alert;/***/},/* 219 *//***/function(module,exports,__webpack_require__){'use strict';__webpack_require__(220);// there will be only one instance of modal.
	var MODAL_WRAP_CLASS='amfe-modal-wrap';var MODAL_NODE_CLASS='amfe-modal-node';function Modal(){this.wrap=document.querySelector(MODAL_WRAP_CLASS);this.node=document.querySelector(MODAL_NODE_CLASS);if(!this.wrap){this.createWrap();}if(!this.node){this.createNode();}this.clearNode();this.createNodeContent();this.bindEvents();}Modal.prototype={show:function show(){this.wrap.style.display='block';this.node.classList.remove('hide');},destroy:function destroy(){document.body.removeChild(this.wrap);document.body.removeChild(this.node);this.wrap=null;this.node=null;},createWrap:function createWrap(){this.wrap=document.createElement('div');this.wrap.className=MODAL_WRAP_CLASS;document.body.appendChild(this.wrap);},createNode:function createNode(){this.node=document.createElement('div');this.node.classList.add(MODAL_NODE_CLASS,'hide');document.body.appendChild(this.node);},clearNode:function clearNode(){this.node.innerHTML='';},createNodeContent:function createNodeContent(){// do nothing.
	// child classes can override this method.
	},bindEvents:function bindEvents(){this.wrap.addEventListener('click',function(e){e.preventDefault();e.stopPropagation();});}};module.exports=Modal;/***/},/* 220 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(221);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../css-loader/index.js!./modal.css",function(){var newContent=require("!!./../../css-loader/index.js!./modal.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 221 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".amfe-modal-wrap {\n  display: none;\n  position: fixed;\n  z-index: 999999999;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  opacity: 0.5;\n}\n\n.amfe-modal-node {\n  position: fixed;\n  z-index: 9999999999;\n  top: 50%;\n  left: 50%;\n  width: 6.666667rem;\n  min-height: 2.666667rem;\n  border-radius: 0.066667rem;\n  -webkit-transform: translate(-50%, -50%);\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n}\n.amfe-modal-node.hide {\n  display: none;\n}\n.amfe-modal-node .content {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-flex-direction: column;\n  flex-direction: column;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n  justify-content: center;\n  width: 100%;\n  min-height: 1.866667rem;\n  box-sizing: border-box;\n  font-size: 0.32rem;\n  line-height: 0.426667rem;\n  padding: 0.213333rem;\n  border-bottom: 1px solid #ddd;\n}\n.amfe-modal-node .btn-group {\n  width: 100%;\n  height: 0.8rem;\n  font-size: 0.373333rem;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  border: none;\n}\n.amfe-modal-node .btn-group .btn {\n  box-sizing: border-box;\n  height: 0.8rem;\n  line-height: 0.8rem;\n  margin: 0;\n  padding: 0;\n  border: none;\n  background: none;\n}\n",""]);// exports
	/***/},/* 222 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(223);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../css-loader/index.js!./alert.css",function(){var newContent=require("!!./../../css-loader/index.js!./alert.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 223 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".amfe-alert .amfe-alert-ok {\n  width: 100%;\n}\n",""]);// exports
	/***/},/* 224 *//***/function(module,exports,__webpack_require__){'use strict';var Modal=__webpack_require__(219);__webpack_require__(225);var CONTENT_CLASS='content';var MSG_CLASS='content-msg';var BUTTON_GROUP_CLASS='btn-group';var BUTTON_CLASS='btn';function Confirm(config){this.msg=config.message||'';this.callback=config.callback;this.okTitle=config.okTitle||'OK';this.cancelTitle=config.cancelTitle||'Cancel';Modal.call(this);this.node.classList.add('amfe-confirm');}Confirm.prototype=Object.create(Modal.prototype);Confirm.prototype.createNodeContent=function(){var content=document.createElement('div');content.classList.add(CONTENT_CLASS);this.node.appendChild(content);var msg=document.createElement('div');msg.classList.add(MSG_CLASS);msg.appendChild(document.createTextNode(this.msg));content.appendChild(msg);var buttonGroup=document.createElement('div');buttonGroup.classList.add(BUTTON_GROUP_CLASS);this.node.appendChild(buttonGroup);var btnOk=document.createElement('div');btnOk.appendChild(document.createTextNode(this.okTitle));btnOk.classList.add('btn-ok',BUTTON_CLASS);var btnCancel=document.createElement('div');btnCancel.appendChild(document.createTextNode(this.cancelTitle));btnCancel.classList.add('btn-cancel',BUTTON_CLASS);buttonGroup.appendChild(btnOk);buttonGroup.appendChild(btnCancel);this.node.appendChild(buttonGroup);};Confirm.prototype.bindEvents=function(){Modal.prototype.bindEvents.call(this);var btnOk=this.node.querySelector('.'+BUTTON_CLASS+'.btn-ok');var btnCancel=this.node.querySelector('.'+BUTTON_CLASS+'.btn-cancel');btnOk.addEventListener('click',function(){this.destroy();this.callback&&this.callback(this.okTitle);}.bind(this));btnCancel.addEventListener('click',function(){this.destroy();this.callback&&this.callback(this.cancelTitle);}.bind(this));};module.exports=Confirm;/***/},/* 225 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(226);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../css-loader/index.js!./confirm.css",function(){var newContent=require("!!./../../css-loader/index.js!./confirm.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 226 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".amfe-confirm .btn-group .btn {\n  float: left;\n  width: 50%;\n}\n.amfe-confirm .btn-group .btn.btn-ok {\n  border-right: 1px solid #ddd;\n}\n",""]);// exports
	/***/},/* 227 *//***/function(module,exports,__webpack_require__){'use strict';var Modal=__webpack_require__(219);__webpack_require__(228);var CONTENT_CLASS='content';var MSG_CLASS='content-msg';var BUTTON_GROUP_CLASS='btn-group';var BUTTON_CLASS='btn';var INPUT_WRAP_CLASS='input-wrap';var INPUT_CLASS='input';function Prompt(config){this.msg=config.message||'';this.defaultMsg=config.default||'';this.callback=config.callback;this.okTitle=config.okTitle||'OK';this.cancelTitle=config.cancelTitle||'Cancel';Modal.call(this);this.node.classList.add('amfe-prompt');}Prompt.prototype=Object.create(Modal.prototype);Prompt.prototype.createNodeContent=function(){var content=document.createElement('div');content.classList.add(CONTENT_CLASS);this.node.appendChild(content);var msg=document.createElement('div');msg.classList.add(MSG_CLASS);msg.appendChild(document.createTextNode(this.msg));content.appendChild(msg);var inputWrap=document.createElement('div');inputWrap.classList.add(INPUT_WRAP_CLASS);content.appendChild(inputWrap);var input=document.createElement('input');input.classList.add(INPUT_CLASS);input.type='text';input.autofocus=true;input.placeholder=this.defaultMsg;inputWrap.appendChild(input);var buttonGroup=document.createElement('div');buttonGroup.classList.add(BUTTON_GROUP_CLASS);var btnOk=document.createElement('div');btnOk.appendChild(document.createTextNode(this.okTitle));btnOk.classList.add('btn-ok',BUTTON_CLASS);var btnCancel=document.createElement('div');btnCancel.appendChild(document.createTextNode(this.cancelTitle));btnCancel.classList.add('btn-cancel',BUTTON_CLASS);buttonGroup.appendChild(btnOk);buttonGroup.appendChild(btnCancel);this.node.appendChild(buttonGroup);};Prompt.prototype.bindEvents=function(){Modal.prototype.bindEvents.call(this);var btnOk=this.node.querySelector('.'+BUTTON_CLASS+'.btn-ok');var btnCancel=this.node.querySelector('.'+BUTTON_CLASS+'.btn-cancel');var that=this;btnOk.addEventListener('click',function(){var val=document.querySelector('input').value;this.destroy();this.callback&&this.callback({result:that.okTitle,data:val});}.bind(this));btnCancel.addEventListener('click',function(){var val=document.querySelector('input').value;this.destroy();this.callback&&this.callback({result:that.cancelTitle,data:val});}.bind(this));};module.exports=Prompt;/***/},/* 228 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(229);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../css-loader/index.js!./prompt.css",function(){var newContent=require("!!./../../css-loader/index.js!./prompt.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 229 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".amfe-prompt .input-wrap {\n  box-sizing: border-box;\n  width: 100%;\n  margin-top: 0.133333rem;\n  // padding: 0.24rem 0.213333rem 0.213333rem;\n  height: 0.96rem;\n}\n.amfe-prompt .input-wrap .input {\n  box-sizing: border-box;\n  width: 100%;\n  height: 0.56rem;\n  line-height: 0.56rem;\n  font-size: 0.32rem;\n  border: 1px solid #999;\n}\n.amfe-prompt .btn-group .btn {\n  float: left;\n  width: 50%;\n}\n.amfe-prompt .btn-group .btn.btn-ok {\n  border-right: 1px solid #ddd;\n}\n",""]);// exports
	/***/},/* 230 *//***/function(module,exports,__webpack_require__){'use strict';__webpack_require__(231);var queue=[];var timer;var isProcessing=false;var toastWin;var TOAST_WIN_CLASS_NAME='amfe-toast';var DEFAULT_DURATION=0.8;var TRANSITION_TIME=0.4;function showToastWindow(msg,callback){var handleTransitionEnd=function handleTransitionEnd(){toastWin.removeEventListener('transitionend',handleTransitionEnd);toastWin.removeEventListener('webkitTransitionEnd',handleTransitionEnd);callback&&callback();};if(!toastWin){toastWin=document.createElement('div');toastWin.classList.add(TOAST_WIN_CLASS_NAME,'hide');document.body.appendChild(toastWin);}toastWin.innerHTML=msg;toastWin.addEventListener('transitionend',handleTransitionEnd);toastWin.addEventListener('webkitTransitionEnd',handleTransitionEnd);setTimeout(function(){toastWin.classList.remove('hide');},0);setTimeout(function(){callback&&callback();},TRANSITION_TIME*1000);}function hideToastWindow(callback){var handleTransitionEnd=function handleTransitionEnd(){toastWin.removeEventListener('transitionend',handleTransitionEnd);toastWin.removeEventListener('webkitTransitionEnd',handleTransitionEnd);callback&&callback();};if(!toastWin){return;}toastWin.addEventListener('transitionend',handleTransitionEnd);toastWin.addEventListener('webkitTransitionEnd',handleTransitionEnd);toastWin.classList.add('hide');setTimeout(function(){callback&&callback();},TRANSITION_TIME*1000);}var toast={push:function push(msg,duration){queue.push({msg:msg,duration:duration||DEFAULT_DURATION});this.show();},show:function show(){var that=this;// All messages had been toasted already, so remove the toast window,
	if(!queue.length){toastWin&&toastWin.parentNode.removeChild(toastWin);toastWin=null;return;}// the previous toast is not ended yet.
	if(isProcessing){return;}isProcessing=true;var toastInfo=queue.shift();showToastWindow(toastInfo.msg,function(){timer=setTimeout(function(){timer=null;hideToastWindow(function(){isProcessing=false;that.show();});},toastInfo.duration*1000);});}};module.exports={push:toast.push.bind(toast)};/***/},/* 231 *//***/function(module,exports,__webpack_require__){// style-loader: Adds some css to the DOM by adding a <style> tag
	// load the styles
	var content=__webpack_require__(232);if(typeof content==='string')content=[[module.id,content,'']];// add the styles to the DOM
	var update=__webpack_require__(5)(content,{});if(content.locals)module.exports=content.locals;// Hot Module Replacement
	if(false){// When the styles change, update the <style> tags
	if(!content.locals){module.hot.accept("!!./../../css-loader/index.js!./toast.css",function(){var newContent=require("!!./../../css-loader/index.js!./toast.css");if(typeof newContent==='string')newContent=[[module.id,newContent,'']];update(newContent);});}// When the module is disposed, remove the <style> tags
	module.hot.dispose(function(){update();});}/***/},/* 232 *//***/function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(4)();// imports
	// module
	exports.push([module.id,".amfe-toast {\n  font-size: 0.32rem;\n  line-height: 0.426667rem;\n  position: fixed;\n  box-sizing: border-box;\n  max-width: 80%;\n  bottom: 2.666667rem;\n  left: 50%;\n  padding: 0.213333rem;\n  background-color: #000;\n  color: #fff;\n  text-align: center;\n  opacity: 0.6;\n  transition: all 0.4s ease-in-out;\n  border-radius: 0.066667rem;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n}\n\n.amfe-toast.hide {\n  opacity: 0;\n}\n",""]);// exports
	/***/},/* 233 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var navigator={// config
	//  - url: the url to push
	//  - animated: this configuration item is native only
	//  callback is not currently supported
	push:function push(config,callbackId){window.location.href=config.url;this.sender.performCallback(callbackId);},// config
	//  - animated: this configuration item is native only
	//  callback is note currently supported
	pop:function pop(config,callbackId){window.history.back();this.sender.performCallback(callbackId);}};var meta={navigator:[{name:'push',args:['object','function']},{name:'pop',args:['object','function']}]};exports.default={init:function init(Weex){Weex.registerApiModule('navigator',navigator,meta);}};/***/},/* 234 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var pageInfo={setTitle:function setTitle(title){title=title||'Weex HTML5';try{title=decodeURIComponent(title);}catch(e){}document.title=title;}};var meta={pageInfo:[{name:'setTitle',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('pageInfo',pageInfo,meta);}};/***/},/* 235 *//***/function(module,exports){/* global localStorage */'use strict';Object.defineProperty(exports,"__esModule",{value:true});var supportLocalStorage=typeof localStorage!=='undefined';var SUCCESS='success';var FAILED='failed';var INVALID_PARAM='invalid_param';var UNDEFINED='undefined';var storage={/**
		   * When passed a key name and value, will add that key to the storage,
		   * or update that key's value if it already exists.
		   * @param {string} key
		   * @param {string} value
		   * @param {function} callbackId
		   */setItem:function setItem(key,value,callbackId){if(!supportLocalStorage){console.error('your browser is not support localStorage yet.');return;}var sender=this.sender;if(!key||!value){sender.performCallback(callbackId,{result:'failed',data:INVALID_PARAM});return;}try{localStorage.setItem(key,value);sender.performCallback(callbackId,{result:SUCCESS,data:UNDEFINED});}catch(e){// accept any exception thrown during a storage attempt as a quota error
	sender.performCallback(callbackId,{result:FAILED,data:UNDEFINED});}},/**
		   * When passed a key name, will return that key's value.
		   * @param {string} key
		   * @param {function} callbackId
		   */getItem:function getItem(key,callbackId){if(!supportLocalStorage){console.error('your browser is not support localStorage yet.');return;}var sender=this.sender;if(!key){sender.performCallback(callbackId,{result:FAILED,data:INVALID_PARAM});return;}var val=localStorage.getItem(key);sender.performCallback(callbackId,{result:val?SUCCESS:FAILED,data:val||UNDEFINED});},/**
		   *When passed a key name, will remove that key from the storage.
		   * @param {string} key
		   * @param {function} callbackId
		   */removeItem:function removeItem(key,callbackId){if(!supportLocalStorage){console.error('your browser is not support localStorage yet.');return;}var sender=this.sender;if(!key){sender.performCallback(callbackId,{result:FAILED,data:INVALID_PARAM});return;}localStorage.removeItem(key);sender.performCallback(callbackId,{result:SUCCESS,data:UNDEFINED});},/**
		   * Returns an integer representing the number of data items stored in the Storage object.
		   * @param {function} callbackId
		   */length:function length(callbackId){if(!supportLocalStorage){console.error('your browser is not support localStorage yet.');return;}var sender=this.sender;var len=localStorage.length;sender.performCallback(callbackId,{result:SUCCESS,data:len});},/**
		   * Returns an array that contains all keys stored in Storage object.
		   * @param {function} callbackId
		   */getAllKeys:function getAllKeys(callbackId){if(!supportLocalStorage){console.error('your browser is not support localStorage yet.');return;}var sender=this.sender;var _arr=[];for(var i=0;i<localStorage.length;i++){_arr.push(localStorage.key(i));}sender.performCallback(callbackId,{result:SUCCESS,data:_arr});}};var meta={storage:[{name:'setItem',args:['string','string','function']},{name:'getItem',args:['string','function']},{name:'removeItem',args:['string','function']},{name:'length',args:['function']},{name:'getAllKeys',args:['function']}]};exports.default={init:function init(Weex){Weex.registerApiModule('storage',storage,meta);}};/***/},/* 236 *//***/function(module,exports,__webpack_require__){/* global lib, XMLHttpRequest *//* deps: httpurl */'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"?function(obj){return typeof obj==='undefined'?'undefined':_typeof2(obj);}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj==='undefined'?'undefined':_typeof2(obj);};__webpack_require__(146);var utils=void 0;var jsonpCnt=0;var ERROR_STATE=-1;var TYPE_JSON='application/json;charset=UTF-8';var TYPE_FORM='application/x-www-form-urlencoded';var REG_FORM=/^(?:[^&=]+=[^&=]+)(?:&[^&=]+=[^&=]+)*$/;function _jsonp(config,callback,progressCallback){var cbName='jsonp_'+ ++jsonpCnt;var url=void 0;if(!config.url){console.error('[h5-render] config.url should be set in _jsonp for \'fetch\' API.');}global[cbName]=function(cb){return function(response){callback({status:200,ok:true,statusText:'OK',data:response});delete global[cb];};}(cbName);var script=document.createElement('script');try{url=lib.httpurl(config.url);}catch(err){console.error('[h5-render] invalid config.url in _jsonp for \'fetch\' API: '+config.url);}url.params.callback=cbName;script.type='text/javascript';script.src=url.toString();// script.onerror is not working on IE or safari.
	// but they are not considered here.
	script.onerror=function(cb){return function(err){console.error('[h5-render] unexpected error in _jsonp for \'fetch\' API',err);callback({status:ERROR_STATE,ok:false,statusText:'',data:''});delete global[cb];};}(cbName);var head=document.getElementsByTagName('head')[0];head.insertBefore(script,null);}function _xhr(config,callback,progressCallback){var xhr=new XMLHttpRequest();xhr.responseType=config.type;xhr.open(config.method,config.url,true);var headers=config.headers||{};for(var k in headers){xhr.setRequestHeader(k,headers[k]);}xhr.onload=function(res){callback({status:xhr.status,ok:xhr.status>=200&&xhr.status<300,statusText:xhr.statusText,data:xhr.response,headers:xhr.getAllResponseHeaders().split('\n').reduce(function(obj,headerStr){var headerArr=headerStr.match(/(.+): (.+)/);if(headerArr){obj[headerArr[1]]=headerArr[2];}return obj;},{})});};if(progressCallback){xhr.onprogress=function(e){progressCallback({readyState:xhr.readyState,status:xhr.status,length:e.loaded,total:e.total,statusText:xhr.statusText,headers:xhr.getAllResponseHeaders().split('\n').reduce(function(obj,headerStr){var headerArr=headerStr.match(/(.+): (.+)/);if(headerArr){obj[headerArr[1]]=headerArr[2];}return obj;},{})});};}xhr.onerror=function(err){console.error('[h5-render] unexpected error in _xhr for \'fetch\' API',err);callback({status:ERROR_STATE,ok:false,statusText:'',data:''});};xhr.send(config.body);}var stream={/**
		   * sendHttp
		   * @deprecated
		   * Note: This API is deprecated. Please use stream.fetch instead.
		   * send a http request through XHR.
		   * @param  {obj} params
		   *  - method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'PATCH',
		   *  - url: url requested
		   * @param  {string} callbackId
		   */sendHttp:function sendHttp(param,callbackId){if(typeof param==='string'){try{param=JSON.parse(param);}catch(e){return;}}if((typeof param==='undefined'?'undefined':_typeof(param))!=='object'||!param.url){return console.error('[h5-render] invalid config or invalid config.url for sendHttp API');}var sender=this.sender;var method=param.method||'GET';var xhr=new XMLHttpRequest();xhr.open(method,param.url,true);xhr.onload=function(){sender.performCallback(callbackId,this.responseText);};xhr.onerror=function(error){return console.error('[h5-render] unexpected error in sendHttp API',error);// sender.performCallback(
	//   callbackId,
	//   new Error('unexpected error in sendHttp API')
	// )
	};xhr.send();},/**
		   * fetch
		   * use stream.fetch to request for a json file, a plain text file or
		   * a arraybuffer for a file stream. (You can use Blob and FileReader
		   * API implemented by most modern browsers to read a arraybuffer.)
		   * @param  {object} options config options
		   *   - method: 'GET' | 'POST' | 'PUT' | 'DELETE' | 'HEAD' | 'PATCH'
		   *   - headers {obj}
		   *   - url {string}
		   *   - mode {string} 'cors' | 'no-cors' | 'same-origin' | 'navigate'
		   *   - body
		   *   - type {string} 'json' | 'jsonp' | 'text'
		   * @param  {string} callbackId
		   * @param  {string} progressCallbackId
		   */fetch:function fetch(options,callbackId,progressCallbackId){var DEFAULT_METHOD='GET';var DEFAULT_MODE='cors';var DEFAULT_TYPE='text';var methodOptions=['GET','POST','PUT','DELETE','HEAD','PATCH'];var modeOptions=['cors','no-cors','same-origin','navigate'];var typeOptions=['text','json','jsonp','arraybuffer'];// const fallback = false  // fallback from 'fetch' API to XHR.
	var sender=this.sender;var config=utils.extend({},options);// validate options.method
	if(typeof config.method==='undefined'){config.method=DEFAULT_METHOD;console.warn('[h5-render] options.method for \'fetch\' API has been set to '+'default value \''+config.method+'\'');}else if(methodOptions.indexOf((config.method+'').toUpperCase())===-1){return console.error('[h5-render] options.method \''+config.method+'\' for \'fetch\' API should be one of '+methodOptions+'.');}// validate options.url
	if(!config.url){return console.error('[h5-render] options.url should be set for \'fetch\' API.');}// validate options.mode
	if(typeof config.mode==='undefined'){config.mode=DEFAULT_MODE;}else if(modeOptions.indexOf((config.mode+'').toLowerCase())===-1){return console.error('[h5-render] options.mode \''+config.mode+'\' for \'fetch\' API should be one of '+modeOptions+'.');}// validate options.type
	if(typeof config.type==='undefined'){config.type=DEFAULT_TYPE;console.warn('[h5-render] options.type for \'fetch\' API has been set to '+'default value \''+config.type+'\'.');}else if(typeOptions.indexOf((config.type+'').toLowerCase())===-1){return console.error('[h5-render] options.type \''+config.type+'\' for \'fetch\' API should be one of '+typeOptions+'.');}// validate options.headers
	config.headers=config.headers||{};if(!utils.isPlainObject(config.headers)){return console.error('[h5-render] options.headers should be a plain object');}// validate options.body
	var body=config.body;if(!config.headers['Content-Type']&&body){if(utils.isPlainObject(body)){// is a json data
	try{config.body=JSON.stringify(body);config.headers['Content-Type']=TYPE_JSON;}catch(e){}}else if(utils.getType(body)==='string'&&body.match(REG_FORM)){// is form-data
	config.body=encodeURI(body);config.headers['Content-Type']=TYPE_FORM;}}// validate options.timeout
	config.timeout=parseInt(config.timeout,10)||2500;var _callArgs=[config,function(res){sender.performCallback(callbackId,res);}];if(progressCallbackId){_callArgs.push(function(res){// Set 'keepAlive' to true for sending continuous callbacks
	sender.performCallback(progressCallbackId,res,true);});}if(config.type==='jsonp'){_jsonp.apply(this,_callArgs);}else{_xhr.apply(this,_callArgs);}}};var meta={stream:[{name:'sendHttp',args:['object','function']},{name:'fetch',args:['object','function','function']}]};exports.default={init:function init(Weex){utils=Weex.utils;Weex.registerApiModule('stream',stream,meta);}};/***/},/* 237 *//***/function(module,exports){'use strict';Object.defineProperty(exports,"__esModule",{value:true});var webview={// ref: ref of the web component.
	goBack:function goBack(ref){var webComp=this.getComponentManager().getComponent(ref);if(!webComp.goBack){console.error('error: the specified component has no method of'+' goBack. Please make sure it is a webview component.');return;}webComp.goBack();},// ref: ref of the web component.
	goForward:function goForward(ref){var webComp=this.getComponentManager().getComponent(ref);if(!webComp.goForward){console.error('error: the specified component has no method of'+' goForward. Please make sure it is a webview component.');return;}webComp.goForward();},// ref: ref of the web component.
	reload:function reload(ref){var webComp=this.getComponentManager().getComponent(ref);if(!webComp.reload){console.error('error: the specified component has no method of'+' reload. Please make sure it is a webview component.');return;}webComp.reload();}};var meta={webview:[{name:'goBack',args:['string']},{name:'goForward',args:['string']},{name:'reload',args:['string']}]};exports.default={init:function init(Weex){Weex.registerApiModule('webview',webview,meta);}};/***/}/******/]);module.exports=global.weex;
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ },
/* 2 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	var DEFAULT_VALUE = 'Weex-html5 extending';
	
	// prototype methods.
	var proto = {
	  create: function create() {
	    var node = document.createElement('div');
	    this.inner = document.createElement('span');
	    this.value = DEFAULT_VALUE;
	    this.inner.textContent = 'Hello ' + DEFAULT_VALUE + '!';
	    node.appendChild(this.inner);
	    return node;
	  }
	};
	
	// attribute setters.
	var attr = {
	  value: function value(val) {
	    this.value = val;
	    this.inner.textContent = 'Hello ' + val + '!';
	  }
	};
	
	// style setters.
	var style = {
	  txtColor: function txtColor(val) {
	    this.inner.style.color = val;
	  },
	  bgColor: function bgColor(val) {
	    this.inner.style.backgroundColor = val;
	  }
	};
	
	// event config.
	var event = {
	  click: {
	    extra: function extra() {
	      return {
	        value: this.inner.textContent
	      };
	    }
	  }
	};
	
	function init(Weex) {
	  var Component = Weex.Component;
	  var extend = Weex.utils.extend;
	
	  function Hello(data) {
	    Component.call(this, data);
	  }
	
	  Hello.prototype = Object.create(Component.prototype);
	  extend(Hello.prototype, proto);
	  extend(Hello.prototype, { attr: attr });
	  extend(Hello.prototype, {
	    style: extend(Object.create(Component.prototype.style), style)
	  });
	  extend(Hello.prototype, { event: event });
	
	  Weex.registerComponent('weex-hello', Hello);
	}
	
	exports.default = { init: init };

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZmQ3NjI3NWYzZGMwMGU5MzBhNGQiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6L3dlYnBhY2svYm9vdHN0cmFwIGZlZGYzYmUzM2E3OWE0ZDQ5NmJjIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9yZW5kZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9yZW5kZXIvc3R5bGUvYmFzZS5jc3M/ZDExYSIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3JlbmRlci9zdHlsZS9iYXNlLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL3NoYXJlZC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9zaGFyZWQvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvc2hhcmVkL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2NsYXNzb2YuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2NvZi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fd2tzLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdWlkLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19oYXMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19jdHguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXJhdG9ycy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1kcHMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fYXJyYXktaW5jbHVkZXMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3RvLWxlbmd0aC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2h0bWwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ3BvLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL190by1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5wcm9taXNlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19hbi1pbnN0YW5jZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fZm9yLW9mLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2lzLWFycmF5LWl0ZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1nb3BkLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtcGllLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19zcGVjaWVzLWNvbnN0cnVjdG9yLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL190YXNrLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pbnZva2UuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX21pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19zZXQtc3BlY2llcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1kZXRlY3QuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvcnVudGltZS9pbml0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9jb25maWcuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2RlZmF1bHQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL3N0YXRpYy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2FwcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9yZWdpc3Rlci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2N0cmwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2FwcC9jdHJsL2luaXQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC92bS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3V0aWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9jb3JlL3N0YXRlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS93YXRjaGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vLyh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9kZXAuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9jb3JlL29ic2VydmVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9hcnJheS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3ZtL2NvbXBpbGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvdm0vZGlyZWN0aXZlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29uZmlnLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvdm0vZG9tLWhlbHBlci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3ZtL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2J1bmRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2J1bmRsZS9ib290c3RyYXAuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvYnVuZGxlL2RlZmluZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9jdHJsL21pc2MuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvaW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvZGlmZmVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvc3RhdGljL21hcC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3N0YXRpYy9saWZlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvYXBwL2N0cmwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvY3RybC9pbml0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvYXBwL2J1bmRsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9idW5kbGUvYm9vdHN0cmFwLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vc2VtdmVyL3NlbXZlci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9kb3duZ3JhZGUuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9zdGF0aWMvcmVnaXN0ZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9zdGF0aWMvYnJpZGdlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvc3RhdGljL21pc2MuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvdmRvbS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9wYWNrYWdlLmpzb24iLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcGkvbWV0aG9kcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2RvbS9jb21wb25lbnRNYW5hZ2VyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZG9tL2FwcGVhcldhdGNoZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci91dGlscy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3V0aWxzL2ZyYW1lVXBkYXRlci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9zaGFyZWQvb2JqZWN0QXNzaWduLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9mbi9vYmplY3QvYXNzaWduLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3V0aWxzL2FycmF5LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL3JlbmRlci9sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9icmlkZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9icmlkZ2UvcHJvdG9jb2wuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9icmlkZ2UvcmVjZWl2ZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9icmlkZ2Uvc2VuZGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9kb20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9vcGVyYXRlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvdmFsdWVGaWx0ZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9wb3NpdGlvbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2Jhc2UvY29tcG9uZW50L3N0aWNreS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2Jhc2UvY29tcG9uZW50L2ZsZXhib3guanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9sYXp5bG9hZC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2xhenlpbWcvc3JjL2FkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9sYXp5aW1nL34vYXBwZWFyanMvc3JjL2FwcGVhci5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2Jhc2UvYXRvbWljLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL3JlZ2lzdGVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vZW52ZC9idWlsZC9lbnZkLmNvbW1vbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L2h0dHB1cmwvYnVpbGQvaHR0cHVybC5jb21tb24uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9yZW5kZXIvZ2VzdHVyZS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2Jhc2Uvcm9vdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2Jhc2UvZGl2LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9kcm9vdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9wYWNrZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90ZXh0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvaW1hZ2UvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbWFnZS9pbWFnZS5jc3M/NjhhOCIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2ltYWdlL2ltYWdlLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9jYXJyb3VzZWwuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9jdWJpY2Jlemllci9idWlsZC9jdWJpY2Jlemllci5jb21tb24uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9hbmltYXRpb25qcy9idWlsZC9hbmltYXRpb24uY29tbW9uLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL2NhcnJvdXNlbC5jc3M/MzA1MSIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9jYXJyb3VzZWwuY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL3RpbWVyLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlci5jc3M/NTk4YyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9zbGlkZXIuY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbGlzdC92bGlzdC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbGlzdC9saXN0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmNzcz82YTI0Iiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvc2Nyb2xsLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9tb3Rpb24uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xpc3QvaGxpc3QuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL3Njcm9sbGVyL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWZyZXNoL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWZyZXNoL3JlZnJlc2guY3NzP2IwZjQiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL3JlZnJlc2gvcmVmcmVzaC5jc3MiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcvbG9hZGluZy5jc3M/NzI0YSIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbG9hZGluZy9sb2FkaW5nLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2luZGljYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2luZGljYXRvci9pbmRpY2F0b3IuY3NzPzdjMDUiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbmRpY2F0b3IvaW5kaWNhdG9yLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3RhYmhlYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3RhYmhlYWRlci90YWJoZWFkZXIuY3NzPzhkM2MiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90YWJoZWFkZXIvdGFiaGVhZGVyLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2lucHV0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdGV4dGFyZWEuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy92aWRlby9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3ZpZGVvL3ZpZGVvLmNzcz85YjMyIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdmlkZW8vdmlkZW8uY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3dpdGNoL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3dpdGNoL3N3aXRjaC5jc3M/NGRjNyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3N3aXRjaC9zd2l0Y2guY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvZW1iZWQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zcGlubmVyL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9zcGlubmVyLmNzcz81NWNkIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9zcGlubmVyLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3dlYi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvYW5pbWF0aW9uL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9hbmltYXRpb24vbGliLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9jbGlwYm9hcmQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL2RvbS5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L3Njcm9sbC10by9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L3Njcm9sbC10by9+L2NvbXBvbmVudC10d2Vlbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L3Njcm9sbC10by9+L2NvbXBvbmVudC10d2Vlbi9+L2NvbXBvbmVudC1lbWl0dGVyL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL34vY29tcG9uZW50LWNsb25lL2luZGV4LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL34vY29tcG9uZW50LXR5cGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9zY3JvbGwtdG8vfi9jb21wb25lbnQtdHdlZW4vfi9lYXNlLWNvbXBvbmVudC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L3Njcm9sbC10by9+L2NvbXBvbmVudC1yYWYvaW5kZXguanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL2V2ZW50LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9nZW9sb2NhdGlvbi5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZ2xvYmFsRXZlbnQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL21vZGFsLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L21vZGFscy9zcmMvYWxlcnQuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9tb2RhbHMvc3JjL21vZGFsLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9tb2RhbC5jc3M/NGQzNSIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvbW9kYWwuY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9hbGVydC5jc3M/ODcyNSIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvYWxlcnQuY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3NyYy9jb25maXJtLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9jb25maXJtLmNzcz8yZWEwIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9jb25maXJtLmNzcyIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L21vZGFscy9zcmMvcHJvbXB0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9wcm9tcHQuY3NzPzhjZTIiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9tb2RhbHMvc3R5bGVzL3Byb21wdC5jc3MiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vfi9tb2RhbHMvc3JjL3RvYXN0LmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy90b2FzdC5jc3M/YmI4ZCIsIndlYnBhY2s6Ly8vd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvdG9hc3QuY3NzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9uYXZpZ2F0b3IuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL3BhZ2VJbmZvLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9zdG9yYWdlLmpzIiwid2VicGFjazovLy93ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9zdHJlYW0uanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL3dlYnZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vfi93ZWV4LWhlbGxvL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsIiwiZ2V0VXJsUGFyYW0iLCJrZXkiLCJyZWciLCJSZWdFeHAiLCJtYXRjaCIsImxvY2F0aW9uIiwic2VhcmNoIiwibG9hZGVyIiwicGFnZSIsIkpTT05QX0NBTExCQUNLX05BTUUiLCJpbml0IiwianNvbnBDYWxsYmFjayIsImFwcElkIiwiaHJlZiIsInNvdXJjZSIsInJvb3RJZCIsIkRFRkFVTFRfVkFMVUUiLCJwcm90byIsImNyZWF0ZSIsIm5vZGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lciIsInZhbHVlIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImF0dHIiLCJ2YWwiLCJzdHlsZSIsInR4dENvbG9yIiwiY29sb3IiLCJiZ0NvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZXZlbnQiLCJjbGljayIsImV4dHJhIiwiV2VleCIsIkNvbXBvbmVudCIsImV4dGVuZCIsInV0aWxzIiwiSGVsbG8iLCJkYXRhIiwiY2FsbCIsInByb3RvdHlwZSIsIk9iamVjdCIsInJlZ2lzdGVyQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoiO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FB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QUFEZSxJQUF4QjtBQUdBVSxVQUFPRSxNQUFNRyxTQUFiLEVBQXdCLEVBQUVWLFlBQUYsRUFBeEI7O0FBRUFHLFFBQUtTLGlCQUFMLENBQXVCLFlBQXZCLEVBQXFDTCxLQUFyQztBQUNEOzttQkFFYyxFQUFFOUIsVUFBRixFIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcblxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0ZXhwb3J0czoge30sXG4gXHRcdFx0aWQ6IG1vZHVsZUlkLFxuIFx0XHRcdGxvYWRlZDogZmFsc2VcbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCBmZDc2Mjc1ZjNkYzAwZTkzMGE0ZCIsIi8vIGltcG9ydCB0aGUgb3JpZ2luYWwgd2VleC1odG1sNS5cbmltcG9ydCB3ZWV4IGZyb20gJ3dlZXgtaHRtbDUnXG5pbXBvcnQgaGVsbG8gZnJvbSAnd2VleC1oZWxsbydcbi8vIGluc3RhbGwgdGhlIGNvbXBvbmVudC5cbndlZXguaW5zdGFsbChoZWxsbylcblxuLy8gaW5pdCB0aGUgd2VleCBhbmQgbG9hZCB0aGUgYnVuZGxlIG9mICdkZW1vL2luZGV4LndlJy5cbjsgKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZ2V0VXJsUGFyYW0gKGtleSkge1xuICAgIGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAoJ1s/fCZdJyArIGtleSArICc9KFteJl0rKScpXG4gICAgY29uc3QgbWF0Y2ggPSBsb2NhdGlvbi5zZWFyY2gubWF0Y2gocmVnKVxuICAgIHJldHVybiBtYXRjaCAmJiBtYXRjaFsxXVxuICB9XG5cbiAgY29uc3QgbG9hZGVyID0gZ2V0VXJsUGFyYW0oJ2xvYWRlcicpIHx8ICd4aHInXG4gIGNvbnN0IHBhZ2UgPSBnZXRVcmxQYXJhbSgncGFnZScpIHx8ICdkaXN0L21haW5saXN0LmpzJ1xuXG4gIC8vIGpzb25wIGNhbGxiYWNrIG5hbWUgc2hvdWxkIGJlIHNwZWNpZmllZCBvciBiZSB0aGUgZGVmYXVsdFxuICAvLyB2YWx1ZSAnd2VleEpzb25wQ2FsbGJhY2snIGlmIHRoZSAnanNvbnAnIGxvYWRlciBpcyB1c2VkLlxuICBjb25zdCBKU09OUF9DQUxMQkFDS19OQU1FID0gJ3dlZXhKc29ucENhbGxiYWNrJ1xuXG4gIHdlZXguaW5pdCh7XG4gICAganNvbnBDYWxsYmFjazogSlNPTlBfQ0FMTEJBQ0tfTkFNRSxcbiAgICBhcHBJZDogbG9jYXRpb24uaHJlZixcbiAgICBsb2FkZXI6IGxvYWRlcixcbiAgICBzb3VyY2U6IHBhZ2UsXG4gICAgcm9vdElkOiAnd2VleCdcbiAgfSlcbn0pKClcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9tYWluLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBmZWRmM2JlMzNhNzlhNGQ0OTZiY1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi93ZWJwYWNrL2Jvb3RzdHJhcCBmZWRmM2JlMzNhNzlhNGQ0OTZiYyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgV2VleCBmcm9tICcuL3JlbmRlcidcblxuaW1wb3J0IHJvb3QgZnJvbSAnLi9iYXNlL3Jvb3QnXG5pbXBvcnQgZGl2IGZyb20gJy4vYmFzZS9kaXYnXG5pbXBvcnQgZHJvb3QgZnJvbSAnLi9iYXNlL2Ryb290J1xuXG4vLyBpbnN0YWxsIHRoZSBleHRlbmRlZCBhcGlzIGFuZCBjb21wb25lbnRzLlxuaW1wb3J0IGV4dGVuc2lvbnMgZnJvbSAnLi9leHRlbmQnXG5cbldlZXguaW5zdGFsbChyb290KVxuV2VleC5pbnN0YWxsKGRpdilcbldlZXguaW5zdGFsbChkcm9vdClcblxuV2VleC5pbnN0YWxsKGV4dGVuc2lvbnMpXG5cbmV4cG9ydCBkZWZhdWx0IFdlZXhcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvaW5kZXguanMiLCIvKiBnbG9iYWwgbGliLCBXZWJTb2NrZXQgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCAnLi9zdHlsZS9iYXNlLmNzcydcblxuaW1wb3J0ICcuLi9ydW50aW1lJ1xuXG5pbXBvcnQgY29uZmlnIGZyb20gJy4vY29uZmlnJ1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJy4vbG9hZGVyJ1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi4vdXRpbHMnXG5pbXBvcnQgeyBTZW5kZXIsIHJlY2VpdmVyIH0gZnJvbSAnLi4vYnJpZGdlJ1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuLi9iYXNlL2NvbXBvbmVudCdcbmltcG9ydCBBdG9taWMgZnJvbSAnLi4vYmFzZS9hdG9taWMnXG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICcuLi9kb20vY29tcG9uZW50TWFuYWdlcidcbmltcG9ydCB7IGJpbmQgYXMgYmluZFJlZ2lzdGVyIH0gZnJvbSAnLi9yZWdpc3RlcidcblxuaW1wb3J0ICdlbnZkJ1xuaW1wb3J0ICdodHRwdXJsJ1xuXG4vLyBnZXN0dXJlXG5pbXBvcnQgJy4vZ2VzdHVyZSdcblxuY29uc3QgREVGQVVMVF9ERVNJR05fV0lEVEggPSA3NTBcbmNvbnN0IERFRkFVTFRfU0NBTEUgPSB3aW5kb3cuaW5uZXJXaWR0aCAvIERFRkFVTFRfREVTSUdOX1dJRFRIXG5jb25zdCBERUZBVUxUX1JPT1RfSUQgPSAnd2VleCdcbmNvbnN0IERFRkFVTFRfSlNPTlBfQ0FMTEJBQ0tfTkFNRSA9ICd3ZWV4SnNvbnBDYWxsYmFjaydcblxuZ2xvYmFsLldYRW52aXJvbm1lbnQgPSB7XG4gIHdlZXhWZXJzaW9uOiBjb25maWcud2VleFZlcnNpb24sXG4gIGFwcE5hbWU6IGxpYi5lbnYuYWxpYXBwID8gbGliLmVudi5hbGlhcHAuYXBwbmFtZSA6IG51bGwsXG4gIGFwcFZlcnNpb246IGxpYi5lbnYuYWxpYXBwID8gbGliLmVudi5hbGlhcHAudmVyc2lvbi52YWwgOiBudWxsLFxuICBwbGF0Zm9ybTogJ1dlYicsXG4gIG9zTmFtZTogbGliLmVudi5icm93c2VyID8gbGliLmVudi5icm93c2VyLm5hbWUgOiBudWxsLFxuICBvc1ZlcnNpb246IGxpYi5lbnYuYnJvd3NlciA/IGxpYi5lbnYuYnJvd3Nlci52ZXJzaW9uLnZhbCA6IG51bGwsXG4gIGRldmljZVdpZHRoOiBERUZBVUxUX0RFU0lHTl9XSURUSCxcbiAgZGV2aWNlSGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQgLyBERUZBVUxUX1NDQUxFXG59XG5cbmNvbnN0IF93ZWV4SW5zdGFuY2UgPSB7fVxuXG5mdW5jdGlvbiBub29wICgpIHt9XG5cbjsgKGZ1bmN0aW9uIGluaXRpYWxpemVXaXRoVXJsUGFyYW1zICgpIHtcbiAgLy8gaW4gY2FzcGVyanMgdGhlIHByb3RvY29sIGlzIGZpbGUuXG4gIGlmIChsb2NhdGlvbi5wcm90b2NvbC5tYXRjaCgvZmlsZS8pKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBjb25zdCBwYXJhbXMgPSBsaWIuaHR0cHVybChsb2NhdGlvbi5ocmVmKS5wYXJhbXNcblxuICAvLyBzZXQgZ2xvYmFsICdkZWJ1ZycgY29uZmlnIHRvIHRydWUgaWYgdGhlcmUncyBhIGRlYnVnIGZsYWcgaW4gY3VycmVudCB1cmwuXG4gIGNvbnN0IGRlYnVnID0gcGFyYW1zWydkZWJ1ZyddXG4gIGNvbmZpZy5kZWJ1ZyA9IGRlYnVnID09PSB0cnVlIHx8IGRlYnVnID09PSAndHJ1ZSdcblxuICAhY29uZmlnLmRlYnVnICYmIChjb25zb2xlLmRlYnVnID0gbm9vcClcblxuICAvLyBjb25maWcgZm9yIHRoZSAnZG93bmdyYWRlJy5cbiAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBjb25zdCBtYXRjaCA9IGtleS5tYXRjaCgvXmRvd25ncmFkZV8oXFx3KykkLylcbiAgICAgIGlmICghbWF0Y2ggfHwgIW1hdGNoWzFdKSB7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICBjb25zdCBkayA9IG1hdGNoWzFdXG4gICAgICAvLyBkb3duZ3JhZGUgaW4gdGhlIGNvbmZpZyBmaWxlIGhhcyB0aGUgaGlnaGVzdCBwcmlvcml0eS5cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLmRvd25ncmFkZVtka10gPT09ICdib29sZWFuJykge1xuICAgICAgICBjb250aW51ZVxuICAgICAgfVxuICAgICAgY29uc3QgZHIgPSBwYXJhbXNbYGRvd25ncmFkZV8ke2RrfWBdXG4gICAgICBjb25maWcuZG93bmdyYWRlW2RrXSA9IGRyID09PSB0cnVlIHx8IGRyID09PSAndHJ1ZSdcbiAgICB9XG4gIH1cbn0pKClcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2VleCAob3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV2VleCkpIHtcbiAgICByZXR1cm4gbmV3IFdlZXgob3B0aW9ucylcbiAgfVxuXG4gIC8vIFdpZHRoIG9mIHRoZSByb290IGNvbnRhaW5lci4gRGVmYXVsdCBpcyB3aW5kb3cuaW5uZXJXaWR0aC5cbiAgdGhpcy53aWR0aCA9IG9wdGlvbnMud2lkdGggfHwgd2luZG93LmlubmVyV2lkdGhcbiAgdGhpcy5idW5kbGVVcmwgPSBvcHRpb25zLmJ1bmRsZVVybCB8fCBsb2NhdGlvbi5ocmVmXG4gIHRoaXMuaW5zdGFuY2VJZCA9IG9wdGlvbnMuYXBwSWRcbiAgdGhpcy5yb290SWQgPSBvcHRpb25zLnJvb3RJZCB8fCAoREVGQVVMVF9ST09UX0lEICsgdXRpbHMuZ2V0UmFuZG9tKDEwKSlcbiAgdGhpcy5kZXNpZ25XaWR0aCA9IG9wdGlvbnMuZGVzaWduV2lkdGggfHwgREVGQVVMVF9ERVNJR05fV0lEVEhcbiAgdGhpcy5qc29ucENhbGxiYWNrID0gb3B0aW9ucy5qc29ucENhbGxiYWNrIHx8IERFRkFVTFRfSlNPTlBfQ0FMTEJBQ0tfTkFNRVxuICB0aGlzLnNvdXJjZSA9IG9wdGlvbnMuc291cmNlXG4gIHRoaXMubG9hZGVyID0gb3B0aW9ucy5sb2FkZXJcbiAgdGhpcy5lbWJlZCA9IG9wdGlvbnMuZW1iZWRcblxuICAvLyBkb3duZ3JhZGUgb3B0aW9ucy5cbiAgY29uc3QgZGcgPSBvcHRpb25zLmRvd25ncmFkZSB8fCBbXVxuICBkZy5mb3JFYWNoKGZ1bmN0aW9uIChjb21wKSB7XG4gICAgY29uZmlnLmRvd25ncmFkZVtjb21wXSA9IHRydWVcbiAgfSlcblxuICB0aGlzLmRhdGEgPSBvcHRpb25zLmRhdGFcbiAgdGhpcy5zY2FsZSA9IHRoaXMud2lkdGggLyB0aGlzLmRlc2lnbldpZHRoXG4gIHJlY2VpdmVyLmluaXQodGhpcylcbiAgdGhpcy5zZW5kZXIgPSBuZXcgU2VuZGVyKHRoaXMpXG5cbiAgX3dlZXhJbnN0YW5jZVt0aGlzLmluc3RhbmNlSWRdID0gdGhpc1xuXG4gIC8vIGxvYWQgYnVuZGxlLlxuICBsb2FkKHtcbiAgICBqc29ucENhbGxiYWNrOiB0aGlzLmpzb25wQ2FsbGJhY2ssXG4gICAgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICBsb2FkZXI6IHRoaXMubG9hZGVyXG4gIH0sIGZ1bmN0aW9uIChlcnIsIGFwcENvZGUpIHtcbiAgICBpZiAoIWVycikge1xuICAgICAgdGhpcy5jcmVhdGVBcHAoY29uZmlnLCBhcHBDb2RlKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvYWQgYnVuZGxlIGVycjonLCBlcnIpXG4gICAgfVxuICB9LmJpbmQodGhpcykpXG59XG5cbldlZXguaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gIGlmICh1dGlscy5pc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgIG5ldyBXZWV4KGNvbmZpZylcbiAgICB9KVxuICB9XG4gIGVsc2UgaWYgKHV0aWxzLmdldFR5cGUob3B0aW9ucykgPT09ICdvYmplY3QnKSB7XG4gICAgbmV3IFdlZXgob3B0aW9ucylcbiAgfVxufVxuXG5XZWV4LmdldEluc3RhbmNlID0gZnVuY3Rpb24gKGluc3RhbmNlSWQpIHtcbiAgcmV0dXJuIF93ZWV4SW5zdGFuY2VbaW5zdGFuY2VJZF1cbn1cblxuV2VleC5wcm90b3R5cGUgPSB7XG5cbiAgY3JlYXRlQXBwOiBmdW5jdGlvbiAoY29uZmlnLCBhcHBDb2RlKSB7XG4gICAgbGV0IHJvb3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMucm9vdElkKVxuICAgIGlmICghcm9vdCkge1xuICAgICAgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICByb290LmlkID0gdGhpcy5yb290SWRcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocm9vdClcbiAgICB9XG5cbiAgICBjb25zdCBpbnN0YW5jZSA9IHdpbmRvdy5jcmVhdGVJbnN0YW5jZShcbiAgICAgIHRoaXMuaW5zdGFuY2VJZCxcbiAgICAgIGFwcENvZGUsXG4gICAgICB7XG4gICAgICAgIGJ1bmRsZVVybDogdGhpcy5idW5kbGVVcmwsXG4gICAgICAgIGRlYnVnOiBjb25maWcuZGVidWdcbiAgICAgIH0sXG4gICAgICB0aGlzLmRhdGFcbiAgICApXG5cbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gY3JlYXRlSW5zdGFuY2UgZXJyb3I6IGdldCB2b2lkIGZvciBpbnN0YW5jZS4nKVxuICAgIH1cblxuICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0nLCBpbnN0YW5jZSlcbiAgICB9XG5cbiAgICBpZiAoaW5zdGFuY2UgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRoaXMuYXBwSW5zdGFuY2UgPSByZXNcbiAgICAgICAgLy8gV2VleC5faW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VJZF0gPSB0aGlzLnJvb3RcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0nLCBlcnIpXG4gICAgICB9KVxuICAgIH1cblxuICAgIHRoaXMuYXBwSW5zdGFuY2UgPSBpbnN0YW5jZVxuXG4gICAgLy8gRG8gbm90IGRlc3Ryb3kgaW5zdGFuY2UgYmVmb3JlIHVubG9hZCwgYmVjYXVzZSBpbiBtb3N0IGJyb3dzZXJcbiAgICAvLyBwcmVzcyBiYWNrIGJ1dHRvbiB0byBiYWNrIHRvIHRoaXMgcGFnZSB3aWxsIG5vdCByZWZyZXNoXG4gICAgLy8gdGhlIHdpbmRvdyBhbmQgdGhlIGluc3RhbmNlIHdpbGwgbm90IGJlIHJlY3JlYXRlZCB0aGVuLlxuICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoZSkge1xuICAgIC8vIH0pXG4gIH0sXG5cbiAgZ2V0Q29tcG9uZW50TWFuYWdlcjogZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy5fY29tcG9uZW50TWFuYWdlcikge1xuICAgICAgdGhpcy5fY29tcG9uZW50TWFuYWdlciA9IENvbXBvbmVudE1hbmFnZXIuZ2V0SW5zdGFuY2UodGhpcy5pbnN0YW5jZUlkKVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fY29tcG9uZW50TWFuYWdlclxuICB9LFxuXG4gIGdldFJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGlzLnJvb3RJZClcbiAgfVxufVxuXG5XZWV4LnN0b3BUaGVXb3JsZCA9IGZ1bmN0aW9uIChpbnN0YW5jZUlkKSB7XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhfd2VleEluc3RhbmNlKS5tYXAoZnVuY3Rpb24gKGluc3RhbmNlSWQpIHtcbiAgICAgIFdlZXguc3RvcFRoZVdvcmxkKGluc3RhbmNlSWQpXG4gICAgfSlcbiAgfVxuICB3aW5kb3cuZGVzdHJveUluc3RhbmNlKGluc3RhbmNlSWQpXG59XG5cbi8vIGZvciB3ZWV4LXRvb2xraXQuXG47IChmdW5jdGlvbiBzdGFydFJlZnJlc2hDb250cm9sbGVyICgpIHtcbiAgaWYgKGxvY2F0aW9uLnByb3RvY29sLm1hdGNoKC9maWxlLykpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAobG9jYXRpb24uc2VhcmNoLmluZGV4T2YoJ2hvdC1yZWxvYWRfY29udHJvbGxlcicpID09PSAtMSkge1xuICAgIHJldHVyblxuICB9XG4gIGlmICh0eXBlb2YgV2ViU29ja2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIGNvbnNvbGUuaW5mbygnYXV0byByZWZyZXNoIG5lZWQgV2ViU29ja2V0IHN1cHBvcnQnKVxuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGhvc3QgPSBsb2NhdGlvbi5ob3N0bmFtZVxuICBjb25zdCBwb3J0ID0gODA4MlxuICBjb25zdCBjbGllbnQgPSBuZXcgV2ViU29ja2V0KCd3czovLycgKyBob3N0ICsgJzonICsgcG9ydCArICcvJyxcbiAgICAnZWNoby1wcm90b2NvbCdcbiAgKVxuICBjbGllbnQub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmxvZygncmVmcmVzaCBjb250cm9sbGVyIHdlYnNvY2tldCBjb25uZWN0aW9uIGVycm9yJylcbiAgfVxuICBjbGllbnQub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZygnUmVjZWl2ZWQ6IFxcJycgKyBlLmRhdGEgKyAnXFwnJylcbiAgICBpZiAoZS5kYXRhID09PSAncmVmcmVzaCcpIHtcbiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpXG4gICAgfVxuICB9XG59KSgpXG5cbmJpbmRSZWdpc3RlcihXZWV4KVxuXG51dGlscy5leHRlbmQoV2VleCwge1xuICBDb21wb25lbnQsXG4gIEF0b21pYyxcbiAgQ29tcG9uZW50TWFuYWdlcixcbiAgdXRpbHMsXG4gIGNvbmZpZ1xufSlcblxuZ2xvYmFsLndlZXggPSBXZWV4XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9yZW5kZXIvaW5kZXguanMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2Jhc2UuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2Jhc2UuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYmFzZS5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9odG1sNS9icm93c2VyL3JlbmRlci9zdHlsZS9iYXNlLmNzc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL3N0eWxlL2Jhc2UuY3NzPzA2YjQiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIioge1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIHRleHQtc2l6ZS1hZGp1c3Q6IG5vbmU7XFxufVxcblxcbnVsLCBvbCB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbn1cXG5cXG4ud2VleC1jb250YWluZXIge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZmxleC1zaHJpbms6IDA7XFxuICBhbGlnbi1pdGVtczogc3RyZXRjaDtcXG4gIGJveC1hbGlnbjogc3RyZXRjaDtcXG4gIGFsaWduLWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBib3JkZXI6IDAgc29saWQgYmxhY2s7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWluLXdpZHRoOiAwO1xcbn1cXG5cXG4ud2VleC1lbGVtZW50IHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBmbGV4LXNocmluazogMDtcXG4gIGJvcmRlcjogMCBzb2xpZCBibGFjaztcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxuICBtaW4td2lkdGg6IDA7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9odG1sNS9icm93c2VyL3JlbmRlci9zdHlsZS9iYXNlLmNzc1xuICoqIG1vZHVsZSBpZCA9IDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL3N0eWxlL2Jhc2UuY3NzIiwiLypcclxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxyXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcclxuKi9cclxuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgbGlzdCA9IFtdO1xyXG5cclxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG5cdFx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xyXG5cdFx0XHRpZihpdGVtWzJdKSB7XHJcblx0XHRcdFx0cmVzdWx0LnB1c2goXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBpdGVtWzFdICsgXCJ9XCIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKGl0ZW1bMV0pO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gcmVzdWx0LmpvaW4oXCJcIik7XHJcblx0fTtcclxuXHJcblx0Ly8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcclxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XHJcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcclxuXHRcdFx0bW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgXCJcIl1dO1xyXG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcclxuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpZCA9IHRoaXNbaV1bMF07XHJcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcclxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcclxuXHRcdFx0Ly8gc2tpcCBhbHJlYWR5IGltcG9ydGVkIG1vZHVsZVxyXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xyXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxyXG5cdFx0XHQvLyAgSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxyXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcclxuXHRcdFx0XHRcdGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xyXG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XHJcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0cmV0dXJuIGxpc3Q7XHJcbn07XHJcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIi8qXHJcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbnZhciBzdHlsZXNJbkRvbSA9IHt9LFxyXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xyXG5cdFx0dmFyIG1lbW87XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cdFx0XHRyZXR1cm4gbWVtbztcclxuXHRcdH07XHJcblx0fSxcclxuXHRpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiAvbXNpZSBbNi05XVxcYi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcclxuXHR9KSxcclxuXHRnZXRIZWFkRWxlbWVudCA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xyXG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xyXG5cdH0pLFxyXG5cdHNpbmdsZXRvbkVsZW1lbnQgPSBudWxsLFxyXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxyXG5cdHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wID0gW107XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcclxuXHRpZih0eXBlb2YgREVCVUcgIT09IFwidW5kZWZpbmVkXCIgJiYgREVCVUcpIHtcclxuXHRcdGlmKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xyXG5cdH1cclxuXHJcblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XHJcblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gPT09IFwidW5kZWZpbmVkXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xyXG5cclxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgPGhlYWQ+LlxyXG5cdGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XHJcblxyXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCk7XHJcblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XHJcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcclxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xyXG5cdFx0XHRtYXlSZW1vdmUucHVzaChkb21TdHlsZSk7XHJcblx0XHR9XHJcblx0XHRpZihuZXdMaXN0KSB7XHJcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCk7XHJcblx0XHRcdGFkZFN0eWxlc1RvRG9tKG5ld1N0eWxlcywgb3B0aW9ucyk7XHJcblx0XHR9XHJcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdHZhciBkb21TdHlsZSA9IG1heVJlbW92ZVtpXTtcclxuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xyXG5cdFx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKylcclxuXHRcdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKCk7XHJcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xyXG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XHJcblx0XHRpZihkb21TdHlsZSkge1xyXG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XHJcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzW2pdKGl0ZW0ucGFydHNbal0pO1xyXG5cdFx0XHR9XHJcblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XHJcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xyXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xyXG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xyXG5cdFx0XHR9XHJcblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gbGlzdFRvU3R5bGVzKGxpc3QpIHtcclxuXHR2YXIgc3R5bGVzID0gW107XHJcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xyXG5cdGZvcih2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XHJcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xyXG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XHJcblx0XHR2YXIgbWVkaWEgPSBpdGVtWzJdO1xyXG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XHJcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XHJcblx0XHRpZighbmV3U3R5bGVzW2lkXSlcclxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3U3R5bGVzW2lkXS5wYXJ0cy5wdXNoKHBhcnQpO1xyXG5cdH1cclxuXHRyZXR1cm4gc3R5bGVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KSB7XHJcblx0dmFyIGhlYWQgPSBnZXRIZWFkRWxlbWVudCgpO1xyXG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xyXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XHJcblx0XHRpZighbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3ApIHtcclxuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xyXG5cdFx0fSBlbHNlIGlmKGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKSB7XHJcblx0XHRcdGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlRWxlbWVudCwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fVxyXG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSBpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJib3R0b21cIikge1xyXG5cdFx0aGVhZC5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwYXJhbWV0ZXIgJ2luc2VydEF0Jy4gTXVzdCBiZSAndG9wJyBvciAnYm90dG9tJy5cIik7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxuXHR2YXIgaWR4ID0gc3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZUVsZW1lbnQpO1xyXG5cdGlmKGlkeCA+PSAwKSB7XHJcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcclxuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgc3R5bGVFbGVtZW50KTtcclxuXHRyZXR1cm4gc3R5bGVFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKSB7XHJcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XHJcblx0bGlua0VsZW1lbnQucmVsID0gXCJzdHlsZXNoZWV0XCI7XHJcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmtFbGVtZW50KTtcclxuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG5cdHZhciBzdHlsZUVsZW1lbnQsIHVwZGF0ZSwgcmVtb3ZlO1xyXG5cclxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcclxuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xyXG5cdFx0c3R5bGVFbGVtZW50ID0gc2luZ2xldG9uRWxlbWVudCB8fCAoc2luZ2xldG9uRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XHJcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XHJcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCB0cnVlKTtcclxuXHR9IGVsc2UgaWYob2JqLnNvdXJjZU1hcCAmJlxyXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXHJcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcclxuXHRcdFx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlRWxlbWVudC5ocmVmKTtcclxuXHRcdH07XHJcblx0fSBlbHNlIHtcclxuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xyXG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xyXG5cdFx0fTtcclxuXHR9XHJcblxyXG5cdHVwZGF0ZShvYmopO1xyXG5cclxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XHJcblx0XHRpZihuZXdPYmopIHtcclxuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZW1vdmUoKTtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xyXG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcclxuXHJcblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcclxuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcclxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xyXG5cdH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XHJcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xyXG5cclxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcclxuXHRcdHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xyXG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZUVsZW1lbnQuY2hpbGROb2RlcztcclxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xyXG5cdFx0XHRzdHlsZUVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGVFbGVtZW50LCBvYmopIHtcclxuXHR2YXIgY3NzID0gb2JqLmNzcztcclxuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XHJcblxyXG5cdGlmKG1lZGlhKSB7XHJcblx0XHRzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXHJcblx0fVxyXG5cclxuXHRpZihzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG5cdFx0c3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2hpbGUoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuXHRcdFx0c3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuXHRcdH1cclxuXHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUxpbmsobGlua0VsZW1lbnQsIG9iaikge1xyXG5cdHZhciBjc3MgPSBvYmouY3NzO1xyXG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG5cclxuXHRpZihzb3VyY2VNYXApIHtcclxuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XHJcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XHJcblx0fVxyXG5cclxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcclxuXHJcblx0dmFyIG9sZFNyYyA9IGxpbmtFbGVtZW50LmhyZWY7XHJcblxyXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG5cclxuXHRpZihvbGRTcmMpXHJcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XHJcbn1cclxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgJy4vc2hhcmVkJ1xuaW1wb3J0IGluaXQgZnJvbSAnLi4vLi4vcnVudGltZS9pbml0J1xuaW1wb3J0IGZyYW1ld29ya3MgZnJvbSAnLi9jb25maWcnXG5pbXBvcnQgeyBEb2N1bWVudCwgRWxlbWVudCwgQ29tbWVudCB9IGZyb20gJy4uLy4uL3Zkb20nXG5pbXBvcnQgeyBzdWJ2ZXJzaW9uIH0gZnJvbSAnLi4vLi4vLi4vcGFja2FnZS5qc29uJ1xuaW1wb3J0ICogYXMgbWV0aG9kcyBmcm9tICcuLi8uLi9kZWZhdWx0L2FwaS9tZXRob2RzJ1xuaW1wb3J0IExpc3RlbmVyIGZyb20gJy4uL2RvbS9jb21wb25lbnRNYW5hZ2VyJ1xuXG5jb25zdCBjb25maWcgPSB7XG4gIERvY3VtZW50LCBFbGVtZW50LCBDb21tZW50LCBMaXN0ZW5lciwgZnJhbWV3b3JrcyxcbiAgc2VuZFRhc2tzICguLi5hcmdzKSB7XG4gICAgZ2xvYmFsLmNhbGxOYXRpdmUoLi4uYXJncylcbiAgfVxufVxuXG5jb25zdCBydW50aW1lID0gaW5pdChjb25maWcpXG5cbmNvbnN0IHsgbmF0aXZlLCB0cmFuc2Zvcm1lciB9ID0gc3VidmVyc2lvblxuXG5mb3IgKGNvbnN0IG1ldGhvZE5hbWUgaW4gcnVudGltZSkge1xuICBnbG9iYWxbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgIGNvbnN0IHJldCA9IHJ1bnRpbWVbbWV0aG9kTmFtZV0oLi4uYXJncylcbiAgICBpZiAocmV0IGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IocmV0LnRvU3RyaW5nKCkpXG4gICAgfVxuICAgIHJldHVybiByZXRcbiAgfVxufVxuXG5nbG9iYWwuZnJhbWV3b3JrVmVyc2lvbiA9IG5hdGl2ZVxuZ2xvYmFsLnRyYW5zZm9ybVZlcnNpb24gPSB0cmFuc2Zvcm1lclxuXG4vKipcbiAqIHJlZ2lzdGVyIG1ldGhvZHNcbiAqL1xuZ2xvYmFsLnJlZ2lzdGVyTWV0aG9kcyhtZXRob2RzKVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvaW5kZXguanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvaW5kZXguanMiLCJpbXBvcnQgJy4uLy4uL3NoYXJlZC9wcm9taXNlJ1xuLy8gaW1wb3J0ICcuLi8uLi9zaGFyZWQvY29uc29sZSdcblxuZXhwb3J0IHtcbiAgZXh0ZW5kLFxuICBkZWYsXG4gIHJlbW92ZSxcbiAgaGFzT3duLFxuICBiaW5kLFxuICB0b0FycmF5LFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdFxufSBmcm9tICcuLi8uLi9zaGFyZWQvdXRpbHMnXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9zaGFyZWQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvc2hhcmVkLmpzIiwiLyoqXG4gKiBNaXggcHJvcGVydGllcyBpbnRvIHRhcmdldCBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHRvXG4gKiBAcGFyYW0ge09iamVjdH0gZnJvbVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmQgKHRhcmdldCwgLi4uc3JjKSB7XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIE9iamVjdC5hc3NpZ24odGFyZ2V0LCAuLi5zcmMpXG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgZmlyc3QgPSBzcmMuc2hpZnQoKVxuICAgIGZvciAoY29uc3Qga2V5IGluIGZpcnN0KSB7XG4gICAgICB0YXJnZXRba2V5XSA9IGZpcnN0W2tleV1cbiAgICB9XG4gICAgaWYgKHNyYy5sZW5ndGgpIHtcbiAgICAgIGV4dGVuZCh0YXJnZXQsIC4uLnNyYylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG4vKipcbiAqIERlZmluZSBhIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtlbnVtZXJhYmxlXVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBkZWYgKG9iaiwga2V5LCB2YWwsIGVudW1lcmFibGUpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgdmFsdWU6IHZhbCxcbiAgICBlbnVtZXJhYmxlOiAhIWVudW1lcmFibGUsXG4gICAgd3JpdGFibGU6IHRydWUsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pXG59XG5cbi8qKlxuICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheVxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyclxuICogQHBhcmFtIHsqfSBpdGVtXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZSAoYXJyLCBpdGVtKSB7XG4gIGlmIChhcnIubGVuZ3RoKSB7XG4gICAgY29uc3QgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKVxuICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICByZXR1cm4gYXJyLnNwbGljZShpbmRleCwgMSlcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVjayB3aGV0aGVyIHRoZSBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICovXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHlcbmV4cG9ydCBmdW5jdGlvbiBoYXNPd24gKG9iaiwga2V5KSB7XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KVxufVxuXG4vKipcbiAqIFNpbXBsZSBiaW5kLCBmYXN0ZXIgdGhhbiBuYXRpdmVcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtPYmplY3R9IGN0eFxuICogQHJldHVybiB7RnVuY3Rpb259XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQgKGZuLCBjdHgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChhKSB7XG4gICAgY29uc3QgbCA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICByZXR1cm4gbFxuICAgICAgPyBsID4gMVxuICAgICAgICA/IGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKVxuICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxuICAgICAgOiBmbi5jYWxsKGN0eClcbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXktbGlrZX0gbGlzdFxuICogQHBhcmFtIHtOdW1iZXJ9IFtzdGFydF0gLSBzdGFydCBpbmRleFxuICogQHJldHVybiB7QXJyYXl9XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHRvQXJyYXkgKGxpc3QsIHN0YXJ0KSB7XG4gIHN0YXJ0ID0gc3RhcnQgfHwgMFxuICBsZXQgaSA9IGxpc3QubGVuZ3RoIC0gc3RhcnRcbiAgY29uc3QgcmV0ID0gbmV3IEFycmF5KGkpXG4gIHdoaWxlIChpLS0pIHtcbiAgICByZXRbaV0gPSBsaXN0W2kgKyBzdGFydF1cbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogUXVpY2sgb2JqZWN0IGNoZWNrIC0gdGhpcyBpcyBwcmltYXJpbHkgdXNlZCB0byB0ZWxsXG4gKiBPYmplY3RzIGZyb20gcHJpbWl0aXZlIHZhbHVlcyB3aGVuIHdlIGtub3cgdGhlIHZhbHVlXG4gKiBpcyBhIEpTT04tY29tcGxpYW50IHR5cGUuXG4gKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gbnVsbCAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xufVxuXG4vKipcbiAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcbiAqIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMuXG4gKlxuICogQHBhcmFtIHsqfSBvYmpcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuY29uc3QgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nXG5jb25zdCBPQkpFQ1RfU1RSSU5HID0gJ1tvYmplY3QgT2JqZWN0XSdcbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHtcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gT0JKRUNUX1NUUklOR1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9zaGFyZWQvdXRpbHMuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9zaGFyZWQvdXRpbHMuanMiLCIvLyBmaXggUHJvbWlzZSBQcm9ibGVtIG9uIEpTQ29udGV4dCBvZiBpT1M3fjhcbi8vIEBzZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTg2NlxuY29uc3QgeyBXWEVudmlyb25tZW50IH0gPSBnbG9iYWxcbmlmIChXWEVudmlyb25tZW50ICYmIFdYRW52aXJvbm1lbnQucGxhdGZvcm0gPT09ICdpT1MnKSB7XG4gIGdsb2JhbC5Qcm9taXNlID0gbnVsbFxufVxucmVxdWlyZSgnY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJylcbnJlcXVpcmUoJ2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yJylcbnJlcXVpcmUoJ2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJylcbnJlcXVpcmUoJ2NvcmUtanMvbW9kdWxlcy9lczYucHJvbWlzZScpXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L3NoYXJlZC9wcm9taXNlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvc2hhcmVkL3Byb21pc2UuanMiLCIndXNlIHN0cmljdCc7XG4vLyAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjbGFzc29mID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgdGVzdCAgICA9IHt9O1xudGVzdFtyZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKV0gPSAneic7XG5pZih0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKXtcbiAgcmVxdWlyZSgnLi9fcmVkZWZpbmUnKShPYmplY3QucHJvdG90eXBlLCAndG9TdHJpbmcnLCBmdW5jdGlvbiB0b1N0cmluZygpe1xuICAgIHJldHVybiAnW29iamVjdCAnICsgY2xhc3NvZih0aGlzKSArICddJztcbiAgfSwgdHJ1ZSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzXG4gKiogbW9kdWxlIGlkID0gMTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nLmpzIiwiLy8gZ2V0dGluZyB0YWcgZnJvbSAxOS4xLjMuNiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKVxuICAsIFRBRyA9IHJlcXVpcmUoJy4vX3drcycpKCd0b1N0cmluZ1RhZycpXG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gICwgQVJHID0gY29mKGZ1bmN0aW9uKCl7IHJldHVybiBhcmd1bWVudHM7IH0oKSkgPT0gJ0FyZ3VtZW50cyc7XG5cbi8vIGZhbGxiYWNrIGZvciBJRTExIFNjcmlwdCBBY2Nlc3MgRGVuaWVkIGVycm9yXG52YXIgdHJ5R2V0ID0gZnVuY3Rpb24oaXQsIGtleSl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGl0W2tleV07XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICB2YXIgTywgVCwgQjtcbiAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgLy8gQEB0b1N0cmluZ1RhZyBjYXNlXG4gICAgOiB0eXBlb2YgKFQgPSB0cnlHZXQoTyA9IE9iamVjdChpdCksIFRBRykpID09ICdzdHJpbmcnID8gVFxuICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgIDogQVJHID8gY29mKE8pXG4gICAgLy8gRVMzIGFyZ3VtZW50cyBmYWxsYmFja1xuICAgIDogKEIgPSBjb2YoTykpID09ICdPYmplY3QnICYmIHR5cGVvZiBPLmNhbGxlZSA9PSAnZnVuY3Rpb24nID8gJ0FyZ3VtZW50cycgOiBCO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2NsYXNzb2YuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2NsYXNzb2YuanMiLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fY29mLmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19jb2YuanMiLCJ2YXIgc3RvcmUgICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCd3a3MnKVxuICAsIHVpZCAgICAgICAgPSByZXF1aXJlKCcuL191aWQnKVxuICAsIFN5bWJvbCAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5TeW1ib2xcbiAgLCBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG52YXIgJGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG5hbWUpe1xuICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICBVU0VfU1lNQk9MICYmIFN5bWJvbFtuYW1lXSB8fCAoVVNFX1NZTUJPTCA/IFN5bWJvbCA6IHVpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xufTtcblxuJGV4cG9ydHMuc3RvcmUgPSBzdG9yZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3drcy5qc1xuICoqIG1vZHVsZSBpZCA9IDEzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fd2tzLmpzIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDE0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fc2hhcmVkLmpzIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19nbG9iYWwuanMiLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdWlkLmpzIiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBTUkMgICAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnc3JjJylcbiAgLCBUT19TVFJJTkcgPSAndG9TdHJpbmcnXG4gICwgJHRvU3RyaW5nID0gRnVuY3Rpb25bVE9fU1RSSU5HXVxuICAsIFRQTCAgICAgICA9ICgnJyArICR0b1N0cmluZykuc3BsaXQoVE9fU1RSSU5HKTtcblxucmVxdWlyZSgnLi9fY29yZScpLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiAkdG9TdHJpbmcuY2FsbChpdCk7XG59O1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBrZXksIHZhbCwgc2FmZSl7XG4gIHZhciBpc0Z1bmN0aW9uID0gdHlwZW9mIHZhbCA9PSAnZnVuY3Rpb24nO1xuICBpZihpc0Z1bmN0aW9uKWhhcyh2YWwsICduYW1lJykgfHwgaGlkZSh2YWwsICduYW1lJywga2V5KTtcbiAgaWYoT1trZXldID09PSB2YWwpcmV0dXJuO1xuICBpZihpc0Z1bmN0aW9uKWhhcyh2YWwsIFNSQykgfHwgaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpO1xuICBpZihPID09PSBnbG9iYWwpe1xuICAgIE9ba2V5XSA9IHZhbDtcbiAgfSBlbHNlIHtcbiAgICBpZighc2FmZSl7XG4gICAgICBkZWxldGUgT1trZXldO1xuICAgICAgaGlkZShPLCBrZXksIHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmKE9ba2V5XSlPW2tleV0gPSB2YWw7XG4gICAgICBlbHNlIGhpZGUoTywga2V5LCB2YWwpO1xuICAgIH1cbiAgfVxuLy8gYWRkIGZha2UgRnVuY3Rpb24jdG9TdHJpbmcgZm9yIGNvcnJlY3Qgd29yayB3cmFwcGVkIG1ldGhvZHMgLyBjb25zdHJ1Y3RvcnMgd2l0aCBtZXRob2RzIGxpa2UgTG9EYXNoIGlzTmF0aXZlXG59KShGdW5jdGlvbi5wcm90b3R5cGUsIFRPX1NUUklORywgZnVuY3Rpb24gdG9TdHJpbmcoKXtcbiAgcmV0dXJuIHR5cGVvZiB0aGlzID09ICdmdW5jdGlvbicgJiYgdGhpc1tTUkNdIHx8ICR0b1N0cmluZy5jYWxsKHRoaXMpO1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19yZWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19oaWRlLmpzIiwidmFyIGFuT2JqZWN0ICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBJRThfRE9NX0RFRklORSA9IHJlcXVpcmUoJy4vX2llOC1kb20tZGVmaW5lJylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgZFAgICAgICAgICAgICAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbmV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKXtcbiAgYW5PYmplY3QoTyk7XG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcbiAgYW5PYmplY3QoQXR0cmlidXRlcyk7XG4gIGlmKElFOF9ET01fREVGSU5FKXRyeSB7XG4gICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIGlmKCdnZXQnIGluIEF0dHJpYnV0ZXMgfHwgJ3NldCcgaW4gQXR0cmlidXRlcyl0aHJvdyBUeXBlRXJyb3IoJ0FjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIScpO1xuICBpZigndmFsdWUnIGluIEF0dHJpYnV0ZXMpT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gIHJldHVybiBPO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1kcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19hbi1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAyMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2FuLW9iamVjdC5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2lzLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXMtb2JqZWN0LmpzIiwibW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSAmJiAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xyXG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdkaXYnKSwgJ2EnLCB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gNzsgfX0pLmEgIT0gNztcclxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19pZTgtZG9tLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCIvLyBUaGFuaydzIElFOCBmb3IgaGlzIGZ1bm55IGRlZmluZVByb3BlcnR5XG5tb2R1bGUuZXhwb3J0cyA9ICFyZXF1aXJlKCcuL19mYWlscycpKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19kZXNjcmlwdG9ycy5qcyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fZmFpbHMuanNcbiAqKiBtb2R1bGUgaWQgPSAyNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2ZhaWxzLmpzIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBkb2N1bWVudCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50XG4gIC8vIGluIG9sZCBJRSB0eXBlb2YgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCBpcyAnb2JqZWN0J1xuICAsIGlzID0gaXNPYmplY3QoZG9jdW1lbnQpICYmIGlzT2JqZWN0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpcyA/IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIi8vIDcuMS4xIFRvUHJpbWl0aXZlKGlucHV0IFssIFByZWZlcnJlZFR5cGVdKVxudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG4vLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuLy8gYW5kIHRoZSBzZWNvbmQgYXJndW1lbnQgLSBmbGFnIC0gcHJlZmVycmVkIHR5cGUgaXMgYSBzdHJpbmdcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIFMpe1xuICBpZighaXNPYmplY3QoaXQpKXJldHVybiBpdDtcbiAgdmFyIGZuLCB2YWw7XG4gIGlmKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFpc09iamVjdCh2YWwgPSBmbi5jYWxsKGl0KSkpcmV0dXJuIHZhbDtcbiAgaWYodHlwZW9mIChmbiA9IGl0LnZhbHVlT2YpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZighUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICB0aHJvdyBUeXBlRXJyb3IoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIik7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL190by1wcmltaXRpdmUuanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGJpdG1hcCwgdmFsdWUpe1xuICByZXR1cm4ge1xuICAgIGVudW1lcmFibGUgIDogIShiaXRtYXAgJiAxKSxcbiAgICBjb25maWd1cmFibGU6ICEoYml0bWFwICYgMiksXG4gICAgd3JpdGFibGUgICAgOiAhKGJpdG1hcCAmIDQpLFxuICAgIHZhbHVlICAgICAgIDogdmFsdWVcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwidmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19oYXMuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2hhcy5qcyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzIuNC4wJ307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2NvcmUuanNcbiAqKiBtb2R1bGUgaWQgPSAyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2NvcmUuanMiLCIndXNlIHN0cmljdCc7XG52YXIgJGF0ICA9IHJlcXVpcmUoJy4vX3N0cmluZy1hdCcpKHRydWUpO1xuXG4vLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19pdGVyLWRlZmluZScpKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uKGl0ZXJhdGVkKXtcbiAgdGhpcy5fdCA9IFN0cmluZyhpdGVyYXRlZCk7IC8vIHRhcmdldFxuICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuLy8gMjEuMS41LjIuMSAlU3RyaW5nSXRlcmF0b3JQcm90b3R5cGUlLm5leHQoKVxufSwgZnVuY3Rpb24oKXtcbiAgdmFyIE8gICAgID0gdGhpcy5fdFxuICAgICwgaW5kZXggPSB0aGlzLl9pXG4gICAgLCBwb2ludDtcbiAgaWYoaW5kZXggPj0gTy5sZW5ndGgpcmV0dXJuIHt2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlfTtcbiAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICB0aGlzLl9pICs9IHBvaW50Lmxlbmd0aDtcbiAgcmV0dXJuIHt2YWx1ZTogcG9pbnQsIGRvbmU6IGZhbHNlfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gMzBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IuanMiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwiLy8gNy4xLjQgVG9JbnRlZ2VyXG52YXIgY2VpbCAgPSBNYXRoLmNlaWxcbiAgLCBmbG9vciA9IE1hdGguZmxvb3I7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGlzTmFOKGl0ID0gK2l0KSA/IDAgOiAoaXQgPiAwID8gZmxvb3IgOiBjZWlsKShpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW50ZWdlci5qc1xuICoqIG1vZHVsZSBpZCA9IDMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW50ZWdlci5qcyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2RlZmluZWQuanMiLCIndXNlIHN0cmljdCc7XG52YXIgTElCUkFSWSAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgaGlkZSAgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBoYXMgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgSXRlcmF0b3JzICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsICRpdGVyQ3JlYXRlICAgID0gcmVxdWlyZSgnLi9faXRlci1jcmVhdGUnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIGdldFByb3RvdHlwZU9mID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdwbycpXG4gICwgSVRFUkFUT1IgICAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEJVR0dZICAgICAgICAgID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpIC8vIFNhZmFyaSBoYXMgYnVnZ3kgaXRlcmF0b3JzIHcvbyBgbmV4dGBcbiAgLCBGRl9JVEVSQVRPUiAgICA9ICdAQGl0ZXJhdG9yJ1xuICAsIEtFWVMgICAgICAgICAgID0gJ2tleXMnXG4gICwgVkFMVUVTICAgICAgICAgPSAndmFsdWVzJztcblxudmFyIHJldHVyblRoaXMgPSBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihCYXNlLCBOQU1FLCBDb25zdHJ1Y3RvciwgbmV4dCwgREVGQVVMVCwgSVNfU0VULCBGT1JDRUQpe1xuICAkaXRlckNyZWF0ZShDb25zdHJ1Y3RvciwgTkFNRSwgbmV4dCk7XG4gIHZhciBnZXRNZXRob2QgPSBmdW5jdGlvbihraW5kKXtcbiAgICBpZighQlVHR1kgJiYga2luZCBpbiBwcm90bylyZXR1cm4gcHJvdG9ba2luZF07XG4gICAgc3dpdGNoKGtpbmQpe1xuICAgICAgY2FzZSBLRVlTOiByZXR1cm4gZnVuY3Rpb24ga2V5cygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgY2FzZSBWQUxVRVM6IHJldHVybiBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9IHJldHVybiBmdW5jdGlvbiBlbnRyaWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gIH07XG4gIHZhciBUQUcgICAgICAgID0gTkFNRSArICcgSXRlcmF0b3InXG4gICAgLCBERUZfVkFMVUVTID0gREVGQVVMVCA9PSBWQUxVRVNcbiAgICAsIFZBTFVFU19CVUcgPSBmYWxzZVxuICAgICwgcHJvdG8gICAgICA9IEJhc2UucHJvdG90eXBlXG4gICAgLCAkbmF0aXZlICAgID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdXG4gICAgLCAkZGVmYXVsdCAgID0gJG5hdGl2ZSB8fCBnZXRNZXRob2QoREVGQVVMVClcbiAgICAsICRlbnRyaWVzICAgPSBERUZBVUxUID8gIURFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZCgnZW50cmllcycpIDogdW5kZWZpbmVkXG4gICAgLCAkYW55TmF0aXZlID0gTkFNRSA9PSAnQXJyYXknID8gcHJvdG8uZW50cmllcyB8fCAkbmF0aXZlIDogJG5hdGl2ZVxuICAgICwgbWV0aG9kcywga2V5LCBJdGVyYXRvclByb3RvdHlwZTtcbiAgLy8gRml4IG5hdGl2ZVxuICBpZigkYW55TmF0aXZlKXtcbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSkpO1xuICAgIGlmKEl0ZXJhdG9yUHJvdG90eXBlICE9PSBPYmplY3QucHJvdG90eXBlKXtcbiAgICAgIC8vIFNldCBAQHRvU3RyaW5nVGFnIHRvIG5hdGl2ZSBpdGVyYXRvcnNcbiAgICAgIHNldFRvU3RyaW5nVGFnKEl0ZXJhdG9yUHJvdG90eXBlLCBUQUcsIHRydWUpO1xuICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICBpZighTElCUkFSWSAmJiAhaGFzKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUikpaGlkZShJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IsIHJldHVyblRoaXMpO1xuICAgIH1cbiAgfVxuICAvLyBmaXggQXJyYXkje3ZhbHVlcywgQEBpdGVyYXRvcn0ubmFtZSBpbiBWOCAvIEZGXG4gIGlmKERFRl9WQUxVRVMgJiYgJG5hdGl2ZSAmJiAkbmF0aXZlLm5hbWUgIT09IFZBTFVFUyl7XG4gICAgVkFMVUVTX0JVRyA9IHRydWU7XG4gICAgJGRlZmF1bHQgPSBmdW5jdGlvbiB2YWx1ZXMoKXsgcmV0dXJuICRuYXRpdmUuY2FsbCh0aGlzKTsgfTtcbiAgfVxuICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgaWYoKCFMSUJSQVJZIHx8IEZPUkNFRCkgJiYgKEJVR0dZIHx8IFZBTFVFU19CVUcgfHwgIXByb3RvW0lURVJBVE9SXSkpe1xuICAgIGhpZGUocHJvdG8sIElURVJBVE9SLCAkZGVmYXVsdCk7XG4gIH1cbiAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICBJdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgSXRlcmF0b3JzW1RBR10gID0gcmV0dXJuVGhpcztcbiAgaWYoREVGQVVMVCl7XG4gICAgbWV0aG9kcyA9IHtcbiAgICAgIHZhbHVlczogIERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAga2V5czogICAgSVNfU0VUICAgICA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKEtFWVMpLFxuICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICB9O1xuICAgIGlmKEZPUkNFRClmb3Ioa2V5IGluIG1ldGhvZHMpe1xuICAgICAgaWYoIShrZXkgaW4gcHJvdG8pKXJlZGVmaW5lKHByb3RvLCBrZXksIG1ldGhvZHNba2V5XSk7XG4gICAgfSBlbHNlICRleHBvcnQoJGV4cG9ydC5QICsgJGV4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgfVxuICByZXR1cm4gbWV0aG9kcztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1kZWZpbmUuanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZhbHNlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDM1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fbGlicmFyeS5qcyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGhpZGUgICAgICA9IHJlcXVpcmUoJy4vX2hpZGUnKVxuICAsIHJlZGVmaW5lICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBjdHggICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gfHwgKGdsb2JhbFtuYW1lXSA9IHt9KSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KVxuICAgICwga2V5LCBvd24sIG91dCwgZXhwO1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIHRhcmdldFtrZXldICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSAob3duID8gdGFyZ2V0IDogc291cmNlKVtrZXldO1xuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXh0ZW5kIGdsb2JhbFxuICAgIGlmKHRhcmdldClyZWRlZmluZSh0YXJnZXQsIGtleSwgb3V0LCB0eXBlICYgJGV4cG9ydC5VKTtcbiAgICAvLyBleHBvcnRcbiAgICBpZihleHBvcnRzW2tleV0gIT0gb3V0KWhpZGUoZXhwb3J0cywga2V5LCBleHApO1xuICAgIGlmKElTX1BST1RPICYmIGV4cFByb3RvW2tleV0gIT0gb3V0KWV4cFByb3RvW2tleV0gPSBvdXQ7XG4gIH1cbn07XG5nbG9iYWwuY29yZSA9IGNvcmU7XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiRleHBvcnQuRyA9IDI7ICAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuJGV4cG9ydC5CID0gMTY7ICAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgIC8vIHdyYXBcbiRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuJGV4cG9ydC5SID0gMTI4OyAvLyByZWFsIHByb3RvIG1ldGhvZCBmb3IgYGxpYnJhcnlgIFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fZXhwb3J0LmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19leHBvcnQuanMiLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fY3R4LmpzXG4gKiogbW9kdWxlIGlkID0gMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19jdHguanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanNcbiAqKiBtb2R1bGUgaWQgPSAzOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2EtZnVuY3Rpb24uanMiLCJtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlcmF0b3JzLmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyYXRvcnMuanMiLCIndXNlIHN0cmljdCc7XG52YXIgY3JlYXRlICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtY3JlYXRlJylcbiAgLCBkZXNjcmlwdG9yICAgICA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG5cbi8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG5yZXF1aXJlKCcuL19oaWRlJykoSXRlcmF0b3JQcm90b3R5cGUsIHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpLCBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpe1xuICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBjcmVhdGUoSXRlcmF0b3JQcm90b3R5cGUsIHtuZXh0OiBkZXNjcmlwdG9yKDEsIG5leHQpfSk7XG4gIHNldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsIi8vIDE5LjEuMi4yIC8gMTUuMi4zLjUgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxyXG52YXIgYW5PYmplY3QgICAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxyXG4gICwgZFBzICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHBzJylcclxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpXHJcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxyXG4gICwgRW1wdHkgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XHJcbiAgLCBQUk9UT1RZUEUgICA9ICdwcm90b3R5cGUnO1xyXG5cclxuLy8gQ3JlYXRlIG9iamVjdCB3aXRoIGZha2UgYG51bGxgIHByb3RvdHlwZTogdXNlIGlmcmFtZSBPYmplY3Qgd2l0aCBjbGVhcmVkIHByb3RvdHlwZVxyXG52YXIgY3JlYXRlRGljdCA9IGZ1bmN0aW9uKCl7XHJcbiAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcclxuICB2YXIgaWZyYW1lID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpKCdpZnJhbWUnKVxyXG4gICAgLCBpICAgICAgPSBlbnVtQnVnS2V5cy5sZW5ndGhcclxuICAgICwgZ3QgICAgID0gJz4nXHJcbiAgICAsIGlmcmFtZURvY3VtZW50O1xyXG4gIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIHJlcXVpcmUoJy4vX2h0bWwnKS5hcHBlbmRDaGlsZChpZnJhbWUpO1xyXG4gIGlmcmFtZS5zcmMgPSAnamF2YXNjcmlwdDonOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXNjcmlwdC11cmxcclxuICAvLyBjcmVhdGVEaWN0ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuT2JqZWN0O1xyXG4gIC8vIGh0bWwucmVtb3ZlQ2hpbGQoaWZyYW1lKTtcclxuICBpZnJhbWVEb2N1bWVudCA9IGlmcmFtZS5jb250ZW50V2luZG93LmRvY3VtZW50O1xyXG4gIGlmcmFtZURvY3VtZW50Lm9wZW4oKTtcclxuICBpZnJhbWVEb2N1bWVudC53cml0ZSgnPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0JyArIGd0KTtcclxuICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xyXG4gIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xyXG4gIHdoaWxlKGktLSlkZWxldGUgY3JlYXRlRGljdFtQUk9UT1RZUEVdW2VudW1CdWdLZXlzW2ldXTtcclxuICByZXR1cm4gY3JlYXRlRGljdCgpO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKXtcclxuICB2YXIgcmVzdWx0O1xyXG4gIGlmKE8gIT09IG51bGwpe1xyXG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IGFuT2JqZWN0KE8pO1xyXG4gICAgcmVzdWx0ID0gbmV3IEVtcHR5O1xyXG4gICAgRW1wdHlbUFJPVE9UWVBFXSA9IG51bGw7XHJcbiAgICAvLyBhZGQgXCJfX3Byb3RvX19cIiBmb3IgT2JqZWN0LmdldFByb3RvdHlwZU9mIHBvbHlmaWxsXHJcbiAgICByZXN1bHRbSUVfUFJPVE9dID0gTztcclxuICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xyXG4gIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBkUHMocmVzdWx0LCBQcm9wZXJ0aWVzKTtcclxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1jcmVhdGUuanMiLCJ2YXIgZFAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKVxyXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxyXG4gICwgZ2V0S2V5cyAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKE8sIFByb3BlcnRpZXMpe1xyXG4gIGFuT2JqZWN0KE8pO1xyXG4gIHZhciBrZXlzICAgPSBnZXRLZXlzKFByb3BlcnRpZXMpXHJcbiAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXHJcbiAgICAsIGkgPSAwXHJcbiAgICAsIFA7XHJcbiAgd2hpbGUobGVuZ3RoID4gaSlkUC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xyXG4gIHJldHVybiBPO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxyXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXHJcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcclxuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA0M1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1rZXlzLmpzIiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXHJcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcclxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXHJcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xyXG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxyXG4gICAgLCBpICAgICAgPSAwXHJcbiAgICAsIHJlc3VsdCA9IFtdXHJcbiAgICAsIGtleTtcclxuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XHJcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xyXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcclxuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faW9iamVjdC5qcyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4gKiogbW9kdWxlIGlkID0gNDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gNDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL190by1sZW5ndGguanMiLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fdG8taW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3RvLWluZGV4LmpzIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcclxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XHJcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcclxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC1rZXkuanNcbiAqKiBtb2R1bGUgaWQgPSA1MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3NoYXJlZC1rZXkuanMiLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXHJcbm1vZHVsZS5leHBvcnRzID0gKFxyXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXHJcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA1MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLmRvY3VtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2h0bWwuanNcbiAqKiBtb2R1bGUgaWQgPSA1MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2h0bWwuanMiLCJ2YXIgZGVmID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZlxuICAsIGhhcyA9IHJlcXVpcmUoJy4vX2hhcycpXG4gICwgVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIHRhZywgc3RhdCl7XG4gIGlmKGl0ICYmICFoYXMoaXQgPSBzdGF0ID8gaXQgOiBpdC5wcm90b3R5cGUsIFRBRykpZGVmKGl0LCBUQUcsIHtjb25maWd1cmFibGU6IHRydWUsIHZhbHVlOiB0YWd9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19zZXQtdG8tc3RyaW5nLXRhZy5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCIvLyAxOS4xLjIuOSAvIDE1LjIuMy4yIE9iamVjdC5nZXRQcm90b3R5cGVPZihPKVxyXG52YXIgaGFzICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxyXG4gICwgdG9PYmplY3QgICAgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxyXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcclxuICAsIE9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uKE8pe1xyXG4gIE8gPSB0b09iamVjdChPKTtcclxuICBpZihoYXMoTywgSUVfUFJPVE8pKXJldHVybiBPW0lFX1BST1RPXTtcclxuICBpZih0eXBlb2YgTy5jb25zdHJ1Y3RvciA9PSAnZnVuY3Rpb24nICYmIE8gaW5zdGFuY2VvZiBPLmNvbnN0cnVjdG9yKXtcclxuICAgIHJldHVybiBPLmNvbnN0cnVjdG9yLnByb3RvdHlwZTtcclxuICB9IHJldHVybiBPIGluc3RhbmNlb2YgT2JqZWN0ID8gT2JqZWN0UHJvdG8gOiBudWxsO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdwby5qc1xuICoqIG1vZHVsZSBpZCA9IDU0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3RvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwidmFyICRpdGVyYXRvcnMgICAgPSByZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpXG4gICwgcmVkZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lJylcbiAgLCBnbG9iYWwgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBoaWRlICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgSXRlcmF0b3JzICAgICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgd2tzICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgSVRFUkFUT1IgICAgICA9IHdrcygnaXRlcmF0b3InKVxuICAsIFRPX1NUUklOR19UQUcgPSB3a3MoJ3RvU3RyaW5nVGFnJylcbiAgLCBBcnJheVZhbHVlcyAgID0gSXRlcmF0b3JzLkFycmF5O1xuXG5mb3IodmFyIGNvbGxlY3Rpb25zID0gWydOb2RlTGlzdCcsICdET01Ub2tlbkxpc3QnLCAnTWVkaWFMaXN0JywgJ1N0eWxlU2hlZXRMaXN0JywgJ0NTU1J1bGVMaXN0J10sIGkgPSAwOyBpIDwgNTsgaSsrKXtcbiAgdmFyIE5BTUUgICAgICAgPSBjb2xsZWN0aW9uc1tpXVxuICAgICwgQ29sbGVjdGlvbiA9IGdsb2JhbFtOQU1FXVxuICAgICwgcHJvdG8gICAgICA9IENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGVcbiAgICAsIGtleTtcbiAgaWYocHJvdG8pe1xuICAgIGlmKCFwcm90b1tJVEVSQVRPUl0paGlkZShwcm90bywgSVRFUkFUT1IsIEFycmF5VmFsdWVzKTtcbiAgICBpZighcHJvdG9bVE9fU1RSSU5HX1RBR10paGlkZShwcm90bywgVE9fU1RSSU5HX1RBRywgTkFNRSk7XG4gICAgSXRlcmF0b3JzW05BTUVdID0gQXJyYXlWYWx1ZXM7XG4gICAgZm9yKGtleSBpbiAkaXRlcmF0b3JzKWlmKCFwcm90b1trZXldKXJlZGVmaW5lKHByb3RvLCBrZXksICRpdGVyYXRvcnNba2V5XSwgdHJ1ZSk7XG4gIH1cbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlLmpzIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5hcnJheS5pdGVyYXRvci5qcyIsIi8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbnZhciBVTlNDT1BBQkxFUyA9IHJlcXVpcmUoJy4vX3drcycpKCd1bnNjb3BhYmxlcycpXG4gICwgQXJyYXlQcm90byAgPSBBcnJheS5wcm90b3R5cGU7XG5pZihBcnJheVByb3RvW1VOU0NPUEFCTEVTXSA9PSB1bmRlZmluZWQpcmVxdWlyZSgnLi9faGlkZScpKEFycmF5UHJvdG8sIFVOU0NPUEFCTEVTLCB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIEFycmF5UHJvdG9bVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDU4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fYWRkLXRvLXVuc2NvcGFibGVzLmpzIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihkb25lLCB2YWx1ZSl7XG4gIHJldHVybiB7dmFsdWU6IHZhbHVlLCBkb25lOiAhIWRvbmV9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItc3RlcC5qc1xuICoqIG1vZHVsZSBpZCA9IDU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1zdGVwLmpzIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxuICAsIGdsb2JhbCAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgY3R4ICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBjbGFzc29mICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCAkZXhwb3J0ICAgICAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGlzT2JqZWN0ICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgICAgICAgICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gICAgICAgICAgPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBhbkluc3RhbmNlICAgICAgICAgPSByZXF1aXJlKCcuL19hbi1pbnN0YW5jZScpXG4gICwgZm9yT2YgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZm9yLW9mJylcbiAgLCBzZXRQcm90byAgICAgICAgICAgPSByZXF1aXJlKCcuL19zZXQtcHJvdG8nKS5zZXRcbiAgLCBzcGVjaWVzQ29uc3RydWN0b3IgPSByZXF1aXJlKCcuL19zcGVjaWVzLWNvbnN0cnVjdG9yJylcbiAgLCB0YXNrICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL190YXNrJykuc2V0XG4gICwgbWljcm90YXNrICAgICAgICAgID0gcmVxdWlyZSgnLi9fbWljcm90YXNrJykoKVxuICAsIFBST01JU0UgICAgICAgICAgICA9ICdQcm9taXNlJ1xuICAsIFR5cGVFcnJvciAgICAgICAgICA9IGdsb2JhbC5UeXBlRXJyb3JcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsICRQcm9taXNlICAgICAgICAgICA9IGdsb2JhbFtQUk9NSVNFXVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgaXNOb2RlICAgICAgICAgICAgID0gY2xhc3NvZihwcm9jZXNzKSA9PSAncHJvY2VzcydcbiAgLCBlbXB0eSAgICAgICAgICAgICAgPSBmdW5jdGlvbigpeyAvKiBlbXB0eSAqLyB9XG4gICwgSW50ZXJuYWwsIEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eSwgV3JhcHBlcjtcblxudmFyIFVTRV9OQVRJVkUgPSAhIWZ1bmN0aW9uKCl7XG4gIHRyeSB7XG4gICAgLy8gY29ycmVjdCBzdWJjbGFzc2luZyB3aXRoIEBAc3BlY2llcyBzdXBwb3J0XG4gICAgdmFyIHByb21pc2UgICAgID0gJFByb21pc2UucmVzb2x2ZSgxKVxuICAgICAgLCBGYWtlUHJvbWlzZSA9IChwcm9taXNlLmNvbnN0cnVjdG9yID0ge30pW3JlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyldID0gZnVuY3Rpb24oZXhlYyl7IGV4ZWMoZW1wdHksIGVtcHR5KTsgfTtcbiAgICAvLyB1bmhhbmRsZWQgcmVqZWN0aW9ucyB0cmFja2luZyBzdXBwb3J0LCBOb2RlSlMgUHJvbWlzZSB3aXRob3V0IGl0IGZhaWxzIEBAc3BlY2llcyB0ZXN0XG4gICAgcmV0dXJuIChpc05vZGUgfHwgdHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCA9PSAnZnVuY3Rpb24nKSAmJiBwcm9taXNlLnRoZW4oZW1wdHkpIGluc3RhbmNlb2YgRmFrZVByb21pc2U7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbn0oKTtcblxuLy8gaGVscGVyc1xudmFyIHNhbWVDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKGEsIGIpe1xuICAvLyB3aXRoIGxpYnJhcnkgd3JhcHBlciBzcGVjaWFsIGNhc2VcbiAgcmV0dXJuIGEgPT09IGIgfHwgYSA9PT0gJFByb21pc2UgJiYgYiA9PT0gV3JhcHBlcjtcbn07XG52YXIgaXNUaGVuYWJsZSA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIHRoZW47XG4gIHJldHVybiBpc09iamVjdChpdCkgJiYgdHlwZW9mICh0aGVuID0gaXQudGhlbikgPT0gJ2Z1bmN0aW9uJyA/IHRoZW4gOiBmYWxzZTtcbn07XG52YXIgbmV3UHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgcmV0dXJuIHNhbWVDb25zdHJ1Y3RvcigkUHJvbWlzZSwgQylcbiAgICA/IG5ldyBQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgIDogbmV3IEdlbmVyaWNQcm9taXNlQ2FwYWJpbGl0eShDKTtcbn07XG52YXIgUHJvbWlzZUNhcGFiaWxpdHkgPSBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbihDKXtcbiAgdmFyIHJlc29sdmUsIHJlamVjdDtcbiAgdGhpcy5wcm9taXNlID0gbmV3IEMoZnVuY3Rpb24oJCRyZXNvbHZlLCAkJHJlamVjdCl7XG4gICAgaWYocmVzb2x2ZSAhPT0gdW5kZWZpbmVkIHx8IHJlamVjdCAhPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcignQmFkIFByb21pc2UgY29uc3RydWN0b3InKTtcbiAgICByZXNvbHZlID0gJCRyZXNvbHZlO1xuICAgIHJlamVjdCAgPSAkJHJlamVjdDtcbiAgfSk7XG4gIHRoaXMucmVzb2x2ZSA9IGFGdW5jdGlvbihyZXNvbHZlKTtcbiAgdGhpcy5yZWplY3QgID0gYUZ1bmN0aW9uKHJlamVjdCk7XG59O1xudmFyIHBlcmZvcm0gPSBmdW5jdGlvbihleGVjKXtcbiAgdHJ5IHtcbiAgICBleGVjKCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbn07XG52YXIgbm90aWZ5ID0gZnVuY3Rpb24ocHJvbWlzZSwgaXNSZWplY3Qpe1xuICBpZihwcm9taXNlLl9uKXJldHVybjtcbiAgcHJvbWlzZS5fbiA9IHRydWU7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2M7XG4gIG1pY3JvdGFzayhmdW5jdGlvbigpe1xuICAgIHZhciB2YWx1ZSA9IHByb21pc2UuX3ZcbiAgICAgICwgb2sgICAgPSBwcm9taXNlLl9zID09IDFcbiAgICAgICwgaSAgICAgPSAwO1xuICAgIHZhciBydW4gPSBmdW5jdGlvbihyZWFjdGlvbil7XG4gICAgICB2YXIgaGFuZGxlciA9IG9rID8gcmVhY3Rpb24ub2sgOiByZWFjdGlvbi5mYWlsXG4gICAgICAgICwgcmVzb2x2ZSA9IHJlYWN0aW9uLnJlc29sdmVcbiAgICAgICAgLCByZWplY3QgID0gcmVhY3Rpb24ucmVqZWN0XG4gICAgICAgICwgZG9tYWluICA9IHJlYWN0aW9uLmRvbWFpblxuICAgICAgICAsIHJlc3VsdCwgdGhlbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmKGhhbmRsZXIpe1xuICAgICAgICAgIGlmKCFvayl7XG4gICAgICAgICAgICBpZihwcm9taXNlLl9oID09IDIpb25IYW5kbGVVbmhhbmRsZWQocHJvbWlzZSk7XG4gICAgICAgICAgICBwcm9taXNlLl9oID0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYoaGFuZGxlciA9PT0gdHJ1ZSlyZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZW50ZXIoKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGhhbmRsZXIodmFsdWUpO1xuICAgICAgICAgICAgaWYoZG9tYWluKWRvbWFpbi5leGl0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKHJlc3VsdCA9PT0gcmVhY3Rpb24ucHJvbWlzZSl7XG4gICAgICAgICAgICByZWplY3QoVHlwZUVycm9yKCdQcm9taXNlLWNoYWluIGN5Y2xlJykpO1xuICAgICAgICAgIH0gZWxzZSBpZih0aGVuID0gaXNUaGVuYWJsZShyZXN1bHQpKXtcbiAgICAgICAgICAgIHRoZW4uY2FsbChyZXN1bHQsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgfSBlbHNlIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHJlamVjdCh2YWx1ZSk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZShjaGFpbi5sZW5ndGggPiBpKXJ1bihjaGFpbltpKytdKTsgLy8gdmFyaWFibGUgbGVuZ3RoIC0gY2FuJ3QgdXNlIGZvckVhY2hcbiAgICBwcm9taXNlLl9jID0gW107XG4gICAgcHJvbWlzZS5fbiA9IGZhbHNlO1xuICAgIGlmKGlzUmVqZWN0ICYmICFwcm9taXNlLl9oKW9uVW5oYW5kbGVkKHByb21pc2UpO1xuICB9KTtcbn07XG52YXIgb25VbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIGFicnVwdCwgaGFuZGxlciwgY29uc29sZTtcbiAgICBpZihpc1VuaGFuZGxlZChwcm9taXNlKSl7XG4gICAgICBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKGlzTm9kZSl7XG4gICAgICAgICAgcHJvY2Vzcy5lbWl0KCd1bmhhbmRsZWRSZWplY3Rpb24nLCB2YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uKXtcbiAgICAgICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHZhbHVlfSk7XG4gICAgICAgIH0gZWxzZSBpZigoY29uc29sZSA9IGdsb2JhbC5jb25zb2xlKSAmJiBjb25zb2xlLmVycm9yKXtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24nLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gQnJvd3NlcnMgc2hvdWxkIG5vdCB0cmlnZ2VyIGByZWplY3Rpb25IYW5kbGVkYCBldmVudCBpZiBpdCB3YXMgaGFuZGxlZCBoZXJlLCBOb2RlSlMgLSBzaG91bGRcbiAgICAgIHByb21pc2UuX2ggPSBpc05vZGUgfHwgaXNVbmhhbmRsZWQocHJvbWlzZSkgPyAyIDogMTtcbiAgICB9IHByb21pc2UuX2EgPSB1bmRlZmluZWQ7XG4gICAgaWYoYWJydXB0KXRocm93IGFicnVwdC5lcnJvcjtcbiAgfSk7XG59O1xudmFyIGlzVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIGlmKHByb21pc2UuX2ggPT0gMSlyZXR1cm4gZmFsc2U7XG4gIHZhciBjaGFpbiA9IHByb21pc2UuX2EgfHwgcHJvbWlzZS5fY1xuICAgICwgaSAgICAgPSAwXG4gICAgLCByZWFjdGlvbjtcbiAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSl7XG4gICAgcmVhY3Rpb24gPSBjaGFpbltpKytdO1xuICAgIGlmKHJlYWN0aW9uLmZhaWwgfHwgIWlzVW5oYW5kbGVkKHJlYWN0aW9uLnByb21pc2UpKXJldHVybiBmYWxzZTtcbiAgfSByZXR1cm4gdHJ1ZTtcbn07XG52YXIgb25IYW5kbGVVbmhhbmRsZWQgPSBmdW5jdGlvbihwcm9taXNlKXtcbiAgdGFzay5jYWxsKGdsb2JhbCwgZnVuY3Rpb24oKXtcbiAgICB2YXIgaGFuZGxlcjtcbiAgICBpZihpc05vZGUpe1xuICAgICAgcHJvY2Vzcy5lbWl0KCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSk7XG4gICAgfSBlbHNlIGlmKGhhbmRsZXIgPSBnbG9iYWwub25yZWplY3Rpb25oYW5kbGVkKXtcbiAgICAgIGhhbmRsZXIoe3Byb21pc2U6IHByb21pc2UsIHJlYXNvbjogcHJvbWlzZS5fdn0pO1xuICAgIH1cbiAgfSk7XG59O1xudmFyICRyZWplY3QgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICBwcm9taXNlLl9zID0gMjtcbiAgaWYoIXByb21pc2UuX2EpcHJvbWlzZS5fYSA9IHByb21pc2UuX2Muc2xpY2UoKTtcbiAgbm90aWZ5KHByb21pc2UsIHRydWUpO1xufTtcbnZhciAkcmVzb2x2ZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgdmFyIHByb21pc2UgPSB0aGlzXG4gICAgLCB0aGVuO1xuICBpZihwcm9taXNlLl9kKXJldHVybjtcbiAgcHJvbWlzZS5fZCA9IHRydWU7XG4gIHByb21pc2UgPSBwcm9taXNlLl93IHx8IHByb21pc2U7IC8vIHVud3JhcFxuICB0cnkge1xuICAgIGlmKHByb21pc2UgPT09IHZhbHVlKXRocm93IFR5cGVFcnJvcihcIlByb21pc2UgY2FuJ3QgYmUgcmVzb2x2ZWQgaXRzZWxmXCIpO1xuICAgIGlmKHRoZW4gPSBpc1RoZW5hYmxlKHZhbHVlKSl7XG4gICAgICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSB7X3c6IHByb21pc2UsIF9kOiBmYWxzZX07IC8vIHdyYXBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGVuLmNhbGwodmFsdWUsIGN0eCgkcmVzb2x2ZSwgd3JhcHBlciwgMSksIGN0eCgkcmVqZWN0LCB3cmFwcGVyLCAxKSk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgJHJlamVjdC5jYWxsKHdyYXBwZXIsIGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcHJvbWlzZS5fdiA9IHZhbHVlO1xuICAgICAgcHJvbWlzZS5fcyA9IDE7XG4gICAgICBub3RpZnkocHJvbWlzZSwgZmFsc2UpO1xuICAgIH1cbiAgfSBjYXRjaChlKXtcbiAgICAkcmVqZWN0LmNhbGwoe193OiBwcm9taXNlLCBfZDogZmFsc2V9LCBlKTsgLy8gd3JhcFxuICB9XG59O1xuXG4vLyBjb25zdHJ1Y3RvciBwb2x5ZmlsbFxuaWYoIVVTRV9OQVRJVkUpe1xuICAvLyAyNS40LjMuMSBQcm9taXNlKGV4ZWN1dG9yKVxuICAkUHJvbWlzZSA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIGFuSW5zdGFuY2UodGhpcywgJFByb21pc2UsIFBST01JU0UsICdfaCcpO1xuICAgIGFGdW5jdGlvbihleGVjdXRvcik7XG4gICAgSW50ZXJuYWwuY2FsbCh0aGlzKTtcbiAgICB0cnkge1xuICAgICAgZXhlY3V0b3IoY3R4KCRyZXNvbHZlLCB0aGlzLCAxKSwgY3R4KCRyZWplY3QsIHRoaXMsIDEpKTtcbiAgICB9IGNhdGNoKGVycil7XG4gICAgICAkcmVqZWN0LmNhbGwodGhpcywgZXJyKTtcbiAgICB9XG4gIH07XG4gIEludGVybmFsID0gZnVuY3Rpb24gUHJvbWlzZShleGVjdXRvcil7XG4gICAgdGhpcy5fYyA9IFtdOyAgICAgICAgICAgICAvLyA8LSBhd2FpdGluZyByZWFjdGlvbnNcbiAgICB0aGlzLl9hID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIGNoZWNrZWQgaW4gaXNVbmhhbmRsZWQgcmVhY3Rpb25zXG4gICAgdGhpcy5fcyA9IDA7ICAgICAgICAgICAgICAvLyA8LSBzdGF0ZVxuICAgIHRoaXMuX2QgPSBmYWxzZTsgICAgICAgICAgLy8gPC0gZG9uZVxuICAgIHRoaXMuX3YgPSB1bmRlZmluZWQ7ICAgICAgLy8gPC0gdmFsdWVcbiAgICB0aGlzLl9oID0gMDsgICAgICAgICAgICAgIC8vIDwtIHJlamVjdGlvbiBzdGF0ZSwgMCAtIGRlZmF1bHQsIDEgLSBoYW5kbGVkLCAyIC0gdW5oYW5kbGVkXG4gICAgdGhpcy5fbiA9IGZhbHNlOyAgICAgICAgICAvLyA8LSBub3RpZnlcbiAgfTtcbiAgSW50ZXJuYWwucHJvdG90eXBlID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUtYWxsJykoJFByb21pc2UucHJvdG90eXBlLCB7XG4gICAgLy8gMjUuNC41LjMgUHJvbWlzZS5wcm90b3R5cGUudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZClcbiAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKXtcbiAgICAgIHZhciByZWFjdGlvbiAgICA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHNwZWNpZXNDb25zdHJ1Y3Rvcih0aGlzLCAkUHJvbWlzZSkpO1xuICAgICAgcmVhY3Rpb24ub2sgICAgID0gdHlwZW9mIG9uRnVsZmlsbGVkID09ICdmdW5jdGlvbicgPyBvbkZ1bGZpbGxlZCA6IHRydWU7XG4gICAgICByZWFjdGlvbi5mYWlsICAgPSB0eXBlb2Ygb25SZWplY3RlZCA9PSAnZnVuY3Rpb24nICYmIG9uUmVqZWN0ZWQ7XG4gICAgICByZWFjdGlvbi5kb21haW4gPSBpc05vZGUgPyBwcm9jZXNzLmRvbWFpbiA6IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX2MucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9hKXRoaXMuX2EucHVzaChyZWFjdGlvbik7XG4gICAgICBpZih0aGlzLl9zKW5vdGlmeSh0aGlzLCBmYWxzZSk7XG4gICAgICByZXR1cm4gcmVhY3Rpb24ucHJvbWlzZTtcbiAgICB9LFxuICAgIC8vIDI1LjQuNS4xIFByb21pc2UucHJvdG90eXBlLmNhdGNoKG9uUmVqZWN0ZWQpXG4gICAgJ2NhdGNoJzogZnVuY3Rpb24ob25SZWplY3RlZCl7XG4gICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICB9KTtcbiAgUHJvbWlzZUNhcGFiaWxpdHkgPSBmdW5jdGlvbigpe1xuICAgIHZhciBwcm9taXNlICA9IG5ldyBJbnRlcm5hbDtcbiAgICB0aGlzLnByb21pc2UgPSBwcm9taXNlO1xuICAgIHRoaXMucmVzb2x2ZSA9IGN0eCgkcmVzb2x2ZSwgcHJvbWlzZSwgMSk7XG4gICAgdGhpcy5yZWplY3QgID0gY3R4KCRyZWplY3QsIHByb21pc2UsIDEpO1xuICB9O1xufVxuXG4kZXhwb3J0KCRleHBvcnQuRyArICRleHBvcnQuVyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCB7UHJvbWlzZTogJFByb21pc2V9KTtcbnJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJykoJFByb21pc2UsIFBST01JU0UpO1xucmVxdWlyZSgnLi9fc2V0LXNwZWNpZXMnKShQUk9NSVNFKTtcbldyYXBwZXIgPSByZXF1aXJlKCcuL19jb3JlJylbUFJPTUlTRV07XG5cbi8vIHN0YXRpY3NcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjUgUHJvbWlzZS5yZWplY3QocilcbiAgcmVqZWN0OiBmdW5jdGlvbiByZWplY3Qocil7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlamVjdCAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgJCRyZWplY3Qocik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqIChMSUJSQVJZIHx8ICFVU0VfTkFUSVZFKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuNiBQcm9taXNlLnJlc29sdmUoeClcbiAgcmVzb2x2ZTogZnVuY3Rpb24gcmVzb2x2ZSh4KXtcbiAgICAvLyBpbnN0YW5jZW9mIGluc3RlYWQgb2YgaW50ZXJuYWwgc2xvdCBjaGVjayBiZWNhdXNlIHdlIHNob3VsZCBmaXggaXQgd2l0aG91dCByZXBsYWNlbWVudCBuYXRpdmUgUHJvbWlzZSBjb3JlXG4gICAgaWYoeCBpbnN0YW5jZW9mICRQcm9taXNlICYmIHNhbWVDb25zdHJ1Y3Rvcih4LmNvbnN0cnVjdG9yLCB0aGlzKSlyZXR1cm4geDtcbiAgICB2YXIgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KHRoaXMpXG4gICAgICAsICQkcmVzb2x2ZSAgPSBjYXBhYmlsaXR5LnJlc29sdmU7XG4gICAgJCRyZXNvbHZlKHgpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhKFVTRV9OQVRJVkUgJiYgcmVxdWlyZSgnLi9faXRlci1kZXRlY3QnKShmdW5jdGlvbihpdGVyKXtcbiAgJFByb21pc2UuYWxsKGl0ZXIpWydjYXRjaCddKGVtcHR5KTtcbn0pKSwgUFJPTUlTRSwge1xuICAvLyAyNS40LjQuMSBQcm9taXNlLmFsbChpdGVyYWJsZSlcbiAgYWxsOiBmdW5jdGlvbiBhbGwoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVzb2x2ZSAgICA9IGNhcGFiaWxpdHkucmVzb2x2ZVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIHZhciB2YWx1ZXMgICAgPSBbXVxuICAgICAgICAsIGluZGV4ICAgICA9IDBcbiAgICAgICAgLCByZW1haW5pbmcgPSAxO1xuICAgICAgZm9yT2YoaXRlcmFibGUsIGZhbHNlLCBmdW5jdGlvbihwcm9taXNlKXtcbiAgICAgICAgdmFyICRpbmRleCAgICAgICAgPSBpbmRleCsrXG4gICAgICAgICAgLCBhbHJlYWR5Q2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHZhbHVlcy5wdXNoKHVuZGVmaW5lZCk7XG4gICAgICAgIHJlbWFpbmluZysrO1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgICAgaWYoYWxyZWFkeUNhbGxlZClyZXR1cm47XG4gICAgICAgICAgYWxyZWFkeUNhbGxlZCAgPSB0cnVlO1xuICAgICAgICAgIHZhbHVlc1skaW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgICAgfSk7XG4gICAgICAtLXJlbWFpbmluZyB8fCByZXNvbHZlKHZhbHVlcyk7XG4gICAgfSk7XG4gICAgaWYoYWJydXB0KXJlamVjdChhYnJ1cHQuZXJyb3IpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH0sXG4gIC8vIDI1LjQuNC40IFByb21pc2UucmFjZShpdGVyYWJsZSlcbiAgcmFjZTogZnVuY3Rpb24gcmFjZShpdGVyYWJsZSl7XG4gICAgdmFyIEMgICAgICAgICAgPSB0aGlzXG4gICAgICAsIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShDKVxuICAgICAgLCByZWplY3QgICAgID0gY2FwYWJpbGl0eS5yZWplY3Q7XG4gICAgdmFyIGFicnVwdCA9IHBlcmZvcm0oZnVuY3Rpb24oKXtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIEMucmVzb2x2ZShwcm9taXNlKS50aGVuKGNhcGFiaWxpdHkucmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2LnByb21pc2UuanNcbiAqKiBtb2R1bGUgaWQgPSA2MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvZXM2LnByb21pc2UuanMiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0LCBDb25zdHJ1Y3RvciwgbmFtZSwgZm9yYmlkZGVuRmllbGQpe1xuICBpZighKGl0IGluc3RhbmNlb2YgQ29uc3RydWN0b3IpIHx8IChmb3JiaWRkZW5GaWVsZCAhPT0gdW5kZWZpbmVkICYmIGZvcmJpZGRlbkZpZWxkIGluIGl0KSl7XG4gICAgdGhyb3cgVHlwZUVycm9yKG5hbWUgKyAnOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEnKTtcbiAgfSByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fYW4taW5zdGFuY2UuanNcbiAqKiBtb2R1bGUgaWQgPSA2MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2FuLWluc3RhbmNlLmpzIiwidmFyIGN0eCAgICAgICAgID0gcmVxdWlyZSgnLi9fY3R4JylcbiAgLCBjYWxsICAgICAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY2FsbCcpXG4gICwgaXNBcnJheUl0ZXIgPSByZXF1aXJlKCcuL19pcy1hcnJheS1pdGVyJylcbiAgLCBhbk9iamVjdCAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9MZW5ndGggICAgPSByZXF1aXJlKCcuL190by1sZW5ndGgnKVxuICAsIGdldEl0ZXJGbiAgID0gcmVxdWlyZSgnLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QnKVxuICAsIEJSRUFLICAgICAgID0ge31cbiAgLCBSRVRVUk4gICAgICA9IHt9O1xudmFyIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0ZXJhYmxlLCBlbnRyaWVzLCBmbiwgdGhhdCwgSVRFUkFUT1Ipe1xuICB2YXIgaXRlckZuID0gSVRFUkFUT1IgPyBmdW5jdGlvbigpeyByZXR1cm4gaXRlcmFibGU7IH0gOiBnZXRJdGVyRm4oaXRlcmFibGUpXG4gICAgLCBmICAgICAgPSBjdHgoZm4sIHRoYXQsIGVudHJpZXMgPyAyIDogMSlcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGxlbmd0aCwgc3RlcCwgaXRlcmF0b3IsIHJlc3VsdDtcbiAgaWYodHlwZW9mIGl0ZXJGbiAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdGVyYWJsZSArICcgaXMgbm90IGl0ZXJhYmxlIScpO1xuICAvLyBmYXN0IGNhc2UgZm9yIGFycmF5cyB3aXRoIGRlZmF1bHQgaXRlcmF0b3JcbiAgaWYoaXNBcnJheUl0ZXIoaXRlckZuKSlmb3IobGVuZ3RoID0gdG9MZW5ndGgoaXRlcmFibGUubGVuZ3RoKTsgbGVuZ3RoID4gaW5kZXg7IGluZGV4Kyspe1xuICAgIHJlc3VsdCA9IGVudHJpZXMgPyBmKGFuT2JqZWN0KHN0ZXAgPSBpdGVyYWJsZVtpbmRleF0pWzBdLCBzdGVwWzFdKSA6IGYoaXRlcmFibGVbaW5kZXhdKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH0gZWxzZSBmb3IoaXRlcmF0b3IgPSBpdGVyRm4uY2FsbChpdGVyYWJsZSk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgKXtcbiAgICByZXN1bHQgPSBjYWxsKGl0ZXJhdG9yLCBmLCBzdGVwLnZhbHVlLCBlbnRyaWVzKTtcbiAgICBpZihyZXN1bHQgPT09IEJSRUFLIHx8IHJlc3VsdCA9PT0gUkVUVVJOKXJldHVybiByZXN1bHQ7XG4gIH1cbn07XG5leHBvcnRzLkJSRUFLICA9IEJSRUFLO1xuZXhwb3J0cy5SRVRVUk4gPSBSRVRVUk47XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19mb3Itb2YuanNcbiAqKiBtb2R1bGUgaWQgPSA2MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2Zvci1vZi5qcyIsIi8vIGNhbGwgc29tZXRoaW5nIG9uIGl0ZXJhdG9yIHN0ZXAgd2l0aCBzYWZlIGNsb3Npbmcgb24gZXJyb3JcbnZhciBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdGVyYXRvciwgZm4sIHZhbHVlLCBlbnRyaWVzKXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZW50cmllcyA/IGZuKGFuT2JqZWN0KHZhbHVlKVswXSwgdmFsdWVbMV0pIDogZm4odmFsdWUpO1xuICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICB9IGNhdGNoKGUpe1xuICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgaWYocmV0ICE9PSB1bmRlZmluZWQpYW5PYmplY3QocmV0LmNhbGwoaXRlcmF0b3IpKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9faXRlci1jYWxsLmpzXG4gKiogbW9kdWxlIGlkID0gNjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWNhbGwuanMiLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDY0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qcyIsInZhciBjbGFzc29mICAgPSByZXF1aXJlKCcuL19jbGFzc29mJylcbiAgLCBJVEVSQVRPUiAgPSByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKVxuICAsIEl0ZXJhdG9ycyA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19jb3JlJykuZ2V0SXRlcmF0b3JNZXRob2QgPSBmdW5jdGlvbihpdCl7XG4gIGlmKGl0ICE9IHVuZGVmaW5lZClyZXR1cm4gaXRbSVRFUkFUT1JdXG4gICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgIHx8IEl0ZXJhdG9yc1tjbGFzc29mKGl0KV07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QuanNcbiAqKiBtb2R1bGUgaWQgPSA2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzIiwiLy8gV29ya3Mgd2l0aCBfX3Byb3RvX18gb25seS4gT2xkIHY4IGNhbid0IHdvcmsgd2l0aCBudWxsIHByb3RvIG9iamVjdHMuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqL1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0JylcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpO1xudmFyIGNoZWNrID0gZnVuY3Rpb24oTywgcHJvdG8pe1xuICBhbk9iamVjdChPKTtcbiAgaWYoIWlzT2JqZWN0KHByb3RvKSAmJiBwcm90byAhPT0gbnVsbCl0aHJvdyBUeXBlRXJyb3IocHJvdG8gKyBcIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSFcIik7XG59O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8ICgnX19wcm90b19fJyBpbiB7fSA/IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICBmdW5jdGlvbih0ZXN0LCBidWdneSwgc2V0KXtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldCA9IHJlcXVpcmUoJy4vX2N0eCcpKEZ1bmN0aW9uLmNhbGwsIHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJykuZihPYmplY3QucHJvdG90eXBlLCAnX19wcm90b19fJykuc2V0LCAyKTtcbiAgICAgICAgc2V0KHRlc3QsIFtdKTtcbiAgICAgICAgYnVnZ3kgPSAhKHRlc3QgaW5zdGFuY2VvZiBBcnJheSk7XG4gICAgICB9IGNhdGNoKGUpeyBidWdneSA9IHRydWU7IH1cbiAgICAgIHJldHVybiBmdW5jdGlvbiBzZXRQcm90b3R5cGVPZihPLCBwcm90byl7XG4gICAgICAgIGNoZWNrKE8sIHByb3RvKTtcbiAgICAgICAgaWYoYnVnZ3kpTy5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgZWxzZSBzZXQoTywgcHJvdG8pO1xuICAgICAgICByZXR1cm4gTztcbiAgICAgIH07XG4gICAgfSh7fSwgZmFsc2UpIDogdW5kZWZpbmVkKSxcbiAgY2hlY2s6IGNoZWNrXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fc2V0LXByb3RvLmpzXG4gKiogbW9kdWxlIGlkID0gNjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19zZXQtcHJvdG8uanMiLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcclxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXHJcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxyXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxyXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxyXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXHJcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XHJcblxyXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcclxuICBPID0gdG9JT2JqZWN0KE8pO1xyXG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcclxuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xyXG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XHJcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxyXG4gIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuICoqIG1vZHVsZSBpZCA9IDY3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcGQuanMiLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1waWUuanNcbiAqKiBtb2R1bGUgaWQgPSA2OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1waWUuanMiLCIvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcbnZhciBhbk9iamVjdCAgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKVxuICAsIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vX2EtZnVuY3Rpb24nKVxuICAsIFNQRUNJRVMgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKE8sIEQpe1xuICB2YXIgQyA9IGFuT2JqZWN0KE8pLmNvbnN0cnVjdG9yLCBTO1xuICByZXR1cm4gQyA9PT0gdW5kZWZpbmVkIHx8IChTID0gYW5PYmplY3QoQylbU1BFQ0lFU10pID09IHVuZGVmaW5lZCA/IEQgOiBhRnVuY3Rpb24oUyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qc1xuICoqIG1vZHVsZSBpZCA9IDY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsInZhciBjdHggICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGludm9rZSAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2ludm9rZScpXG4gICwgaHRtbCAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faHRtbCcpXG4gICwgY2VsICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZG9tLWNyZWF0ZScpXG4gICwgZ2xvYmFsICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIHNldFRhc2sgICAgICAgICAgICA9IGdsb2JhbC5zZXRJbW1lZGlhdGVcbiAgLCBjbGVhclRhc2sgICAgICAgICAgPSBnbG9iYWwuY2xlYXJJbW1lZGlhdGVcbiAgLCBNZXNzYWdlQ2hhbm5lbCAgICAgPSBnbG9iYWwuTWVzc2FnZUNoYW5uZWxcbiAgLCBjb3VudGVyICAgICAgICAgICAgPSAwXG4gICwgcXVldWUgICAgICAgICAgICAgID0ge31cbiAgLCBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJ1xuICAsIGRlZmVyLCBjaGFubmVsLCBwb3J0O1xudmFyIHJ1biA9IGZ1bmN0aW9uKCl7XG4gIHZhciBpZCA9ICt0aGlzO1xuICBpZihxdWV1ZS5oYXNPd25Qcm9wZXJ0eShpZCkpe1xuICAgIHZhciBmbiA9IHF1ZXVlW2lkXTtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICAgIGZuKCk7XG4gIH1cbn07XG52YXIgbGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCl7XG4gIHJ1bi5jYWxsKGV2ZW50LmRhdGEpO1xufTtcbi8vIE5vZGUuanMgMC45KyAmIElFMTArIGhhcyBzZXRJbW1lZGlhdGUsIG90aGVyd2lzZTpcbmlmKCFzZXRUYXNrIHx8ICFjbGVhclRhc2spe1xuICBzZXRUYXNrID0gZnVuY3Rpb24gc2V0SW1tZWRpYXRlKGZuKXtcbiAgICB2YXIgYXJncyA9IFtdLCBpID0gMTtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHF1ZXVlWysrY291bnRlcl0gPSBmdW5jdGlvbigpe1xuICAgICAgaW52b2tlKHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nID8gZm4gOiBGdW5jdGlvbihmbiksIGFyZ3MpO1xuICAgIH07XG4gICAgZGVmZXIoY291bnRlcik7XG4gICAgcmV0dXJuIGNvdW50ZXI7XG4gIH07XG4gIGNsZWFyVGFzayA9IGZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGlkKXtcbiAgICBkZWxldGUgcXVldWVbaWRdO1xuICB9O1xuICAvLyBOb2RlLmpzIDAuOC1cbiAgaWYocmVxdWlyZSgnLi9fY29mJykocHJvY2VzcykgPT0gJ3Byb2Nlc3MnKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soY3R4KHJ1biwgaWQsIDEpKTtcbiAgICB9O1xuICAvLyBCcm93c2VycyB3aXRoIE1lc3NhZ2VDaGFubmVsLCBpbmNsdWRlcyBXZWJXb3JrZXJzXG4gIH0gZWxzZSBpZihNZXNzYWdlQ2hhbm5lbCl7XG4gICAgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbDtcbiAgICBwb3J0ICAgID0gY2hhbm5lbC5wb3J0MjtcbiAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGxpc3RlbmVyO1xuICAgIGRlZmVyID0gY3R4KHBvcnQucG9zdE1lc3NhZ2UsIHBvcnQsIDEpO1xuICAvLyBCcm93c2VycyB3aXRoIHBvc3RNZXNzYWdlLCBza2lwIFdlYldvcmtlcnNcbiAgLy8gSUU4IGhhcyBwb3N0TWVzc2FnZSwgYnV0IGl0J3Mgc3luYyAmIHR5cGVvZiBpdHMgcG9zdE1lc3NhZ2UgaXMgJ29iamVjdCdcbiAgfSBlbHNlIGlmKGdsb2JhbC5hZGRFdmVudExpc3RlbmVyICYmIHR5cGVvZiBwb3N0TWVzc2FnZSA9PSAnZnVuY3Rpb24nICYmICFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBnbG9iYWwucG9zdE1lc3NhZ2UoaWQgKyAnJywgJyonKTtcbiAgICB9O1xuICAgIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgbGlzdGVuZXIsIGZhbHNlKTtcbiAgLy8gSUU4LVxuICB9IGVsc2UgaWYoT05SRUFEWVNUQVRFQ0hBTkdFIGluIGNlbCgnc2NyaXB0Jykpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgaHRtbC5hcHBlbmRDaGlsZChjZWwoJ3NjcmlwdCcpKVtPTlJFQURZU1RBVEVDSEFOR0VdID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaHRtbC5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgcnVuLmNhbGwoaWQpO1xuICAgICAgfTtcbiAgICB9O1xuICAvLyBSZXN0IG9sZCBicm93c2Vyc1xuICB9IGVsc2Uge1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgc2V0VGltZW91dChjdHgocnVuLCBpZCwgMSksIDApO1xuICAgIH07XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6ICAgc2V0VGFzayxcbiAgY2xlYXI6IGNsZWFyVGFza1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3Rhc2suanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3Rhc2suanMiLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY29yZS1qcy9tb2R1bGVzL19pbnZva2UuanNcbiAqKiBtb2R1bGUgaWQgPSA3MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX2ludm9rZS5qcyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIG1hY3JvdGFzayA9IHJlcXVpcmUoJy4vX3Rhc2snKS5zZXRcbiAgLCBPYnNlcnZlciAgPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlclxuICAsIHByb2Nlc3MgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgUHJvbWlzZSAgID0gZ2xvYmFsLlByb21pc2VcbiAgLCBpc05vZGUgICAgPSByZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXtcbiAgdmFyIGhlYWQsIGxhc3QsIG5vdGlmeTtcblxuICB2YXIgZmx1c2ggPSBmdW5jdGlvbigpe1xuICAgIHZhciBwYXJlbnQsIGZuO1xuICAgIGlmKGlzTm9kZSAmJiAocGFyZW50ID0gcHJvY2Vzcy5kb21haW4pKXBhcmVudC5leGl0KCk7XG4gICAgd2hpbGUoaGVhZCl7XG4gICAgICBmbiAgID0gaGVhZC5mbjtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgICB0cnkge1xuICAgICAgICBmbigpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgaWYoaGVhZClub3RpZnkoKTtcbiAgICAgICAgZWxzZSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH0gbGFzdCA9IHVuZGVmaW5lZDtcbiAgICBpZihwYXJlbnQpcGFyZW50LmVudGVyKCk7XG4gIH07XG5cbiAgLy8gTm9kZS5qc1xuICBpZihpc05vZGUpe1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgICB9O1xuICAvLyBicm93c2VycyB3aXRoIE11dGF0aW9uT2JzZXJ2ZXJcbiAgfSBlbHNlIGlmKE9ic2VydmVyKXtcbiAgICB2YXIgdG9nZ2xlID0gdHJ1ZVxuICAgICAgLCBub2RlICAgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gICAgbmV3IE9ic2VydmVyKGZsdXNoKS5vYnNlcnZlKG5vZGUsIHtjaGFyYWN0ZXJEYXRhOiB0cnVlfSk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tbmV3XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIG5vZGUuZGF0YSA9IHRvZ2dsZSA9ICF0b2dnbGU7XG4gICAgfTtcbiAgLy8gZW52aXJvbm1lbnRzIHdpdGggbWF5YmUgbm9uLWNvbXBsZXRlbHkgY29ycmVjdCwgYnV0IGV4aXN0ZW50IFByb21pc2VcbiAgfSBlbHNlIGlmKFByb21pc2UgJiYgUHJvbWlzZS5yZXNvbHZlKXtcbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICBwcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH07XG4gIC8vIGZvciBvdGhlciBlbnZpcm9ubWVudHMgLSBtYWNyb3Rhc2sgYmFzZWQgb246XG4gIC8vIC0gc2V0SW1tZWRpYXRlXG4gIC8vIC0gTWVzc2FnZUNoYW5uZWxcbiAgLy8gLSB3aW5kb3cucG9zdE1lc3NhZ1xuICAvLyAtIG9ucmVhZHlzdGF0ZWNoYW5nZVxuICAvLyAtIHNldFRpbWVvdXRcbiAgfSBlbHNlIHtcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgLy8gc3RyYW5nZSBJRSArIHdlYnBhY2sgZGV2IHNlcnZlciBidWcgLSB1c2UgLmNhbGwoZ2xvYmFsKVxuICAgICAgbWFjcm90YXNrLmNhbGwoZ2xvYmFsLCBmbHVzaCk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbihmbil7XG4gICAgdmFyIHRhc2sgPSB7Zm46IGZuLCBuZXh0OiB1bmRlZmluZWR9O1xuICAgIGlmKGxhc3QpbGFzdC5uZXh0ID0gdGFzaztcbiAgICBpZighaGVhZCl7XG4gICAgICBoZWFkID0gdGFzaztcbiAgICAgIG5vdGlmeSgpO1xuICAgIH0gbGFzdCA9IHRhc2s7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fbWljcm90YXNrLmpzXG4gKiogbW9kdWxlIGlkID0gNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19taWNyb3Rhc2suanMiLCJ2YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuL19yZWRlZmluZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih0YXJnZXQsIHNyYywgc2FmZSl7XG4gIGZvcih2YXIga2V5IGluIHNyYylyZWRlZmluZSh0YXJnZXQsIGtleSwgc3JjW2tleV0sIHNhZmUpO1xuICByZXR1cm4gdGFyZ2V0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDczXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fcmVkZWZpbmUtYWxsLmpzIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBkUCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgREVTQ1JJUFRPUlMgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpXG4gICwgU1BFQ0lFUyAgICAgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKEtFWSl7XG4gIHZhciBDID0gZ2xvYmFsW0tFWV07XG4gIGlmKERFU0NSSVBUT1JTICYmIEMgJiYgIUNbU1BFQ0lFU10pZFAuZihDLCBTUEVDSUVTLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH1cbiAgfSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL21vZHVsZXMvX3NldC1zcGVjaWVzLmpzIiwidmFyIElURVJBVE9SICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgU0FGRV9DTE9TSU5HID0gZmFsc2U7XG5cbnRyeSB7XG4gIHZhciByaXRlciA9IFs3XVtJVEVSQVRPUl0oKTtcbiAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24oKXsgU0FGRV9DTE9TSU5HID0gdHJ1ZTsgfTtcbiAgQXJyYXkuZnJvbShyaXRlciwgZnVuY3Rpb24oKXsgdGhyb3cgMjsgfSk7XG59IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYywgc2tpcENsb3Npbmcpe1xuICBpZighc2tpcENsb3NpbmcgJiYgIVNBRkVfQ0xPU0lORylyZXR1cm4gZmFsc2U7XG4gIHZhciBzYWZlID0gZmFsc2U7XG4gIHRyeSB7XG4gICAgdmFyIGFyciAgPSBbN11cbiAgICAgICwgaXRlciA9IGFycltJVEVSQVRPUl0oKTtcbiAgICBpdGVyLm5leHQgPSBmdW5jdGlvbigpeyByZXR1cm4ge2RvbmU6IHNhZmUgPSB0cnVlfTsgfTtcbiAgICBhcnJbSVRFUkFUT1JdID0gZnVuY3Rpb24oKXsgcmV0dXJuIGl0ZXI7IH07XG4gICAgZXhlYyhhcnIpO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG4gIHJldHVybiBzYWZlO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19pdGVyLWRldGVjdC5qcyIsImxldCBmcmFtZXdvcmtzXG5cbmNvbnN0IHZlcnNpb25SZWdFeHAgPSAvXlxccypcXC9cXC8gKihcXHtbXlxcfV0qXFx9KSAqXFxyP1xcbi9cblxuLyoqXG4gKiBEZXRlY3QgYSBKUyBCdW5kbGUgY29kZSBhbmQgbWFrZSBzdXJlIHdoaWNoIGZyYW1ld29yayBpdCdzIGJhc2VkIHRvLiBFYWNoIEpTXG4gKiBCdW5kbGUgc2hvdWxkIG1ha2Ugc3VyZSB0aGF0IGl0IHN0YXJ0cyB3aXRoIGEgbGluZSBvZiBKU09OIGNvbW1lbnQgYW5kIGlzXG4gKiBtb3JlIHRoYXQgb25lIGxpbmUuXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvZGVcbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuZnVuY3Rpb24gY2hlY2tWZXJzaW9uIChjb2RlKSB7XG4gIGxldCBpbmZvXG4gIGNvbnN0IHJlc3VsdCA9IHZlcnNpb25SZWdFeHAuZXhlYyhjb2RlKVxuICBpZiAocmVzdWx0KSB7XG4gICAgdHJ5IHtcbiAgICAgIGluZm8gPSBKU09OLnBhcnNlKHJlc3VsdFsxXSlcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIGluZm9cbn1cblxuY29uc3QgaW5zdGFuY2VNYXAgPSB7fVxuXG4vKipcbiAqIENoZWNrIHdoaWNoIGZyYW1ld29yayBhIGNlcnRhaW4gSlMgQnVuZGxlIGNvZGUgYmFzZWQgdG8uIEFuZCBjcmVhdGUgaW5zdGFuY2VcbiAqIGJ5IHRoaXMgZnJhbWV3b3JrLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gY29kZVxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ1xuICogQHBhcmFtIHtvYmplY3R9IGRhdGFcbiAqL1xuZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2UgKGlkLCBjb2RlLCBjb25maWcsIGRhdGEpIHtcbiAgbGV0IGluZm8gPSBpbnN0YW5jZU1hcFtpZF1cbiAgaWYgKCFpbmZvKSB7XG4gICAgaW5mbyA9IGNoZWNrVmVyc2lvbihjb2RlKSB8fCB7fVxuICAgIGlmICghZnJhbWV3b3Jrc1tpbmZvLmZyYW1ld29ya10pIHtcbiAgICAgIGluZm8uZnJhbWV3b3JrID0gJ1dlZXgnXG4gICAgfVxuICAgIGluc3RhbmNlTWFwW2lkXSA9IGluZm9cbiAgICBjb25maWcgPSBjb25maWcgfHwge31cbiAgICBjb25maWcuYnVuZGxlVmVyc2lvbiA9IGluZm8udmVyc2lvblxuICAgIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIGNyZWF0ZSBhbiAke2luZm8uZnJhbWV3b3JrfUAke2NvbmZpZy5idW5kbGVWZXJzaW9ufSBpbnN0YW5jZSBmcm9tICR7Y29uZmlnLmJ1bmRsZVZlcnNpb259YClcbiAgICByZXR1cm4gZnJhbWV3b3Jrc1tpbmZvLmZyYW1ld29ya10uY3JlYXRlSW5zdGFuY2UoaWQsIGNvZGUsIGNvbmZpZywgZGF0YSlcbiAgfVxuICByZXR1cm4gbmV3IEVycm9yKGBpbnZhbGlkIGluc3RhbmNlIGlkIFwiJHtpZH1cImApXG59XG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIGNyZWF0ZUluc3RhbmNlXG59XG5cbi8qKlxuICogUmVnaXN0ZXIgbWV0aG9kcyB3aGljaCBpbml0IGVhY2ggZnJhbWV3b3Jrcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2ROYW1lXG4gKi9cbmZ1bmN0aW9uIGdlbkluaXQgKG1ldGhvZE5hbWUpIHtcbiAgbWV0aG9kc1ttZXRob2ROYW1lXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgZm9yIChjb25zdCBuYW1lIGluIGZyYW1ld29ya3MpIHtcbiAgICAgIGNvbnN0IGZyYW1ld29yayA9IGZyYW1ld29ya3NbbmFtZV1cbiAgICAgIGlmIChmcmFtZXdvcmsgJiYgZnJhbWV3b3JrW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIGZyYW1ld29ya1ttZXRob2ROYW1lXSguLi5hcmdzKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVyIG1ldGhvZHMgd2hpY2ggd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggaW5zdGFuY2UuXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZVxuICovXG5mdW5jdGlvbiBnZW5JbnN0YW5jZSAobWV0aG9kTmFtZSkge1xuICBtZXRob2RzW21ldGhvZE5hbWVdID0gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBpZCA9IGFyZ3NbMF1cbiAgICBjb25zdCBpbmZvID0gaW5zdGFuY2VNYXBbaWRdXG4gICAgaWYgKGluZm8gJiYgZnJhbWV3b3Jrc1tpbmZvLmZyYW1ld29ya10pIHtcbiAgICAgIHJldHVybiBmcmFtZXdvcmtzW2luZm8uZnJhbWV3b3JrXVttZXRob2ROYW1lXSguLi5hcmdzKVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEVycm9yKGBpbnZhbGlkIGluc3RhbmNlIGlkIFwiJHtpZH1cImApXG4gIH1cbn1cblxuLyoqXG4gKiBBZGFwdCBzb21lIGxlZ2FjeSBtZXRob2Qocykgd2hpY2ggd2lsbCBiZSBjYWxsZWQgZm9yIGVhY2ggaW5zdGFuY2UuIFRoZXNlXG4gKiBtZXRob2RzIHNob3VsZCBiZSBkZXByZWNhdGVkIGFuZCByZW1vdmVkIGxhdGVyLlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYXRpdmVNZXRob2ROYW1lXG4gKi9cbmZ1bmN0aW9uIGFkYXB0SW5zdGFuY2UgKG1ldGhvZE5hbWUsIG5hdGl2ZU1ldGhvZE5hbWUpIHtcbiAgbWV0aG9kc1tuYXRpdmVNZXRob2ROYW1lXSA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgY29uc3QgaWQgPSBhcmdzWzBdXG4gICAgY29uc3QgaW5mbyA9IGluc3RhbmNlTWFwW2lkXVxuICAgIGlmIChpbmZvICYmIGZyYW1ld29ya3NbaW5mby5mcmFtZXdvcmtdKSB7XG4gICAgICByZXR1cm4gZnJhbWV3b3Jrc1tpbmZvLmZyYW1ld29ya11bbWV0aG9kTmFtZV0oLi4uYXJncylcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgaW52YWxpZCBpbnN0YW5jZSBpZCBcIiR7aWR9XCJgKVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluaXQgKGNvbmZpZykge1xuICBmcmFtZXdvcmtzID0gY29uZmlnLmZyYW1ld29ya3MgfHwge31cblxuICAvLyBJbml0IGVhY2ggZnJhbWV3b3JrIGJ5IGBpbml0YCBtZXRob2QgYW5kIGBjb25maWdgIHdoaWNoIGNvbnRhaW5zIHRocmVlXG4gIC8vIHZpcnR1YWwtRE9NIENsYXNzOiBgRG9jdW1lbnRgLCBgRWxlbWVudGAgJiBgQ29tbWVudGAsIGFuZCBhIEpTIGJyaWRnZSBtZXRob2Q6XG4gIC8vIGBzZW5kVGFza3MoLi4uYXJncylgLlxuICBmb3IgKGNvbnN0IG5hbWUgaW4gZnJhbWV3b3Jrcykge1xuICAgIGNvbnN0IGZyYW1ld29yayA9IGZyYW1ld29ya3NbbmFtZV1cbiAgICBmcmFtZXdvcmsuaW5pdChjb25maWcpXG4gIH1cblxuICAvLyBAdG9kbzogVGhlIG1ldGhvZCBgcmVnaXN0ZXJNZXRob2RzYCB3aWxsIGJlIHJlLWRlc2lnbmVkIG9yIHJlbW92ZWQgbGF0ZXIuXG4gIDsgWydyZWdpc3RlckNvbXBvbmVudHMnLCAncmVnaXN0ZXJNb2R1bGVzJywgJ3JlZ2lzdGVyTWV0aG9kcyddLmZvckVhY2goZ2VuSW5pdClcblxuICA7IFsnZGVzdHJveUluc3RhbmNlJywgJ3JlZnJlc2hJbnN0YW5jZScsICdyZWNlaXZlVGFza3MnLCAnZ2V0Um9vdCddLmZvckVhY2goZ2VuSW5zdGFuY2UpXG5cbiAgYWRhcHRJbnN0YW5jZSgncmVjZWl2ZVRhc2tzJywgJ2NhbGxKUycpXG5cbiAgcmV0dXJuIG1ldGhvZHNcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvcnVudGltZS9pbml0LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvcnVudGltZS9pbml0LmpzIiwiaW1wb3J0ICogYXMgV2VleCBmcm9tICcuL2RlZmF1bHQnXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgV2VleFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvY29uZmlnLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2NvbmZpZy5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlldyBNYWluIGVudHJ5LCBpbnN0YW5jZSBtYW5hZ2VyXG4gKlxuICogLSBjcmVhdGVJbnN0YW5jZShpbnN0YW5jZUlkLCBjb2RlLCBvcHRpb25zLCBkYXRhKVxuICogLSByZWZyZXNoSW5zdGFuY2UoaW5zdGFuY2VJZCwgZGF0YSlcbiAqIC0gZGVzdHJveUluc3RhbmNlKGluc3RhbmNlSWQpXG4gKiAtIHJlZ2lzdGVyQ29tcG9uZW50cyhjb21wb25lbnRzKVxuICogLSByZWdpc3Rlck1vZHVsZXMobW9kdWxlcylcbiAqIC0gZ2V0Um9vdChpbnN0YW5jZUlkKVxuICogLSBpbnN0YW5jZU1hcFxuICogLSBjYWxsSlMoaW5zdGFuY2VJZCwgdGFza3MpXG4gKiAgIC0gZmlyZUV2ZW50KHJlZiwgdHlwZSwgZGF0YSlcbiAqICAgLSBjYWxsYmFjayhmdW5jSWQsIGRhdGEpXG4gKi9cbmV4cG9ydCB7IGNyZWF0ZUluc3RhbmNlIH0gZnJvbSAnLi4vc3RhdGljL2NyZWF0ZSdcbmV4cG9ydCB7IGluaXQsIHJlZnJlc2hJbnN0YW5jZSwgZGVzdHJveUluc3RhbmNlIH0gZnJvbSAnLi4vLi4vLi4vZGVmYXVsdC9zdGF0aWMvbGlmZSdcbmV4cG9ydCB7IHJlZ2lzdGVyQ29tcG9uZW50cywgcmVnaXN0ZXJNb2R1bGVzLCByZWdpc3Rlck1ldGhvZHMgfSBmcm9tICcuLi8uLi8uLi9kZWZhdWx0L3N0YXRpYy9yZWdpc3RlcidcbmV4cG9ydCB7IHJlY2VpdmVUYXNrcyB9IGZyb20gJy4uLy4uLy4uL2RlZmF1bHQvc3RhdGljL2JyaWRnZSdcbmV4cG9ydCB7IGdldFJvb3QgfSBmcm9tICcuLi8uLi8uLi9kZWZhdWx0L3N0YXRpYy9taXNjJ1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvZGVmYXVsdC9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9kZWZhdWx0L2luZGV4LmpzIiwiaW1wb3J0IEFwcCBmcm9tICcuLi9hcHAnXG5pbXBvcnQgeyBpbnN0YW5jZU1hcCB9IGZyb20gJy4uLy4uLy4uL2RlZmF1bHQvc3RhdGljL21hcCdcbmltcG9ydCB7IGluaXQgYXMgaW5pdEFwcCB9IGZyb20gJy4uL2FwcC9jdHJsJ1xuXG4vKipcbiAqIENyZWF0ZSBhIFdlZXggaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHBhcmFtICB7c3RyaW5nfSBjb2RlXG4gKiBAcGFyYW0gIHtvYmplY3R9IFtvcHRpb25zXSBvcHRpb24gYEhBU19MT0dgIGVuYWJsZSBwcmludCBsb2dcbiAqIEBwYXJhbSAge29iamVjdH0gW2RhdGFdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnN0YW5jZSAoaWQsIGNvZGUsIG9wdGlvbnMsIGRhdGEpIHtcbiAgbGV0IGluc3RhbmNlID0gaW5zdGFuY2VNYXBbaWRdXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIGxldCByZXN1bHRcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIGluc3RhbmNlID0gbmV3IEFwcChpZCwgb3B0aW9ucylcbiAgICByZXN1bHQgPSBpbnN0YW5jZU1hcFtpZF0gPSBpbnN0YW5jZVxuICAgIGluaXRBcHAoaW5zdGFuY2UsIGNvZGUsIGRhdGEpXG4gIH1cbiAgZWxzZSB7XG4gICAgcmVzdWx0ID0gbmV3IEVycm9yKGBpbnZhbGlkIGluc3RhbmNlIGlkIFwiJHtpZH1cImApXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvc3RhdGljL2NyZWF0ZS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9zdGF0aWMvY3JlYXRlLmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBXZWV4IGluc3RhbmNlIGNvbnN0cnVjdG9yICYgZGVmaW5pdGlvblxuICovXG5cbmltcG9ydCB7IHJlcXVpcmVNb2R1bGUgfSBmcm9tICcuLi8uLi8uLi9kZWZhdWx0L2FwcC9yZWdpc3RlcidcbmltcG9ydCB7IHVwZGF0ZUFjdGlvbnMsIGNhbGxUYXNrcyB9IGZyb20gJy4vY3RybCdcbmltcG9ydCBBcHAgZnJvbSAnLi4vLi4vLi4vZGVmYXVsdC9hcHAvaW5zdGFuY2UnXG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xuQXBwLnByb3RvdHlwZS5yZXF1aXJlTW9kdWxlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgcmV0dXJuIHJlcXVpcmVNb2R1bGUodGhpcywgbmFtZSlcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5BcHAucHJvdG90eXBlLnVwZGF0ZUFjdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIHVwZGF0ZUFjdGlvbnModGhpcylcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5BcHAucHJvdG90eXBlLmNhbGxUYXNrcyA9IGZ1bmN0aW9uICh0YXNrcykge1xuICBjYWxsVGFza3ModGhpcywgdGFza3MpXG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwcFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2FwcC9pbmRleC5qcyIsImxldCBuYXRpdmVNb2R1bGVzID0ge31cblxuLy8gZm9yIHRlc3RpbmdcblxuLyoqXG4gKiBmb3IgdGVzdGluZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kdWxlIChtb2R1bGVOYW1lKSB7XG4gIHJldHVybiBuYXRpdmVNb2R1bGVzW21vZHVsZU5hbWVdXG59XG5cbi8qKlxuICogZm9yIHRlc3RpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTW9kdWxlcyAoKSB7XG4gIG5hdGl2ZU1vZHVsZXMgPSB7fVxufVxuXG4vLyBmb3IgZnJhbWV3b3JrXG5cbi8qKlxuICogaW5pdCBtb2R1bGVzIGZvciBhbiBhcHAgaW5zdGFuY2VcbiAqIHRoZSBzZWNvbmQgcGFyYW0gZGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHJlcGxhY2UgYW4gZXhpc3RlZCBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRNb2R1bGVzIChtb2R1bGVzLCBpZlJlcGxhY2UpIHtcbiAgZm9yIChjb25zdCBtb2R1bGVOYW1lIGluIG1vZHVsZXMpIHtcbiAgICAvLyBpbml0IGBtb2R1bGVzW21vZHVsZU5hbWVdW11gXG4gICAgbGV0IG1ldGhvZHMgPSBuYXRpdmVNb2R1bGVzW21vZHVsZU5hbWVdXG4gICAgaWYgKCFtZXRob2RzKSB7XG4gICAgICBtZXRob2RzID0ge31cbiAgICAgIG5hdGl2ZU1vZHVsZXNbbW9kdWxlTmFtZV0gPSBtZXRob2RzXG4gICAgfVxuXG4gICAgLy8gcHVzaCBlYWNoIG5vbi1leGlzdGVkIG5ldyBtZXRob2RcbiAgICBtb2R1bGVzW21vZHVsZU5hbWVdLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG1ldGhvZCA9IHtcbiAgICAgICAgICBuYW1lOiBtZXRob2RcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIW1ldGhvZHNbbWV0aG9kLm5hbWVdIHx8IGlmUmVwbGFjZSkge1xuICAgICAgICBtZXRob2RzW21ldGhvZC5uYW1lXSA9IG1ldGhvZFxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBpbml0IGFwcCBtZXRob2RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TWV0aG9kcyAoVm0sIGFwaXMpIHtcbiAgY29uc3QgcCA9IFZtLnByb3RvdHlwZVxuXG4gIGZvciAoY29uc3QgYXBpTmFtZSBpbiBhcGlzKSB7XG4gICAgaWYgKCFwLmhhc093blByb3BlcnR5KGFwaU5hbWUpKSB7XG4gICAgICBwW2FwaU5hbWVdID0gYXBpc1thcGlOYW1lXVxuICAgIH1cbiAgfVxufVxuXG4vLyBmb3IgYXBwXG5cbi8qKlxuICogZ2V0IGEgbW9kdWxlIG9mIG1ldGhvZHMgZm9yIGFuIGFwcCBpbnN0YW5jZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZU1vZHVsZSAoYXBwLCBuYW1lKSB7XG4gIGNvbnN0IG1ldGhvZHMgPSBuYXRpdmVNb2R1bGVzW25hbWVdXG4gIGNvbnN0IHRhcmdldCA9IHt9XG4gIGZvciAoY29uc3QgbWV0aG9kTmFtZSBpbiBtZXRob2RzKSB7XG4gICAgdGFyZ2V0W21ldGhvZE5hbWVdID0gKC4uLmFyZ3MpID0+IGFwcC5jYWxsVGFza3Moe1xuICAgICAgbW9kdWxlOiBuYW1lLFxuICAgICAgbWV0aG9kOiBtZXRob2ROYW1lLFxuICAgICAgYXJnczogYXJnc1xuICAgIH0pXG4gIH1cbiAgcmV0dXJuIHRhcmdldFxufVxuXG4vKipcbiAqIGdldCBhIGN1c3RvbSBjb21wb25lbnQgb3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUN1c3RvbUNvbXBvbmVudCAoYXBwLCBuYW1lKSB7XG4gIGNvbnN0IHsgY3VzdG9tQ29tcG9uZW50TWFwIH0gPSBhcHBcbiAgcmV0dXJuIGN1c3RvbUNvbXBvbmVudE1hcFtuYW1lXVxufVxuXG4vKipcbiAqIHJlZ2lzdGVyIGEgY3VzdG9tIGNvbXBvbmVudCBvcHRpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckN1c3RvbUNvbXBvbmVudCAoYXBwLCBuYW1lLCBkZWYpIHtcbiAgY29uc3QgeyBjdXN0b21Db21wb25lbnRNYXAgfSA9IGFwcFxuXG4gIGlmIChjdXN0b21Db21wb25lbnRNYXBbbmFtZV0pIHtcbiAgICBjb25zb2xlLmVycm9yKGBbSlMgRnJhbWV3b3JrXSBkZWZpbmUgYSBjb21wb25lbnQoJHtuYW1lfSkgdGhhdCBhbHJlYWR5IGV4aXN0c2ApXG4gICAgcmV0dXJuXG4gIH1cblxuICBjdXN0b21Db21wb25lbnRNYXBbbmFtZV0gPSBkZWZcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9hcHAvcmVnaXN0ZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9yZWdpc3Rlci5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlld1xuICogaW5zdGFuY2UgY29udHJvbHMgZnJvbSBuYXRpdmVcbiAqXG4gKiAtIGluaXQgYnVuZGxlXG4gKiAtIGZpcmUgZXZlbnRcbiAqIC0gY2FsbGJhY2tcbiAqIC0gZGVzdHJveVxuICpcbiAqIGNvcnJlc3BvbmRlZCB3aXRoIHRoZSBBUEkgb2YgaW5zdGFuY2UgbWFuYWdlciAoZnJhbWV3b3JrLmpzKVxuICovXG5leHBvcnQgeyBpbml0IH0gZnJvbSAnLi9pbml0J1xuXG5leHBvcnQge1xuICByZWZyZXNoLFxuICBkZXN0cm95LFxuICBnZXRSb290RWxlbWVudCxcbiAgZmlyZUV2ZW50LFxuICBjYWxsYmFjayxcbiAgdXBkYXRlQWN0aW9ucyxcbiAgY2FsbFRhc2tzXG59IGZyb20gJy4uLy4uLy4uLy4uL2RlZmF1bHQvYXBwL2N0cmwvbWlzYydcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2FwcC9jdHJsL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9ydW50aW1lL2FwcC9jdHJsL2luZGV4LmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBpbnN0YW5jZSBjb250cm9scyBmcm9tIG5hdGl2ZVxuICpcbiAqIC0gaW5pdCBidW5kbGVcbiAqXG4gKiBjb3JyZXNwb25kZWQgd2l0aCB0aGUgQVBJIG9mIGluc3RhbmNlIG1hbmFnZXIgKGZyYW1ld29yay5qcylcbiAqL1xuXG5pbXBvcnQgVm0gZnJvbSAnLi4vLi4vLi4vLi4vZGVmYXVsdC92bSdcbmltcG9ydCB7IHJlbW92ZVdlZXhQcmVmaXggfSBmcm9tICcuLi8uLi8uLi8uLi9kZWZhdWx0L3V0aWwnXG5pbXBvcnQge1xuICBkZWZpbmVGbixcbiAgYm9vdHN0cmFwLFxuICByZWdpc3RlclxufSBmcm9tICcuLi9idW5kbGUnXG5pbXBvcnQgeyB1cGRhdGVBY3Rpb25zIH0gZnJvbSAnLi4vLi4vLi4vLi4vZGVmYXVsdC9hcHAvY3RybC9taXNjJ1xuXG4vKipcbiAqIEluaXQgYW4gYXBwIGJ5IHJ1biBjb2RlIHdpdGdoIGRhdGFcbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvZGVcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdCAoYXBwLCBjb2RlLCBkYXRhKSB7XG4gIGNvbnNvbGUuZGVidWcoJ1tKUyBGcmFtZXdvcmtdIEludGlhbGl6ZSBhbiBpbnN0YW5jZSB3aXRoOlxcbicsIGRhdGEpXG4gIGxldCByZXN1bHRcblxuICAvLyBwcmVwYXJlIGFwcCBlbnYgbWV0aG9kc1xuICBjb25zdCBidW5kbGVEZWZpbmUgPSAoLi4uYXJncykgPT4gZGVmaW5lRm4oYXBwLCAuLi5hcmdzKVxuICBjb25zdCBidW5kbGVCb290c3RyYXAgPSAobmFtZSwgY29uZmlnLCBfZGF0YSkgPT4ge1xuICAgIHJlc3VsdCA9IGJvb3RzdHJhcChhcHAsIG5hbWUsIGNvbmZpZywgX2RhdGEgfHwgZGF0YSlcbiAgICB1cGRhdGVBY3Rpb25zKGFwcClcbiAgICBhcHAuZG9jLmxpc3RlbmVyLmNyZWF0ZUZpbmlzaCgpXG4gICAgY29uc29sZS5kZWJ1ZyhgW0pTIEZyYW1ld29ya10gQWZ0ZXIgaW50aWFsaXplZCBhbiBpbnN0YW5jZSgke2FwcC5pZH0pYClcbiAgfVxuICBjb25zdCBidW5kbGVWbSA9IFZtXG4gIGNvbnN0IGJ1bmRsZVJlZ2lzdGVyID0gKC4uLmFyZ3MpID0+IHJlZ2lzdGVyKGFwcCwgLi4uYXJncylcbiAgY29uc3QgYnVuZGxlUmVuZGVyID0gKG5hbWUsIF9kYXRhKSA9PiB7XG4gICAgcmVzdWx0ID0gYm9vdHN0cmFwKGFwcCwgbmFtZSwge30sIF9kYXRhKVxuICB9XG4gIGNvbnN0IGJ1bmRsZVJlcXVpcmUgPSBuYW1lID0+IF9kYXRhID0+IHtcbiAgICByZXN1bHQgPSBib290c3RyYXAoYXBwLCBuYW1lLCB7fSwgX2RhdGEpXG4gIH1cbiAgY29uc3QgYnVuZGxlRG9jdW1lbnQgPSBhcHAuZG9jXG4gIGNvbnN0IGJ1bmRsZVJlcXVpcmVNb2R1bGUgPSBuYW1lID0+IGFwcC5yZXF1aXJlTW9kdWxlKHJlbW92ZVdlZXhQcmVmaXgobmFtZSkpXG5cbiAgLy8gcHJlcGFyZSBjb2RlXG4gIGxldCBmdW5jdGlvbkJvZHlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgY29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGBmdW5jdGlvbiAoKSB7Li4ufWAgLT4gYHsuLi59YFxuICAgIC8vIG5vdCB2ZXJ5IHN0cmljdFxuICAgIGZ1bmN0aW9uQm9keSA9IGNvZGUudG9TdHJpbmcoKS5zdWJzdHIoMTIpXG4gIH1cbiAgZWxzZSBpZiAoY29kZSkge1xuICAgIGZ1bmN0aW9uQm9keSA9IGNvZGUudG9TdHJpbmcoKVxuICB9XG5cbiAgLy8gcnVuIGNvZGUgYW5kIGdldCByZXN1bHRcbiAgY29uc3QgeyBXWEVudmlyb25tZW50IH0gPSBnbG9iYWxcblxuICBpZiAoV1hFbnZpcm9ubWVudCkge1xuICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgJ2RlZmluZScsXG4gICAgICAncmVxdWlyZScsXG4gICAgICAnZG9jdW1lbnQnLFxuICAgICAgJ2Jvb3RzdHJhcCcsXG4gICAgICAncmVnaXN0ZXInLFxuICAgICAgJ3JlbmRlcicsXG4gICAgICAnX193ZWV4X2RlZmluZV9fJywgLy8gYWxpYXMgZm9yIGRlZmluZVxuICAgICAgJ19fd2VleF9ib290c3RyYXBfXycsIC8vIGFsaWFzIGZvciBib290c3RyYXBcbiAgICAgICdfX3dlZXhfZG9jdW1lbnRfXycsIC8vIGFsaWFzIGZvciBib290c3RyYXBcbiAgICAgICdfX3dlZXhfcmVxdWlyZV9fJyxcbiAgICAgICdfX3dlZXhfdmlld21vZGVsX18nLFxuICAgICAgZnVuY3Rpb25Cb2R5XG4gICAgKVxuXG4gICAgZm4oXG4gICAgICBidW5kbGVEZWZpbmUsXG4gICAgICBidW5kbGVSZXF1aXJlLFxuICAgICAgYnVuZGxlRG9jdW1lbnQsXG4gICAgICBidW5kbGVCb290c3RyYXAsXG4gICAgICBidW5kbGVSZWdpc3RlcixcbiAgICAgIGJ1bmRsZVJlbmRlcixcbiAgICAgIGJ1bmRsZURlZmluZSxcbiAgICAgIGJ1bmRsZUJvb3RzdHJhcCxcbiAgICAgIGJ1bmRsZURvY3VtZW50LFxuICAgICAgYnVuZGxlUmVxdWlyZU1vZHVsZSxcbiAgICAgIGJ1bmRsZVZtKVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2N0cmwvaW5pdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9hcHAvY3RybC9pbml0LmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBWaWV3TW9kZWwgQ29uc3RydWN0b3IgJiBkZWZpbml0aW9uXG4gKi9cblxuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbCdcbmltcG9ydCB7XG4gIGluaXRTdGF0ZVxufSBmcm9tICcuLi9jb3JlL3N0YXRlJ1xuaW1wb3J0IHtcbiAgYnVpbGRcbn0gZnJvbSAnLi9jb21waWxlcidcbmltcG9ydCB7XG4gIHNldCxcbiAgZGVsXG59IGZyb20gJy4uL2NvcmUvb2JzZXJ2ZXInXG5pbXBvcnQge1xuICB3YXRjaFxufSBmcm9tICcuL2RpcmVjdGl2ZSdcbmltcG9ydCB7XG4gIGluaXRFdmVudHMsXG4gIG1peGluRXZlbnRzXG59IGZyb20gJy4vZXZlbnRzJ1xuXG4vKipcbiAqIFZpZXdNb2RlbCBjb25zdHJ1Y3RvclxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAgICBjb21wb25lbnQgb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHBhcmVudFZtICAgd2hpY2ggY29udGFpbnMgX2FwcFxuICogQHBhcmFtIHtvYmplY3R9IHBhcmVudEVsICAgcm9vdCBlbGVtZW50IG9yIGZyYWcgYmxvY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBtZXJnZWREYXRhIGV4dGVybmFsIGRhdGFcbiAqIEBwYXJhbSB7b2JqZWN0fSBleHRlcm5hbEV2ZW50cyBleHRlcm5hbCBldmVudHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVm0gKFxuICB0eXBlLFxuICBvcHRpb25zLFxuICBwYXJlbnRWbSxcbiAgcGFyZW50RWwsXG4gIG1lcmdlZERhdGEsXG4gIGV4dGVybmFsRXZlbnRzXG4pIHtcbiAgcGFyZW50Vm0gPSBwYXJlbnRWbSB8fCB7fVxuICB0aGlzLl9wYXJlbnQgPSBwYXJlbnRWbS5fcmVhbFBhcmVudCA/IHBhcmVudFZtLl9yZWFsUGFyZW50IDogcGFyZW50Vm1cbiAgdGhpcy5fYXBwID0gcGFyZW50Vm0uX2FwcCB8fCB7fVxuICBwYXJlbnRWbS5fY2hpbGRyZW5WbXMgJiYgcGFyZW50Vm0uX2NoaWxkcmVuVm1zLnB1c2godGhpcylcblxuICBpZiAoIW9wdGlvbnMgJiYgdGhpcy5fYXBwLmN1c3RvbUNvbXBvbmVudE1hcCkge1xuICAgIG9wdGlvbnMgPSB0aGlzLl9hcHAuY3VzdG9tQ29tcG9uZW50TWFwW3R5cGVdXG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICBjb25zdCBkYXRhID0gb3B0aW9ucy5kYXRhIHx8IHt9XG5cbiAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnNcbiAgdGhpcy5fbWV0aG9kcyA9IG9wdGlvbnMubWV0aG9kcyB8fCB7fVxuICB0aGlzLl9jb21wdXRlZCA9IG9wdGlvbnMuY29tcHV0ZWQgfHwge31cbiAgdGhpcy5fY3NzID0gb3B0aW9ucy5zdHlsZSB8fCB7fVxuICB0aGlzLl9pZHMgPSB7fVxuICB0aGlzLl92bUV2ZW50cyA9IHt9XG4gIHRoaXMuX2NoaWxkcmVuVm1zID0gW11cbiAgdGhpcy5fdHlwZSA9IHR5cGVcblxuICAvLyBiaW5kIGV2ZW50cyBhbmQgbGlmZWN5Y2xlc1xuICBpbml0RXZlbnRzKHRoaXMsIGV4dGVybmFsRXZlbnRzKVxuXG4gIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIFwiaW5pdFwiIGxpZmVjeWNsZSBpbiBWbSgke3RoaXMuX3R5cGV9KWApXG4gIHRoaXMuJGVtaXQoJ2hvb2s6aW5pdCcpXG4gIHRoaXMuX2luaXRlZCA9IHRydWVcblxuICAvLyBwcm94eSBkYXRhIGFuZCBtZXRob2RzXG4gIC8vIG9ic2VydmUgZGF0YSBhbmQgYWRkIHRoaXMgdG8gdm1zXG4gIHRoaXMuX2RhdGEgPSB0eXBlb2YgZGF0YSA9PT0gJ2Z1bmN0aW9uJyA/IGRhdGEoKSA6IGRhdGFcbiAgaWYgKG1lcmdlZERhdGEpIHtcbiAgICBleHRlbmQodGhpcy5fZGF0YSwgbWVyZ2VkRGF0YSlcbiAgfVxuICBpbml0U3RhdGUodGhpcylcblxuICBjb25zb2xlLmRlYnVnKGBbSlMgRnJhbWV3b3JrXSBcImNyZWF0ZWRcIiBsaWZlY3ljbGUgaW4gVm0oJHt0aGlzLl90eXBlfSlgKVxuICB0aGlzLiRlbWl0KCdob29rOmNyZWF0ZWQnKVxuICB0aGlzLl9jcmVhdGVkID0gdHJ1ZVxuXG4gIC8vIGJhY2t3YXJkIG9sZCByZWFkeSBlbnRyeVxuICBpZiAob3B0aW9ucy5tZXRob2RzICYmIG9wdGlvbnMubWV0aG9kcy5yZWFkeSkge1xuICAgIGNvbnNvbGUud2FybignXCJleHBvcnRzLm1ldGhvZHMucmVhZHlcIiBpcyBkZXByZWNhdGVkLCAnICtcbiAgICAgICdwbGVhc2UgdXNlIFwiZXhwb3J0cy5jcmVhdGVkXCIgaW5zdGVhZCcpXG4gICAgb3B0aW9ucy5tZXRob2RzLnJlYWR5LmNhbGwodGhpcylcbiAgfVxuXG4gIGlmICghdGhpcy5fYXBwLmRvYykge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gaWYgbm8gcGFyZW50RWxlbWVudCB0aGVuIHNwZWNpZnkgdGhlIGRvY3VtZW50RWxlbWVudFxuICB0aGlzLl9wYXJlbnRFbCA9IHBhcmVudEVsIHx8IHRoaXMuX2FwcC5kb2MuZG9jdW1lbnRFbGVtZW50XG4gIGJ1aWxkKHRoaXMpXG59XG5cbm1peGluRXZlbnRzKFZtLnByb3RvdHlwZSlcblxuLyoqXG4gKiBXYXRjaCBhbiBmdW5jdGlvbiBhbmQgYmluZCBhbGwgdGhlIGRhdGEgYXBwZWFyZWQgaW4gaXQuIFdoZW4gdGhlIHJlbGF0ZWRcbiAqIGRhdGEgY2hhbmdlcywgdGhlIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHdpdGggbmV3IHZhbHVlIGFzIDFzdCBwYXJhbS5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuVm0ucHJvdG90eXBlLiR3YXRjaCA9IGZ1bmN0aW9uIChmbiwgY2FsbGJhY2spIHtcbiAgd2F0Y2godGhpcywgZm4sIGNhbGxiYWNrKVxufVxuXG5WbS5zZXQgPSBzZXRcblZtLmRlbGV0ZSA9IGRlbFxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L3ZtL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC92bS9pbmRleC5qcyIsImV4cG9ydCB7XG4gIGV4dGVuZCxcbiAgZGVmLFxuICByZW1vdmUsXG4gIGhhc093bixcbiAgYmluZCxcbiAgdG9BcnJheSxcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3Rcbn0gZnJvbSAnLi4vLi4vc2hhcmVkL3V0aWxzJ1xuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVzZXJ2ZWQgKHN0cikge1xuICBjb25zdCBjID0gKHN0ciArICcnKS5jaGFyQ29kZUF0KDApXG4gIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcbn1cblxuLy8gY2FuIHdlIHVzZSBfX3Byb3RvX18/XG5leHBvcnQgY29uc3QgaGFzUHJvdG8gPSAnX19wcm90b19fJyBpbiB7fVxuXG5sZXQgX1NldFxuLyogaXN0YW5idWwgaWdub3JlIGlmICovXG5pZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgU2V0LnRvU3RyaW5nKCkubWF0Y2goL25hdGl2ZSBjb2RlLykpIHtcbiAgLy8gdXNlIG5hdGl2ZSBTZXQgd2hlbiBhdmFpbGFibGUuXG4gIF9TZXQgPSBTZXRcbn1cbmVsc2Uge1xuICAvLyBhIG5vbi1zdGFuZGFyZCBTZXQgcG9seWZpbGwgdGhhdCBvbmx5IHdvcmtzIHdpdGggcHJpbWl0aXZlIGtleXMuXG4gIF9TZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIH1cbiAgX1NldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiB0aGlzLnNldFtrZXldICE9PSB1bmRlZmluZWRcbiAgfVxuICBfU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgdGhpcy5zZXRba2V5XSA9IDFcbiAgfVxuICBfU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgfVxufVxuXG5leHBvcnQgeyBfU2V0IH1cblxuLyoqXG4gKiBQb2x5ZmlsbCBpbiBpT1M3IGJ5IG5hdGl2ZSBiZWNhdXNlIHRoZSBKYXZhU2NyaXB0IHBvbHlmaWxsIGhhcyBtZW1vcnkgcHJvYmxlbS5cbiAqIEByZXR1cm4ge29iamVjdH1cbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTmV3U2V0ICgpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgKi9cbiAgaWYgKHR5cGVvZiBuYXRpdmVTZXQgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG5hdGl2ZVNldC5jcmVhdGUoKVxuICB9XG4gIC8qIGVzbGludC1lbmFibGUgKi9cbiAgcmV0dXJuIG5ldyBfU2V0KClcbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBjYWNoZWQgdmVyc2lvbiBvZiBhIHB1cmUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZWQgKGZuKSB7XG4gIGNvbnN0IGNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuICByZXR1cm4gZnVuY3Rpb24gY2FjaGVkRm4gKHN0cikge1xuICAgIGNvbnN0IGhpdCA9IGNhY2hlW3N0cl1cbiAgICByZXR1cm4gaGl0IHx8IChjYWNoZVtzdHJdID0gZm4oc3RyKSlcbiAgfVxufVxuXG4vKipcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbG1pdGVkIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuY29uc3QgY2FtZWxpemVSRSA9IC8tKFxcdykvZ1xuZXhwb3J0IGNvbnN0IGNhbWVsaXplID0gY2FjaGVkKHN0ciA9PiB7XG4gIHJldHVybiBzdHIucmVwbGFjZShjYW1lbGl6ZVJFLCB0b1VwcGVyKVxufSlcblxuZnVuY3Rpb24gdG9VcHBlciAoXywgYykge1xuICByZXR1cm4gYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnXG59XG5cbi8qKlxuICogSHlwaGVuYXRlIGEgY2FtZWxDYXNlIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cblxuY29uc3QgaHlwaGVuYXRlUkUgPSAvKFthLXpcXGRdKShbQS1aXSkvZ1xuZXhwb3J0IGNvbnN0IGh5cGhlbmF0ZSA9IGNhY2hlZChzdHIgPT4ge1xuICByZXR1cm4gc3RyXG4gICAgLnJlcGxhY2UoaHlwaGVuYXRlUkUsICckMS0kMicpXG4gICAgLnRvTG93ZXJDYXNlKClcbn0pXG5cbmV4cG9ydCBmdW5jdGlvbiB0eXBvZiAodikge1xuICBjb25zdCBzID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHYpXG4gIHJldHVybiBzLnN1YnN0cmluZyg4LCBzLmxlbmd0aCAtIDEpLnRvTG93ZXJDYXNlKClcbn1cblxuLy8gd2VleCBuYW1lIHJ1bGVzXG5cbmNvbnN0IFdFRVhfQ09NUE9ORU5UX1JFRyA9IC9eQHdlZXgtY29tcG9uZW50XFwvL1xuY29uc3QgV0VFWF9NT0RVTEVfUkVHID0gL15Ad2VleC1tb2R1bGVcXC8vXG5jb25zdCBOT1JNQUxfTU9EVUxFX1JFRyA9IC9eXFwuezEsMn1cXC8vXG5jb25zdCBKU19TVVJGSVhfUkVHID0gL1xcLmpzJC9cblxuZXhwb3J0IGNvbnN0IGlzV2VleENvbXBvbmVudCA9IG5hbWUgPT4gISFuYW1lLm1hdGNoKFdFRVhfQ09NUE9ORU5UX1JFRylcbmV4cG9ydCBjb25zdCBpc1dlZXhNb2R1bGUgPSBuYW1lID0+ICEhbmFtZS5tYXRjaChXRUVYX01PRFVMRV9SRUcpXG5leHBvcnQgY29uc3QgaXNOb3JtYWxNb2R1bGUgPSBuYW1lID0+ICEhbmFtZS5tYXRjaChOT1JNQUxfTU9EVUxFX1JFRylcbmV4cG9ydCBjb25zdCBpc05wbU1vZHVsZSA9IG5hbWUgPT4gIWlzV2VleENvbXBvbmVudChuYW1lKSAmJiAhaXNXZWV4TW9kdWxlKG5hbWUpICYmICFpc05vcm1hbE1vZHVsZShuYW1lKVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlV2VleFByZWZpeCAoc3RyKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHN0ci5yZXBsYWNlKFdFRVhfQ09NUE9ORU5UX1JFRywgJycpLnJlcGxhY2UoV0VFWF9NT0RVTEVfUkVHLCAnJylcbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSlNTdXJmaXggKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoSlNfU1VSRklYX1JFRywgJycpXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvdXRpbC9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvdXRpbC9pbmRleC5qcyIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCBXYXRjaGVyIGZyb20gJy4vd2F0Y2hlcidcbmltcG9ydCBEZXAgZnJvbSAnLi9kZXAnXG5pbXBvcnQge1xuICBvYnNlcnZlLFxuICBwcm94eSxcbiAgdW5wcm94eVxufSBmcm9tICcuL29ic2VydmVyJ1xuaW1wb3J0IHtcbiAgaXNQbGFpbk9iamVjdCxcbiAgYmluZFxufSBmcm9tICcuLi91dGlsJ1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdFN0YXRlICh2bSkge1xuICB2bS5fd2F0Y2hlcnMgPSBbXVxuICBpbml0RGF0YSh2bSlcbiAgaW5pdENvbXB1dGVkKHZtKVxuICBpbml0TWV0aG9kcyh2bSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluaXREYXRhICh2bSkge1xuICBsZXQgZGF0YSA9IHZtLl9kYXRhXG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KGRhdGEpKSB7XG4gICAgZGF0YSA9IHt9XG4gIH1cbiAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZGF0YSlcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgcHJveHkodm0sIGtleXNbaV0pXG4gIH1cbiAgLy8gb2JzZXJ2ZSBkYXRhXG4gIG9ic2VydmUoZGF0YSwgdm0pXG59XG5cbmZ1bmN0aW9uIG5vb3AgKCkge1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdENvbXB1dGVkICh2bSkge1xuICBjb25zdCBjb21wdXRlZCA9IHZtLl9jb21wdXRlZFxuICBpZiAoY29tcHV0ZWQpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gY29tcHV0ZWQpIHtcbiAgICAgIGNvbnN0IHVzZXJEZWYgPSBjb21wdXRlZFtrZXldXG4gICAgICBjb25zdCBkZWYgPSB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB1c2VyRGVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRlZi5nZXQgPSBtYWtlQ29tcHV0ZWRHZXR0ZXIodXNlckRlZiwgdm0pXG4gICAgICAgIGRlZi5zZXQgPSBub29wXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWYuZ2V0ID0gdXNlckRlZi5nZXRcbiAgICAgICAgICA/IHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG4gICAgICAgICAgICA/IG1ha2VDb21wdXRlZEdldHRlcih1c2VyRGVmLmdldCwgdm0pXG4gICAgICAgICAgICA6IGJpbmQodXNlckRlZi5nZXQsIHZtKVxuICAgICAgICAgIDogbm9vcFxuICAgICAgICBkZWYuc2V0ID0gdXNlckRlZi5zZXRcbiAgICAgICAgICA/IGJpbmQodXNlckRlZi5zZXQsIHZtKVxuICAgICAgICAgIDogbm9vcFxuICAgICAgfVxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIGRlZilcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFrZUNvbXB1dGVkR2V0dGVyIChnZXR0ZXIsIG93bmVyKSB7XG4gIGNvbnN0IHdhdGNoZXIgPSBuZXcgV2F0Y2hlcihvd25lciwgZ2V0dGVyLCBudWxsLCB7XG4gICAgbGF6eTogdHJ1ZVxuICB9KVxuICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuICAgIGlmICh3YXRjaGVyLmRpcnR5KSB7XG4gICAgICB3YXRjaGVyLmV2YWx1YXRlKClcbiAgICB9XG4gICAgaWYgKERlcC50YXJnZXQpIHtcbiAgICAgIHdhdGNoZXIuZGVwZW5kKClcbiAgICB9XG4gICAgcmV0dXJuIHdhdGNoZXIudmFsdWVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtKSB7XG4gIGNvbnN0IG1ldGhvZHMgPSB2bS5fbWV0aG9kc1xuICBpZiAobWV0aG9kcykge1xuICAgIGZvciAobGV0IGtleSBpbiBtZXRob2RzKSB7XG4gICAgICB2bVtrZXldID0gbWV0aG9kc1trZXldXG4gICAgfVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvY29yZS9zdGF0ZS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9zdGF0ZS5qcyIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCBEZXAsIHsgcHVzaFRhcmdldCwgcG9wVGFyZ2V0IH0gZnJvbSAnLi9kZXAnXG4vLyBpbXBvcnQgeyBwdXNoV2F0Y2hlciB9IGZyb20gJy4vYmF0Y2hlcidcbmltcG9ydCB7XG4gIHdhcm4sXG4gIHJlbW92ZSxcbiAgZXh0ZW5kLFxuICBpc09iamVjdCxcbiAgcGFyc2VQYXRoLFxuICBjcmVhdGVOZXdTZXRcbiAgLy8gX1NldCBhcyBTZXRcbn0gZnJvbSAnLi4vdXRpbCdcblxubGV0IHVpZCA9IDBcblxuLyoqXG4gKiBBIHdhdGNoZXIgcGFyc2VzIGFuIGV4cHJlc3Npb24sIGNvbGxlY3RzIGRlcGVuZGVuY2llcyxcbiAqIGFuZCBmaXJlcyBjYWxsYmFjayB3aGVuIHRoZSBleHByZXNzaW9uIHZhbHVlIGNoYW5nZXMuXG4gKiBUaGlzIGlzIHVzZWQgZm9yIGJvdGggdGhlICR3YXRjaCgpIGFwaSBhbmQgZGlyZWN0aXZlcy5cbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBleHBPckZuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqICAgICAgICAgICAgICAgICAtIHtBcnJheX0gZmlsdGVyc1xuICogICAgICAgICAgICAgICAgIC0ge0Jvb2xlYW59IHR3b1dheVxuICogICAgICAgICAgICAgICAgIC0ge0Jvb2xlYW59IGRlZXBcbiAqICAgICAgICAgICAgICAgICAtIHtCb29sZWFufSB1c2VyXG4gKiAgICAgICAgICAgICAgICAgLSB7Qm9vbGVhbn0gc3luY1xuICogICAgICAgICAgICAgICAgIC0ge0Jvb2xlYW59IGxhenlcbiAqICAgICAgICAgICAgICAgICAtIHtGdW5jdGlvbn0gW3ByZVByb2Nlc3NdXG4gKiAgICAgICAgICAgICAgICAgLSB7RnVuY3Rpb259IFtwb3N0UHJvY2Vzc11cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFdhdGNoZXIgKHZtLCBleHBPckZuLCBjYiwgb3B0aW9ucykge1xuICAvLyBtaXggaW4gb3B0aW9uc1xuICBpZiAob3B0aW9ucykge1xuICAgIGV4dGVuZCh0aGlzLCBvcHRpb25zKVxuICB9XG4gIGNvbnN0IGlzRm4gPSB0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJ1xuICB0aGlzLnZtID0gdm1cbiAgdm0uX3dhdGNoZXJzLnB1c2godGhpcylcbiAgdGhpcy5leHByZXNzaW9uID0gZXhwT3JGblxuICB0aGlzLmNiID0gY2JcbiAgdGhpcy5pZCA9ICsrdWlkIC8vIHVpZCBmb3IgYmF0Y2hpbmdcbiAgdGhpcy5hY3RpdmUgPSB0cnVlXG4gIHRoaXMuZGlydHkgPSB0aGlzLmxhenkgLy8gZm9yIGxhenkgd2F0Y2hlcnNcbiAgdGhpcy5kZXBzID0gW11cbiAgdGhpcy5uZXdEZXBzID0gW11cbiAgdGhpcy5kZXBJZHMgPSBjcmVhdGVOZXdTZXQoKSAvLyBuZXcgU2V0KClcbiAgdGhpcy5uZXdEZXBJZHMgPSBjcmVhdGVOZXdTZXQoKSAvLyBuZXcgU2V0KClcbiAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG4gIGlmIChpc0ZuKSB7XG4gICAgdGhpcy5nZXR0ZXIgPSBleHBPckZuXG4gIH0gZWxzZSB7XG4gICAgdGhpcy5nZXR0ZXIgPSBwYXJzZVBhdGgoZXhwT3JGbilcbiAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG4gICAgICB0aGlzLmdldHRlciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICdGYWlsZWQgd2F0Y2hpbmcgcGF0aDogJyArIGV4cE9yRm4gK1xuICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgK1xuICAgICAgICAnRm9yIGZ1bGwgY29udHJvbCwgdXNlIGEgZnVuY3Rpb24gaW5zdGVhZC4nLFxuICAgICAgICB2bVxuICAgICAgKVxuICAgIH1cbiAgfVxuICB0aGlzLnZhbHVlID0gdGhpcy5sYXp5XG4gICAgPyB1bmRlZmluZWRcbiAgICA6IHRoaXMuZ2V0KClcbiAgLy8gc3RhdGUgZm9yIGF2b2lkaW5nIGZhbHNlIHRyaWdnZXJzIGZvciBkZWVwIGFuZCBBcnJheVxuICAvLyB3YXRjaGVycyBkdXJpbmcgdm0uX2RpZ2VzdCgpXG4gIHRoaXMucXVldWVkID0gdGhpcy5zaGFsbG93ID0gZmFsc2Vcbn1cblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgZ2V0dGVyLCBhbmQgcmUtY29sbGVjdCBkZXBlbmRlbmNpZXMuXG4gKi9cblxuV2F0Y2hlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICBwdXNoVGFyZ2V0KHRoaXMpXG4gIGNvbnN0IHZhbHVlID0gdGhpcy5nZXR0ZXIuY2FsbCh0aGlzLnZtLCB0aGlzLnZtKVxuICAvLyBcInRvdWNoXCIgZXZlcnkgcHJvcGVydHkgc28gdGhleSBhcmUgYWxsIHRyYWNrZWQgYXNcbiAgLy8gZGVwZW5kZW5jaWVzIGZvciBkZWVwIHdhdGNoaW5nXG4gIGlmICh0aGlzLmRlZXApIHtcbiAgICB0cmF2ZXJzZSh2YWx1ZSlcbiAgfVxuICBwb3BUYXJnZXQoKVxuICB0aGlzLmNsZWFudXBEZXBzKClcbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8qKlxuICogQWRkIGEgZGVwZW5kZW5jeSB0byB0aGlzIGRpcmVjdGl2ZS5cbiAqXG4gKiBAcGFyYW0ge0RlcH0gZGVwXG4gKi9cblxuV2F0Y2hlci5wcm90b3R5cGUuYWRkRGVwID0gZnVuY3Rpb24gKGRlcCkge1xuICBjb25zdCBpZCA9IGRlcC5pZFxuICBpZiAoIXRoaXMubmV3RGVwSWRzLmhhcyhpZCkpIHtcbiAgICB0aGlzLm5ld0RlcElkcy5hZGQoaWQpXG4gICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKVxuICAgIGlmICghdGhpcy5kZXBJZHMuaGFzKGlkKSkge1xuICAgICAgZGVwLmFkZFN1Yih0aGlzKVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENsZWFuIHVwIGZvciBkZXBlbmRlbmN5IGNvbGxlY3Rpb24uXG4gKi9cblxuV2F0Y2hlci5wcm90b3R5cGUuY2xlYW51cERlcHMgPSBmdW5jdGlvbiAoKSB7XG4gIGxldCBpID0gdGhpcy5kZXBzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgY29uc3QgZGVwID0gdGhpcy5kZXBzW2ldXG4gICAgaWYgKCF0aGlzLm5ld0RlcElkcy5oYXMoZGVwLmlkKSkge1xuICAgICAgZGVwLnJlbW92ZVN1Yih0aGlzKVxuICAgIH1cbiAgfVxuICBsZXQgdG1wID0gdGhpcy5kZXBJZHNcbiAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkc1xuICB0aGlzLm5ld0RlcElkcyA9IHRtcFxuICB0aGlzLm5ld0RlcElkcy5jbGVhcigpXG4gIHRtcCA9IHRoaXMuZGVwc1xuICB0aGlzLmRlcHMgPSB0aGlzLm5ld0RlcHNcbiAgdGhpcy5uZXdEZXBzID0gdG1wXG4gIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwXG59XG5cbi8qKlxuICogU3Vic2NyaWJlciBpbnRlcmZhY2UuXG4gKiBXaWxsIGJlIGNhbGxlZCB3aGVuIGEgZGVwZW5kZW5jeSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gc2hhbGxvd1xuICovXG5cbldhdGNoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChzaGFsbG93KSB7XG4gIGlmICh0aGlzLmxhenkpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZVxuICB9IGVsc2Uge1xuICAgIHRoaXMucnVuKClcbiAgfVxuICAvLyB9IGVsc2UgaWYgKHRoaXMuc3luYykge1xuICAvLyAgIHRoaXMucnVuKClcbiAgLy8gfSBlbHNlIHtcbiAgLy8gICAvLyBpZiBxdWV1ZWQsIG9ubHkgb3ZlcndyaXRlIHNoYWxsb3cgd2l0aCBub24tc2hhbGxvdyxcbiAgLy8gICAvLyBidXQgbm90IHRoZSBvdGhlciB3YXkgYXJvdW5kLlxuICAvLyAgIHRoaXMuc2hhbGxvdyA9IHRoaXMucXVldWVkXG4gIC8vICAgICA/IHNoYWxsb3dcbiAgLy8gICAgICAgPyB0aGlzLnNoYWxsb3dcbiAgLy8gICAgICAgOiBmYWxzZVxuICAvLyAgICAgOiAhIXNoYWxsb3dcbiAgLy8gICB0aGlzLnF1ZXVlZCA9IHRydWVcbiAgLy8gICBwdXNoV2F0Y2hlcih0aGlzKVxuICAvLyB9XG59XG5cbi8qKlxuICogQmF0Y2hlciBqb2IgaW50ZXJmYWNlLlxuICogV2lsbCBiZSBjYWxsZWQgYnkgdGhlIGJhdGNoZXIuXG4gKi9cblxuV2F0Y2hlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0KClcbiAgICBpZiAoXG4gICAgICB2YWx1ZSAhPT0gdGhpcy52YWx1ZSB8fFxuICAgICAgLy8gRGVlcCB3YXRjaGVycyBhbmQgd2F0Y2hlcnMgb24gT2JqZWN0L0FycmF5cyBzaG91bGQgZmlyZSBldmVuXG4gICAgICAvLyB3aGVuIHRoZSB2YWx1ZSBpcyB0aGUgc2FtZSwgYmVjYXVzZSB0aGUgdmFsdWUgbWF5XG4gICAgICAvLyBoYXZlIG11dGF0ZWQ7IGJ1dCBvbmx5IGRvIHNvIGlmIHRoaXMgaXMgYVxuICAgICAgLy8gbm9uLXNoYWxsb3cgdXBkYXRlIChjYXVzZWQgYnkgYSB2bSBkaWdlc3QpLlxuICAgICAgKChpc09iamVjdCh2YWx1ZSkgfHwgdGhpcy5kZWVwKSAmJiAhdGhpcy5zaGFsbG93KVxuICAgICkge1xuICAgICAgLy8gc2V0IG5ldyB2YWx1ZVxuICAgICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLnZhbHVlXG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpXG4gICAgfVxuICAgIHRoaXMucXVldWVkID0gdGhpcy5zaGFsbG93ID0gZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIEV2YWx1YXRlIHRoZSB2YWx1ZSBvZiB0aGUgd2F0Y2hlci5cbiAqIFRoaXMgb25seSBnZXRzIGNhbGxlZCBmb3IgbGF6eSB3YXRjaGVycy5cbiAqL1xuXG5XYXRjaGVyLnByb3RvdHlwZS5ldmFsdWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy52YWx1ZSA9IHRoaXMuZ2V0KClcbiAgdGhpcy5kaXJ0eSA9IGZhbHNlXG59XG5cbi8qKlxuICogRGVwZW5kIG9uIGFsbCBkZXBzIGNvbGxlY3RlZCBieSB0aGlzIHdhdGNoZXIuXG4gKi9cblxuV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gKCkge1xuICBsZXQgaSA9IHRoaXMuZGVwcy5sZW5ndGhcbiAgd2hpbGUgKGktLSkge1xuICAgIHRoaXMuZGVwc1tpXS5kZXBlbmQoKVxuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIHNlbGYgZnJvbSBhbGwgZGVwZW5kZW5jaWVzJyBzdWJjcmliZXIgbGlzdC5cbiAqL1xuXG5XYXRjaGVyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcbiAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkIG9yIGlzIHBlcmZvcm1pbmcgYSB2LWZvclxuICAgIC8vIHJlLXJlbmRlciAodGhlIHdhdGNoZXIgbGlzdCBpcyB0aGVuIGZpbHRlcmVkIGJ5IHYtZm9yKS5cbiAgICBpZiAoIXRoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXRoaXMudm0uX3ZGb3JSZW1vdmluZykge1xuICAgICAgcmVtb3ZlKHRoaXMudm0uX3dhdGNoZXJzLCB0aGlzKVxuICAgIH1cbiAgICBsZXQgaSA9IHRoaXMuZGVwcy5sZW5ndGhcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICB0aGlzLmRlcHNbaV0ucmVtb3ZlU3ViKHRoaXMpXG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2VcbiAgICB0aGlzLnZtID0gdGhpcy5jYiA9IHRoaXMudmFsdWUgPSBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBSZWNydXNpdmVseSB0cmF2ZXJzZSBhbiBvYmplY3QgdG8gZXZva2UgYWxsIGNvbnZlcnRlZFxuICogZ2V0dGVycywgc28gdGhhdCBldmVyeSBuZXN0ZWQgcHJvcGVydHkgaW5zaWRlIHRoZSBvYmplY3RcbiAqIGlzIGNvbGxlY3RlZCBhcyBhIFwiZGVlcFwiIGRlcGVuZGVuY3kuXG4gKlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEBwYXJhbSB7U2V0fSBzZWVuXG4gKi9cblxuY29uc3Qgc2Vlbk9iamVjdHMgPSBjcmVhdGVOZXdTZXQoKSAvLyBuZXcgU2V0KClcbmZ1bmN0aW9uIHRyYXZlcnNlICh2YWwsIHNlZW4pIHtcbiAgbGV0IGksIGtleXMsIGlzQSwgaXNPXG4gIGlmICghc2Vlbikge1xuICAgIHNlZW4gPSBzZWVuT2JqZWN0c1xuICAgIHNlZW4uY2xlYXIoKVxuICB9XG4gIGlzQSA9IEFycmF5LmlzQXJyYXkodmFsKVxuICBpc08gPSBpc09iamVjdCh2YWwpXG4gIGlmIChpc0EgfHwgaXNPKSB7XG4gICAgaWYgKHZhbC5fX29iX18pIHtcbiAgICAgIGNvbnN0IGRlcElkID0gdmFsLl9fb2JfXy5kZXAuaWRcbiAgICAgIGlmIChzZWVuLmhhcyhkZXBJZCkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWVuLmFkZChkZXBJZClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzQSkge1xuICAgICAgaSA9IHZhbC5sZW5ndGhcbiAgICAgIHdoaWxlIChpLS0pIHRyYXZlcnNlKHZhbFtpXSwgc2VlbilcbiAgICB9IGVsc2UgaWYgKGlzTykge1xuICAgICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbClcbiAgICAgIGkgPSBrZXlzLmxlbmd0aFxuICAgICAgd2hpbGUgKGktLSkgdHJhdmVyc2UodmFsW2tleXNbaV1dLCBzZWVuKVxuICAgIH1cbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L2NvcmUvd2F0Y2hlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS93YXRjaGVyLmpzIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG5cbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqICh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzXG4gKiogbW9kdWxlIGlkID0gODhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9+L25vZGUtbGlicy1icm93c2VyL34vcHJvY2Vzcy9icm93c2VyLmpzIiwiLyogZXNsaW50LWRpc2FibGUgKi9cblxuaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSAnLi4vdXRpbCdcblxubGV0IHVpZCA9IDBcblxuLyoqXG4gKiBBIGRlcCBpcyBhbiBvYnNlcnZhYmxlIHRoYXQgY2FuIGhhdmUgbXVsdGlwbGVcbiAqIGRpcmVjdGl2ZXMgc3Vic2NyaWJpbmcgdG8gaXQuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRGVwICgpIHtcbiAgdGhpcy5pZCA9IHVpZCsrXG4gIHRoaXMuc3VicyA9IFtdXG59XG5cbi8vIHRoZSBjdXJyZW50IHRhcmdldCB3YXRjaGVyIGJlaW5nIGV2YWx1YXRlZC5cbi8vIHRoaXMgaXMgZ2xvYmFsbHkgdW5pcXVlIGJlY2F1c2UgdGhlcmUgY291bGQgYmUgb25seSBvbmVcbi8vIHdhdGNoZXIgYmVpbmcgZXZhbHVhdGVkIGF0IGFueSB0aW1lLlxuRGVwLnRhcmdldCA9IG51bGxcbmxldCB0YXJnZXRTdGFjayA9IFtdXG5cbmV4cG9ydCBmdW5jdGlvbiBwdXNoVGFyZ2V0IChfdGFyZ2V0KSB7XG4gIGlmIChEZXAudGFyZ2V0KSB0YXJnZXRTdGFjay5wdXNoKERlcC50YXJnZXQpXG4gIERlcC50YXJnZXQgPSBfdGFyZ2V0XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwb3BUYXJnZXQgKCkge1xuICBEZXAudGFyZ2V0ID0gdGFyZ2V0U3RhY2sucG9wKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0VGFyZ2V0ICgpIHtcbiAgRGVwLnRhcmdldCA9IG51bGxcbiAgdGFyZ2V0U3RhY2sgPSBbXVxufVxuXG4vKipcbiAqIEFkZCBhIGRpcmVjdGl2ZSBzdWJzY3JpYmVyLlxuICpcbiAqIEBwYXJhbSB7RGlyZWN0aXZlfSBzdWJcbiAqL1xuXG5EZXAucHJvdG90eXBlLmFkZFN1YiA9IGZ1bmN0aW9uIChzdWIpIHtcbiAgdGhpcy5zdWJzLnB1c2goc3ViKVxufVxuXG4vKipcbiAqIFJlbW92ZSBhIGRpcmVjdGl2ZSBzdWJzY3JpYmVyLlxuICpcbiAqIEBwYXJhbSB7RGlyZWN0aXZlfSBzdWJcbiAqL1xuXG5EZXAucHJvdG90eXBlLnJlbW92ZVN1YiA9IGZ1bmN0aW9uIChzdWIpIHtcbiAgcmVtb3ZlKHRoaXMuc3Vicywgc3ViKVxufVxuXG4vKipcbiAqIEFkZCBzZWxmIGFzIGEgZGVwZW5kZW5jeSB0byB0aGUgdGFyZ2V0IHdhdGNoZXIuXG4gKi9cblxuRGVwLnByb3RvdHlwZS5kZXBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChEZXAudGFyZ2V0KSB7XG4gICAgRGVwLnRhcmdldC5hZGREZXAodGhpcylcbiAgfVxufVxuXG4vKipcbiAqIE5vdGlmeSBhbGwgc3Vic2NyaWJlcnMgb2YgYSBuZXcgdmFsdWUuXG4gKi9cblxuRGVwLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIHN0YWJsaXplIHRoZSBzdWJzY3JpYmVyIGxpc3QgZmlyc3RcbiAgY29uc3Qgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpXG4gIGZvciAobGV0IGkgPSAwLCBsID0gc3Vicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBzdWJzW2ldLnVwZGF0ZSgpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9jb3JlL2RlcC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9kZXAuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG5pbXBvcnQgRGVwIGZyb20gJy4vZGVwJ1xuaW1wb3J0IHsgYXJyYXlNZXRob2RzIH0gZnJvbSAnLi9hcnJheSdcbmltcG9ydCB7XG4gIGRlZixcbiAgcmVtb3ZlLFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgaGFzUHJvdG8sXG4gIGhhc093bixcbiAgaXNSZXNlcnZlZFxufSBmcm9tICcuLi91dGlsJ1xuXG5jb25zdCBhcnJheUtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhhcnJheU1ldGhvZHMpXG5cbi8qKlxuICogT2JzZXJ2ZXIgY2xhc3MgdGhhdCBhcmUgYXR0YWNoZWQgdG8gZWFjaCBvYnNlcnZlZFxuICogb2JqZWN0LiBPbmNlIGF0dGFjaGVkLCB0aGUgb2JzZXJ2ZXIgY29udmVydHMgdGFyZ2V0XG4gKiBvYmplY3QncyBwcm9wZXJ0eSBrZXlzIGludG8gZ2V0dGVyL3NldHRlcnMgdGhhdFxuICogY29sbGVjdCBkZXBlbmRlbmNpZXMgYW5kIGRpc3BhdGNoZXMgdXBkYXRlcy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gdmFsdWVcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBPYnNlcnZlciAodmFsdWUpIHtcbiAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gIHRoaXMuZGVwID0gbmV3IERlcCgpXG4gIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpXG4gIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgIGNvbnN0IGF1Z21lbnQgPSBoYXNQcm90b1xuICAgICAgPyBwcm90b0F1Z21lbnRcbiAgICAgIDogY29weUF1Z21lbnRcbiAgICBhdWdtZW50KHZhbHVlLCBhcnJheU1ldGhvZHMsIGFycmF5S2V5cylcbiAgICB0aGlzLm9ic2VydmVBcnJheSh2YWx1ZSlcbiAgfSBlbHNlIHtcbiAgICB0aGlzLndhbGsodmFsdWUpXG4gIH1cbn1cblxuLy8gSW5zdGFuY2UgbWV0aG9kc1xuXG4vKipcbiAqIFdhbGsgdGhyb3VnaCBlYWNoIHByb3BlcnR5IGFuZCBjb252ZXJ0IHRoZW0gaW50b1xuICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiAob2JqKSB7XG4gIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICB0aGlzLmNvbnZlcnQoa2V5LCBvYmpba2V5XSlcbiAgfVxufVxuXG4vKipcbiAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zXG4gKi9cblxuT2JzZXJ2ZXIucHJvdG90eXBlLm9ic2VydmVBcnJheSA9IGZ1bmN0aW9uIChpdGVtcykge1xuICBmb3IgKGxldCBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG9ic2VydmUoaXRlbXNbaV0pXG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0IGEgcHJvcGVydHkgaW50byBnZXR0ZXIvc2V0dGVyIHNvIHdlIGNhbiBlbWl0XG4gKiB0aGUgZXZlbnRzIHdoZW4gdGhlIHByb3BlcnR5IGlzIGFjY2Vzc2VkL2NoYW5nZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHsqfSB2YWxcbiAqL1xuXG5PYnNlcnZlci5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uIChrZXksIHZhbCkge1xuICBkZWZpbmVSZWFjdGl2ZSh0aGlzLnZhbHVlLCBrZXksIHZhbClcbn1cblxuLyoqXG4gKiBBZGQgYW4gb3duZXIgdm0sIHNvIHRoYXQgd2hlbiAkc2V0LyRkZWxldGUgbXV0YXRpb25zXG4gKiBoYXBwZW4gd2UgY2FuIG5vdGlmeSBvd25lciB2bXMgdG8gcHJveHkgdGhlIGtleXMgYW5kXG4gKiBkaWdlc3QgdGhlIHdhdGNoZXJzLiBUaGlzIGlzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIG9iamVjdFxuICogaXMgb2JzZXJ2ZWQgYXMgYW4gaW5zdGFuY2UncyByb290ICRkYXRhLlxuICpcbiAqIEBwYXJhbSB7VnVlfSB2bVxuICovXG5cbk9ic2VydmVyLnByb3RvdHlwZS5hZGRWbSA9IGZ1bmN0aW9uICh2bSkge1xuICAodGhpcy52bXMgfHwgKHRoaXMudm1zID0gW10pKS5wdXNoKHZtKVxufVxuXG4vKipcbiAqIFJlbW92ZSBhbiBvd25lciB2bS4gVGhpcyBpcyBjYWxsZWQgd2hlbiB0aGUgb2JqZWN0IGlzXG4gKiBzd2FwcGVkIG91dCBhcyBhbiBpbnN0YW5jZSdzICRkYXRhIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge1Z1ZX0gdm1cbiAqL1xuXG5PYnNlcnZlci5wcm90b3R5cGUucmVtb3ZlVm0gPSBmdW5jdGlvbiAodm0pIHtcbiAgcmVtb3ZlKHRoaXMudm1zLCB2bSlcbn1cblxuLy8gaGVscGVyc1xuXG4vKipcbiAqIEF1Z21lbnQgYW4gdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBpbnRlcmNlcHRpbmdcbiAqIHRoZSBwcm90b3R5cGUgY2hhaW4gdXNpbmcgX19wcm90b19fXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IHRhcmdldFxuICogQHBhcmFtIHtPYmplY3R9IHNyY1xuICovXG5cbmZ1bmN0aW9uIHByb3RvQXVnbWVudCAodGFyZ2V0LCBzcmMpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbiAgdGFyZ2V0Ll9fcHJvdG9fXyA9IHNyY1xuICAvKiBlc2xpbnQtZW5hYmxlIG5vLXByb3RvICovXG59XG5cbi8qKlxuICogQXVnbWVudCBhbiB0YXJnZXQgT2JqZWN0IG9yIEFycmF5IGJ5IGRlZmluaW5nXG4gKiBoaWRkZW4gcHJvcGVydGllcy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gdGFyZ2V0XG4gKiBAcGFyYW0ge09iamVjdH0gcHJvdG9cbiAqL1xuXG5mdW5jdGlvbiBjb3B5QXVnbWVudCAodGFyZ2V0LCBzcmMsIGtleXMpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICBkZWYodGFyZ2V0LCBrZXksIHNyY1trZXldKVxuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdCB0byBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgZm9yIGEgdmFsdWUsXG4gKiByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgaWYgc3VjY2Vzc2Z1bGx5IG9ic2VydmVkLFxuICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuXG4gKlxuICogQHBhcmFtIHsqfSB2YWx1ZVxuICogQHBhcmFtIHtWdWV9IFt2bV1cbiAqIEByZXR1cm4ge09ic2VydmVyfHVuZGVmaW5lZH1cbiAqIEBzdGF0aWNcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gb2JzZXJ2ZSAodmFsdWUsIHZtKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgbGV0IG9iXG4gIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuICAgIG9iID0gdmFsdWUuX19vYl9fXG4gIH0gZWxzZSBpZiAoXG4gICAgKEFycmF5LmlzQXJyYXkodmFsdWUpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUpKSAmJlxuICAgIE9iamVjdC5pc0V4dGVuc2libGUodmFsdWUpICYmXG4gICAgIXZhbHVlLl9pc1Z1ZVxuICApIHtcbiAgICBvYiA9IG5ldyBPYnNlcnZlcih2YWx1ZSlcbiAgfVxuICBpZiAob2IgJiYgdm0pIHtcbiAgICBvYi5hZGRWbSh2bSlcbiAgfVxuICByZXR1cm4gb2Jcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSByZWFjdGl2ZSBwcm9wZXJ0eSBvbiBhbiBPYmplY3QuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICogQHBhcmFtIHsqfSB2YWxcbiAqL1xuXG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUgKG9iaiwga2V5LCB2YWwpIHtcbiAgY29uc3QgZGVwID0gbmV3IERlcCgpXG5cbiAgY29uc3QgcHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KVxuICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gY2F0ZXIgZm9yIHByZS1kZWZpbmVkIGdldHRlci9zZXR0ZXJzXG4gIGNvbnN0IGdldHRlciA9IHByb3BlcnR5ICYmIHByb3BlcnR5LmdldFxuICBjb25zdCBzZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zZXRcblxuICBsZXQgY2hpbGRPYiA9IG9ic2VydmUodmFsKVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbFxuICAgICAgaWYgKERlcC50YXJnZXQpIHtcbiAgICAgICAgZGVwLmRlcGVuZCgpXG4gICAgICAgIGlmIChjaGlsZE9iKSB7XG4gICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKClcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICBmb3IgKGxldCBlLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgZSA9IHZhbHVlW2ldXG4gICAgICAgICAgICBlICYmIGUuX19vYl9fICYmIGUuX19vYl9fLmRlcC5kZXBlbmQoKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlXG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlU2V0dGVyIChuZXdWYWwpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbFxuICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAoc2V0dGVyKSB7XG4gICAgICAgIHNldHRlci5jYWxsKG9iaiwgbmV3VmFsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gbmV3VmFsXG4gICAgICB9XG4gICAgICBjaGlsZE9iID0gb2JzZXJ2ZShuZXdWYWwpXG4gICAgICBkZXAubm90aWZ5KClcbiAgICB9XG4gIH0pXG59XG5cbi8qKlxuICogU2V0IGEgcHJvcGVydHkgb24gYW4gb2JqZWN0LiBBZGRzIHRoZSBuZXcgcHJvcGVydHkgYW5kXG4gKiB0cmlnZ2VycyBjaGFuZ2Ugbm90aWZpY2F0aW9uIGlmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcHVibGljXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIHNldCAob2JqLCBrZXksIHZhbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgcmV0dXJuIG9iai5zcGxpY2Uoa2V5LCAxLCB2YWwpXG4gIH1cbiAgaWYgKGhhc093bihvYmosIGtleSkpIHtcbiAgICBvYmpba2V5XSA9IHZhbFxuICAgIHJldHVyblxuICB9XG4gIGlmIChvYmouX2lzVnVlKSB7XG4gICAgc2V0KG9iai5fZGF0YSwga2V5LCB2YWwpXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgb2IgPSBvYmouX19vYl9fXG4gIGlmICghb2IpIHtcbiAgICBvYmpba2V5XSA9IHZhbFxuICAgIHJldHVyblxuICB9XG4gIG9iLmNvbnZlcnQoa2V5LCB2YWwpXG4gIG9iLmRlcC5ub3RpZnkoKVxuICBpZiAob2Iudm1zKSB7XG4gICAgbGV0IGkgPSBvYi52bXMubGVuZ3RoXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qgdm0gPSBvYi52bXNbaV1cbiAgICAgIHByb3h5KHZtLCBrZXkpXG4gICAgICAvLyB2bS4kZm9yY2VVcGRhdGUoKVxuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsXG59XG5cbi8qKlxuICogRGVsZXRlIGEgcHJvcGVydHkgYW5kIHRyaWdnZXIgY2hhbmdlIGlmIG5lY2Vzc2FyeS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbCAob2JqLCBrZXkpIHtcbiAgaWYgKCFoYXNPd24ob2JqLCBrZXkpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZGVsZXRlIG9ialtrZXldXG4gIGNvbnN0IG9iID0gb2JqLl9fb2JfX1xuXG4gIGlmICghb2IpIHtcbiAgICBpZiAob2JqLl9pc1Z1ZSkge1xuICAgICAgZGVsZXRlIG9iai5fZGF0YVtrZXldXG4gICAgICAvLyBvYmouJGZvcmNlVXBkYXRlKClcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgb2IuZGVwLm5vdGlmeSgpXG4gIGlmIChvYi52bXMpIHtcbiAgICBsZXQgaSA9IG9iLnZtcy5sZW5ndGhcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCB2bSA9IG9iLnZtc1tpXVxuICAgICAgdW5wcm94eSh2bSwga2V5KVxuICAgICAgLy8gdm0uJGZvcmNlVXBkYXRlKClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgS0VZX1dPUkRTID0gWyckaW5kZXgnLCAnJHZhbHVlJywgJyRldmVudCddXG5leHBvcnQgZnVuY3Rpb24gcHJveHkgKHZtLCBrZXkpIHtcbiAgaWYgKEtFWV9XT1JEUy5pbmRleE9mKGtleSkgPiAtMSB8fCAhaXNSZXNlcnZlZChrZXkpKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZtLCBrZXksIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uIHByb3h5R2V0dGVyICgpIHtcbiAgICAgICAgcmV0dXJuIHZtLl9kYXRhW2tleV1cbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHByb3h5U2V0dGVyICh2YWwpIHtcbiAgICAgICAgdm0uX2RhdGFba2V5XSA9IHZhbFxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVucHJveHkgKHZtLCBrZXkpIHtcbiAgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcbiAgICBkZWxldGUgdm1ba2V5XVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvY29yZS9vYnNlcnZlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9vYnNlcnZlci5qcyIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbmltcG9ydCB7IGRlZiB9IGZyb20gJy4uL3V0aWwnXG5cbmNvbnN0IGFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGVcbmV4cG9ydCBjb25zdCBhcnJheU1ldGhvZHMgPSBPYmplY3QuY3JlYXRlKGFycmF5UHJvdG8pXG5cbi8qKlxuICogSW50ZXJjZXB0IG11dGF0aW5nIG1ldGhvZHMgYW5kIGVtaXQgZXZlbnRzXG4gKi9cblxuO1tcbiAgJ3B1c2gnLFxuICAncG9wJyxcbiAgJ3NoaWZ0JyxcbiAgJ3Vuc2hpZnQnLFxuICAnc3BsaWNlJyxcbiAgJ3NvcnQnLFxuICAncmV2ZXJzZSdcbl1cbi5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgLy8gY2FjaGUgb3JpZ2luYWwgbWV0aG9kXG4gIGNvbnN0IG9yaWdpbmFsID0gYXJyYXlQcm90b1ttZXRob2RdXG4gIGRlZihhcnJheU1ldGhvZHMsIG1ldGhvZCwgZnVuY3Rpb24gbXV0YXRvciAoKSB7XG4gICAgLy8gYXZvaWQgbGVha2luZyBhcmd1bWVudHM6XG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vY2xvc3VyZS13aXRoLWFyZ3VtZW50c1xuICAgIGxldCBpID0gYXJndW1lbnRzLmxlbmd0aFxuICAgIGNvbnN0IGFyZ3MgPSBuZXcgQXJyYXkoaSlcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpXG4gICAgY29uc3Qgb2IgPSB0aGlzLl9fb2JfX1xuICAgIGxldCBpbnNlcnRlZFxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdwdXNoJzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd1bnNoaWZ0JzpcbiAgICAgICAgaW5zZXJ0ZWQgPSBhcmdzXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzcGxpY2UnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3Muc2xpY2UoMilcbiAgICAgICAgYnJlYWtcbiAgICB9XG4gICAgaWYgKGluc2VydGVkKSBvYi5vYnNlcnZlQXJyYXkoaW5zZXJ0ZWQpXG4gICAgLy8gbm90aWZ5IGNoYW5nZVxuICAgIG9iLmRlcC5ub3RpZnkoKVxuICAgIHJldHVybiByZXN1bHRcbiAgfSlcbn0pXG5cbi8qKlxuICogU3dhcCB0aGUgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gaW5kZXggd2l0aCBhIG5ldyB2YWx1ZVxuICogYW5kIGVtaXRzIGNvcnJlc3BvbmRpbmcgZXZlbnQuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGluZGV4XG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7Kn0gLSByZXBsYWNlZCBlbGVtZW50XG4gKi9cblxuZGVmKFxuICBhcnJheVByb3RvLFxuICAnJHNldCcsXG4gIGZ1bmN0aW9uICRzZXQgKGluZGV4LCB2YWwpIHtcbiAgICBpZiAoaW5kZXggPj0gdGhpcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMubGVuZ3RoID0gaW5kZXggKyAxXG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNwbGljZShpbmRleCwgMSwgdmFsKVswXVxuICB9XG4pXG5cbi8qKlxuICogQ29udmVuaWVuY2UgbWV0aG9kIHRvIHJlbW92ZSB0aGUgZWxlbWVudCBhdCBnaXZlbiBpbmRleC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gaW5kZXhcbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKi9cblxuZGVmKFxuICBhcnJheVByb3RvLFxuICAnJHJlbW92ZScsXG4gIGZ1bmN0aW9uICRyZW1vdmUgKGluZGV4KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCF0aGlzLmxlbmd0aCkgcmV0dXJuXG4gICAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICAgIGluZGV4ID0gdGhpcy5pbmRleE9mKGluZGV4KVxuICAgIH1cbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuICB9XG4pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvY29yZS9hcnJheS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvY29yZS9hcnJheS5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlld1xuICogVmlld01vZGVsIHRlbXBsYXRlIHBhcnNlciAmIGRhdGEtYmluZGluZyBwcm9jZXNzXG4gKi9cblxuaW1wb3J0IHtcbiAgZXh0ZW5kLFxuICBpc09iamVjdCxcbiAgYmluZFxufSBmcm9tICcuLi91dGlsJ1xuaW1wb3J0IHtcbiAgaW5pdERhdGEsXG4gIGluaXRDb21wdXRlZFxufSBmcm9tICcuLi9jb3JlL3N0YXRlJ1xuaW1wb3J0IHtcbiAgYmluZEVsZW1lbnQsXG4gIHNldElkLFxuICBiaW5kU3ViVm0sXG4gIGJpbmRTdWJWbUFmdGVySW5pdGlhbGl6ZWQsXG4gIGFwcGx5TmFpdHZlQ29tcG9uZW50T3B0aW9ucyxcbiAgd2F0Y2hcbn0gZnJvbSAnLi9kaXJlY3RpdmUnXG5pbXBvcnQge1xuICBjcmVhdGVCbG9jayxcbiAgY3JlYXRlQm9keSxcbiAgY3JlYXRlRWxlbWVudCxcbiAgYXR0YWNoVGFyZ2V0LFxuICBtb3ZlVGFyZ2V0LFxuICByZW1vdmVUYXJnZXRcbn0gZnJvbSAnLi9kb20taGVscGVyJ1xuXG4vKipcbiAqIGJ1aWxkKClcbiAqICAgY29tcGlsZSh0ZW1wbGF0ZSwgcGFyZW50Tm9kZSlcbiAqICAgICBpZiAodHlwZSBpcyBjb250ZW50KSBjcmVhdGUgY29udGVudE5vZGVcbiAqICAgICBlbHNlIGlmIChkaXJzIGhhdmUgdi1mb3IpIGZvcmVhY2ggLT4gY3JlYXRlIGNvbnRleHRcbiAqICAgICAgIC0+IGNvbXBpbGUodGVtcGxhdGVXaXRob3V0Rm9yLCBwYXJlbnROb2RlKTogZGlmZihsaXN0KSBvbmNoYW5nZVxuICogICAgIGVsc2UgaWYgKGRpcnMgaGF2ZSB2LWlmKSBhc3NlcnRcbiAqICAgICAgIC0+IGNvbXBpbGUodGVtcGxhdGVXaXRob3V0SWYsIHBhcmVudE5vZGUpOiB0b2dnbGUoc2hvd24pIG9uY2hhbmdlXG4gKiAgICAgZWxzZSBpZiAodHlwZSBpcyBkeW5hbWljKVxuICogICAgICAgLT4gY29tcGlsZSh0ZW1wbGF0ZVdpdGhvdXREeW5hbWljVHlwZSwgcGFyZW50Tm9kZSk6IHdhdGNoKHR5cGUpIG9uY2hhbmdlXG4gKiAgICAgZWxzZSBpZiAodHlwZSBpcyBjdXN0b20pXG4gKiAgICAgICBhZGRDaGlsZFZtKHZtLCBwYXJlbnRWbSlcbiAqICAgICAgIGJ1aWxkKGV4dGVybmFsRGlycylcbiAqICAgICAgIGZvcmVhY2ggY2hpbGROb2RlcyAtPiBjb21waWxlKGNoaWxkTm9kZSwgdGVtcGxhdGUpXG4gKiAgICAgZWxzZSBpZiAodHlwZSBpcyBuYXRpdmUpXG4gKiAgICAgICBzZXQoZGlycyk6IHVwZGF0ZShpZC9hdHRyL3N0eWxlL2NsYXNzKSBvbmNoYW5nZVxuICogICAgICAgYXBwZW5kKHRlbXBsYXRlLCBwYXJlbnROb2RlKVxuICogICAgICAgZm9yZWFjaCBjaGlsZE5vZGVzIC0+IGNvbXBpbGUoY2hpbGROb2RlLCB0ZW1wbGF0ZSlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkICh2bSkge1xuICBjb25zdCBvcHQgPSB2bS5fb3B0aW9ucyB8fCB7fVxuICBjb25zdCB0ZW1wbGF0ZSA9IG9wdC50ZW1wbGF0ZSB8fCB7fVxuXG4gIGlmIChvcHQucmVwbGFjZSkge1xuICAgIGlmICh0ZW1wbGF0ZS5jaGlsZHJlbiAmJiB0ZW1wbGF0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGNvbXBpbGUodm0sIHRlbXBsYXRlLmNoaWxkcmVuWzBdLCB2bS5fcGFyZW50RWwpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29tcGlsZSh2bSwgdGVtcGxhdGUuY2hpbGRyZW4sIHZtLl9wYXJlbnRFbClcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgY29tcGlsZSh2bSwgdGVtcGxhdGUsIHZtLl9wYXJlbnRFbClcbiAgfVxuXG4gIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIFwicmVhZHlcIiBsaWZlY3ljbGUgaW4gVm0oJHt2bS5fdHlwZX0pYClcbiAgdm0uJGVtaXQoJ2hvb2s6cmVhZHknKVxuICB2bS5fcmVhZHkgPSB0cnVlXG59XG5cbi8qKlxuICogR2VuZXJhdGUgZWxlbWVudHMgYnkgY2hpbGQgb3IgY2hpbGRyZW4gYW5kIGFwcGVuZCB0byBwYXJlbnQgZWxlbWVudHMuXG4gKiBSb290IGVsZW1lbnQgaW5mbyB3b3VsZCBiZSBtZXJnZWQgaWYgaGFzLiBUaGUgZmlyc3QgYXJndW1lbnQgbWF5IGJlIGFuIGFycmF5XG4gKiBpZiB0aGUgcm9vdCBlbGVtZW50IHdpdGggb3B0aW9ucy5yZXBsYWNlIGhhcyBub3Qgb25seSBvbmUgY2hpbGQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R8YXJyYXl9IHRhcmdldFxuICogQHBhcmFtIHtvYmplY3R9ICAgICAgIGRlc3RcbiAqIEBwYXJhbSB7b2JqZWN0fSAgICAgICBtZXRhXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGUgKHZtLCB0YXJnZXQsIGRlc3QsIG1ldGEpIHtcbiAgY29uc3QgYXBwID0gdm0uX2FwcCB8fCB7fVxuXG4gIGlmIChhcHAubGFzdFNpZ25hbCA9PT0gLTEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0YXJnZXQuYXR0ciAmJiB0YXJnZXQuYXR0ci5oYXNPd25Qcm9wZXJ0eSgnc3RhdGljJykpIHtcbiAgICB2bS5fc3RhdGljID0gdHJ1ZVxuICB9XG5cbiAgaWYgKHRhcmdldElzRnJhZ21lbnQodGFyZ2V0KSkge1xuICAgIGNvbXBpbGVGcmFnbWVudCh2bSwgdGFyZ2V0LCBkZXN0LCBtZXRhKVxuICAgIHJldHVyblxuICB9XG4gIG1ldGEgPSBtZXRhIHx8IHt9XG4gIGlmICh0YXJnZXRJc0NvbnRlbnQodGFyZ2V0KSkge1xuICAgIGNvbnNvbGUuZGVidWcoJ1tKUyBGcmFtZXdvcmtdIGNvbXBpbGUgXCJjb250ZW50XCIgYmxvY2sgYnknLCB0YXJnZXQpXG4gICAgdm0uX2NvbnRlbnQgPSBjcmVhdGVCbG9jayh2bSwgZGVzdClcbiAgICByZXR1cm5cbiAgfVxuXG4gIGlmICh0YXJnZXROZWVkQ2hlY2tSZXBlYXQodGFyZ2V0LCBtZXRhKSkge1xuICAgIGNvbnNvbGUuZGVidWcoJ1tKUyBGcmFtZXdvcmtdIGNvbXBpbGUgXCJyZXBlYXRcIiBsb2dpYyBieScsIHRhcmdldClcbiAgICBpZiAoZGVzdC50eXBlID09PSAnZG9jdW1lbnQnKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIFRoZSByb290IGVsZW1lbnQgZG9lc1xcJ3Qgc3VwcG9ydCBgcmVwZWF0YCBkaXJlY3RpdmUhJylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb21waWxlUmVwZWF0KHZtLCB0YXJnZXQsIGRlc3QpXG4gICAgfVxuICAgIHJldHVyblxuICB9XG4gIGlmICh0YXJnZXROZWVkQ2hlY2tTaG93bih0YXJnZXQsIG1ldGEpKSB7XG4gICAgY29uc29sZS5kZWJ1ZygnW0pTIEZyYW1ld29ya10gY29tcGlsZSBcImlmXCIgbG9naWMgYnknLCB0YXJnZXQpXG4gICAgaWYgKGRlc3QudHlwZSA9PT0gJ2RvY3VtZW50Jykge1xuICAgICAgY29uc29sZS53YXJuKCdbSlMgRnJhbWV3b3JrXSBUaGUgcm9vdCBlbGVtZW50IGRvZXNcXCd0IHN1cHBvcnQgYGlmYCBkaXJlY3RpdmUhJylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb21waWxlU2hvd24odm0sIHRhcmdldCwgZGVzdCwgbWV0YSlcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgdHlwZUdldHRlciA9IG1ldGEudHlwZSB8fCB0YXJnZXQudHlwZVxuICBpZiAodGFyZ2V0TmVlZENoZWNrVHlwZSh0eXBlR2V0dGVyLCBtZXRhKSkge1xuICAgIGNvbXBpbGVUeXBlKHZtLCB0YXJnZXQsIGRlc3QsIHR5cGVHZXR0ZXIsIG1ldGEpXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgdHlwZSA9IHR5cGVHZXR0ZXJcbiAgY29uc3QgY29tcG9uZW50ID0gdGFyZ2V0SXNDb21wb3NlZCh2bSwgdGFyZ2V0LCB0eXBlKVxuICBpZiAoY29tcG9uZW50KSB7XG4gICAgY29uc29sZS5kZWJ1ZygnW0pTIEZyYW1ld29ya10gY29tcGlsZSBjb21wb3NlZCBjb21wb25lbnQgYnknLCB0YXJnZXQpXG4gICAgY29tcGlsZUN1c3RvbUNvbXBvbmVudCh2bSwgY29tcG9uZW50LCB0YXJnZXQsIGRlc3QsIHR5cGUsIG1ldGEpXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc29sZS5kZWJ1ZygnW0pTIEZyYW1ld29ya10gY29tcGlsZSBuYXRpdmUgY29tcG9uZW50IGJ5JywgdGFyZ2V0KVxuICBjb21waWxlTmF0aXZlQ29tcG9uZW50KHZtLCB0YXJnZXQsIGRlc3QsIHR5cGUpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGFyZ2V0IGlzIGEgZnJhZ21lbnQgKGFuIGFycmF5KS5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9ICB0YXJnZXRcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRhcmdldElzRnJhZ21lbnQgKHRhcmdldCkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheSh0YXJnZXQpXG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGFyZ2V0IHR5cGUgaXMgY29udGVudC9zbG90LlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gIHRhcmdldFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGFyZ2V0SXNDb250ZW50ICh0YXJnZXQpIHtcbiAgcmV0dXJuIHRhcmdldC50eXBlID09PSAnY29udGVudCcgfHwgdGFyZ2V0LnR5cGUgPT09ICdzbG90J1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHRhcmdldCBuZWVkIHRvIGNvbXBpbGUgYnkgYSBsaXN0LlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gIHRhcmdldFxuICogQHBhcmFtICB7b2JqZWN0fSAgbWV0YVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGFyZ2V0TmVlZENoZWNrUmVwZWF0ICh0YXJnZXQsIG1ldGEpIHtcbiAgcmV0dXJuICFtZXRhLmhhc093blByb3BlcnR5KCdyZXBlYXQnKSAmJiB0YXJnZXQucmVwZWF0XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdGFyZ2V0IG5lZWQgdG8gY29tcGlsZSBieSBhIGJvb2xlYW4gdmFsdWUuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSAgdGFyZ2V0XG4gKiBAcGFyYW0gIHtvYmplY3R9ICBtZXRhXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB0YXJnZXROZWVkQ2hlY2tTaG93biAodGFyZ2V0LCBtZXRhKSB7XG4gIHJldHVybiAhbWV0YS5oYXNPd25Qcm9wZXJ0eSgnc2hvd24nKSAmJiB0YXJnZXQuc2hvd25cbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0YXJnZXQgbmVlZCB0byBjb21waWxlIGJ5IGEgZHluYW1pYyB0eXBlLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ3xmdW5jdGlvbn0gdHlwZUdldHRlclxuICogQHBhcmFtICB7b2JqZWN0fSAgICAgICAgICBtZXRhXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5mdW5jdGlvbiB0YXJnZXROZWVkQ2hlY2tUeXBlICh0eXBlR2V0dGVyLCBtZXRhKSB7XG4gIHJldHVybiAodHlwZW9mIHR5cGVHZXR0ZXIgPT09ICdmdW5jdGlvbicpICYmICFtZXRhLmhhc093blByb3BlcnR5KCd0eXBlJylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0aGlzIGtpbmQgb2YgY29tcG9uZW50IGlzIGNvbXBvc2VkLlxuICpcbiAqIEBwYXJhbSAge3N0cmluZ30gIHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRhcmdldElzQ29tcG9zZWQgKHZtLCB0YXJnZXQsIHR5cGUpIHtcbiAgbGV0IGNvbXBvbmVudFxuICBpZiAodm0uX2FwcCAmJiB2bS5fYXBwLmN1c3RvbUNvbXBvbmVudE1hcCkge1xuICAgIGNvbXBvbmVudCA9IHZtLl9hcHAuY3VzdG9tQ29tcG9uZW50TWFwW3R5cGVdXG4gIH1cbiAgaWYgKHZtLl9vcHRpb25zICYmIHZtLl9vcHRpb25zLmNvbXBvbmVudHMpIHtcbiAgICBjb21wb25lbnQgPSB2bS5fb3B0aW9ucy5jb21wb25lbnRzW3R5cGVdXG4gIH1cbiAgaWYgKHRhcmdldC5jb21wb25lbnQpIHtcbiAgICBjb21wb25lbnQgPSBjb21wb25lbnQgfHwge31cbiAgfVxuICByZXR1cm4gY29tcG9uZW50XG59XG5cbi8qKlxuICogQ29tcGlsZSBhIGxpc3Qgb2YgdGFyZ2V0cy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0ge29iamVjdH0gZGVzdFxuICogQHBhcmFtIHtvYmplY3R9IG1ldGFcbiAqL1xuZnVuY3Rpb24gY29tcGlsZUZyYWdtZW50ICh2bSwgdGFyZ2V0LCBkZXN0LCBtZXRhKSB7XG4gIGNvbnN0IGZyYWdCbG9jayA9IGNyZWF0ZUJsb2NrKHZtLCBkZXN0KVxuICB0YXJnZXQuZm9yRWFjaCgoY2hpbGQpID0+IHtcbiAgICBjb21waWxlKHZtLCBjaGlsZCwgZnJhZ0Jsb2NrLCBtZXRhKVxuICB9KVxufVxuXG4vKipcbiAqIENvbXBpbGUgYSB0YXJnZXQgd2l0aCByZXBlYXQgZGlyZWN0aXZlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZXN0XG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVSZXBlYXQgKHZtLCB0YXJnZXQsIGRlc3QpIHtcbiAgY29uc3QgcmVwZWF0ID0gdGFyZ2V0LnJlcGVhdFxuICBjb25zdCBvbGRTdHlsZSA9IHR5cGVvZiByZXBlYXQgPT09ICdmdW5jdGlvbidcbiAgbGV0IGdldHRlciA9IHJlcGVhdC5nZXR0ZXIgfHwgcmVwZWF0LmV4cHJlc3Npb24gfHwgcmVwZWF0XG4gIGlmICh0eXBlb2YgZ2V0dGVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgZ2V0dGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW10gfVxuICB9XG4gIGNvbnN0IGtleSA9IHJlcGVhdC5rZXkgfHwgJyRpbmRleCdcbiAgY29uc3QgdmFsdWUgPSByZXBlYXQudmFsdWUgfHwgJyR2YWx1ZSdcbiAgY29uc3QgdHJhY2tCeSA9IHJlcGVhdC50cmFja0J5IHx8IHRhcmdldC50cmFja0J5IHx8XG4gICAgKHRhcmdldC5hdHRyICYmIHRhcmdldC5hdHRyLnRyYWNrQnkpXG5cbiAgY29uc3QgZnJhZ0Jsb2NrID0gY3JlYXRlQmxvY2sodm0sIGRlc3QpXG4gIGZyYWdCbG9jay5jaGlsZHJlbiA9IFtdXG4gIGZyYWdCbG9jay5kYXRhID0gW11cbiAgZnJhZ0Jsb2NrLnZtcyA9IFtdXG5cbiAgYmluZFJlcGVhdCh2bSwgdGFyZ2V0LCBmcmFnQmxvY2ssIHsgZ2V0dGVyLCBrZXksIHZhbHVlLCB0cmFja0J5LCBvbGRTdHlsZSB9KVxufVxuXG4vKipcbiAqIENvbXBpbGUgYSB0YXJnZXQgd2l0aCBpZiBkaXJlY3RpdmUuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtvYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7b2JqZWN0fSBtZXRhXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVTaG93biAodm0sIHRhcmdldCwgZGVzdCwgbWV0YSkge1xuICBjb25zdCBuZXdNZXRhID0geyBzaG93bjogdHJ1ZSB9XG4gIGNvbnN0IGZyYWdCbG9jayA9IGNyZWF0ZUJsb2NrKHZtLCBkZXN0KVxuXG4gIGlmIChkZXN0LmVsZW1lbnQgJiYgZGVzdC5jaGlsZHJlbikge1xuICAgIGRlc3QuY2hpbGRyZW4ucHVzaChmcmFnQmxvY2spXG4gIH1cblxuICBpZiAobWV0YS5yZXBlYXQpIHtcbiAgICBuZXdNZXRhLnJlcGVhdCA9IG1ldGEucmVwZWF0XG4gIH1cblxuICBiaW5kU2hvd24odm0sIHRhcmdldCwgZnJhZ0Jsb2NrLCBuZXdNZXRhKVxufVxuXG4vKipcbiAqIENvbXBpbGUgYSB0YXJnZXQgd2l0aCBkeW5hbWljIGNvbXBvbmVudCB0eXBlLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSAgIHRhcmdldFxuICogQHBhcmFtIHtvYmplY3R9ICAgZGVzdFxuICogQHBhcmFtIHtmdW5jdGlvbn0gdHlwZUdldHRlclxuICovXG5mdW5jdGlvbiBjb21waWxlVHlwZSAodm0sIHRhcmdldCwgZGVzdCwgdHlwZUdldHRlciwgbWV0YSkge1xuICBjb25zdCB0eXBlID0gdHlwZUdldHRlci5jYWxsKHZtKVxuICBjb25zdCBuZXdNZXRhID0gZXh0ZW5kKHsgdHlwZSB9LCBtZXRhKVxuICBjb25zdCBmcmFnQmxvY2sgPSBjcmVhdGVCbG9jayh2bSwgZGVzdClcblxuICBpZiAoZGVzdC5lbGVtZW50ICYmIGRlc3QuY2hpbGRyZW4pIHtcbiAgICBkZXN0LmNoaWxkcmVuLnB1c2goZnJhZ0Jsb2NrKVxuICB9XG5cbiAgd2F0Y2godm0sIHR5cGVHZXR0ZXIsICh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IG5ld01ldGEgPSBleHRlbmQoeyB0eXBlOiB2YWx1ZSB9LCBtZXRhKVxuICAgIHJlbW92ZVRhcmdldCh2bSwgZnJhZ0Jsb2NrLCB0cnVlKVxuICAgIGNvbXBpbGUodm0sIHRhcmdldCwgZnJhZ0Jsb2NrLCBuZXdNZXRhKVxuICB9KVxuXG4gIGNvbXBpbGUodm0sIHRhcmdldCwgZnJhZ0Jsb2NrLCBuZXdNZXRhKVxufVxuXG4vKipcbiAqIENvbXBpbGUgYSBjb21wb3NlZCBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IHRhcmdldFxuICogQHBhcmFtIHtvYmplY3R9IGRlc3RcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVDdXN0b21Db21wb25lbnQgKHZtLCBjb21wb25lbnQsIHRhcmdldCwgZGVzdCwgdHlwZSwgbWV0YSkge1xuICBjb25zdCBDdG9yID0gdm0uY29uc3RydWN0b3JcbiAgY29uc3Qgc3ViVm0gPSBuZXcgQ3Rvcih0eXBlLCBjb21wb25lbnQsIHZtLCBkZXN0LCB1bmRlZmluZWQsIHtcbiAgICAnaG9vazppbml0JzogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHZtLl9zdGF0aWMpIHtcbiAgICAgICAgdGhpcy5fc3RhdGljID0gdm0uX3N0YXRpY1xuICAgICAgfVxuICAgICAgc2V0SWQodm0sIG51bGwsIHRhcmdldC5pZCwgdGhpcylcbiAgICAgIC8vIGJpbmQgdGVtcGxhdGUgZWFybGllciBiZWNhdXNlIG9mIGxpZmVjeWNsZSBpc3N1ZXNcbiAgICAgIHRoaXMuX2V4dGVybmFsQmluZGluZyA9IHtcbiAgICAgICAgcGFyZW50OiB2bSxcbiAgICAgICAgdGVtcGxhdGU6IHRhcmdldFxuICAgICAgfVxuICAgIH0sXG4gICAgJ2hvb2s6Y3JlYXRlZCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgIGJpbmRTdWJWbSh2bSwgdGhpcywgdGFyZ2V0LCBtZXRhLnJlcGVhdClcbiAgICB9LFxuICAgICdob29rOnJlYWR5JzogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgY29tcGlsZUNoaWxkcmVuKHZtLCB0YXJnZXQsIHRoaXMuX2NvbnRlbnQpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICBiaW5kU3ViVm1BZnRlckluaXRpYWxpemVkKHZtLCBzdWJWbSwgdGFyZ2V0LCBkZXN0KVxufVxuXG4vKipcbiAqIEdlbmVyYXRlIGVsZW1lbnQgZnJvbSB0ZW1wbGF0ZSBhbmQgYXR0YWNoIHRvIHRoZSBkZXN0IGlmIG5lZWRlZC5cbiAqIFRoZSB0aW1lIHRvIGF0dGFjaCBkZXBlbmRzIG9uIHdoZXRoZXIgdGhlIG1vZGUgc3RhdHVzIGlzIG5vZGUgb3IgdHJlZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdGVtcGxhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxuICovXG5mdW5jdGlvbiBjb21waWxlTmF0aXZlQ29tcG9uZW50ICh2bSwgdGVtcGxhdGUsIGRlc3QsIHR5cGUpIHtcbiAgYXBwbHlOYWl0dmVDb21wb25lbnRPcHRpb25zKHRlbXBsYXRlKVxuXG4gIGxldCBlbGVtZW50XG4gIGlmIChkZXN0LnJlZiA9PT0gJ19kb2N1bWVudEVsZW1lbnQnKSB7XG4gICAgLy8gaWYgaXRzIHBhcmVudCBpcyBkb2N1bWVudEVsZW1lbnQgdGhlbiBpdCdzIGEgYm9keVxuICAgIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIGNvbXBpbGUgdG8gY3JlYXRlIGJvZHkgZm9yICR7dHlwZX1gKVxuICAgIGVsZW1lbnQgPSBjcmVhdGVCb2R5KHZtLCB0eXBlKVxuICB9XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIGNvbXBpbGUgdG8gY3JlYXRlIGVsZW1lbnQgZm9yICR7dHlwZX1gKVxuICAgIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KHZtLCB0eXBlKVxuICB9XG5cbiAgaWYgKCF2bS5fcm9vdEVsKSB7XG4gICAgdm0uX3Jvb3RFbCA9IGVsZW1lbnRcbiAgICAvLyBiaW5kIGV2ZW50IGVhcmxpZXIgYmVjYXVzZSBvZiBsaWZlY3ljbGUgaXNzdWVzXG4gICAgY29uc3QgYmluZGluZyA9IHZtLl9leHRlcm5hbEJpbmRpbmcgfHwge31cbiAgICBjb25zdCB0YXJnZXQgPSBiaW5kaW5nLnRlbXBsYXRlXG4gICAgY29uc3QgcGFyZW50Vm0gPSBiaW5kaW5nLnBhcmVudFxuICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmV2ZW50cyAmJiBwYXJlbnRWbSAmJiBlbGVtZW50KSB7XG4gICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGFyZ2V0LmV2ZW50cykge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gcGFyZW50Vm1bdGFyZ2V0LmV2ZW50c1t0eXBlXV1cbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50KHR5cGUsIGJpbmQoaGFuZGxlciwgcGFyZW50Vm0pKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYmluZEVsZW1lbnQodm0sIGVsZW1lbnQsIHRlbXBsYXRlKVxuXG4gIGlmICh0ZW1wbGF0ZS5hdHRyICYmIHRlbXBsYXRlLmF0dHIuYXBwZW5kKSB7IC8vIGJhY2t3YXJkLCBhcHBlbmQgcHJvcCBpbiBhdHRyXG4gICAgdGVtcGxhdGUuYXBwZW5kID0gdGVtcGxhdGUuYXR0ci5hcHBlbmRcbiAgfVxuXG4gIGlmICh0ZW1wbGF0ZS5hcHBlbmQpIHsgLy8gZ2l2ZSB0aGUgYXBwZW5kIGF0dHJpYnV0ZSBmb3IgaW9zIGFkYXB0YXRpb25cbiAgICBlbGVtZW50LmF0dHIgPSBlbGVtZW50LmF0dHIgfHwge31cbiAgICBlbGVtZW50LmF0dHIuYXBwZW5kID0gdGVtcGxhdGUuYXBwZW5kXG4gIH1cblxuICBjb25zdCB0cmVlTW9kZSA9IHRlbXBsYXRlLmFwcGVuZCA9PT0gJ3RyZWUnXG4gIGNvbnN0IGFwcCA9IHZtLl9hcHAgfHwge31cbiAgaWYgKGFwcC5sYXN0U2lnbmFsICE9PSAtMSAmJiAhdHJlZU1vZGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKCdbSlMgRnJhbWV3b3JrXSBjb21waWxlIHRvIGFwcGVuZCBzaW5nbGUgbm9kZSBmb3InLCBlbGVtZW50KVxuICAgIGFwcC5sYXN0U2lnbmFsID0gYXR0YWNoVGFyZ2V0KHZtLCBlbGVtZW50LCBkZXN0KVxuICB9XG4gIGlmIChhcHAubGFzdFNpZ25hbCAhPT0gLTEpIHtcbiAgICBjb21waWxlQ2hpbGRyZW4odm0sIHRlbXBsYXRlLCBlbGVtZW50KVxuICB9XG4gIGlmIChhcHAubGFzdFNpZ25hbCAhPT0gLTEgJiYgdHJlZU1vZGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKCdbSlMgRnJhbWV3b3JrXSBjb21waWxlIHRvIGFwcGVuZCB3aG9sZSB0cmVlIGZvcicsIGVsZW1lbnQpXG4gICAgYXBwLmxhc3RTaWduYWwgPSBhdHRhY2hUYXJnZXQodm0sIGVsZW1lbnQsIGRlc3QpXG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgYWxsIGNoaWxkcmVuIHRvIGEgY2VydGFpbiBwYXJlbnQgZWxlbWVudC5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdGVtcGxhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBkZXN0XG4gKi9cbmZ1bmN0aW9uIGNvbXBpbGVDaGlsZHJlbiAodm0sIHRlbXBsYXRlLCBkZXN0KSB7XG4gIGNvbnN0IGFwcCA9IHZtLl9hcHAgfHwge31cbiAgY29uc3QgY2hpbGRyZW4gPSB0ZW1wbGF0ZS5jaGlsZHJlblxuICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY2hpbGRyZW4uZXZlcnkoKGNoaWxkKSA9PiB7XG4gICAgICBjb21waWxlKHZtLCBjaGlsZCwgZGVzdClcbiAgICAgIHJldHVybiBhcHAubGFzdFNpZ25hbCAhPT0gLTFcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogV2F0Y2ggdGhlIGxpc3QgdXBkYXRlIGFuZCByZWZyZXNoIHRoZSBjaGFuZ2VzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSB7b2JqZWN0fSBmcmFnQmxvY2sge3ZtcywgZGF0YSwgY2hpbGRyZW59XG4gKiBAcGFyYW0ge29iamVjdH0gaW5mbyAgICAgIHtnZXR0ZXIsIGtleSwgdmFsdWUsIHRyYWNrQnksIG9sZFN0eWxlfVxuICovXG5mdW5jdGlvbiBiaW5kUmVwZWF0ICh2bSwgdGFyZ2V0LCBmcmFnQmxvY2ssIGluZm8pIHtcbiAgY29uc3Qgdm1zID0gZnJhZ0Jsb2NrLnZtc1xuICBjb25zdCBjaGlsZHJlbiA9IGZyYWdCbG9jay5jaGlsZHJlblxuICBjb25zdCB7IGdldHRlciwgdHJhY2tCeSwgb2xkU3R5bGUgfSA9IGluZm9cbiAgY29uc3Qga2V5TmFtZSA9IGluZm8ua2V5XG4gIGNvbnN0IHZhbHVlTmFtZSA9IGluZm8udmFsdWVcblxuICBmdW5jdGlvbiBjb21waWxlSXRlbSAoaXRlbSwgaW5kZXgsIGNvbnRleHQpIHtcbiAgICBsZXQgbWVyZ2VkRGF0YVxuICAgIGlmIChvbGRTdHlsZSkge1xuICAgICAgbWVyZ2VkRGF0YSA9IGl0ZW1cbiAgICAgIGlmIChpc09iamVjdChpdGVtKSkge1xuICAgICAgICBtZXJnZWREYXRhW2tleU5hbWVdID0gaW5kZXhcbiAgICAgICAgaWYgKCFtZXJnZWREYXRhLmhhc093blByb3BlcnR5KCdJTkRFWCcpKSB7XG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1lcmdlZERhdGEsICdJTkRFWCcsIHtcbiAgICAgICAgICAgIHZhbHVlOiAoKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybignW0pTIEZyYW1ld29ya10gXCJJTkRFWFwiIGluIHJlcGVhdCBpcyBkZXByZWNhdGVkLCAnICtcbiAgICAgICAgICAgICAgICAncGxlYXNlIHVzZSBcIiRpbmRleFwiIGluc3RlYWQnKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIEVhY2ggbGlzdCBpdGVtIG11c3QgYmUgYW4gb2JqZWN0IGluIG9sZC1zdHlsZSByZXBlYXQsICdcbiAgICAgICAgICArICdwbGVhc2UgdXNlIGByZXBlYXQ9e3t2IGluIGxpc3R9fWAgaW5zdGVhZC4nKVxuICAgICAgICBtZXJnZWREYXRhID0ge31cbiAgICAgICAgbWVyZ2VkRGF0YVtrZXlOYW1lXSA9IGluZGV4XG4gICAgICAgIG1lcmdlZERhdGFbdmFsdWVOYW1lXSA9IGl0ZW1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBtZXJnZWREYXRhID0ge31cbiAgICAgIG1lcmdlZERhdGFba2V5TmFtZV0gPSBpbmRleFxuICAgICAgbWVyZ2VkRGF0YVt2YWx1ZU5hbWVdID0gaXRlbVxuICAgIH1cbiAgICBjb25zdCBuZXdDb250ZXh0ID0gbWVyZ2VDb250ZXh0KGNvbnRleHQsIG1lcmdlZERhdGEpXG4gICAgdm1zLnB1c2gobmV3Q29udGV4dClcbiAgICBjb21waWxlKG5ld0NvbnRleHQsIHRhcmdldCwgZnJhZ0Jsb2NrLCB7IHJlcGVhdDogaXRlbSB9KVxuICB9XG5cbiAgY29uc3QgbGlzdCA9IHdhdGNoQmxvY2sodm0sIGZyYWdCbG9jaywgZ2V0dGVyLCAncmVwZWF0JyxcbiAgICAoZGF0YSkgPT4ge1xuICAgICAgY29uc29sZS5kZWJ1ZygnW0pTIEZyYW1ld29ya10gdGhlIFwicmVwZWF0XCIgaXRlbSBoYXMgY2hhbmdlZCcsIGRhdGEpXG4gICAgICBpZiAoIWZyYWdCbG9jayB8fCAhZGF0YSkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc3Qgb2xkQ2hpbGRyZW4gPSBjaGlsZHJlbi5zbGljZSgpXG4gICAgICBjb25zdCBvbGRWbXMgPSB2bXMuc2xpY2UoKVxuICAgICAgY29uc3Qgb2xkRGF0YSA9IGZyYWdCbG9jay5kYXRhLnNsaWNlKClcbiAgICAgIC8vIDEuIGNvbGxlY3QgYWxsIG5ldyByZWZzIHRyYWNrIGJ5XG4gICAgICBjb25zdCB0cmFja01hcCA9IHt9XG4gICAgICBjb25zdCByZXVzZWRNYXAgPSB7fVxuICAgICAgZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSB0cmFja0J5ID8gaXRlbVt0cmFja0J5XSA6IChvbGRTdHlsZSA/IGl0ZW1ba2V5TmFtZV0gOiBpbmRleClcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChrZXkgPT0gbnVsbCB8fCBrZXkgPT09ICcnKSB7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdHJhY2tNYXBba2V5XSA9IGl0ZW1cbiAgICAgIH0pXG5cbiAgICAgIC8vIDIuIHJlbW92ZSB1bnVzZWQgZWxlbWVudCBmb3JlYWNoIG9sZCBpdGVtXG4gICAgICBjb25zdCByZXVzZWRMaXN0ID0gW11cbiAgICAgIG9sZERhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0gdHJhY2tCeSA/IGl0ZW1bdHJhY2tCeV0gOiAob2xkU3R5bGUgPyBpdGVtW2tleU5hbWVdIDogaW5kZXgpXG4gICAgICAgIGlmICh0cmFja01hcC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgcmV1c2VkTWFwW2tleV0gPSB7XG4gICAgICAgICAgICBpdGVtLCBpbmRleCwga2V5LFxuICAgICAgICAgICAgdGFyZ2V0OiBvbGRDaGlsZHJlbltpbmRleF0sXG4gICAgICAgICAgICB2bTogb2xkVm1zW2luZGV4XVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXVzZWRMaXN0LnB1c2goaXRlbSlcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZW1vdmVUYXJnZXQodm0sIG9sZENoaWxkcmVuW2luZGV4XSlcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gMy4gY3JlYXRlIG5ldyBlbGVtZW50IGZvcmVhY2ggbmV3IGl0ZW1cbiAgICAgIGNoaWxkcmVuLmxlbmd0aCA9IDBcbiAgICAgIHZtcy5sZW5ndGggPSAwXG4gICAgICBmcmFnQmxvY2suZGF0YSA9IGRhdGEuc2xpY2UoKVxuICAgICAgZnJhZ0Jsb2NrLnVwZGF0ZU1hcmsgPSBmcmFnQmxvY2suc3RhcnRcblxuICAgICAgZGF0YS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBrZXkgPSB0cmFja0J5ID8gaXRlbVt0cmFja0J5XSA6IChvbGRTdHlsZSA/IGl0ZW1ba2V5TmFtZV0gOiBpbmRleClcbiAgICAgICAgY29uc3QgcmV1c2VkID0gcmV1c2VkTWFwW2tleV1cbiAgICAgICAgaWYgKHJldXNlZCkge1xuICAgICAgICAgIGlmIChyZXVzZWQuaXRlbSA9PT0gcmV1c2VkTGlzdFswXSkge1xuICAgICAgICAgICAgcmV1c2VkTGlzdC5zaGlmdCgpXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV1c2VkTGlzdC4kcmVtb3ZlKHJldXNlZC5pdGVtKVxuICAgICAgICAgICAgbW92ZVRhcmdldCh2bSwgcmV1c2VkLnRhcmdldCwgZnJhZ0Jsb2NrLnVwZGF0ZU1hcmssIHRydWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkcmVuLnB1c2gocmV1c2VkLnRhcmdldClcbiAgICAgICAgICB2bXMucHVzaChyZXVzZWQudm0pXG4gICAgICAgICAgaWYgKG9sZFN0eWxlKSB7XG4gICAgICAgICAgICByZXVzZWQudm0gPSBpdGVtXG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV1c2VkLnZtW3ZhbHVlTmFtZV0gPSBpdGVtXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldXNlZC52bVtrZXlOYW1lXSA9IGluZGV4XG4gICAgICAgICAgZnJhZ0Jsb2NrLnVwZGF0ZU1hcmsgPSByZXVzZWQudGFyZ2V0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY29tcGlsZUl0ZW0oaXRlbSwgaW5kZXgsIHZtKVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBkZWxldGUgZnJhZ0Jsb2NrLnVwZGF0ZU1hcmtcbiAgICB9XG4gIClcblxuICBmcmFnQmxvY2suZGF0YSA9IGxpc3Quc2xpY2UoMClcbiAgbGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbXBpbGVJdGVtKGl0ZW0sIGluZGV4LCB2bSlcbiAgfSlcbn1cblxuLyoqXG4gKiBXYXRjaCB0aGUgZGlzcGxheSB1cGRhdGUgYW5kIGFkZC9yZW1vdmUgdGhlIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSB0YXJnZXRcbiAqIEBwYXJhbSAge29iamVjdH0gZnJhZ0Jsb2NrXG4gKiBAcGFyYW0gIHtvYmplY3R9IGNvbnRleHRcbiAqL1xuZnVuY3Rpb24gYmluZFNob3duICh2bSwgdGFyZ2V0LCBmcmFnQmxvY2ssIG1ldGEpIHtcbiAgY29uc3QgZGlzcGxheSA9IHdhdGNoQmxvY2sodm0sIGZyYWdCbG9jaywgdGFyZ2V0LnNob3duLCAnc2hvd24nLFxuICAgIChkaXNwbGF5KSA9PiB7XG4gICAgICBjb25zb2xlLmRlYnVnKCdbSlMgRnJhbWV3b3JrXSB0aGUgXCJpZlwiIGl0ZW0gd2FzIGNoYW5nZWQnLCBkaXNwbGF5KVxuXG4gICAgICBpZiAoIWZyYWdCbG9jayB8fCAhIWZyYWdCbG9jay5kaXNwbGF5ID09PSAhIWRpc3BsYXkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBmcmFnQmxvY2suZGlzcGxheSA9ICEhZGlzcGxheVxuICAgICAgaWYgKGRpc3BsYXkpIHtcbiAgICAgICAgY29tcGlsZSh2bSwgdGFyZ2V0LCBmcmFnQmxvY2ssIG1ldGEpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmVtb3ZlVGFyZ2V0KHZtLCBmcmFnQmxvY2ssIHRydWUpXG4gICAgICB9XG4gICAgfVxuICApXG5cbiAgZnJhZ0Jsb2NrLmRpc3BsYXkgPSAhIWRpc3BsYXlcbiAgaWYgKGRpc3BsYXkpIHtcbiAgICBjb21waWxlKHZtLCB0YXJnZXQsIGZyYWdCbG9jaywgbWV0YSlcbiAgfVxufVxuXG4vKipcbiAqIFdhdGNoIGNhbGMgdmFsdWUgY2hhbmdlcyBhbmQgYXBwZW5kIGNlcnRhaW4gdHlwZSBhY3Rpb24gdG8gZGlmZmVyLlxuICogSXQgaXMgdXNlZCBmb3IgaWYgb3IgcmVwZWF0IGRhdGEtYmluZGluZyBnZW5lcmF0b3IuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSAgIGZyYWdCbG9ja1xuICogQHBhcmFtICB7ZnVuY3Rpb259IGNhbGNcbiAqIEBwYXJhbSAge3N0cmluZ30gICB0eXBlXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gaGFuZGxlclxuICogQHJldHVybiB7YW55fSAgICAgIGluaXQgdmFsdWUgb2YgY2FsY1xuICovXG5mdW5jdGlvbiB3YXRjaEJsb2NrICh2bSwgZnJhZ0Jsb2NrLCBjYWxjLCB0eXBlLCBoYW5kbGVyKSB7XG4gIGNvbnN0IGRpZmZlciA9IHZtICYmIHZtLl9hcHAgJiYgdm0uX2FwcC5kaWZmZXJcbiAgY29uc3QgY29uZmlnID0ge31cbiAgY29uc3QgZGVwdGggPSAoZnJhZ0Jsb2NrLmVsZW1lbnQuZGVwdGggfHwgMCkgKyAxXG5cbiAgcmV0dXJuIHdhdGNoKHZtLCBjYWxjLCAodmFsdWUpID0+IHtcbiAgICBjb25maWcubGF0ZXN0VmFsdWUgPSB2YWx1ZVxuICAgIGlmIChkaWZmZXIgJiYgIWNvbmZpZy5yZWNvcmRlZCkge1xuICAgICAgZGlmZmVyLmFwcGVuZCh0eXBlLCBkZXB0aCwgZnJhZ0Jsb2NrLmJsb2NrSWQsICgpID0+IHtcbiAgICAgICAgY29uc3QgbGF0ZXN0VmFsdWUgPSBjb25maWcubGF0ZXN0VmFsdWVcbiAgICAgICAgaGFuZGxlcihsYXRlc3RWYWx1ZSlcbiAgICAgICAgY29uZmlnLnJlY29yZGVkID0gZmFsc2VcbiAgICAgICAgY29uZmlnLmxhdGVzdFZhbHVlID0gdW5kZWZpbmVkXG4gICAgICB9KVxuICAgIH1cbiAgICBjb25maWcucmVjb3JkZWQgPSB0cnVlXG4gIH0pXG59XG5cbi8qKlxuICogQ2xvbmUgYSBjb250ZXh0IGFuZCBtZXJnZSBjZXJ0YWluIGRhdGEuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBtZXJnZWREYXRhXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmZ1bmN0aW9uIG1lcmdlQ29udGV4dCAoY29udGV4dCwgbWVyZ2VkRGF0YSkge1xuICBjb25zdCBuZXdDb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShjb250ZXh0KVxuICBuZXdDb250ZXh0Ll9kYXRhID0gbWVyZ2VkRGF0YVxuICBpbml0RGF0YShuZXdDb250ZXh0KVxuICBpbml0Q29tcHV0ZWQobmV3Q29udGV4dClcbiAgbmV3Q29udGV4dC5fcmVhbFBhcmVudCA9IGNvbnRleHRcbiAgaWYgKGNvbnRleHQuX3N0YXRpYykge1xuICAgIG5ld0NvbnRleHQuX3N0YXRpYyA9IGNvbnRleHQuX3N0YXRpY1xuICB9XG4gIHJldHVybiBuZXdDb250ZXh0XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvdm0vY29tcGlsZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3ZtL2NvbXBpbGVyLmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBEaXJlY3RpdmUgUGFyc2VyXG4gKi9cblxuaW1wb3J0IHsgYmluZCwgdHlwb2YgfSBmcm9tICcuLi91dGlsJ1xuXG5pbXBvcnQgV2F0Y2hlciBmcm9tICcuLi9jb3JlL3dhdGNoZXInXG5pbXBvcnQgY29uZmlnIGZyb20gJy4uL2NvbmZpZydcbmltcG9ydCB7IHBhcnNlUGF0aCB9IGZyb20gJy4uL3V0aWwnXG5cbmNvbnN0IHsgbmF0aXZlQ29tcG9uZW50TWFwIH0gPSBjb25maWdcblxuY29uc3QgU0VUVEVSUyA9IHtcbiAgYXR0cjogJ3NldEF0dHInLFxuICBzdHlsZTogJ3NldFN0eWxlJyxcbiAgZXZlbnQ6ICdhZGRFdmVudCdcbn1cblxuLyoqXG4gKiBhcHBseSB0aGUgbmF0aXZlIGNvbXBvbmVudCdzIG9wdGlvbnMoc3BlY2lmaWVkIGJ5IHRlbXBsYXRlLnR5cGUpXG4gKiB0byB0aGUgdGVtcGxhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5TmFpdHZlQ29tcG9uZW50T3B0aW9ucyAodGVtcGxhdGUpIHtcbiAgY29uc3QgeyB0eXBlIH0gPSB0ZW1wbGF0ZVxuICBjb25zdCBvcHRpb25zID0gbmF0aXZlQ29tcG9uZW50TWFwW3R5cGVdXG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIG9wdGlvbnMpIHtcbiAgICAgIGlmICh0ZW1wbGF0ZVtrZXldID09IG51bGwpIHtcbiAgICAgICAgdGVtcGxhdGVba2V5XSA9IG9wdGlvbnNba2V5XVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwb2YodGVtcGxhdGVba2V5XSkgPT09ICdvYmplY3QnICYmXG4gICAgICAgIHR5cG9mKG9wdGlvbnNba2V5XSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAoY29uc3Qgc3Via2V5IGluIG9wdGlvbnNba2V5XSkge1xuICAgICAgICAgIGlmICh0ZW1wbGF0ZVtrZXldW3N1YmtleV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGVtcGxhdGVba2V5XVtzdWJrZXldID0gb3B0aW9uc1trZXldW3N1YmtleV1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBiaW5kIGFsbCBpZCwgYXR0ciwgY2xhc3NuYW1lcywgc3R5bGUsIGV2ZW50cyB0byBhbiBlbGVtZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kRWxlbWVudCAodm0sIGVsLCB0ZW1wbGF0ZSkge1xuICBzZXRJZCh2bSwgZWwsIHRlbXBsYXRlLmlkLCB2bSlcbiAgc2V0QXR0cih2bSwgZWwsIHRlbXBsYXRlLmF0dHIpXG4gIHNldENsYXNzKHZtLCBlbCwgdGVtcGxhdGUuY2xhc3NMaXN0KVxuICBzZXRTdHlsZSh2bSwgZWwsIHRlbXBsYXRlLnN0eWxlKVxuICBiaW5kRXZlbnRzKHZtLCBlbCwgdGVtcGxhdGUuZXZlbnRzKVxufVxuXG4vKipcbiAqIGJpbmQgYWxsIHByb3BzIHRvIHN1YiB2bSBhbmQgYmluZCBhbGwgc3R5bGUsIGV2ZW50cyB0byB0aGUgcm9vdCBlbGVtZW50XG4gKiBvZiB0aGUgc3ViIHZtIGlmIGl0IGRvZXNuJ3QgaGF2ZSBhIHJlcGxhY2VkIG11bHRpLW5vZGUgZnJhZ21lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmRTdWJWbSAodm0sIHN1YlZtLCB0ZW1wbGF0ZSwgcmVwZWF0SXRlbSkge1xuICBzdWJWbSA9IHN1YlZtIHx8IHt9XG4gIHRlbXBsYXRlID0gdGVtcGxhdGUgfHwge31cblxuICBjb25zdCBvcHRpb25zID0gc3ViVm0uX29wdGlvbnMgfHwge31cblxuICAvLyBiaW5kIHByb3BzXG4gIGxldCBwcm9wcyA9IG9wdGlvbnMucHJvcHNcblxuICBpZiAoQXJyYXkuaXNBcnJheShwcm9wcykpIHtcbiAgICBwcm9wcyA9IHByb3BzLnJlZHVjZSgocmVzdWx0LCB2YWx1ZSkgPT4ge1xuICAgICAgcmVzdWx0W3ZhbHVlXSA9IHRydWVcbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9LCB7fSlcbiAgfVxuXG4gIG1lcmdlUHJvcHMocmVwZWF0SXRlbSwgcHJvcHMsIHZtLCBzdWJWbSlcbiAgbWVyZ2VQcm9wcyh0ZW1wbGF0ZS5hdHRyLCBwcm9wcywgdm0sIHN1YlZtKVxufVxuXG4vKipcbiAqIG1lcmdlIGNsYXNzIGFuZCBzdHlsZXMgZnJvbSB2bSB0byBzdWIgdm0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kU3ViVm1BZnRlckluaXRpYWxpemVkICh2bSwgc3ViVm0sIHRlbXBsYXRlLCB0YXJnZXQgPSB7fSkge1xuICBtZXJnZUNsYXNzU3R5bGUodGVtcGxhdGUuY2xhc3NMaXN0LCB2bSwgc3ViVm0pXG4gIG1lcmdlU3R5bGUodGVtcGxhdGUuc3R5bGUsIHZtLCBzdWJWbSlcblxuICAvLyBiaW5kIHN1YlZtIHRvIHRoZSB0YXJnZXQgZWxlbWVudFxuICBpZiAodGFyZ2V0LmNoaWxkcmVuKSB7XG4gICAgdGFyZ2V0LmNoaWxkcmVuW3RhcmdldC5jaGlsZHJlbi5sZW5ndGggLSAxXS5fdm0gPSBzdWJWbVxuICB9XG4gIGVsc2Uge1xuICAgIHRhcmdldC5fdm0gPSBzdWJWbVxuICB9XG59XG5cbi8qKlxuICogQmluZCBwcm9wcyBmcm9tIHZtIHRvIHN1YiB2bSBhbmQgd2F0Y2ggdGhlaXIgdXBkYXRlcy5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VQcm9wcyAodGFyZ2V0LCBwcm9wcywgdm0sIHN1YlZtKSB7XG4gIGlmICghdGFyZ2V0KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZm9yIChjb25zdCBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgaWYgKCFwcm9wcyB8fCBwcm9wc1trZXldKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldFtrZXldXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNvbnN0IHJldHVyblZhbHVlID0gd2F0Y2godm0sIHZhbHVlLCBmdW5jdGlvbiAodikge1xuICAgICAgICAgIHN1YlZtW2tleV0gPSB2XG4gICAgICAgIH0pXG4gICAgICAgIHN1YlZtW2tleV0gPSByZXR1cm5WYWx1ZVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHN1YlZtW2tleV0gPSB2YWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEJpbmQgc3R5bGUgZnJvbSB2bSB0byBzdWIgdm0gYW5kIHdhdGNoIHRoZWlyIHVwZGF0ZXMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlU3R5bGUgKHRhcmdldCwgdm0sIHN1YlZtKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIHRhcmdldCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0W2tleV1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb25zdCByZXR1cm5WYWx1ZSA9IHdhdGNoKHZtLCB2YWx1ZSwgZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgaWYgKHN1YlZtLl9yb290RWwpIHtcbiAgICAgICAgICBzdWJWbS5fcm9vdEVsLnNldFN0eWxlKGtleSwgdilcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHN1YlZtLl9yb290RWwuc2V0U3R5bGUoa2V5LCByZXR1cm5WYWx1ZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoc3ViVm0uX3Jvb3RFbCkge1xuICAgICAgICBzdWJWbS5fcm9vdEVsLnNldFN0eWxlKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQmluZCBjbGFzcyAmIHN0eWxlIGZyb20gdm0gdG8gc3ViIHZtIGFuZCB3YXRjaCB0aGVpciB1cGRhdGVzLlxuICovXG5mdW5jdGlvbiBtZXJnZUNsYXNzU3R5bGUgKHRhcmdldCwgdm0sIHN1YlZtKSB7XG4gIGNvbnN0IGNzcyA9IHZtLl9vcHRpb25zICYmIHZtLl9vcHRpb25zLnN0eWxlIHx8IHt9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghc3ViVm0uX3Jvb3RFbCkge1xuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3QgY2xhc3NOYW1lID0gJ0BvcmlnaW5hbFJvb3RFbCdcbiAgY3NzW2NsYXNzTmFtZV0gPSBzdWJWbS5fcm9vdEVsLmNsYXNzU3R5bGVcblxuICBmdW5jdGlvbiBhZGRDbGFzc05hbWUgKGxpc3QsIG5hbWUpIHtcbiAgICBpZiAodHlwb2YobGlzdCkgPT09ICdhcnJheScpIHtcbiAgICAgIGxpc3QudW5zaGlmdChuYW1lKVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgdmFsdWUgPSB3YXRjaCh2bSwgdGFyZ2V0LCB2ID0+IHtcbiAgICAgIGFkZENsYXNzTmFtZSh2LCBjbGFzc05hbWUpXG4gICAgICBzZXRDbGFzc1N0eWxlKHN1YlZtLl9yb290RWwsIGNzcywgdilcbiAgICB9KVxuICAgIGFkZENsYXNzTmFtZSh2YWx1ZSwgY2xhc3NOYW1lKVxuICAgIHNldENsYXNzU3R5bGUoc3ViVm0uX3Jvb3RFbCwgY3NzLCB2YWx1ZSlcbiAgfVxuICBlbHNlIGlmICh0YXJnZXQgIT0gbnVsbCkge1xuICAgIGFkZENsYXNzTmFtZSh0YXJnZXQsIGNsYXNzTmFtZSlcbiAgICBzZXRDbGFzc1N0eWxlKHN1YlZtLl9yb290RWwsIGNzcywgdGFyZ2V0KVxuICB9XG59XG5cbi8qKlxuICogYmluZCBpZCB0byBhbiBlbGVtZW50XG4gKiBlYWNoIGlkIGlzIHVuaXF1ZSBpbiBhIHdob2xlIHZtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRJZCAodm0sIGVsLCBpZCwgdGFyZ2V0KSB7XG4gIGNvbnN0IG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhtYXAsIHtcbiAgICB2bToge1xuICAgICAgdmFsdWU6IHRhcmdldCxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICB9LFxuICAgIGVsOiB7XG4gICAgICBnZXQ6ICgpID0+IGVsIHx8IHRhcmdldC5fcm9vdEVsLFxuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgIH1cbiAgfSlcblxuICBpZiAodHlwZW9mIGlkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc3QgaGFuZGxlciA9IGlkXG4gICAgaWQgPSBoYW5kbGVyLmNhbGwodm0pXG4gICAgaWYgKGlkKSB7XG4gICAgICB2bS5faWRzW2lkXSA9IG1hcFxuICAgIH1cbiAgICB3YXRjaCh2bSwgaGFuZGxlciwgKG5ld0lkKSA9PiB7XG4gICAgICBpZiAobmV3SWQpIHtcbiAgICAgICAgdm0uX2lkc1tuZXdJZF0gPSBtYXBcbiAgICAgIH1cbiAgICB9KVxuICB9XG4gIGVsc2UgaWYgKGlkICYmIHR5cGVvZiBpZCA9PT0gJ3N0cmluZycpIHtcbiAgICB2bS5faWRzW2lkXSA9IG1hcFxuICB9XG59XG5cbi8qKlxuICogYmluZCBhdHRyIHRvIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gc2V0QXR0ciAodm0sIGVsLCBhdHRyKSB7XG4gIGJpbmREaXIodm0sIGVsLCAnYXR0cicsIGF0dHIpXG59XG5cbmZ1bmN0aW9uIHNldENsYXNzU3R5bGUgKGVsLCBjc3MsIGNsYXNzTGlzdCkge1xuICBjb25zdCBjbGFzc1N0eWxlID0ge31cbiAgY29uc3QgbGVuZ3RoID0gY2xhc3NMaXN0Lmxlbmd0aFxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdHlsZSA9IGNzc1tjbGFzc0xpc3RbaV1dXG4gICAgaWYgKHN0eWxlKSB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZSkge1xuICAgICAgICBjbGFzc1N0eWxlW2tleV0gPSBzdHlsZVtrZXldXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsLnNldENsYXNzU3R5bGUoY2xhc3NTdHlsZSlcbn1cblxuLyoqXG4gKiBiaW5kIGNsYXNzbmFtZXMgdG8gYW4gZWxlbWVudFxuICovXG5mdW5jdGlvbiBzZXRDbGFzcyAodm0sIGVsLCBjbGFzc0xpc3QpIHtcbiAgaWYgKHR5cGVvZiBjbGFzc0xpc3QgIT09ICdmdW5jdGlvbicgJiYgIUFycmF5LmlzQXJyYXkoY2xhc3NMaXN0KSkge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGNsYXNzTGlzdCkgJiYgIWNsYXNzTGlzdC5sZW5ndGgpIHtcbiAgICBlbC5zZXRDbGFzc1N0eWxlKHt9KVxuICAgIHJldHVyblxuICB9XG5cbiAgY29uc3Qgc3R5bGUgPSB2bS5fb3B0aW9ucyAmJiB2bS5fb3B0aW9ucy5zdHlsZSB8fCB7fVxuICBpZiAodHlwZW9mIGNsYXNzTGlzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnN0IHZhbHVlID0gd2F0Y2godm0sIGNsYXNzTGlzdCwgdiA9PiB7XG4gICAgICBzZXRDbGFzc1N0eWxlKGVsLCBzdHlsZSwgdilcbiAgICB9KVxuICAgIHNldENsYXNzU3R5bGUoZWwsIHN0eWxlLCB2YWx1ZSlcbiAgfVxuICBlbHNlIHtcbiAgICBzZXRDbGFzc1N0eWxlKGVsLCBzdHlsZSwgY2xhc3NMaXN0KVxuICB9XG59XG5cbi8qKlxuICogYmluZCBzdHlsZSB0byBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIHNldFN0eWxlICh2bSwgZWwsIHN0eWxlKSB7XG4gIGJpbmREaXIodm0sIGVsLCAnc3R5bGUnLCBzdHlsZSlcbn1cblxuLyoqXG4gKiBhZGQgYW4gZXZlbnQgdHlwZSBhbmQgaGFuZGxlciB0byBhbiBlbGVtZW50IGFuZCBnZW5lcmF0ZSBhIGRvbSB1cGRhdGVcbiAqL1xuZnVuY3Rpb24gc2V0RXZlbnQgKHZtLCBlbCwgdHlwZSwgaGFuZGxlcikge1xuICBlbC5hZGRFdmVudCh0eXBlLCBiaW5kKGhhbmRsZXIsIHZtKSlcbn1cblxuLyoqXG4gKiBhZGQgYWxsIGV2ZW50cyBvZiBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGJpbmRFdmVudHMgKHZtLCBlbCwgZXZlbnRzKSB7XG4gIGlmICghZXZlbnRzKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cylcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXVxuICAgIGxldCBoYW5kbGVyID0gZXZlbnRzW2tleV1cbiAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBoYW5kbGVyID0gdm1baGFuZGxlcl1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFoYW5kbGVyKSB7XG4gICAgICAgIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIFRoZSBtZXRob2QgXCIke2hhbmRsZXJ9XCIgaXMgbm90IGRlZmluZWQuYClcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVhbFZtID0gdm0uX3JlYWxQYXJlbnQgPyB2bS5fcmVhbFBhcmVudCA6IHZtXG4gICAgc2V0RXZlbnQocmVhbFZtLCBlbCwga2V5LCBoYW5kbGVyKVxuICB9XG59XG5cbi8qKlxuICogc2V0IGEgc2VyaWVzIG9mIG1lbWJlcnMgYXMgYSBraW5kIG9mIGFuIGVsZW1lbnRcbiAqIGZvciBleGFtcGxlOiBzdHlsZSwgYXR0ciwgLi4uXG4gKiBpZiB0aGUgdmFsdWUgaXMgYSBmdW5jdGlvbiB0aGVuIGJpbmQgdGhlIGRhdGEgY2hhbmdlc1xuICovXG5mdW5jdGlvbiBiaW5kRGlyICh2bSwgZWwsIG5hbWUsIGRhdGEpIHtcbiAgaWYgKCFkYXRhKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpXG4gIGxldCBpID0ga2V5cy5sZW5ndGhcbiAgd2hpbGUgKGktLSkge1xuICAgIGNvbnN0IGtleSA9IGtleXNbaV1cbiAgICBjb25zdCB2YWx1ZSA9IGRhdGFba2V5XVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJpbmRLZXkodm0sIGVsLCBuYW1lLCBrZXksIHZhbHVlKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVsW1NFVFRFUlNbbmFtZV1dKGtleSwgdmFsdWUpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogYmluZCBkYXRhIGNoYW5nZXMgdG8gYSBjZXJ0YWluIGtleSB0byBhIG5hbWUgc2VyaWVzIGluIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gYmluZEtleSAodm0sIGVsLCBuYW1lLCBrZXksIGNhbGMpIHtcbiAgY29uc3QgbWV0aG9kTmFtZSA9IFNFVFRFUlNbbmFtZV1cbiAgLy8gd2F0Y2ggdGhlIGNhbGMsIGFuZCByZXR1cm5zIGEgdmFsdWUgYnkgY2FsYy5jYWxsKClcbiAgY29uc3QgdmFsdWUgPSB3YXRjaCh2bSwgY2FsYywgKHZhbHVlKSA9PiB7XG4gICAgZnVuY3Rpb24gaGFuZGxlciAoKSB7XG4gICAgICBlbFttZXRob2ROYW1lXShrZXksIHZhbHVlKVxuICAgIH1cbiAgICBjb25zdCBkaWZmZXIgPSB2bSAmJiB2bS5fYXBwICYmIHZtLl9hcHAuZGlmZmVyXG4gICAgaWYgKGRpZmZlcikge1xuICAgICAgZGlmZmVyLmFwcGVuZCgnZWxlbWVudCcsIGVsLmRlcHRoLCBlbC5yZWYsIGhhbmRsZXIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaGFuZGxlcigpXG4gICAgfVxuICB9KVxuXG4gIGVsW21ldGhvZE5hbWVdKGtleSwgdmFsdWUpXG59XG5cbi8qKlxuICogd2F0Y2ggYSBjYWxjIGZ1bmN0aW9uIGFuZCBjYWxsYmFjayBpZiB0aGUgY2FsYyB2YWx1ZSBjaGFuZ2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXRjaCAodm0sIGNhbGMsIGNhbGxiYWNrKSB7XG4gIGlmICh2bS5fc3RhdGljKSB7XG4gICAgcmV0dXJuICgodHlwZW9mIGNhbGMgPT09ICdmdW5jdGlvbicpID8gY2FsYyA6IHBhcnNlUGF0aChjYWxjKSkuY2FsbCh2bSwgdm0pXG4gIH1cbiAgY29uc3Qgd2F0Y2hlciA9IG5ldyBXYXRjaGVyKHZtLCBjYWxjLCBmdW5jdGlvbiAodmFsdWUsIG9sZFZhbHVlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgJiYgdmFsdWUgPT09IG9sZFZhbHVlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY2FsbGJhY2sodmFsdWUpXG4gIH0pXG5cbiAgcmV0dXJuIHdhdGNoZXIudmFsdWVcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC92bS9kaXJlY3RpdmUuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3ZtL2RpcmVjdGl2ZS5qcyIsIi8vIEB0b2RvOiBJdCBzaG91bGQgYmUgcmVnaXN0ZXJlZCBieSBuYXRpdmUgZnJvbSBgcmVnaXN0ZXJDb21wb25lbnRzKClgLlxuZXhwb3J0IGRlZmF1bHQge1xuICBuYXRpdmVDb21wb25lbnRNYXA6IHtcbiAgICB0ZXh0OiB0cnVlLFxuICAgIGltYWdlOiB0cnVlLFxuICAgIGNvbnRhaW5lcjogdHJ1ZSxcbiAgICBzbGlkZXI6IHtcbiAgICAgIHR5cGU6ICdzbGlkZXInLFxuICAgICAgYXBwZW5kOiAndHJlZSdcbiAgICB9LFxuICAgIGNlbGw6IHtcbiAgICAgIHR5cGU6ICdjZWxsJyxcbiAgICAgIGFwcGVuZDogJ3RyZWUnXG4gICAgfVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvY29uZmlnLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9jb25maWcuanMiLCIvKipcbiAqIEBmaWxlT3ZlcnZpZXcgRG9jdW1lbnQgJiBFbGVtZW50IEhlbHBlcnMuXG4gKlxuICogcmVxdWlyZWQ6XG4gKiBEb2N1bWVudCM6IGNyZWF0ZUVsZW1lbnQsIGNyZWF0ZUNvbW1lbnQsIGdldFJlZlxuICogRWxlbWVudCM6IGFwcGVuZENoaWxkLCBpbnNlcnRCZWZvcmUsIHJlbW92ZUNoaWxkLCBuZXh0U2libGluZ1xuICovXG5cbi8qKlxuICogQ3JlYXRlIGEgYm9keSBieSB0eXBlXG4gKiBVc2luZyB0aGlzLl9hcHAuZG9jXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCb2R5ICh2bSwgdHlwZSkge1xuICBjb25zdCBkb2MgPSB2bS5fYXBwLmRvY1xuICByZXR1cm4gZG9jLmNyZWF0ZUJvZHkodHlwZSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gZWxlbWVudCBieSB0eXBlXG4gKiBVc2luZyB0aGlzLl9hcHAuZG9jXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFbGVtZW50ICh2bSwgdHlwZSkge1xuICBjb25zdCBkb2MgPSB2bS5fYXBwLmRvY1xuICByZXR1cm4gZG9jLmNyZWF0ZUVsZW1lbnQodHlwZSlcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIGZyYWcgYmxvY2sgZm9yIGFuIGVsZW1lbnQuXG4gKiBUaGUgZnJhZyBibG9jayBoYXMgYSBzdGFydGVyLCBlbmRlciBhbmQgdGhlIGVsZW1lbnQgaXRzZWxmLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQmxvY2sgKHZtLCBlbGVtZW50KSB7XG4gIGNvbnN0IHN0YXJ0ID0gY3JlYXRlQmxvY2tTdGFydCh2bSlcbiAgY29uc3QgZW5kID0gY3JlYXRlQmxvY2tFbmQodm0pXG4gIGNvbnN0IGJsb2NrSWQgPSBsYXN0ZXN0QmxvY2tJZCsrXG4gIGlmIChlbGVtZW50LmVsZW1lbnQpIHtcbiAgICBsZXQgdXBkYXRlTWFyayA9IGVsZW1lbnQudXBkYXRlTWFya1xuICAgIGlmICh1cGRhdGVNYXJrKSB7XG4gICAgICBpZiAodXBkYXRlTWFyay5lbGVtZW50KSB7XG4gICAgICAgIHVwZGF0ZU1hcmsgPSB1cGRhdGVNYXJrLmVuZFxuICAgICAgfVxuICAgICAgZWxlbWVudC5lbGVtZW50Lmluc2VydEFmdGVyKGVuZCwgdXBkYXRlTWFyaylcbiAgICAgIGVsZW1lbnQuZWxlbWVudC5pbnNlcnRBZnRlcihzdGFydCwgdXBkYXRlTWFyaylcbiAgICAgIGVsZW1lbnQudXBkYXRlTWFyayA9IGVuZFxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVsZW1lbnQuZWxlbWVudC5pbnNlcnRCZWZvcmUoc3RhcnQsIGVsZW1lbnQuZW5kKVxuICAgICAgZWxlbWVudC5lbGVtZW50Lmluc2VydEJlZm9yZShlbmQsIGVsZW1lbnQuZW5kKVxuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC5lbGVtZW50XG4gIH1cbiAgZWxzZSB7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChzdGFydClcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGVuZClcbiAgfVxuICByZXR1cm4geyBzdGFydCwgZW5kLCBlbGVtZW50LCBibG9ja0lkIH1cbn1cblxubGV0IGxhc3Rlc3RCbG9ja0lkID0gMVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgYmxvY2sgc3RhcnRlci5cbiAqIFVzaW5nIHRoaXMuX2FwcC5kb2NcbiAqL1xuZnVuY3Rpb24gY3JlYXRlQmxvY2tTdGFydCAodm0pIHtcbiAgY29uc3QgZG9jID0gdm0uX2FwcC5kb2NcbiAgY29uc3QgYW5jaG9yID0gZG9jLmNyZWF0ZUNvbW1lbnQoJ3N0YXJ0JylcbiAgcmV0dXJuIGFuY2hvclxufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgYmxvY2sgZW5kZXIuXG4gKiBVc2luZyB0aGlzLl9hcHAuZG9jXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJsb2NrRW5kICh2bSkge1xuICBjb25zdCBkb2MgPSB2bS5fYXBwLmRvY1xuICBjb25zdCBhbmNob3IgPSBkb2MuY3JlYXRlQ29tbWVudCgnZW5kJylcbiAgcmV0dXJuIGFuY2hvclxufVxuXG4vKipcbiAqIEF0dGFjaCB0YXJnZXQgdG8gYSBjZXJ0YWluIGRlc3QgdXNpbmcgYXBwZW5kQ2hpbGQgYnkgZGVmYXVsdC5cbiAqIElmIHRoZSBkZXN0IGlzIGEgZnJhZyBibG9jayB0aGVuIGluc2VydCBiZWZvcmUgdGhlIGVuZGVyLlxuICogSWYgdGhlIHRhcmdldCBpcyBhIGZyYWcgYmxvY2sgdGhlbiBhdHRhY2ggdGhlIHN0YXJ0ZXIgYW5kIGVuZGVyIGluIG9yZGVyLlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtvYmplY3R9IGRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFRhcmdldCAodm0sIHRhcmdldCwgZGVzdCkge1xuICBpZiAoZGVzdC5lbGVtZW50KSB7XG4gICAgY29uc3QgYmVmb3JlID0gZGVzdC5lbmRcbiAgICBjb25zdCBhZnRlciA9IGRlc3QudXBkYXRlTWFya1xuICAgIC8vIHB1c2ggbmV3IHRhcmdldCBmb3Igd2F0Y2ggbGlzdCB1cGRhdGUgbGF0ZXJcbiAgICBpZiAoZGVzdC5jaGlsZHJlbikge1xuICAgICAgZGVzdC5jaGlsZHJlbi5wdXNoKHRhcmdldClcbiAgICB9XG4gICAgLy8gZm9yIGNoZWNrIHJlcGVhdCBjYXNlXG4gICAgaWYgKGFmdGVyKSB7XG4gICAgICBjb25zdCBzaWduYWwgPSBtb3ZlVGFyZ2V0KHZtLCB0YXJnZXQsIGFmdGVyKVxuICAgICAgZGVzdC51cGRhdGVNYXJrID0gdGFyZ2V0LmVsZW1lbnQgPyB0YXJnZXQuZW5kIDogdGFyZ2V0XG4gICAgICByZXR1cm4gc2lnbmFsXG4gICAgfVxuICAgIGVsc2UgaWYgKHRhcmdldC5lbGVtZW50KSB7XG4gICAgICBkZXN0LmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhcmdldC5zdGFydCwgYmVmb3JlKVxuICAgICAgZGVzdC5lbGVtZW50Lmluc2VydEJlZm9yZSh0YXJnZXQuZW5kLCBiZWZvcmUpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGRlc3QuZWxlbWVudC5pbnNlcnRCZWZvcmUodGFyZ2V0LCBiZWZvcmUpXG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGlmICh0YXJnZXQuZWxlbWVudCkge1xuICAgICAgZGVzdC5hcHBlbmRDaGlsZCh0YXJnZXQuc3RhcnQpXG4gICAgICBkZXN0LmFwcGVuZENoaWxkKHRhcmdldC5lbmQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmV0dXJuIGRlc3QuYXBwZW5kQ2hpbGQodGFyZ2V0KVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIE1vdmUgdGFyZ2V0IGJlZm9yZSBhIGNlcnRhaW4gZWxlbWVudC4gVGhlIHRhcmdldCBtYXliZSBibG9jayBvciBlbGVtZW50LlxuICpcbiAqIEBwYXJhbSAge29iamVjdH0gdGFyZ2V0XG4gKiBAcGFyYW0gIHtvYmplY3R9IGJlZm9yZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZVRhcmdldCAodm0sIHRhcmdldCwgYWZ0ZXIpIHtcbiAgaWYgKHRhcmdldC5lbGVtZW50KSB7XG4gICAgcmV0dXJuIG1vdmVCbG9jayh0YXJnZXQsIGFmdGVyKVxuICB9XG4gIHJldHVybiBtb3ZlRWxlbWVudCh0YXJnZXQsIGFmdGVyKVxufVxuXG4vKipcbiAqIE1vdmUgZWxlbWVudCBiZWZvcmUgYSBjZXJ0YWluIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBlbGVtZW50XG4gKiBAcGFyYW0gIHtvYmplY3R9IGJlZm9yZVxuICovXG5mdW5jdGlvbiBtb3ZlRWxlbWVudCAoZWxlbWVudCwgYWZ0ZXIpIHtcbiAgY29uc3QgcGFyZW50ID0gYWZ0ZXIucGFyZW50Tm9kZVxuICBpZiAocGFyZW50KSB7XG4gICAgcmV0dXJuIHBhcmVudC5pbnNlcnRBZnRlcihlbGVtZW50LCBhZnRlcilcbiAgfVxufVxuXG4vKipcbiAqIE1vdmUgYWxsIGVsZW1lbnRzIG9mIHRoZSBibG9jayBiZWZvcmUgYSBjZXJ0YWluIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtICB7b2JqZWN0fSBmcmFnQmxvY2tcbiAqIEBwYXJhbSAge29iamVjdH0gYmVmb3JlXG4gKi9cbmZ1bmN0aW9uIG1vdmVCbG9jayAoZnJhZ0Jsb2NrLCBhZnRlcikge1xuICBjb25zdCBwYXJlbnQgPSBhZnRlci5wYXJlbnROb2RlXG5cbiAgaWYgKHBhcmVudCkge1xuICAgIGxldCBlbCA9IGZyYWdCbG9jay5zdGFydFxuICAgIGxldCBzaWduYWxcbiAgICBjb25zdCBncm91cCA9IFtlbF1cblxuICAgIHdoaWxlIChlbCAmJiBlbCAhPT0gZnJhZ0Jsb2NrLmVuZCkge1xuICAgICAgZWwgPSBlbC5uZXh0U2libGluZ1xuICAgICAgZ3JvdXAucHVzaChlbClcbiAgICB9XG5cbiAgICBsZXQgdGVtcCA9IGFmdGVyXG4gICAgZ3JvdXAuZXZlcnkoKGVsKSA9PiB7XG4gICAgICBzaWduYWwgPSBwYXJlbnQuaW5zZXJ0QWZ0ZXIoZWwsIHRlbXApXG4gICAgICB0ZW1wID0gZWxcbiAgICAgIHJldHVybiBzaWduYWwgIT09IC0xXG4gICAgfSlcblxuICAgIHJldHVybiBzaWduYWxcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSB0YXJnZXQgZnJvbSBET00gdHJlZS5cbiAqIElmIHRoZSB0YXJnZXQgaXMgYSBmcmFnIGJsb2NrIHRoZW4gY2FsbCBfcmVtb3ZlQmxvY2tcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IHRhcmdldFxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVGFyZ2V0ICh2bSwgdGFyZ2V0LCBwcmVzZXJ2ZUJsb2NrID0gZmFsc2UpIHtcbiAgaWYgKHRhcmdldC5lbGVtZW50KSB7XG4gICAgcmVtb3ZlQmxvY2sodGFyZ2V0LCBwcmVzZXJ2ZUJsb2NrKVxuICB9XG4gIGVsc2Uge1xuICAgIHJlbW92ZUVsZW1lbnQodGFyZ2V0KVxuICB9XG4gIGlmICh0YXJnZXQuX3ZtKSB7XG4gICAgdGFyZ2V0Ll92bS4kZW1pdCgnaG9vazpkZXN0cm95ZWQnKVxuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY2VydGFpbiBlbGVtZW50LlxuICogVXNpbmcgdGhpcy5fYXBwLmRvY1xuICpcbiAqIEBwYXJhbSAge29iamVjdH0gdGFyZ2V0XG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQgKHRhcmdldCkge1xuICBjb25zdCBwYXJlbnQgPSB0YXJnZXQucGFyZW50Tm9kZVxuXG4gIGlmIChwYXJlbnQpIHtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGFyZ2V0KVxuICB9XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgZnJhZyBibG9jay5cbiAqIFRoZSBzZWNvbmQgcGFyYW0gZGVjaWRlcyB3aGV0aGVyIHRoZSBibG9jayBzZWxmIHNob3VsZCBiZSByZW1vdmVkIHRvby5cbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9ICBmcmFnQmxvY2tcbiAqIEBwYXJhbSAge0Jvb2xlYW59IHByZXNlcnZlQmxvY2s9ZmFsc2VcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlQmxvY2sgKGZyYWdCbG9jaywgcHJlc2VydmVCbG9jayA9IGZhbHNlKSB7XG4gIGNvbnN0IHJlc3VsdCA9IFtdXG4gIGxldCBlbCA9IGZyYWdCbG9jay5zdGFydC5uZXh0U2libGluZ1xuXG4gIHdoaWxlIChlbCAmJiBlbCAhPT0gZnJhZ0Jsb2NrLmVuZCkge1xuICAgIHJlc3VsdC5wdXNoKGVsKVxuICAgIGVsID0gZWwubmV4dFNpYmxpbmdcbiAgfVxuXG4gIGlmICghcHJlc2VydmVCbG9jaykge1xuICAgIHJlbW92ZUVsZW1lbnQoZnJhZ0Jsb2NrLnN0YXJ0KVxuICB9XG4gIHJlc3VsdC5mb3JFYWNoKChlbCkgPT4ge1xuICAgIHJlbW92ZUVsZW1lbnQoZWwpXG4gIH0pXG4gIGlmICghcHJlc2VydmVCbG9jaykge1xuICAgIHJlbW92ZUVsZW1lbnQoZnJhZ0Jsb2NrLmVuZClcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L3ZtL2RvbS1oZWxwZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3ZtL2RvbS1oZWxwZXIuanMiLCIvKipcbiAqIEBmaWxlT3ZlcnZpZXdcbiAqIEV2ZXJ5dGhpbmcgYWJvdXQgY29tcG9uZW50IGV2ZW50IHdoaWNoIGluY2x1ZGVzIGV2ZW50IG9iamVjdCwgZXZlbnQgbGlzdGVuZXIsXG4gKiBldmVudCBlbWl0dGVyIGFuZCBsaWZlY3ljbGUgaG9va3MuXG4gKi9cblxuLyoqXG4gKiBFdmVudCBvYmplY3QgZGVmaW5pdGlvbi4gQW4gZXZlbnQgb2JqZWN0IGhhcyBgdHlwZWAsIGB0aW1lc3RhbXBgIGFuZFxuICogYGRldGFpbGAgZnJvbSB3aGljaCBhIGNvbXBvbmVudCBlbWl0LiBUaGUgZXZlbnQgb2JqZWN0IGNvdWxkIGJlIGRpc3BhdGNoZWQgdG9cbiAqIHBhcmVudHMgb3IgYnJvYWRjYXN0ZWQgdG8gY2hpbGRyZW4gZXhjZXB0IGB0aGlzLnN0b3AoKWAgaXMgY2FsbGVkLlxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7YW55fSAgICBkZXRhaWxcbiAqL1xuZnVuY3Rpb24gRXZ0ICh0eXBlLCBkZXRhaWwpIHtcbiAgaWYgKGRldGFpbCBpbnN0YW5jZW9mIEV2dCkge1xuICAgIHJldHVybiBkZXRhaWxcbiAgfVxuXG4gIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICB0aGlzLmRldGFpbCA9IGRldGFpbFxuICB0aGlzLnR5cGUgPSB0eXBlXG5cbiAgbGV0IHNob3VsZFN0b3AgPSBmYWxzZVxuXG4gIC8qKlxuICAgKiBzdG9wIGRpc3BhdGNoIGFuZCBicm9hZGNhc3RcbiAgICovXG4gIHRoaXMuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzaG91bGRTdG9wID0gdHJ1ZVxuICB9XG5cbiAgLyoqXG4gICAqIGNoZWNrIGlmIGl0IGNhbid0IGJlIGRpc3BhdGNoZWQgb3IgYnJvYWRjYXN0ZWRcbiAgICovXG4gIHRoaXMuaGFzU3RvcHBlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2hvdWxkU3RvcFxuICB9XG59XG5cbi8qKlxuICogRW1pdCBhbiBldmVudCBidXQgbm90IGJyb2FkY2FzdCBkb3duIG9yIGRpc3BhdGNoIHVwLlxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0gIHthbnl9ICAgIGRldGFpbFxuICovXG5leHBvcnQgZnVuY3Rpb24gJGVtaXQgKHR5cGUsIGRldGFpbCkge1xuICBjb25zdCBldmVudHMgPSB0aGlzLl92bUV2ZW50c1xuICBjb25zdCBoYW5kbGVyTGlzdCA9IGV2ZW50c1t0eXBlXVxuICBpZiAoaGFuZGxlckxpc3QpIHtcbiAgICBjb25zdCBldnQgPSBuZXcgRXZ0KHR5cGUsIGRldGFpbClcbiAgICBoYW5kbGVyTGlzdC5mb3JFYWNoKChoYW5kbGVyKSA9PiB7XG4gICAgICBoYW5kbGVyLmNhbGwodGhpcywgZXZ0KVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBFbWl0IGFuIGV2ZW50IGFuZCBkaXNwYXRjaCBpdCB1cC5cbiAqIEBwYXJhbSAge3N0cmluZ30gdHlwZVxuICogQHBhcmFtICB7YW55fSAgICBkZXRhaWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uICRkaXNwYXRjaCAodHlwZSwgZGV0YWlsKSB7XG4gIGNvbnN0IGV2dCA9IG5ldyBFdnQodHlwZSwgZGV0YWlsKVxuICB0aGlzLiRlbWl0KHR5cGUsIGV2dClcblxuICBpZiAoIWV2dC5oYXNTdG9wcGVkKCkgJiYgdGhpcy5fcGFyZW50ICYmIHRoaXMuX3BhcmVudC4kZGlzcGF0Y2gpIHtcbiAgICB0aGlzLl9wYXJlbnQuJGRpc3BhdGNoKHR5cGUsIGV2dClcbiAgfVxufVxuXG4vKipcbiAqIEVtaXQgYW4gZXZlbnQgYW5kIGJyb2FkY2FzdCBpdCBkb3duLlxuICogQHBhcmFtICB7c3RyaW5nfSB0eXBlXG4gKiBAcGFyYW0gIHthbnl9ICAgIGRldGFpbFxuICovXG5leHBvcnQgZnVuY3Rpb24gJGJyb2FkY2FzdCAodHlwZSwgZGV0YWlsKSB7XG4gIGNvbnN0IGV2dCA9IG5ldyBFdnQodHlwZSwgZGV0YWlsKVxuICB0aGlzLiRlbWl0KHR5cGUsIGV2dClcblxuICBpZiAoIWV2dC5oYXNTdG9wcGVkKCkgJiYgdGhpcy5fY2hpbGRyZW5WbXMpIHtcbiAgICB0aGlzLl9jaGlsZHJlblZtcy5mb3JFYWNoKChzdWJWbSkgPT4ge1xuICAgICAgc3ViVm0uJGJyb2FkY2FzdCh0eXBlLCBldnQpXG4gICAgfSlcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBldmVudCBsaXN0ZW5lci5cbiAqIEBwYXJhbSAge3N0cmluZ30gICB0eXBlXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gaGFuZGxlclxuICovXG5leHBvcnQgZnVuY3Rpb24gJG9uICh0eXBlLCBoYW5kbGVyKSB7XG4gIGlmICghdHlwZSB8fCB0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IGV2ZW50cyA9IHRoaXMuX3ZtRXZlbnRzXG4gIGNvbnN0IGhhbmRsZXJMaXN0ID0gZXZlbnRzW3R5cGVdIHx8IFtdXG4gIGhhbmRsZXJMaXN0LnB1c2goaGFuZGxlcilcbiAgZXZlbnRzW3R5cGVdID0gaGFuZGxlckxpc3RcblxuICAvLyBmaXhlZCBvbGQgdmVyc2lvbiBsaWZlY3ljbGUgZGVzaWduXG4gIGlmICh0eXBlID09PSAnaG9vazpyZWFkeScgJiYgdGhpcy5fcmVhZHkpIHtcbiAgICB0aGlzLiRlbWl0KCdob29rOnJlYWR5JylcbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBldmVudCBsaXN0ZW5lci5cbiAqIEBwYXJhbSAge3N0cmluZ30gICB0eXBlXG4gKiBAcGFyYW0gIHtmdW5jdGlvbn0gaGFuZGxlclxuICovXG5leHBvcnQgZnVuY3Rpb24gJG9mZiAodHlwZSwgaGFuZGxlcikge1xuICBpZiAoIXR5cGUpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBldmVudHMgPSB0aGlzLl92bUV2ZW50c1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICBkZWxldGUgZXZlbnRzW3R5cGVdXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgaGFuZGxlckxpc3QgPSBldmVudHNbdHlwZV1cbiAgaWYgKCFoYW5kbGVyTGlzdCkge1xuICAgIHJldHVyblxuICB9XG4gIGhhbmRsZXJMaXN0LiRyZW1vdmUoaGFuZGxlcilcbn1cblxuY29uc3QgTElGRV9DWUNMRV9UWVBFUyA9IFsnaW5pdCcsICdjcmVhdGVkJywgJ3JlYWR5JywgJ2Rlc3Ryb3llZCddXG5cbi8qKlxuICogSW5pdCBldmVudHM6XG4gKiAxLiBsaXN0ZW4gYGV2ZW50c2AgaW4gY29tcG9uZW50IG9wdGlvbnMgJiBgZXh0ZXJuYWxFdmVudHNgLlxuICogMi4gYmluZCBsaWZlY3ljbGUgaG9va3MuXG4gKiBAcGFyYW0gIHtWbX0gICAgIHZtXG4gKiBAcGFyYW0gIHtvYmplY3R9IGV4dGVybmFsRXZlbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXZlbnRzICh2bSwgZXh0ZXJuYWxFdmVudHMpIHtcbiAgY29uc3Qgb3B0aW9ucyA9IHZtLl9vcHRpb25zIHx8IHt9XG4gIGNvbnN0IGV2ZW50cyA9IG9wdGlvbnMuZXZlbnRzIHx8IHt9XG4gIGZvciAoY29uc3QgdHlwZTEgaW4gZXZlbnRzKSB7XG4gICAgdm0uJG9uKHR5cGUxLCBldmVudHNbdHlwZTFdKVxuICB9XG4gIGZvciAoY29uc3QgdHlwZTIgaW4gZXh0ZXJuYWxFdmVudHMpIHtcbiAgICB2bS4kb24odHlwZTIsIGV4dGVybmFsRXZlbnRzW3R5cGUyXSlcbiAgfVxuICBMSUZFX0NZQ0xFX1RZUEVTLmZvckVhY2goKHR5cGUpID0+IHtcbiAgICB2bS4kb24oYGhvb2s6JHt0eXBlfWAsIG9wdGlvbnNbdHlwZV0pXG4gIH0pXG59XG5cbi8qKlxuICogQmluZCBldmVudCByZWxhdGVkIG1ldGhvZHMgdG8gVmlld01vZGVsIGluc3RhbmNlLlxuICogQHBhcmFtICB7Vm19IHZtXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXhpbkV2ZW50cyAodm0pIHtcbiAgdm0uJGVtaXQgPSAkZW1pdFxuICB2bS4kZGlzcGF0Y2ggPSAkZGlzcGF0Y2hcbiAgdm0uJGJyb2FkY2FzdCA9ICRicm9hZGNhc3RcbiAgdm0uJG9uID0gJG9uXG4gIHZtLiRvZmYgPSAkb2ZmXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvdm0vZXZlbnRzLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC92bS9ldmVudHMuanMiLCIvKipcbiAqIEBmaWxlT3ZlcnZpZXdcbiAqIGFwaSB0aGF0IGludm9rZWQgYnkganMgYnVuZGxlIGNvZGVcbiAqXG4gKiAtIGRlZmluZShuYW1lLCBmYWN0b3J5KTogZGVmaW5lIGEgbmV3IGNvbXBvc2VkIGNvbXBvbmVudCB0eXBlXG4gKiAtIGJvb3RzdHJhcCh0eXBlLCBjb25maWcsIGRhdGEpOiByZXF1aXJlIGEgY2VydGFpbiB0eXBlICZcbiAqICAgICAgICAgcmVuZGVyIHdpdGggKG9wdGlvbmFsKSBkYXRhXG4gKlxuICogZGVwcmVjYXRlZDpcbiAqIC0gcmVnaXN0ZXIodHlwZSwgb3B0aW9ucyk6IHJlZ2lzdGVyIGEgbmV3IGNvbXBvc2VkIGNvbXBvbmVudCB0eXBlXG4gKiAtIHJlbmRlcih0eXBlLCBkYXRhKTogcmVuZGVyIGJ5IGEgY2VydGFpbiB0eXBlIHdpdGggKG9wdGlvbmFsKSBkYXRhXG4gKiAtIHJlcXVpcmUodHlwZSkoZGF0YSk6IHJlcXVpcmUgYSB0eXBlIHRoZW4gcmVuZGVyIHdpdGggZGF0YVxuICovXG5cbmV4cG9ydCB7IGJvb3RzdHJhcCB9IGZyb20gJy4vYm9vdHN0cmFwJ1xuZXhwb3J0IHsgY2xlYXJDb21tb25Nb2R1bGVzLCBkZWZpbmVGbiwgcmVnaXN0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9kZWZhdWx0L2FwcC9idW5kbGUvZGVmaW5lJ1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2J1bmRsZS9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcnVudGltZS9hcHAvYnVuZGxlL2luZGV4LmpzIiwiaW1wb3J0IFZtIGZyb20gJy4uLy4uLy4uLy4uL2RlZmF1bHQvdm0nXG5pbXBvcnQge1xuICByZXF1aXJlQ3VzdG9tQ29tcG9uZW50XG59IGZyb20gJy4uLy4uLy4uLy4uL2RlZmF1bHQvYXBwL3JlZ2lzdGVyJ1xuaW1wb3J0IHtcbiAgaXNQbGFpbk9iamVjdCxcbiAgaXNXZWV4Q29tcG9uZW50LFxuICBpc05wbU1vZHVsZSxcbiAgcmVtb3ZlV2VleFByZWZpeCxcbiAgcmVtb3ZlSlNTdXJmaXhcbn0gZnJvbSAnLi4vLi4vLi4vLi4vZGVmYXVsdC91dGlsJ1xuXG4vKipcbiAqIGJvb3RzdHJhcCBhcHAgZnJvbSBhIGNlcnRhaW4gY3VzdG9tIGNvbXBvbmVudCB3aXRoIGNvbmZpZyAmIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJvb3RzdHJhcCAoYXBwLCBuYW1lLCBjb25maWcsIGRhdGEpIHtcbiAgY29uc29sZS5kZWJ1ZyhgW0pTIEZyYW1ld29ya10gYm9vdHN0cmFwIGZvciAke25hbWV9YClcblxuICAvLyAxLiB2YWxpZGF0ZSBjdXN0b20gY29tcG9uZW50IG5hbWUgZmlyc3RcbiAgbGV0IGNsZWFuTmFtZVxuICBpZiAoaXNXZWV4Q29tcG9uZW50KG5hbWUpKSB7XG4gICAgY2xlYW5OYW1lID0gcmVtb3ZlV2VleFByZWZpeChuYW1lKVxuICB9XG4gIGVsc2UgaWYgKGlzTnBtTW9kdWxlKG5hbWUpKSB7XG4gICAgY2xlYW5OYW1lID0gcmVtb3ZlSlNTdXJmaXgobmFtZSlcbiAgICAvLyBjaGVjayBpZiBkZWZpbmUgYnkgb2xkICdkZWZpbmUnIG1ldGhvZFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghcmVxdWlyZUN1c3RvbUNvbXBvbmVudChhcHAsIGNsZWFuTmFtZSkpIHtcbiAgICAgIHJldHVybiBuZXcgRXJyb3IoYEl0J3Mgbm90IGEgY29tcG9uZW50OiAke25hbWV9YClcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgV3JvbmcgY29tcG9uZW50IG5hbWU6ICR7bmFtZX1gKVxuICB9XG5cbiAgLy8gMi4gdmFsaWRhdGUgY29uZmlndXJhdGlvblxuICBjb25maWcgPSBpc1BsYWluT2JqZWN0KGNvbmZpZykgPyBjb25maWcgOiB7fVxuICAvLyAyLjEgdHJhbnNmb3JtZXIgdmVyc2lvbiBjaGVja1xuICBjb25zb2xlLmxvZyhgdHJhbnNmb3JtZXJWZXJzaW9uOiAke2NvbmZpZy50cmFuc2Zvcm1lclZlcnNpb259LCBgXG4gICAgKyBgYXZhaWxhYmxlIHRyYW5zZm9ybWVyVmVyc2lvbjogJHtnbG9iYWwudHJhbnNmb3JtVmVyc2lvbn1gKVxuXG4gIC8vIDMuIGNyZWF0ZSBhIG5ldyBWbSB3aXRoIGN1c3RvbSBjb21wb25lbnQgbmFtZSBhbmQgZGF0YVxuICBhcHAudm0gPSBuZXcgVm0oY2xlYW5OYW1lLCBudWxsLCB7IF9hcHA6IGFwcCB9LCBudWxsLCBkYXRhKVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2J1bmRsZS9ib290c3RyYXAuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL3J1bnRpbWUvYXBwL2J1bmRsZS9ib290c3RyYXAuanMiLCJpbXBvcnQge1xuICBpc1dlZXhDb21wb25lbnQsXG4gIGlzV2VleE1vZHVsZSxcbiAgaXNOb3JtYWxNb2R1bGUsXG4gIGlzTnBtTW9kdWxlLFxuICByZW1vdmVXZWV4UHJlZml4LFxuICByZW1vdmVKU1N1cmZpeFxufSBmcm9tICcuLi8uLi91dGlsJ1xuaW1wb3J0IHtcbiAgcmVnaXN0ZXJDdXN0b21Db21wb25lbnQsXG4gIHJlcXVpcmVDdXN0b21Db21wb25lbnQsXG4gIGluaXRNb2R1bGVzXG59IGZyb20gJy4uL3JlZ2lzdGVyJ1xuXG4vKipcbiAqIGRlZmluZShuYW1lLCBmYWN0b3J5KSBmb3IgcHJpbWFyeSB1c2FnZVxuICogb3JcbiAqIGRlZmluZShuYW1lLCBkZXBzLCBmYWN0b3J5KSBmb3IgY29tcGF0aWJpbGl0eVxuICogTm90aWNlOiBETyBOT1QgdXNlIGZ1bmN0aW9uIGRlZmluZSgpIHt9LFxuICogaXQgd2lsbCBjYXVzZSBlcnJvciBhZnRlciBidWlsZGVkIGJ5IHdlYnBhY2tcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmluZUZuID0gZnVuY3Rpb24gKGFwcCwgbmFtZSwgLi4uYXJncykge1xuICBjb25zb2xlLmRlYnVnKGBbSlMgRnJhbWV3b3JrXSBkZWZpbmUgYSBjb21wb25lbnQgJHtuYW1lfWApXG5cbiAgLy8gYWRhcHQgYXJnczpcbiAgLy8gMS4gbmFtZSwgZGVwc1tdLCBmYWN0b3J5KClcbiAgLy8gMi4gbmFtZSwgZmFjdG9yeSgpXG4gIC8vIDMuIG5hbWUsIGRlZmluaXRpb257fVxuICBsZXQgZmFjdG9yeSwgZGVmaW5pdGlvblxuICBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgZGVmaW5pdGlvbiA9IGFyZ3NbMV1cbiAgfVxuICBlbHNlIHtcbiAgICBkZWZpbml0aW9uID0gYXJnc1swXVxuICB9XG4gIGlmICh0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZhY3RvcnkgPSBkZWZpbml0aW9uXG4gICAgZGVmaW5pdGlvbiA9IG51bGxcbiAgfVxuXG4gIC8vIHJlc29sdmUgZGVmaW5pdGlvbiBmcm9tIGZhY3RvcnlcbiAgaWYgKGZhY3RvcnkpIHtcbiAgICBjb25zdCByID0gKG5hbWUpID0+IHtcbiAgICAgIGlmIChpc1dlZXhDb21wb25lbnQobmFtZSkpIHtcbiAgICAgICAgY29uc3QgY2xlYW5OYW1lID0gcmVtb3ZlV2VleFByZWZpeChuYW1lKVxuICAgICAgICByZXR1cm4gcmVxdWlyZUN1c3RvbUNvbXBvbmVudChhcHAsIGNsZWFuTmFtZSlcbiAgICAgIH1cbiAgICAgIGlmIChpc1dlZXhNb2R1bGUobmFtZSkpIHtcbiAgICAgICAgY29uc3QgY2xlYW5OYW1lID0gcmVtb3ZlV2VleFByZWZpeChuYW1lKVxuICAgICAgICByZXR1cm4gYXBwLnJlcXVpcmVNb2R1bGUoY2xlYW5OYW1lKVxuICAgICAgfVxuICAgICAgaWYgKGlzTm9ybWFsTW9kdWxlKG5hbWUpIHx8IGlzTnBtTW9kdWxlKG5hbWUpKSB7XG4gICAgICAgIGNvbnN0IGNsZWFuTmFtZSA9IHJlbW92ZUpTU3VyZml4KG5hbWUpXG4gICAgICAgIHJldHVybiBhcHAuY29tbW9uTW9kdWxlc1tjbGVhbk5hbWVdXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG0gPSB7IGV4cG9ydHM6IHt9fVxuICAgIGZhY3RvcnkociwgbS5leHBvcnRzLCBtKVxuICAgIGRlZmluaXRpb24gPSBtLmV4cG9ydHNcbiAgfVxuXG4gIC8vIGFwcGx5IGRlZmluaXRpb25cbiAgaWYgKGlzV2VleENvbXBvbmVudChuYW1lKSkge1xuICAgIGNvbnN0IGNsZWFuTmFtZSA9IHJlbW92ZVdlZXhQcmVmaXgobmFtZSlcbiAgICByZWdpc3RlckN1c3RvbUNvbXBvbmVudChhcHAsIGNsZWFuTmFtZSwgZGVmaW5pdGlvbilcbiAgfVxuICBlbHNlIGlmIChpc1dlZXhNb2R1bGUobmFtZSkpIHtcbiAgICBjb25zdCBjbGVhbk5hbWUgPSByZW1vdmVXZWV4UHJlZml4KG5hbWUpXG4gICAgaW5pdE1vZHVsZXMoeyBbY2xlYW5OYW1lXTogZGVmaW5pdGlvbiB9KVxuICB9XG4gIGVsc2UgaWYgKGlzTm9ybWFsTW9kdWxlKG5hbWUpKSB7XG4gICAgY29uc3QgY2xlYW5OYW1lID0gcmVtb3ZlSlNTdXJmaXgobmFtZSlcbiAgICBhcHAuY29tbW9uTW9kdWxlc1tjbGVhbk5hbWVdID0gZGVmaW5pdGlvblxuICB9XG4gIGVsc2UgaWYgKGlzTnBtTW9kdWxlKG5hbWUpKSB7XG4gICAgY29uc3QgY2xlYW5OYW1lID0gcmVtb3ZlSlNTdXJmaXgobmFtZSlcbiAgICBpZiAoZGVmaW5pdGlvbi50ZW1wbGF0ZSB8fFxuICAgICAgICBkZWZpbml0aW9uLnN0eWxlIHx8XG4gICAgICAgIGRlZmluaXRpb24ubWV0aG9kcykge1xuICAgICAgLy8gZG93bmdyYWRlIHRvIG9sZCBkZWZpbmUgbWV0aG9kIChkZWZpbmUoJ2NvbXBvbmVudE5hbWUnLCBmYWN0b3J5KSlcbiAgICAgIC8vIHRoZSBleHBvcnRzIGNvbnRhaW4gb25lIGtleSBvZiB0ZW1wbGF0ZSwgc3R5bGUgb3IgbWV0aG9kc1xuICAgICAgLy8gYnV0IGl0IGhhcyByaXNrISEhXG4gICAgICByZWdpc3RlckN1c3RvbUNvbXBvbmVudChhcHAsIGNsZWFuTmFtZSwgZGVmaW5pdGlvbilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBhcHAuY29tbW9uTW9kdWxlc1tjbGVhbk5hbWVdID0gZGVmaW5pdGlvblxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlciAoYXBwLCB0eXBlLCBvcHRpb25zKSB7XG4gIGNvbnNvbGUud2FybignW0pTIEZyYW1ld29ya10gUmVnaXN0ZXIgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIGluc3RhbGwgbGFzdGVzdCB0cmFuc2Zvcm1lci4nKVxuICByZWdpc3RlckN1c3RvbUNvbXBvbmVudChhcHAsIHR5cGUsIG9wdGlvbnMpXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvYXBwL2J1bmRsZS9kZWZpbmUuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9idW5kbGUvZGVmaW5lLmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBpbnN0YW5jZSBjb250cm9scyBmcm9tIG5hdGl2ZVxuICpcbiAqIC0gZmlyZSBldmVudFxuICogLSBjYWxsYmFja1xuICogLSByZWZyZXNoXG4gKiAtIGRlc3Ryb3lcbiAqXG4gKiBjb3JyZXNwb25kZWQgd2l0aCB0aGUgQVBJIG9mIGluc3RhbmNlIG1hbmFnZXIgKGZyYW1ld29yay5qcylcbiAqL1xuaW1wb3J0IHsgZXh0ZW5kLCB0eXBvZiB9IGZyb20gJy4uLy4uL3V0aWwnXG5pbXBvcnQgcmVuZGVyZXIgZnJvbSAnLi4vLi4vY29uZmlnJ1xuXG4vKipcbiAqIFJlZnJlc2ggYW4gYXBwIHdpdGggZGF0YSB0byBpdHMgcm9vdCBjb21wb25lbnQgb3B0aW9ucy5cbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKiBAcGFyYW0gIHthbnl9ICAgIGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2ggKGFwcCwgZGF0YSkge1xuICBjb25zb2xlLmRlYnVnKGBbSlMgRnJhbWV3b3JrXSBSZWZyZXNoIHdpdGhgLCBkYXRhLFxuICAgICAgICAgICAgYGluIGluc3RhbmNlWyR7YXBwLmlkfV1gKVxuICBjb25zdCB2bSA9IGFwcC52bVxuICBpZiAodm0gJiYgZGF0YSkge1xuICAgIC8vIGFwcC5kb2MuY2xvc2UoKVxuICAgIGlmICh0eXBlb2Ygdm0ucmVmcmVzaERhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZtLnJlZnJlc2hEYXRhKGRhdGEpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZXh0ZW5kKHZtLCBkYXRhKVxuICAgIH1cbiAgICB1cGRhdGVBY3Rpb25zKGFwcClcbiAgICBhcHAuZG9jLmxpc3RlbmVyLnJlZnJlc2hGaW5pc2goKVxuICAgIC8vIGFwcC5kb2Mub3BlbigpXG4gICAgcmV0dXJuXG4gIH1cbiAgcmV0dXJuIG5ldyBFcnJvcihgaW52YWxpZCBkYXRhIFwiJHtkYXRhfVwiYClcbn1cblxuLyoqXG4gKiBEZXN0cm95IGFuIGFwcC5cbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95IChhcHApIHtcbiAgY29uc29sZS5kZWJ1ZyhgW0pTIEZyYW1ld29ya10gRGVzdG9yeSBhbiBpbnN0YW5jZSgke2FwcC5pZH0pYClcblxuICBpZiAoYXBwLnZtKSB7XG4gICAgZGVzdHJveVZtKGFwcC52bSlcbiAgfVxuXG4gIGFwcC5pZCA9ICcnXG4gIGFwcC5vcHRpb25zID0gbnVsbFxuICBhcHAuYmxvY2tzID0gbnVsbFxuICBhcHAudm0gPSBudWxsXG4gIGFwcC5kb2MuZGVzdHJveSgpXG4gIGFwcC5kb2MgPSBudWxsXG4gIGFwcC5jdXN0b21Db21wb25lbnRNYXAgPSBudWxsXG4gIGFwcC5jb21tb25Nb2R1bGVzID0gbnVsbFxuICBhcHAuY2FsbGJhY2tzID0gbnVsbFxufVxuXG4vKipcbiAqIERlc3Ryb3kgYW4gVm0uXG4gKiBAcGFyYW0ge29iamVjdH0gdm1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lWbSAodm0pIHtcbiAgZGVsZXRlIHZtLl9hcHBcbiAgZGVsZXRlIHZtLl9jb21wdXRlZFxuICBkZWxldGUgdm0uX2Nzc1xuICBkZWxldGUgdm0uX2RhdGFcbiAgZGVsZXRlIHZtLl9pZHNcbiAgZGVsZXRlIHZtLl9tZXRob2RzXG4gIGRlbGV0ZSB2bS5fb3B0aW9uc1xuICBkZWxldGUgdm0uX3BhcmVudFxuICBkZWxldGUgdm0uX3BhcmVudEVsXG4gIGRlbGV0ZSB2bS5fcm9vdEVsXG5cbiAgLy8gcmVtb3ZlIGFsbCB3YXRjaGVyc1xuICBpZiAodm0uX3dhdGNoZXJzKSB7XG4gICAgbGV0IHdhdGNoZXJDb3VudCA9IHZtLl93YXRjaGVycy5sZW5ndGhcbiAgICB3aGlsZSAod2F0Y2hlckNvdW50LS0pIHtcbiAgICAgIHZtLl93YXRjaGVyc1t3YXRjaGVyQ291bnRdLnRlYXJkb3duKClcbiAgICB9XG4gICAgZGVsZXRlIHZtLl93YXRjaGVyc1xuICB9XG5cbiAgLy8gZGVzdHJveSBjaGlsZCB2bXMgcmVjdXJzaXZlbHlcbiAgaWYgKHZtLl9jaGlsZHJlblZtcykge1xuICAgIGxldCB2bUNvdW50ID0gdm0uX2NoaWxkcmVuVm1zLmxlbmd0aFxuICAgIHdoaWxlICh2bUNvdW50LS0pIHtcbiAgICAgIGRlc3Ryb3lWbSh2bS5fY2hpbGRyZW5WbXNbdm1Db3VudF0pXG4gICAgfVxuICAgIGRlbGV0ZSB2bS5fY2hpbGRyZW5WbXNcbiAgfVxuXG4gIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIFwiZGVzdHJveWVkXCIgbGlmZWN5Y2xlIGluIFZtKCR7dm0uX3R5cGV9KWApXG4gIHZtLiRlbWl0KCdob29rOmRlc3Ryb3llZCcpXG5cbiAgZGVsZXRlIHZtLl90eXBlXG4gIGRlbGV0ZSB2bS5fdm1FdmVudHNcbn1cblxuLyoqXG4gKiBHZXQgYSBKU09OIG9iamVjdCB0byBkZXNjcmliZSB0aGUgZG9jdW1lbnQgYm9keS5cbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKiBAcmV0dXJuIHtvYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSb290RWxlbWVudCAoYXBwKSB7XG4gIGNvbnN0IGRvYyA9IGFwcC5kb2MgfHwge31cbiAgY29uc3QgYm9keSA9IGRvYy5ib2R5IHx8IHt9XG4gIHJldHVybiBib2R5LnRvSlNPTiA/IGJvZHkudG9KU09OKCkgOiB7fVxufVxuXG4vKipcbiAqIEZpcmUgYW4gZXZlbnQgZnJvbSByZW5kZXJlci4gVGhlIGV2ZW50IGhhcyB0eXBlLCBhbiBldmVudCBvYmplY3QgYW5kIGFuXG4gKiBlbGVtZW50IHJlZi4gSWYgdGhlIGV2ZW50IGNvbWVzIHdpdGggc29tZSB2aXJ0dWFsLURPTSBjaGFuZ2VzLCBpdCBzaG91bGRcbiAqIGhhdmUgb25lIG1vcmUgcGFyYW1ldGVyIHRvIGRlc2NyaWJlIHRoZSBjaGFuZ2VzLlxuICogQHBhcmFtICB7b2JqZWN0fSBhcHBcbiAqIEBwYXJhbSAge3N0cmluZ30gcmVmXG4gKiBAcGFyYW0gIHt0eXBlfSAgIHR5cGVcbiAqIEBwYXJhbSAge29iamVjdH0gZVxuICogQHBhcmFtICB7b2JqZWN0fSBkb21DaGFuZ2VzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXJlRXZlbnQgKGFwcCwgcmVmLCB0eXBlLCBlLCBkb21DaGFuZ2VzKSB7XG4gIGNvbnNvbGUuZGVidWcoYFtKUyBGcmFtZXdvcmtdIEZpcmUgYSBcIiR7dHlwZX1cIiBldmVudCBvbiBhbiBlbGVtZW50KCR7cmVmfSkgaW4gaW5zdGFuY2UoJHthcHAuaWR9KWApXG4gIGlmIChBcnJheS5pc0FycmF5KHJlZikpIHtcbiAgICByZWYuc29tZSgocmVmKSA9PiB7XG4gICAgICByZXR1cm4gYXBwLmZpcmVFdmVudChyZWYsIHR5cGUsIGUpICE9PSBmYWxzZVxuICAgIH0pXG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgZWwgPSBhcHAuZG9jLmdldFJlZihyZWYpXG4gIGlmIChlbCkge1xuICAgIC8vIGFwcC5kb2MuY2xvc2UoKVxuICAgIGNvbnN0IHJlc3VsdCA9IGFwcC5kb2MuZmlyZUV2ZW50KGVsLCB0eXBlLCBlLCBkb21DaGFuZ2VzKVxuICAgIHVwZGF0ZUFjdGlvbnMoYXBwKVxuICAgIGFwcC5kb2MubGlzdGVuZXIudXBkYXRlRmluaXNoKClcbiAgICAvLyBhcHAuZG9jLm9wZW4oKVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxuICByZXR1cm4gbmV3IEVycm9yKGBpbnZhbGlkIGVsZW1lbnQgcmVmZXJlbmNlIFwiJHtyZWZ9XCJgKVxufVxuXG4vKipcbiAqIE1ha2UgYSBjYWxsYmFjayBmb3IgYSBjZXJ0YWluIGFwcC5cbiAqIEBwYXJhbSAge29iamVjdH0gICBhcHBcbiAqIEBwYXJhbSAge251bWJlcn0gICBjYWxsYmFja0lkXG4gKiBAcGFyYW0gIHthbnl9ICAgICAgZGF0YVxuICogQHBhcmFtICB7Ym9vbGVhbn0gIGlmS2VlcEFsaXZlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYWxsYmFjayAoYXBwLCBjYWxsYmFja0lkLCBkYXRhLCBpZktlZXBBbGl2ZSkge1xuICBjb25zb2xlLmRlYnVnKGBbSlMgRnJhbWV3b3JrXSBJbnZva2UgYSBjYWxsYmFjaygke2NhbGxiYWNrSWR9KSB3aXRoYCwgZGF0YSxcbiAgICAgICAgICAgIGBpbiBpbnN0YW5jZSgke2FwcC5pZH0pYClcbiAgY29uc3QgY2FsbGJhY2sgPSBhcHAuY2FsbGJhY2tzW2NhbGxiYWNrSWRdXG4gIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBhcHAuZG9jLmNsb3NlKClcbiAgICBjYWxsYmFjayhkYXRhKVxuICAgIGlmICh0eXBlb2YgaWZLZWVwQWxpdmUgPT09ICd1bmRlZmluZWQnIHx8IGlmS2VlcEFsaXZlID09PSBmYWxzZSkge1xuICAgICAgYXBwLmNhbGxiYWNrc1tjYWxsYmFja0lkXSA9IHVuZGVmaW5lZFxuICAgIH1cbiAgICB1cGRhdGVBY3Rpb25zKGFwcClcbiAgICBhcHAuZG9jLmxpc3RlbmVyLnVwZGF0ZUZpbmlzaCgpXG4gICAgLy8gYXBwLmRvYy5vcGVuKClcbiAgICByZXR1cm5cbiAgfVxuICByZXR1cm4gbmV3IEVycm9yKGBpbnZhbGlkIGNhbGxiYWNrIGlkIFwiJHtjYWxsYmFja0lkfVwiYClcbn1cblxuLyoqXG4gKiBDb2xsZWN0IGFsbCB2aXJ0dWFsLURPTSBtdXRhdGlvbnMgdG9nZXRoZXIgYW5kIHNlbmQgdGhlbSB0byByZW5kZXJlci5cbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVBY3Rpb25zIChhcHApIHtcbiAgYXBwLmRpZmZlci5mbHVzaCgpXG4gIGNvbnN0IHRhc2tzID0gW11cbiAgaWYgKGFwcC5kb2MgJiYgYXBwLmRvYy5saXN0ZW5lciAmJiBhcHAuZG9jLmxpc3RlbmVyLnVwZGF0ZXMubGVuZ3RoKSB7XG4gICAgdGFza3MucHVzaCguLi5hcHAuZG9jLmxpc3RlbmVyLnVwZGF0ZXMpXG4gICAgYXBwLmRvYy5saXN0ZW5lci51cGRhdGVzID0gW11cbiAgfVxuICBpZiAodGFza3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxUYXNrcyhhcHAsIHRhc2tzKVxuICB9XG59XG5cbi8qKlxuICogQ2FsbCBhbGwgdGFza3MgZnJvbSBhbiBhcHAgdG8gcmVuZGVyZXIgKG5hdGl2ZSkuXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFwcFxuICogQHBhcmFtICB7YXJyYXl9ICB0YXNrc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2FsbFRhc2tzIChhcHAsIHRhc2tzKSB7XG4gIGlmICh0eXBvZih0YXNrcykgIT09ICdhcnJheScpIHtcbiAgICB0YXNrcyA9IFt0YXNrc11cbiAgfVxuXG4gIHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICB0YXNrLmFyZ3MgPSB0YXNrLmFyZ3MubWFwKGFyZyA9PiBub3JtYWxpemUoYXJnLCBhcHApKVxuICB9KVxuXG4gIHJldHVybiByZW5kZXJlci5zZW5kVGFza3MoYXBwLmlkLCB0YXNrcywgJy0xJylcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgYSB2YWx1ZS4gU3BlY2lhbGx5LCBpZiB0aGUgdmFsdWUgaXMgYSBmdW5jdGlvbiwgdGhlbiBnZW5lcmF0ZSBhIGZ1bmN0aW9uIGlkXG4gKiBhbmQgc2F2ZSBpdCB0byBgYXBwLmNhbGxiYWNrc2AsIGF0IGxhc3QgcmV0dXJuIHRoZSBmdW5jdGlvbiBpZC5cbiAqIEBwYXJhbSAge2FueX0gICAgICAgIHZcbiAqIEBwYXJhbSAge29iamVjdH0gICAgIGFwcFxuICogQHJldHVybiB7cHJpbWl0aXZlfVxuICovXG5mdW5jdGlvbiBub3JtYWxpemUgKHYsIGFwcCkge1xuICBjb25zdCB0eXBlID0gdHlwb2YodilcblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgIGNhc2UgJ251bGwnOlxuICAgICAgcmV0dXJuICcnXG4gICAgY2FzZSAncmVnZXhwJzpcbiAgICAgIHJldHVybiB2LnRvU3RyaW5nKClcbiAgICBjYXNlICdkYXRlJzpcbiAgICAgIHJldHVybiB2LnRvSVNPU3RyaW5nKClcbiAgICBjYXNlICdudW1iZXInOlxuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgY2FzZSAnYXJyYXknOlxuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICBpZiAodiBpbnN0YW5jZW9mIHJlbmRlcmVyLkVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHYucmVmXG4gICAgICB9XG4gICAgICByZXR1cm4gdlxuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIGFwcC5jYWxsYmFja3NbKythcHAudWlkXSA9IHZcbiAgICAgIHJldHVybiBhcHAudWlkLnRvU3RyaW5nKClcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9hcHAvY3RybC9taXNjLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvY3RybC9taXNjLmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBXZWV4IEFwcCBjb25zdHJ1Y3RvciAmIGRlZmluaXRpb25cbiAqL1xuXG5pbXBvcnQgRGlmZmVyIGZyb20gJy4vZGlmZmVyJ1xuaW1wb3J0IHJlbmRlcmVyIGZyb20gJy4uL2NvbmZpZydcblxuLyoqXG4gKiBBcHAgY29uc3RydWN0b3IgZm9yIFdlZXggZnJhbWV3b3JrLlxuICogQHBhcmFtIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAgKGlkLCBvcHRpb25zKSB7XG4gIHRoaXMuaWQgPSBpZFxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHRoaXMudm0gPSBudWxsXG4gIHRoaXMuY3VzdG9tQ29tcG9uZW50TWFwID0ge31cbiAgdGhpcy5jb21tb25Nb2R1bGVzID0ge31cbiAgdGhpcy5jYWxsYmFja3MgPSB7fVxuICB0aGlzLmRvYyA9IG5ldyByZW5kZXJlci5Eb2N1bWVudChcbiAgICBpZCxcbiAgICB0aGlzLm9wdGlvbnMuYnVuZGxlVXJsLFxuICAgIG51bGwsXG4gICAgcmVuZGVyZXIuTGlzdGVuZXJcbiAgKVxuICB0aGlzLmRpZmZlciA9IG5ldyBEaWZmZXIoaWQpXG4gIHRoaXMudWlkID0gMFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L2FwcC9pbnN0YW5jZS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvYXBwL2luc3RhbmNlLmpzIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGlmZmVyIHtcbiAgY29uc3RydWN0b3IgKGlkKSB7XG4gICAgdGhpcy5pZCA9IGlkXG4gICAgdGhpcy5tYXAgPSBbXVxuICAgIHRoaXMuaG9va3MgPSBbXVxuICB9XG4gIGlzRW1wdHkgKCkge1xuICAgIHJldHVybiB0aGlzLm1hcC5sZW5ndGggPT09IDBcbiAgfVxuICBhcHBlbmQgKHR5cGUsIGRlcHRoLCByZWYsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuaGFzVGltZXIpIHtcbiAgICAgIHRoaXMuaGFzVGltZXIgPSB0cnVlXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5oYXNUaW1lciA9IGZhbHNlXG4gICAgICAgIHRoaXMuZmx1c2godHJ1ZSlcbiAgICAgIH0sIDApXG4gICAgfVxuICAgIGNvbnN0IG1hcCA9IHRoaXMubWFwXG4gICAgaWYgKCFtYXBbZGVwdGhdKSB7XG4gICAgICBtYXBbZGVwdGhdID0ge31cbiAgICB9XG4gICAgY29uc3QgZ3JvdXAgPSBtYXBbZGVwdGhdXG4gICAgaWYgKCFncm91cFt0eXBlXSkge1xuICAgICAgZ3JvdXBbdHlwZV0gPSB7fVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2VsZW1lbnQnKSB7XG4gICAgICBpZiAoIWdyb3VwW3R5cGVdW3JlZl0pIHtcbiAgICAgICAgZ3JvdXBbdHlwZV1bcmVmXSA9IFtdXG4gICAgICB9XG4gICAgICBncm91cFt0eXBlXVtyZWZdLnB1c2goaGFuZGxlcilcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBncm91cFt0eXBlXVtyZWZdID0gaGFuZGxlclxuICAgIH1cbiAgfVxuICBmbHVzaCAoaXNUaW1lb3V0KSB7XG4gICAgY29uc3QgbWFwID0gdGhpcy5tYXAuc2xpY2UoKVxuICAgIHRoaXMubWFwLmxlbmd0aCA9IDBcbiAgICBtYXAuZm9yRWFjaCgoZ3JvdXApID0+IHtcbiAgICAgIGNhbGxUeXBlTWFwKGdyb3VwLCAncmVwZWF0JylcbiAgICAgIGNhbGxUeXBlTWFwKGdyb3VwLCAnc2hvd24nKVxuICAgICAgY2FsbFR5cGVMaXN0KGdyb3VwLCAnZWxlbWVudCcpXG4gICAgfSlcblxuICAgIGNvbnN0IGhvb2tzID0gdGhpcy5ob29rcy5zbGljZSgpXG4gICAgdGhpcy5ob29rcy5sZW5ndGggPSAwXG4gICAgaG9va3MuZm9yRWFjaCgoZm4pID0+IHtcbiAgICAgIGZuKClcbiAgICB9KVxuXG4gICAgaWYgKCF0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgdGhpcy5mbHVzaCgpXG4gICAgfVxuICB9XG4gIHRoZW4gKGZuKSB7XG4gICAgdGhpcy5ob29rcy5wdXNoKGZuKVxuICB9XG59XG5cbmZ1bmN0aW9uIGNhbGxUeXBlTWFwIChncm91cCwgdHlwZSkge1xuICBjb25zdCBtYXAgPSBncm91cFt0eXBlXVxuICBmb3IgKGNvbnN0IHJlZiBpbiBtYXApIHtcbiAgICBtYXBbcmVmXSgpXG4gIH1cbn1cblxuZnVuY3Rpb24gY2FsbFR5cGVMaXN0IChncm91cCwgdHlwZSkge1xuICBjb25zdCBtYXAgPSBncm91cFt0eXBlXVxuICBmb3IgKGNvbnN0IHJlZiBpbiBtYXApIHtcbiAgICBjb25zdCBsaXN0ID0gbWFwW3JlZl1cbiAgICBsaXN0LmZvckVhY2goKGhhbmRsZXIpID0+IHsgaGFuZGxlcigpIH0pXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9hcHAvZGlmZmVyLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvZGlmZmVyLmpzIiwiZXhwb3J0IGNvbnN0IGluc3RhbmNlTWFwID0ge31cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9zdGF0aWMvbWFwLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9zdGF0aWMvbWFwLmpzIiwiaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnXG5pbXBvcnQge1xuICByZWZyZXNoLFxuICBkZXN0cm95XG59IGZyb20gJy4uL2FwcC9jdHJsJ1xuaW1wb3J0IHsgaW5zdGFuY2VNYXAgfSBmcm9tICcuL21hcCdcbmltcG9ydCB7IHJlc2V0VGFyZ2V0IH0gZnJvbSAnLi4vY29yZS9kZXAnXG5cbi8qKlxuICogSW5pdCBjb25maWcgaW5mb3JtYXRpb25zIGZvciBXZWV4IGZyYW1ld29ya1xuICogQHBhcmFtICB7b2JqZWN0fSBjZmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQgKGNmZykge1xuICBjb25maWcuRG9jdW1lbnQgPSBjZmcuRG9jdW1lbnRcbiAgY29uZmlnLkVsZW1lbnQgPSBjZmcuRWxlbWVudFxuICBjb25maWcuQ29tbWVudCA9IGNmZy5Db21tZW50XG4gIGNvbmZpZy5zZW5kVGFza3MgPSBjZmcuc2VuZFRhc2tzXG4gIGNvbmZpZy5MaXN0ZW5lciA9IGNmZy5MaXN0ZW5lclxufVxuXG4vKipcbiAqIFJlZnJlc2ggYSBXZWV4IGluc3RhbmNlIHdpdGggZGF0YS5cbiAqXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGlkXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZnJlc2hJbnN0YW5jZSAoaWQsIGRhdGEpIHtcbiAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZU1hcFtpZF1cbiAgbGV0IHJlc3VsdFxuICBpZiAoaW5zdGFuY2UpIHtcbiAgICByZXN1bHQgPSByZWZyZXNoKGluc3RhbmNlLCBkYXRhKVxuICB9XG4gIGVsc2Uge1xuICAgIHJlc3VsdCA9IG5ldyBFcnJvcihgaW52YWxpZCBpbnN0YW5jZSBpZCBcIiR7aWR9XCJgKVxuICB9XG4gIHJldHVybiByZXN1bHRcbn1cblxuLyoqXG4gKiBEZXN0cm95IGEgV2VleCBpbnN0YW5jZS5cbiAqIEBwYXJhbSAge3N0cmluZ30gaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc3Ryb3lJbnN0YW5jZSAoaWQpIHtcbiAgcmVzZXRUYXJnZXQoKVxuICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlTWFwW2lkXVxuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuIG5ldyBFcnJvcihgaW52YWxpZCBpbnN0YW5jZSBpZCBcIiR7aWR9XCJgKVxuICB9XG4gIGRlc3Ryb3koaW5zdGFuY2UpXG4gIGRlbGV0ZSBpbnN0YW5jZU1hcFtpZF1cbiAgcmV0dXJuIGluc3RhbmNlTWFwXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvc3RhdGljL2xpZmUuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L3N0YXRpYy9saWZlLmpzIiwiLyoqXG4gKiBAZmlsZU92ZXJ2aWV3XG4gKiBpbnN0YW5jZSBjb250cm9scyBmcm9tIG5hdGl2ZVxuICpcbiAqIC0gaW5pdCBidW5kbGVcbiAqIC0gZmlyZSBldmVudFxuICogLSBjYWxsYmFja1xuICogLSBkZXN0cm95XG4gKlxuICogY29ycmVzcG9uZGVkIHdpdGggdGhlIEFQSSBvZiBpbnN0YW5jZSBtYW5hZ2VyIChmcmFtZXdvcmsuanMpXG4gKi9cbmV4cG9ydCB7IGluaXQgfSBmcm9tICcuL2luaXQnXG5cbmV4cG9ydCB7XG4gIHJlZnJlc2gsXG4gIGRlc3Ryb3ksXG4gIGdldFJvb3RFbGVtZW50LFxuICBmaXJlRXZlbnQsXG4gIGNhbGxiYWNrLFxuICB1cGRhdGVBY3Rpb25zLFxuICBjYWxsVGFza3Ncbn0gZnJvbSAnLi9taXNjJ1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L2FwcC9jdHJsL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvY3RybC9pbmRleC5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlld1xuICogaW5zdGFuY2UgY29udHJvbHMgZnJvbSBuYXRpdmVcbiAqXG4gKiAtIGluaXQgYnVuZGxlXG4gKlxuICogY29ycmVzcG9uZGVkIHdpdGggdGhlIEFQSSBvZiBpbnN0YW5jZSBtYW5hZ2VyIChmcmFtZXdvcmsuanMpXG4gKi9cblxuaW1wb3J0IFZtIGZyb20gJy4uLy4uL3ZtJ1xuaW1wb3J0IHsgcmVtb3ZlV2VleFByZWZpeCB9IGZyb20gJy4uLy4uL3V0aWwnXG5pbXBvcnQge1xuICBkZWZpbmVGbixcbiAgYm9vdHN0cmFwLFxuICByZWdpc3RlclxufSBmcm9tICcuLi9idW5kbGUnXG5pbXBvcnQgeyB1cGRhdGVBY3Rpb25zIH0gZnJvbSAnLi9taXNjJ1xuXG4vKipcbiAqIEluaXQgYW4gYXBwIGJ5IHJ1biBjb2RlIHdpdGdoIGRhdGFcbiAqIEBwYXJhbSAge29iamVjdH0gYXBwXG4gKiBAcGFyYW0gIHtzdHJpbmd9IGNvZGVcbiAqIEBwYXJhbSAge29iamVjdH0gZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdCAoYXBwLCBjb2RlLCBkYXRhKSB7XG4gIGNvbnNvbGUuZGVidWcoJ1tKUyBGcmFtZXdvcmtdIEludGlhbGl6ZSBhbiBpbnN0YW5jZSB3aXRoOlxcbicsIGRhdGEpXG4gIGxldCByZXN1bHRcblxuICAvLyBwcmVwYXJlIGFwcCBlbnYgbWV0aG9kc1xuICBjb25zdCBidW5kbGVEZWZpbmUgPSAoLi4uYXJncykgPT4gZGVmaW5lRm4oYXBwLCAuLi5hcmdzKVxuICBjb25zdCBidW5kbGVCb290c3RyYXAgPSAobmFtZSwgY29uZmlnLCBfZGF0YSkgPT4ge1xuICAgIHJlc3VsdCA9IGJvb3RzdHJhcChhcHAsIG5hbWUsIGNvbmZpZywgX2RhdGEgfHwgZGF0YSlcbiAgICB1cGRhdGVBY3Rpb25zKGFwcClcbiAgICBhcHAuZG9jLmxpc3RlbmVyLmNyZWF0ZUZpbmlzaCgpXG4gICAgY29uc29sZS5kZWJ1ZyhgW0pTIEZyYW1ld29ya10gQWZ0ZXIgaW50aWFsaXplZCBhbiBpbnN0YW5jZSgke2FwcC5pZH0pYClcbiAgfVxuICBjb25zdCBidW5kbGVWbSA9IFZtXG4gIGNvbnN0IGJ1bmRsZVJlZ2lzdGVyID0gKC4uLmFyZ3MpID0+IHJlZ2lzdGVyKGFwcCwgLi4uYXJncylcbiAgY29uc3QgYnVuZGxlUmVuZGVyID0gKG5hbWUsIF9kYXRhKSA9PiB7XG4gICAgcmVzdWx0ID0gYm9vdHN0cmFwKGFwcCwgbmFtZSwge30sIF9kYXRhKVxuICB9XG4gIGNvbnN0IGJ1bmRsZVJlcXVpcmUgPSBuYW1lID0+IF9kYXRhID0+IHtcbiAgICByZXN1bHQgPSBib290c3RyYXAoYXBwLCBuYW1lLCB7fSwgX2RhdGEpXG4gIH1cbiAgY29uc3QgYnVuZGxlRG9jdW1lbnQgPSBhcHAuZG9jXG4gIGNvbnN0IGJ1bmRsZVJlcXVpcmVNb2R1bGUgPSBuYW1lID0+IGFwcC5yZXF1aXJlTW9kdWxlKHJlbW92ZVdlZXhQcmVmaXgobmFtZSkpXG5cbiAgLy8gcHJlcGFyZSBjb2RlXG4gIGxldCBmdW5jdGlvbkJvZHlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgY29kZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGBmdW5jdGlvbiAoKSB7Li4ufWAgLT4gYHsuLi59YFxuICAgIC8vIG5vdCB2ZXJ5IHN0cmljdFxuICAgIGZ1bmN0aW9uQm9keSA9IGNvZGUudG9TdHJpbmcoKS5zdWJzdHIoMTIpXG4gIH1cbiAgZWxzZSBpZiAoY29kZSkge1xuICAgIGZ1bmN0aW9uQm9keSA9IGNvZGUudG9TdHJpbmcoKVxuICB9XG5cbiAgLy8gcnVuIGNvZGUgYW5kIGdldCByZXN1bHRcbiAgY29uc3QgeyBXWEVudmlyb25tZW50IH0gPSBnbG9iYWxcbiAgaWYgKFdYRW52aXJvbm1lbnQgJiYgV1hFbnZpcm9ubWVudC5wbGF0Zm9ybSAhPT0gJ1dlYicpIHtcbiAgICAvLyB0aW1lciBBUElzIHBvbHlmaWxsIGluIG5hdGl2ZVxuICAgIGNvbnN0IHRpbWVyID0gYXBwLnJlcXVpcmVNb2R1bGUoJ3RpbWVyJylcbiAgICBjb25zdCB0aW1lckFQSXMgPSB7XG4gICAgICBzZXRUaW1lb3V0OiAoLi4uYXJncykgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGFyZ3NbMF0oLi4uYXJncy5zbGljZSgyKSlcbiAgICAgICAgfVxuICAgICAgICB0aW1lci5zZXRUaW1lb3V0KGhhbmRsZXIsIGFyZ3NbMV0pXG4gICAgICAgIHJldHVybiBhcHAudWlkLnRvU3RyaW5nKClcbiAgICAgIH0sXG4gICAgICBzZXRJbnRlcnZhbDogKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhcmdzWzBdKC4uLmFyZ3Muc2xpY2UoMikpXG4gICAgICAgIH1cbiAgICAgICAgdGltZXIuc2V0SW50ZXJ2YWwoaGFuZGxlciwgYXJnc1sxXSlcbiAgICAgICAgcmV0dXJuIGFwcC51aWQudG9TdHJpbmcoKVxuICAgICAgfSxcbiAgICAgIGNsZWFyVGltZW91dDogKG4pID0+IHtcbiAgICAgICAgdGltZXIuY2xlYXJUaW1lb3V0KG4pXG4gICAgICB9LFxuICAgICAgY2xlYXJJbnRlcnZhbDogKG4pID0+IHtcbiAgICAgICAgdGltZXIuY2xlYXJJbnRlcnZhbChuKVxuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGZuID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgJ2RlZmluZScsXG4gICAgICAncmVxdWlyZScsXG4gICAgICAnZG9jdW1lbnQnLFxuICAgICAgJ2Jvb3RzdHJhcCcsXG4gICAgICAncmVnaXN0ZXInLFxuICAgICAgJ3JlbmRlcicsXG4gICAgICAnX193ZWV4X2RlZmluZV9fJywgLy8gYWxpYXMgZm9yIGRlZmluZVxuICAgICAgJ19fd2VleF9ib290c3RyYXBfXycsIC8vIGFsaWFzIGZvciBib290c3RyYXBcbiAgICAgICdfX3dlZXhfZG9jdW1lbnRfXycsIC8vIGFsaWFzIGZvciBib290c3RyYXBcbiAgICAgICdfX3dlZXhfcmVxdWlyZV9fJyxcbiAgICAgICdfX3dlZXhfdmlld21vZGVsX18nLFxuICAgICAgJ3NldFRpbWVvdXQnLFxuICAgICAgJ3NldEludGVydmFsJyxcbiAgICAgICdjbGVhclRpbWVvdXQnLFxuICAgICAgJ2NsZWFySW50ZXJ2YWwnLFxuICAgICAgZnVuY3Rpb25Cb2R5XG4gICAgKVxuXG4gICAgZm4oXG4gICAgICBidW5kbGVEZWZpbmUsXG4gICAgICBidW5kbGVSZXF1aXJlLFxuICAgICAgYnVuZGxlRG9jdW1lbnQsXG4gICAgICBidW5kbGVCb290c3RyYXAsXG4gICAgICBidW5kbGVSZWdpc3RlcixcbiAgICAgIGJ1bmRsZVJlbmRlcixcbiAgICAgIGJ1bmRsZURlZmluZSxcbiAgICAgIGJ1bmRsZUJvb3RzdHJhcCxcbiAgICAgIGJ1bmRsZURvY3VtZW50LFxuICAgICAgYnVuZGxlUmVxdWlyZU1vZHVsZSxcbiAgICAgIGJ1bmRsZVZtLFxuICAgICAgdGltZXJBUElzLnNldFRpbWVvdXQsXG4gICAgICB0aW1lckFQSXMuc2V0SW50ZXJ2YWwsXG4gICAgICB0aW1lckFQSXMuY2xlYXJUaW1lb3V0LFxuICAgICAgdGltZXJBUElzLmNsZWFySW50ZXJ2YWwpXG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc3QgZm4gPSBuZXcgRnVuY3Rpb24oXG4gICAgICAnZGVmaW5lJyxcbiAgICAgICdyZXF1aXJlJyxcbiAgICAgICdkb2N1bWVudCcsXG4gICAgICAnYm9vdHN0cmFwJyxcbiAgICAgICdyZWdpc3RlcicsXG4gICAgICAncmVuZGVyJyxcbiAgICAgICdfX3dlZXhfZGVmaW5lX18nLCAvLyBhbGlhcyBmb3IgZGVmaW5lXG4gICAgICAnX193ZWV4X2Jvb3RzdHJhcF9fJywgLy8gYWxpYXMgZm9yIGJvb3RzdHJhcFxuICAgICAgJ19fd2VleF9kb2N1bWVudF9fJywgLy8gYWxpYXMgZm9yIGJvb3RzdHJhcFxuICAgICAgJ19fd2VleF9yZXF1aXJlX18nLFxuICAgICAgJ19fd2VleF92aWV3bW9kZWxfXycsXG4gICAgICBmdW5jdGlvbkJvZHlcbiAgICApXG5cbiAgICBmbihcbiAgICAgIGJ1bmRsZURlZmluZSxcbiAgICAgIGJ1bmRsZVJlcXVpcmUsXG4gICAgICBidW5kbGVEb2N1bWVudCxcbiAgICAgIGJ1bmRsZUJvb3RzdHJhcCxcbiAgICAgIGJ1bmRsZVJlZ2lzdGVyLFxuICAgICAgYnVuZGxlUmVuZGVyLFxuICAgICAgYnVuZGxlRGVmaW5lLFxuICAgICAgYnVuZGxlQm9vdHN0cmFwLFxuICAgICAgYnVuZGxlRG9jdW1lbnQsXG4gICAgICBidW5kbGVSZXF1aXJlTW9kdWxlLFxuICAgICAgYnVuZGxlVm0pXG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvYXBwL2N0cmwvaW5pdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvYXBwL2N0cmwvaW5pdC5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlld1xuICogYXBpIHRoYXQgaW52b2tlZCBieSBqcyBidW5kbGUgY29kZVxuICpcbiAqIC0gZGVmaW5lKG5hbWUsIGZhY3RvcnkpOiBkZWZpbmUgYSBuZXcgY29tcG9zZWQgY29tcG9uZW50IHR5cGVcbiAqIC0gYm9vdHN0cmFwKHR5cGUsIGNvbmZpZywgZGF0YSk6IHJlcXVpcmUgYSBjZXJ0YWluIHR5cGUgJlxuICogICAgICAgICByZW5kZXIgd2l0aCAob3B0aW9uYWwpIGRhdGFcbiAqXG4gKiBkZXByZWNhdGVkOlxuICogLSByZWdpc3Rlcih0eXBlLCBvcHRpb25zKTogcmVnaXN0ZXIgYSBuZXcgY29tcG9zZWQgY29tcG9uZW50IHR5cGVcbiAqIC0gcmVuZGVyKHR5cGUsIGRhdGEpOiByZW5kZXIgYnkgYSBjZXJ0YWluIHR5cGUgd2l0aCAob3B0aW9uYWwpIGRhdGFcbiAqIC0gcmVxdWlyZSh0eXBlKShkYXRhKTogcmVxdWlyZSBhIHR5cGUgdGhlbiByZW5kZXIgd2l0aCBkYXRhXG4gKi9cblxuZXhwb3J0IHsgYm9vdHN0cmFwIH0gZnJvbSAnLi9ib290c3RyYXAnXG5leHBvcnQgeyBkZWZpbmVGbiwgcmVnaXN0ZXIgfSBmcm9tICcuL2RlZmluZSdcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9hcHAvYnVuZGxlL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvYnVuZGxlL2luZGV4LmpzIiwiaW1wb3J0IHNlbXZlciBmcm9tICdzZW12ZXInXG5pbXBvcnQgVm0gZnJvbSAnLi4vLi4vdm0nXG5pbXBvcnQgKiBhcyBkb3duZ3JhZGUgZnJvbSAnLi4vZG93bmdyYWRlJ1xuaW1wb3J0IHtcbiAgcmVxdWlyZUN1c3RvbUNvbXBvbmVudFxufSBmcm9tICcuLi9yZWdpc3RlcidcbmltcG9ydCB7XG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzV2VleENvbXBvbmVudCxcbiAgaXNOcG1Nb2R1bGUsXG4gIHJlbW92ZVdlZXhQcmVmaXgsXG4gIHJlbW92ZUpTU3VyZml4XG59IGZyb20gJy4uLy4uL3V0aWwnXG5cbi8qKlxuICogYm9vdHN0cmFwIGFwcCBmcm9tIGEgY2VydGFpbiBjdXN0b20gY29tcG9uZW50IHdpdGggY29uZmlnICYgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gYm9vdHN0cmFwIChhcHAsIG5hbWUsIGNvbmZpZywgZGF0YSkge1xuICBjb25zb2xlLmRlYnVnKGBbSlMgRnJhbWV3b3JrXSBib290c3RyYXAgZm9yICR7bmFtZX1gKVxuXG4gIC8vIDEuIHZhbGlkYXRlIGN1c3RvbSBjb21wb25lbnQgbmFtZSBmaXJzdFxuICBsZXQgY2xlYW5OYW1lXG4gIGlmIChpc1dlZXhDb21wb25lbnQobmFtZSkpIHtcbiAgICBjbGVhbk5hbWUgPSByZW1vdmVXZWV4UHJlZml4KG5hbWUpXG4gIH1cbiAgZWxzZSBpZiAoaXNOcG1Nb2R1bGUobmFtZSkpIHtcbiAgICBjbGVhbk5hbWUgPSByZW1vdmVKU1N1cmZpeChuYW1lKVxuICAgIC8vIGNoZWNrIGlmIGRlZmluZSBieSBvbGQgJ2RlZmluZScgbWV0aG9kXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFyZXF1aXJlQ3VzdG9tQ29tcG9uZW50KGFwcCwgY2xlYW5OYW1lKSkge1xuICAgICAgcmV0dXJuIG5ldyBFcnJvcihgSXQncyBub3QgYSBjb21wb25lbnQ6ICR7bmFtZX1gKVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBXcm9uZyBjb21wb25lbnQgbmFtZTogJHtuYW1lfWApXG4gIH1cblxuICAvLyAyLiB2YWxpZGF0ZSBjb25maWd1cmF0aW9uXG4gIGNvbmZpZyA9IGlzUGxhaW5PYmplY3QoY29uZmlnKSA/IGNvbmZpZyA6IHt9XG4gIC8vIDIuMSB0cmFuc2Zvcm1lciB2ZXJzaW9uIGNoZWNrXG4gIGlmICh0eXBlb2YgY29uZmlnLnRyYW5zZm9ybWVyVmVyc2lvbiA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgZ2xvYmFsLnRyYW5zZm9ybWVyVmVyc2lvbiA9PT0gJ3N0cmluZycgJiZcbiAgICAhc2VtdmVyLnNhdGlzZmllcyhjb25maWcudHJhbnNmb3JtZXJWZXJzaW9uLFxuICAgICAgZ2xvYmFsLnRyYW5zZm9ybWVyVmVyc2lvbikpIHtcbiAgICByZXR1cm4gbmV3IEVycm9yKGBKUyBCdW5kbGUgdmVyc2lvbjogJHtjb25maWcudHJhbnNmb3JtZXJWZXJzaW9ufSBgICtcbiAgICAgIGBub3QgY29tcGF0aWJsZSB3aXRoICR7Z2xvYmFsLnRyYW5zZm9ybWVyVmVyc2lvbn1gKVxuICB9XG4gIC8vIDIuMiBkb3duZ3JhZGUgdmVyc2lvbiBjaGVja1xuICBjb25zdCBkb3duZ3JhZGVSZXN1bHQgPSBkb3duZ3JhZGUuY2hlY2soY29uZmlnLmRvd25ncmFkZSlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChkb3duZ3JhZGVSZXN1bHQuaXNEb3duZ3JhZGUpIHtcbiAgICBhcHAuY2FsbFRhc2tzKFt7XG4gICAgICBtb2R1bGU6ICdpbnN0YW5jZVdyYXAnLFxuICAgICAgbWV0aG9kOiAnZXJyb3InLFxuICAgICAgYXJnczogW1xuICAgICAgICBkb3duZ3JhZGVSZXN1bHQuZXJyb3JUeXBlLFxuICAgICAgICBkb3duZ3JhZGVSZXN1bHQuY29kZSxcbiAgICAgICAgZG93bmdyYWRlUmVzdWx0LmVycm9yTWVzc2FnZVxuICAgICAgXVxuICAgIH1dKVxuICAgIHJldHVybiBuZXcgRXJyb3IoYERvd25ncmFkZVske2Rvd25ncmFkZVJlc3VsdC5jb2RlfV06ICR7ZG93bmdyYWRlUmVzdWx0LmVycm9yTWVzc2FnZX1gKVxuICB9XG5cbiAgLy8gMy4gY3JlYXRlIGEgbmV3IFZtIHdpdGggY3VzdG9tIGNvbXBvbmVudCBuYW1lIGFuZCBkYXRhXG4gIGFwcC52bSA9IG5ldyBWbShjbGVhbk5hbWUsIG51bGwsIHsgX2FwcDogYXBwIH0sIG51bGwsIGRhdGEpXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2RlZmF1bHQvYXBwL2J1bmRsZS9ib290c3RyYXAuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9kZWZhdWx0L2FwcC9idW5kbGUvYm9vdHN0cmFwLmpzIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gU2VtVmVyO1xuXG4vLyBUaGUgZGVidWcgZnVuY3Rpb24gaXMgZXhjbHVkZWQgZW50aXJlbHkgZnJvbSB0aGUgbWluaWZpZWQgdmVyc2lvbi5cbi8qIG5vbWluICovIHZhciBkZWJ1Zztcbi8qIG5vbWluICovIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ29iamVjdCcgJiZcbiAgICAvKiBub21pbiAqLyBwcm9jZXNzLmVudiAmJlxuICAgIC8qIG5vbWluICovIHByb2Nlc3MuZW52Lk5PREVfREVCVUcgJiZcbiAgICAvKiBub21pbiAqLyAvXFxic2VtdmVyXFxiL2kudGVzdChwcm9jZXNzLmVudi5OT0RFX0RFQlVHKSlcbiAgLyogbm9taW4gKi8gZGVidWcgPSBmdW5jdGlvbigpIHtcbiAgICAvKiBub21pbiAqLyB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgLyogbm9taW4gKi8gYXJncy51bnNoaWZ0KCdTRU1WRVInKTtcbiAgICAvKiBub21pbiAqLyBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgICAvKiBub21pbiAqLyB9O1xuLyogbm9taW4gKi8gZWxzZVxuICAvKiBub21pbiAqLyBkZWJ1ZyA9IGZ1bmN0aW9uKCkge307XG5cbi8vIE5vdGU6IHRoaXMgaXMgdGhlIHNlbXZlci5vcmcgdmVyc2lvbiBvZiB0aGUgc3BlYyB0aGF0IGl0IGltcGxlbWVudHNcbi8vIE5vdCBuZWNlc3NhcmlseSB0aGUgcGFja2FnZSB2ZXJzaW9uIG9mIHRoaXMgY29kZS5cbmV4cG9ydHMuU0VNVkVSX1NQRUNfVkVSU0lPTiA9ICcyLjAuMCc7XG5cbnZhciBNQVhfTEVOR1RIID0gMjU2O1xudmFyIE1BWF9TQUZFX0lOVEVHRVIgPSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiB8fCA5MDA3MTk5MjU0NzQwOTkxO1xuXG4vLyBUaGUgYWN0dWFsIHJlZ2V4cHMgZ28gb24gZXhwb3J0cy5yZVxudmFyIHJlID0gZXhwb3J0cy5yZSA9IFtdO1xudmFyIHNyYyA9IGV4cG9ydHMuc3JjID0gW107XG52YXIgUiA9IDA7XG5cbi8vIFRoZSBmb2xsb3dpbmcgUmVndWxhciBFeHByZXNzaW9ucyBjYW4gYmUgdXNlZCBmb3IgdG9rZW5pemluZyxcbi8vIHZhbGlkYXRpbmcsIGFuZCBwYXJzaW5nIFNlbVZlciB2ZXJzaW9uIHN0cmluZ3MuXG5cbi8vICMjIE51bWVyaWMgSWRlbnRpZmllclxuLy8gQSBzaW5nbGUgYDBgLCBvciBhIG5vbi16ZXJvIGRpZ2l0IGZvbGxvd2VkIGJ5IHplcm8gb3IgbW9yZSBkaWdpdHMuXG5cbnZhciBOVU1FUklDSURFTlRJRklFUiA9IFIrKztcbnNyY1tOVU1FUklDSURFTlRJRklFUl0gPSAnMHxbMS05XVxcXFxkKic7XG52YXIgTlVNRVJJQ0lERU5USUZJRVJMT09TRSA9IFIrKztcbnNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSA9ICdbMC05XSsnO1xuXG5cbi8vICMjIE5vbi1udW1lcmljIElkZW50aWZpZXJcbi8vIFplcm8gb3IgbW9yZSBkaWdpdHMsIGZvbGxvd2VkIGJ5IGEgbGV0dGVyIG9yIGh5cGhlbiwgYW5kIHRoZW4gemVybyBvclxuLy8gbW9yZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGhlbnMuXG5cbnZhciBOT05OVU1FUklDSURFTlRJRklFUiA9IFIrKztcbnNyY1tOT05OVU1FUklDSURFTlRJRklFUl0gPSAnXFxcXGQqW2EtekEtWi1dW2EtekEtWjAtOS1dKic7XG5cblxuLy8gIyMgTWFpbiBWZXJzaW9uXG4vLyBUaHJlZSBkb3Qtc2VwYXJhdGVkIG51bWVyaWMgaWRlbnRpZmllcnMuXG5cbnZhciBNQUlOVkVSU0lPTiA9IFIrKztcbnNyY1tNQUlOVkVSU0lPTl0gPSAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJylcXFxcLicgK1xuICAgICAgICAgICAgICAgICAgICcoJyArIHNyY1tOVU1FUklDSURFTlRJRklFUl0gKyAnKVxcXFwuJyArXG4gICAgICAgICAgICAgICAgICAgJygnICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArICcpJztcblxudmFyIE1BSU5WRVJTSU9OTE9PU0UgPSBSKys7XG5zcmNbTUFJTlZFUlNJT05MT09TRV0gPSAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnKVxcXFwuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnKVxcXFwuJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbTlVNRVJJQ0lERU5USUZJRVJMT09TRV0gKyAnKSc7XG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb24gSWRlbnRpZmllclxuLy8gQSBudW1lcmljIGlkZW50aWZpZXIsIG9yIGEgbm9uLW51bWVyaWMgaWRlbnRpZmllci5cblxudmFyIFBSRVJFTEVBU0VJREVOVElGSUVSID0gUisrO1xuc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSA9ICcoPzonICsgc3JjW05VTUVSSUNJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3wnICsgc3JjW05PTk5VTUVSSUNJREVOVElGSUVSXSArICcpJztcblxudmFyIFBSRVJFTEVBU0VJREVOVElGSUVSTE9PU0UgPSBSKys7XG5zcmNbUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV0gPSAnKD86JyArIHNyY1tOVU1FUklDSURFTlRJRklFUkxPT1NFXSArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnfCcgKyBzcmNbTk9OTlVNRVJJQ0lERU5USUZJRVJdICsgJyknO1xuXG5cbi8vICMjIFByZS1yZWxlYXNlIFZlcnNpb25cbi8vIEh5cGhlbiwgZm9sbG93ZWQgYnkgb25lIG9yIG1vcmUgZG90LXNlcGFyYXRlZCBwcmUtcmVsZWFzZSB2ZXJzaW9uXG4vLyBpZGVudGlmaWVycy5cblxudmFyIFBSRVJFTEVBU0UgPSBSKys7XG5zcmNbUFJFUkVMRUFTRV0gPSAnKD86LSgnICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgICAgICAnKD86XFxcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSXSArICcpKikpJztcblxudmFyIFBSRVJFTEVBU0VMT09TRSA9IFIrKztcbnNyY1tQUkVSRUxFQVNFTE9PU0VdID0gJyg/Oi0/KCcgKyBzcmNbUFJFUkVMRUFTRUlERU5USUZJRVJMT09TRV0gK1xuICAgICAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4nICsgc3JjW1BSRVJFTEVBU0VJREVOVElGSUVSTE9PU0VdICsgJykqKSknO1xuXG4vLyAjIyBCdWlsZCBNZXRhZGF0YSBJZGVudGlmaWVyXG4vLyBBbnkgY29tYmluYXRpb24gb2YgZGlnaXRzLCBsZXR0ZXJzLCBvciBoeXBoZW5zLlxuXG52YXIgQlVJTERJREVOVElGSUVSID0gUisrO1xuc3JjW0JVSUxESURFTlRJRklFUl0gPSAnWzAtOUEtWmEtei1dKyc7XG5cbi8vICMjIEJ1aWxkIE1ldGFkYXRhXG4vLyBQbHVzIHNpZ24sIGZvbGxvd2VkIGJ5IG9uZSBvciBtb3JlIHBlcmlvZC1zZXBhcmF0ZWQgYnVpbGQgbWV0YWRhdGFcbi8vIGlkZW50aWZpZXJzLlxuXG52YXIgQlVJTEQgPSBSKys7XG5zcmNbQlVJTERdID0gJyg/OlxcXFwrKCcgKyBzcmNbQlVJTERJREVOVElGSUVSXSArXG4gICAgICAgICAgICAgJyg/OlxcXFwuJyArIHNyY1tCVUlMRElERU5USUZJRVJdICsgJykqKSknO1xuXG5cbi8vICMjIEZ1bGwgVmVyc2lvbiBTdHJpbmdcbi8vIEEgbWFpbiB2ZXJzaW9uLCBmb2xsb3dlZCBvcHRpb25hbGx5IGJ5IGEgcHJlLXJlbGVhc2UgdmVyc2lvbiBhbmRcbi8vIGJ1aWxkIG1ldGFkYXRhLlxuXG4vLyBOb3RlIHRoYXQgdGhlIG9ubHkgbWFqb3IsIG1pbm9yLCBwYXRjaCwgYW5kIHByZS1yZWxlYXNlIHNlY3Rpb25zIG9mXG4vLyB0aGUgdmVyc2lvbiBzdHJpbmcgYXJlIGNhcHR1cmluZyBncm91cHMuICBUaGUgYnVpbGQgbWV0YWRhdGEgaXMgbm90IGFcbi8vIGNhcHR1cmluZyBncm91cCwgYmVjYXVzZSBpdCBzaG91bGQgbm90IGV2ZXIgYmUgdXNlZCBpbiB2ZXJzaW9uXG4vLyBjb21wYXJpc29uLlxuXG52YXIgRlVMTCA9IFIrKztcbnZhciBGVUxMUExBSU4gPSAndj8nICsgc3JjW01BSU5WRVJTSU9OXSArXG4gICAgICAgICAgICAgICAgc3JjW1BSRVJFTEVBU0VdICsgJz8nICtcbiAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nO1xuXG5zcmNbRlVMTF0gPSAnXicgKyBGVUxMUExBSU4gKyAnJCc7XG5cbi8vIGxpa2UgZnVsbCwgYnV0IGFsbG93cyB2MS4yLjMgYW5kID0xLjIuMywgd2hpY2ggcGVvcGxlIGRvIHNvbWV0aW1lcy5cbi8vIGFsc28sIDEuMC4wYWxwaGExIChwcmVyZWxlYXNlIHdpdGhvdXQgdGhlIGh5cGhlbikgd2hpY2ggaXMgcHJldHR5XG4vLyBjb21tb24gaW4gdGhlIG5wbSByZWdpc3RyeS5cbnZhciBMT09TRVBMQUlOID0gJ1t2PVxcXFxzXSonICsgc3JjW01BSU5WRVJTSU9OTE9PU0VdICtcbiAgICAgICAgICAgICAgICAgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnPycgK1xuICAgICAgICAgICAgICAgICBzcmNbQlVJTERdICsgJz8nO1xuXG52YXIgTE9PU0UgPSBSKys7XG5zcmNbTE9PU0VdID0gJ14nICsgTE9PU0VQTEFJTiArICckJztcblxudmFyIEdUTFQgPSBSKys7XG5zcmNbR1RMVF0gPSAnKCg/Ojx8Pik/PT8pJztcblxuLy8gU29tZXRoaW5nIGxpa2UgXCIyLipcIiBvciBcIjEuMi54XCIuXG4vLyBOb3RlIHRoYXQgXCJ4LnhcIiBpcyBhIHZhbGlkIHhSYW5nZSBpZGVudGlmZXIsIG1lYW5pbmcgXCJhbnkgdmVyc2lvblwiXG4vLyBPbmx5IHRoZSBmaXJzdCBpdGVtIGlzIHN0cmljdGx5IHJlcXVpcmVkLlxudmFyIFhSQU5HRUlERU5USUZJRVJMT09TRSA9IFIrKztcbnNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdID0gc3JjW05VTUVSSUNJREVOVElGSUVSTE9PU0VdICsgJ3x4fFh8XFxcXConO1xudmFyIFhSQU5HRUlERU5USUZJRVIgPSBSKys7XG5zcmNbWFJBTkdFSURFTlRJRklFUl0gPSBzcmNbTlVNRVJJQ0lERU5USUZJRVJdICsgJ3x4fFh8XFxcXConO1xuXG52YXIgWFJBTkdFUExBSU4gPSBSKys7XG5zcmNbWFJBTkdFUExBSU5dID0gJ1t2PVxcXFxzXSooJyArIHNyY1tYUkFOR0VJREVOVElGSUVSXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUl0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICcoPzpcXFxcLignICsgc3JjW1hSQU5HRUlERU5USUZJRVJdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAnKD86JyArIHNyY1tQUkVSRUxFQVNFXSArICcpPycgK1xuICAgICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPycgK1xuICAgICAgICAgICAgICAgICAgICcpPyk/JztcblxudmFyIFhSQU5HRVBMQUlOTE9PU0UgPSBSKys7XG5zcmNbWFJBTkdFUExBSU5MT09TRV0gPSAnW3Y9XFxcXHNdKignICsgc3JjW1hSQU5HRUlERU5USUZJRVJMT09TRV0gKyAnKScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyg/OlxcXFwuKCcgKyBzcmNbWFJBTkdFSURFTlRJRklFUkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnKD86XFxcXC4oJyArIHNyY1tYUkFOR0VJREVOVElGSUVSTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcoPzonICsgc3JjW1BSRVJFTEVBU0VMT09TRV0gKyAnKT8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNyY1tCVUlMRF0gKyAnPycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyk/KT8nO1xuXG52YXIgWFJBTkdFID0gUisrO1xuc3JjW1hSQU5HRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqJyArIHNyY1tYUkFOR0VQTEFJTl0gKyAnJCc7XG52YXIgWFJBTkdFTE9PU0UgPSBSKys7XG5zcmNbWFJBTkdFTE9PU0VdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKicgKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7XG5cbi8vIFRpbGRlIHJhbmdlcy5cbi8vIE1lYW5pbmcgaXMgXCJyZWFzb25hYmx5IGF0IG9yIGdyZWF0ZXIgdGhhblwiXG52YXIgTE9ORVRJTERFID0gUisrO1xuc3JjW0xPTkVUSUxERV0gPSAnKD86fj4/KSc7XG5cbnZhciBUSUxERVRSSU0gPSBSKys7XG5zcmNbVElMREVUUklNXSA9ICcoXFxcXHMqKScgKyBzcmNbTE9ORVRJTERFXSArICdcXFxccysnO1xucmVbVElMREVUUklNXSA9IG5ldyBSZWdFeHAoc3JjW1RJTERFVFJJTV0sICdnJyk7XG52YXIgdGlsZGVUcmltUmVwbGFjZSA9ICckMX4nO1xuXG52YXIgVElMREUgPSBSKys7XG5zcmNbVElMREVdID0gJ14nICsgc3JjW0xPTkVUSUxERV0gKyBzcmNbWFJBTkdFUExBSU5dICsgJyQnO1xudmFyIFRJTERFTE9PU0UgPSBSKys7XG5zcmNbVElMREVMT09TRV0gPSAnXicgKyBzcmNbTE9ORVRJTERFXSArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICckJztcblxuLy8gQ2FyZXQgcmFuZ2VzLlxuLy8gTWVhbmluZyBpcyBcImF0IGxlYXN0IGFuZCBiYWNrd2FyZHMgY29tcGF0aWJsZSB3aXRoXCJcbnZhciBMT05FQ0FSRVQgPSBSKys7XG5zcmNbTE9ORUNBUkVUXSA9ICcoPzpcXFxcXiknO1xuXG52YXIgQ0FSRVRUUklNID0gUisrO1xuc3JjW0NBUkVUVFJJTV0gPSAnKFxcXFxzKiknICsgc3JjW0xPTkVDQVJFVF0gKyAnXFxcXHMrJztcbnJlW0NBUkVUVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDQVJFVFRSSU1dLCAnZycpO1xudmFyIGNhcmV0VHJpbVJlcGxhY2UgPSAnJDFeJztcblxudmFyIENBUkVUID0gUisrO1xuc3JjW0NBUkVUXSA9ICdeJyArIHNyY1tMT05FQ0FSRVRdICsgc3JjW1hSQU5HRVBMQUlOXSArICckJztcbnZhciBDQVJFVExPT1NFID0gUisrO1xuc3JjW0NBUkVUTE9PU0VdID0gJ14nICsgc3JjW0xPTkVDQVJFVF0gKyBzcmNbWFJBTkdFUExBSU5MT09TRV0gKyAnJCc7XG5cbi8vIEEgc2ltcGxlIGd0L2x0L2VxIHRoaW5nLCBvciBqdXN0IFwiXCIgdG8gaW5kaWNhdGUgXCJhbnkgdmVyc2lvblwiXG52YXIgQ09NUEFSQVRPUkxPT1NFID0gUisrO1xuc3JjW0NPTVBBUkFUT1JMT09TRV0gPSAnXicgKyBzcmNbR1RMVF0gKyAnXFxcXHMqKCcgKyBMT09TRVBMQUlOICsgJykkfF4kJztcbnZhciBDT01QQVJBVE9SID0gUisrO1xuc3JjW0NPTVBBUkFUT1JdID0gJ14nICsgc3JjW0dUTFRdICsgJ1xcXFxzKignICsgRlVMTFBMQUlOICsgJykkfF4kJztcblxuXG4vLyBBbiBleHByZXNzaW9uIHRvIHN0cmlwIGFueSB3aGl0ZXNwYWNlIGJldHdlZW4gdGhlIGd0bHQgYW5kIHRoZSB0aGluZ1xuLy8gaXQgbW9kaWZpZXMsIHNvIHRoYXQgYD4gMS4yLjNgID09PiBgPjEuMi4zYFxudmFyIENPTVBBUkFUT1JUUklNID0gUisrO1xuc3JjW0NPTVBBUkFUT1JUUklNXSA9ICcoXFxcXHMqKScgKyBzcmNbR1RMVF0gK1xuICAgICAgICAgICAgICAgICAgICAgICdcXFxccyooJyArIExPT1NFUExBSU4gKyAnfCcgKyBzcmNbWFJBTkdFUExBSU5dICsgJyknO1xuXG4vLyB0aGlzIG9uZSBoYXMgdG8gdXNlIHRoZSAvZyBmbGFnXG5yZVtDT01QQVJBVE9SVFJJTV0gPSBuZXcgUmVnRXhwKHNyY1tDT01QQVJBVE9SVFJJTV0sICdnJyk7XG52YXIgY29tcGFyYXRvclRyaW1SZXBsYWNlID0gJyQxJDIkMyc7XG5cblxuLy8gU29tZXRoaW5nIGxpa2UgYDEuMi4zIC0gMS4yLjRgXG4vLyBOb3RlIHRoYXQgdGhlc2UgYWxsIHVzZSB0aGUgbG9vc2UgZm9ybSwgYmVjYXVzZSB0aGV5J2xsIGJlXG4vLyBjaGVja2VkIGFnYWluc3QgZWl0aGVyIHRoZSBzdHJpY3Qgb3IgbG9vc2UgY29tcGFyYXRvciBmb3JtXG4vLyBsYXRlci5cbnZhciBIWVBIRU5SQU5HRSA9IFIrKztcbnNyY1tIWVBIRU5SQU5HRV0gPSAnXlxcXFxzKignICsgc3JjW1hSQU5HRVBMQUlOXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgJ1xcXFxzKy1cXFxccysnICtcbiAgICAgICAgICAgICAgICAgICAnKCcgKyBzcmNbWFJBTkdFUExBSU5dICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAnXFxcXHMqJCc7XG5cbnZhciBIWVBIRU5SQU5HRUxPT1NFID0gUisrO1xuc3JjW0hZUEhFTlJBTkdFTE9PU0VdID0gJ15cXFxccyooJyArIHNyY1tYUkFOR0VQTEFJTkxPT1NFXSArICcpJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnXFxcXHMrLVxcXFxzKycgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJygnICsgc3JjW1hSQU5HRVBMQUlOTE9PU0VdICsgJyknICtcbiAgICAgICAgICAgICAgICAgICAgICAgICdcXFxccyokJztcblxuLy8gU3RhciByYW5nZXMgYmFzaWNhbGx5IGp1c3QgYWxsb3cgYW55dGhpbmcgYXQgYWxsLlxudmFyIFNUQVIgPSBSKys7XG5zcmNbU1RBUl0gPSAnKDx8Pik/PT9cXFxccypcXFxcKic7XG5cbi8vIENvbXBpbGUgdG8gYWN0dWFsIHJlZ2V4cCBvYmplY3RzLlxuLy8gQWxsIGFyZSBmbGFnLWZyZWUsIHVubGVzcyB0aGV5IHdlcmUgY3JlYXRlZCBhYm92ZSB3aXRoIGEgZmxhZy5cbmZvciAodmFyIGkgPSAwOyBpIDwgUjsgaSsrKSB7XG4gIGRlYnVnKGksIHNyY1tpXSk7XG4gIGlmICghcmVbaV0pXG4gICAgcmVbaV0gPSBuZXcgUmVnRXhwKHNyY1tpXSk7XG59XG5cbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmZ1bmN0aW9uIHBhcnNlKHZlcnNpb24sIGxvb3NlKSB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKVxuICAgIHJldHVybiB2ZXJzaW9uO1xuXG4gIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpXG4gICAgcmV0dXJuIG51bGw7XG5cbiAgaWYgKHZlcnNpb24ubGVuZ3RoID4gTUFYX0xFTkdUSClcbiAgICByZXR1cm4gbnVsbDtcblxuICB2YXIgciA9IGxvb3NlID8gcmVbTE9PU0VdIDogcmVbRlVMTF07XG4gIGlmICghci50ZXN0KHZlcnNpb24pKVxuICAgIHJldHVybiBudWxsO1xuXG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgbG9vc2UpO1xuICB9IGNhdGNoIChlcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmV4cG9ydHMudmFsaWQgPSB2YWxpZDtcbmZ1bmN0aW9uIHZhbGlkKHZlcnNpb24sIGxvb3NlKSB7XG4gIHZhciB2ID0gcGFyc2UodmVyc2lvbiwgbG9vc2UpO1xuICByZXR1cm4gdiA/IHYudmVyc2lvbiA6IG51bGw7XG59XG5cblxuZXhwb3J0cy5jbGVhbiA9IGNsZWFuO1xuZnVuY3Rpb24gY2xlYW4odmVyc2lvbiwgbG9vc2UpIHtcbiAgdmFyIHMgPSBwYXJzZSh2ZXJzaW9uLnRyaW0oKS5yZXBsYWNlKC9eWz12XSsvLCAnJyksIGxvb3NlKTtcbiAgcmV0dXJuIHMgPyBzLnZlcnNpb24gOiBudWxsO1xufVxuXG5leHBvcnRzLlNlbVZlciA9IFNlbVZlcjtcblxuZnVuY3Rpb24gU2VtVmVyKHZlcnNpb24sIGxvb3NlKSB7XG4gIGlmICh2ZXJzaW9uIGluc3RhbmNlb2YgU2VtVmVyKSB7XG4gICAgaWYgKHZlcnNpb24ubG9vc2UgPT09IGxvb3NlKVxuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgZWxzZVxuICAgICAgdmVyc2lvbiA9IHZlcnNpb24udmVyc2lvbjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgdmVyc2lvbiAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFZlcnNpb246ICcgKyB2ZXJzaW9uKTtcbiAgfVxuXG4gIGlmICh2ZXJzaW9uLmxlbmd0aCA+IE1BWF9MRU5HVEgpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmVyc2lvbiBpcyBsb25nZXIgdGhhbiAnICsgTUFYX0xFTkdUSCArICcgY2hhcmFjdGVycycpXG5cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNlbVZlcikpXG4gICAgcmV0dXJuIG5ldyBTZW1WZXIodmVyc2lvbiwgbG9vc2UpO1xuXG4gIGRlYnVnKCdTZW1WZXInLCB2ZXJzaW9uLCBsb29zZSk7XG4gIHRoaXMubG9vc2UgPSBsb29zZTtcbiAgdmFyIG0gPSB2ZXJzaW9uLnRyaW0oKS5tYXRjaChsb29zZSA/IHJlW0xPT1NFXSA6IHJlW0ZVTExdKTtcblxuICBpZiAoIW0pXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBWZXJzaW9uOiAnICsgdmVyc2lvbik7XG5cbiAgdGhpcy5yYXcgPSB2ZXJzaW9uO1xuXG4gIC8vIHRoZXNlIGFyZSBhY3R1YWxseSBudW1iZXJzXG4gIHRoaXMubWFqb3IgPSArbVsxXTtcbiAgdGhpcy5taW5vciA9ICttWzJdO1xuICB0aGlzLnBhdGNoID0gK21bM107XG5cbiAgaWYgKHRoaXMubWFqb3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWFqb3IgPCAwKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWFqb3IgdmVyc2lvbicpXG5cbiAgaWYgKHRoaXMubWlub3IgPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMubWlub3IgPCAwKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbWlub3IgdmVyc2lvbicpXG5cbiAgaWYgKHRoaXMucGF0Y2ggPiBNQVhfU0FGRV9JTlRFR0VSIHx8IHRoaXMucGF0Y2ggPCAwKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgcGF0Y2ggdmVyc2lvbicpXG5cbiAgLy8gbnVtYmVyaWZ5IGFueSBwcmVyZWxlYXNlIG51bWVyaWMgaWRzXG4gIGlmICghbVs0XSlcbiAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTtcbiAgZWxzZVxuICAgIHRoaXMucHJlcmVsZWFzZSA9IG1bNF0uc3BsaXQoJy4nKS5tYXAoZnVuY3Rpb24oaWQpIHtcbiAgICAgIGlmICgvXlswLTldKyQvLnRlc3QoaWQpKSB7XG4gICAgICAgIHZhciBudW0gPSAraWRcbiAgICAgICAgaWYgKG51bSA+PSAwICYmIG51bSA8IE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgICAgcmV0dXJuIG51bVxuICAgICAgfVxuICAgICAgcmV0dXJuIGlkO1xuICAgIH0pO1xuXG4gIHRoaXMuYnVpbGQgPSBtWzVdID8gbVs1XS5zcGxpdCgnLicpIDogW107XG4gIHRoaXMuZm9ybWF0KCk7XG59XG5cblNlbVZlci5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMudmVyc2lvbiA9IHRoaXMubWFqb3IgKyAnLicgKyB0aGlzLm1pbm9yICsgJy4nICsgdGhpcy5wYXRjaDtcbiAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGgpXG4gICAgdGhpcy52ZXJzaW9uICs9ICctJyArIHRoaXMucHJlcmVsZWFzZS5qb2luKCcuJyk7XG4gIHJldHVybiB0aGlzLnZlcnNpb247XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLnZlcnNpb247XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbihvdGhlcikge1xuICBkZWJ1ZygnU2VtVmVyLmNvbXBhcmUnLCB0aGlzLnZlcnNpb24sIHRoaXMubG9vc2UsIG90aGVyKTtcbiAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKVxuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5sb29zZSk7XG5cbiAgcmV0dXJuIHRoaXMuY29tcGFyZU1haW4ob3RoZXIpIHx8IHRoaXMuY29tcGFyZVByZShvdGhlcik7XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmVNYWluID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBTZW1WZXIpKVxuICAgIG90aGVyID0gbmV3IFNlbVZlcihvdGhlciwgdGhpcy5sb29zZSk7XG5cbiAgcmV0dXJuIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1ham9yLCBvdGhlci5tYWpvcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLm1pbm9yLCBvdGhlci5taW5vcikgfHxcbiAgICAgICAgIGNvbXBhcmVJZGVudGlmaWVycyh0aGlzLnBhdGNoLCBvdGhlci5wYXRjaCk7XG59O1xuXG5TZW1WZXIucHJvdG90eXBlLmNvbXBhcmVQcmUgPSBmdW5jdGlvbihvdGhlcikge1xuICBpZiAoIShvdGhlciBpbnN0YW5jZW9mIFNlbVZlcikpXG4gICAgb3RoZXIgPSBuZXcgU2VtVmVyKG90aGVyLCB0aGlzLmxvb3NlKTtcblxuICAvLyBOT1QgaGF2aW5nIGEgcHJlcmVsZWFzZSBpcyA+IGhhdmluZyBvbmVcbiAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgIW90aGVyLnByZXJlbGVhc2UubGVuZ3RoKVxuICAgIHJldHVybiAtMTtcbiAgZWxzZSBpZiAoIXRoaXMucHJlcmVsZWFzZS5sZW5ndGggJiYgb3RoZXIucHJlcmVsZWFzZS5sZW5ndGgpXG4gICAgcmV0dXJuIDE7XG4gIGVsc2UgaWYgKCF0aGlzLnByZXJlbGVhc2UubGVuZ3RoICYmICFvdGhlci5wcmVyZWxlYXNlLmxlbmd0aClcbiAgICByZXR1cm4gMDtcblxuICB2YXIgaSA9IDA7XG4gIGRvIHtcbiAgICB2YXIgYSA9IHRoaXMucHJlcmVsZWFzZVtpXTtcbiAgICB2YXIgYiA9IG90aGVyLnByZXJlbGVhc2VbaV07XG4gICAgZGVidWcoJ3ByZXJlbGVhc2UgY29tcGFyZScsIGksIGEsIGIpO1xuICAgIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIDA7XG4gICAgZWxzZSBpZiAoYiA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoYSA9PT0gdW5kZWZpbmVkKVxuICAgICAgcmV0dXJuIC0xO1xuICAgIGVsc2UgaWYgKGEgPT09IGIpXG4gICAgICBjb250aW51ZTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGEsIGIpO1xuICB9IHdoaWxlICgrK2kpO1xufTtcblxuLy8gcHJlbWlub3Igd2lsbCBidW1wIHRoZSB2ZXJzaW9uIHVwIHRvIHRoZSBuZXh0IG1pbm9yIHJlbGVhc2UsIGFuZCBpbW1lZGlhdGVseVxuLy8gZG93biB0byBwcmUtcmVsZWFzZS4gcHJlbWFqb3IgYW5kIHByZXBhdGNoIHdvcmsgdGhlIHNhbWUgd2F5LlxuU2VtVmVyLnByb3RvdHlwZS5pbmMgPSBmdW5jdGlvbihyZWxlYXNlLCBpZGVudGlmaWVyKSB7XG4gIHN3aXRjaCAocmVsZWFzZSkge1xuICAgIGNhc2UgJ3ByZW1ham9yJzpcbiAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5wYXRjaCA9IDA7XG4gICAgICB0aGlzLm1pbm9yID0gMDtcbiAgICAgIHRoaXMubWFqb3IrKztcbiAgICAgIHRoaXMuaW5jKCdwcmUnLCBpZGVudGlmaWVyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3ByZW1pbm9yJzpcbiAgICAgIHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPSAwO1xuICAgICAgdGhpcy5wYXRjaCA9IDA7XG4gICAgICB0aGlzLm1pbm9yKys7XG4gICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcik7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdwcmVwYXRjaCc6XG4gICAgICAvLyBJZiB0aGlzIGlzIGFscmVhZHkgYSBwcmVyZWxlYXNlLCBpdCB3aWxsIGJ1bXAgdG8gdGhlIG5leHQgdmVyc2lvblxuICAgICAgLy8gZHJvcCBhbnkgcHJlcmVsZWFzZXMgdGhhdCBtaWdodCBhbHJlYWR5IGV4aXN0LCBzaW5jZSB0aGV5IGFyZSBub3RcbiAgICAgIC8vIHJlbGV2YW50IGF0IHRoaXMgcG9pbnQuXG4gICAgICB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID0gMDtcbiAgICAgIHRoaXMuaW5jKCdwYXRjaCcsIGlkZW50aWZpZXIpO1xuICAgICAgdGhpcy5pbmMoJ3ByZScsIGlkZW50aWZpZXIpO1xuICAgICAgYnJlYWs7XG4gICAgLy8gSWYgdGhlIGlucHV0IGlzIGEgbm9uLXByZXJlbGVhc2UgdmVyc2lvbiwgdGhpcyBhY3RzIHRoZSBzYW1lIGFzXG4gICAgLy8gcHJlcGF0Y2guXG4gICAgY2FzZSAncHJlcmVsZWFzZSc6XG4gICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhpcy5pbmMoJ3BhdGNoJywgaWRlbnRpZmllcik7XG4gICAgICB0aGlzLmluYygncHJlJywgaWRlbnRpZmllcik7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ21ham9yJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWFqb3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtYWpvciB2ZXJzaW9uLlxuICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtYWpvci5cbiAgICAgIC8vIDEuMC4wLTUgYnVtcHMgdG8gMS4wLjBcbiAgICAgIC8vIDEuMS4wIGJ1bXBzIHRvIDIuMC4wXG4gICAgICBpZiAodGhpcy5taW5vciAhPT0gMCB8fCB0aGlzLnBhdGNoICE9PSAwIHx8IHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApXG4gICAgICAgIHRoaXMubWFqb3IrKztcbiAgICAgIHRoaXMubWlub3IgPSAwO1xuICAgICAgdGhpcy5wYXRjaCA9IDA7XG4gICAgICB0aGlzLnByZXJlbGVhc2UgPSBbXTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ21pbm9yJzpcbiAgICAgIC8vIElmIHRoaXMgaXMgYSBwcmUtbWlub3IgdmVyc2lvbiwgYnVtcCB1cCB0byB0aGUgc2FtZSBtaW5vciB2ZXJzaW9uLlxuICAgICAgLy8gT3RoZXJ3aXNlIGluY3JlbWVudCBtaW5vci5cbiAgICAgIC8vIDEuMi4wLTUgYnVtcHMgdG8gMS4yLjBcbiAgICAgIC8vIDEuMi4xIGJ1bXBzIHRvIDEuMy4wXG4gICAgICBpZiAodGhpcy5wYXRjaCAhPT0gMCB8fCB0aGlzLnByZXJlbGVhc2UubGVuZ3RoID09PSAwKVxuICAgICAgICB0aGlzLm1pbm9yKys7XG4gICAgICB0aGlzLnBhdGNoID0gMDtcbiAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFtdO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAncGF0Y2gnOlxuICAgICAgLy8gSWYgdGhpcyBpcyBub3QgYSBwcmUtcmVsZWFzZSB2ZXJzaW9uLCBpdCB3aWxsIGluY3JlbWVudCB0aGUgcGF0Y2guXG4gICAgICAvLyBJZiBpdCBpcyBhIHByZS1yZWxlYXNlIGl0IHdpbGwgYnVtcCB1cCB0byB0aGUgc2FtZSBwYXRjaCB2ZXJzaW9uLlxuICAgICAgLy8gMS4yLjAtNSBwYXRjaGVzIHRvIDEuMi4wXG4gICAgICAvLyAxLjIuMCBwYXRjaGVzIHRvIDEuMi4xXG4gICAgICBpZiAodGhpcy5wcmVyZWxlYXNlLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhpcy5wYXRjaCsrO1xuICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW107XG4gICAgICBicmVhaztcbiAgICAvLyBUaGlzIHByb2JhYmx5IHNob3VsZG4ndCBiZSB1c2VkIHB1YmxpY2x5LlxuICAgIC8vIDEuMC4wIFwicHJlXCIgd291bGQgYmVjb21lIDEuMC4wLTAgd2hpY2ggaXMgdGhlIHdyb25nIGRpcmVjdGlvbi5cbiAgICBjYXNlICdwcmUnOlxuICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZS5sZW5ndGggPT09IDApXG4gICAgICAgIHRoaXMucHJlcmVsZWFzZSA9IFswXTtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgaSA9IHRoaXMucHJlcmVsZWFzZS5sZW5ndGg7XG4gICAgICAgIHdoaWxlICgtLWkgPj0gMCkge1xuICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcmVyZWxlYXNlW2ldID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlW2ldKys7XG4gICAgICAgICAgICBpID0gLTI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSAtMSkgLy8gZGlkbid0IGluY3JlbWVudCBhbnl0aGluZ1xuICAgICAgICAgIHRoaXMucHJlcmVsZWFzZS5wdXNoKDApO1xuICAgICAgfVxuICAgICAgaWYgKGlkZW50aWZpZXIpIHtcbiAgICAgICAgLy8gMS4yLjAtYmV0YS4xIGJ1bXBzIHRvIDEuMi4wLWJldGEuMixcbiAgICAgICAgLy8gMS4yLjAtYmV0YS5mb29ibHogb3IgMS4yLjAtYmV0YSBidW1wcyB0byAxLjIuMC1iZXRhLjBcbiAgICAgICAgaWYgKHRoaXMucHJlcmVsZWFzZVswXSA9PT0gaWRlbnRpZmllcikge1xuICAgICAgICAgIGlmIChpc05hTih0aGlzLnByZXJlbGVhc2VbMV0pKVxuICAgICAgICAgICAgdGhpcy5wcmVyZWxlYXNlID0gW2lkZW50aWZpZXIsIDBdO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICB0aGlzLnByZXJlbGVhc2UgPSBbaWRlbnRpZmllciwgMF07XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgaW5jcmVtZW50IGFyZ3VtZW50OiAnICsgcmVsZWFzZSk7XG4gIH1cbiAgdGhpcy5mb3JtYXQoKTtcbiAgdGhpcy5yYXcgPSB0aGlzLnZlcnNpb247XG4gIHJldHVybiB0aGlzO1xufTtcblxuZXhwb3J0cy5pbmMgPSBpbmM7XG5mdW5jdGlvbiBpbmModmVyc2lvbiwgcmVsZWFzZSwgbG9vc2UsIGlkZW50aWZpZXIpIHtcbiAgaWYgKHR5cGVvZihsb29zZSkgPT09ICdzdHJpbmcnKSB7XG4gICAgaWRlbnRpZmllciA9IGxvb3NlO1xuICAgIGxvb3NlID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IFNlbVZlcih2ZXJzaW9uLCBsb29zZSkuaW5jKHJlbGVhc2UsIGlkZW50aWZpZXIpLnZlcnNpb247XG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0cy5kaWZmID0gZGlmZjtcbmZ1bmN0aW9uIGRpZmYodmVyc2lvbjEsIHZlcnNpb24yKSB7XG4gIGlmIChlcSh2ZXJzaW9uMSwgdmVyc2lvbjIpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHYxID0gcGFyc2UodmVyc2lvbjEpO1xuICAgIHZhciB2MiA9IHBhcnNlKHZlcnNpb24yKTtcbiAgICBpZiAodjEucHJlcmVsZWFzZS5sZW5ndGggfHwgdjIucHJlcmVsZWFzZS5sZW5ndGgpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiB2MSkge1xuICAgICAgICBpZiAoa2V5ID09PSAnbWFqb3InIHx8IGtleSA9PT0gJ21pbm9yJyB8fCBrZXkgPT09ICdwYXRjaCcpIHtcbiAgICAgICAgICBpZiAodjFba2V5XSAhPT0gdjJba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuICdwcmUnK2tleTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAncHJlcmVsZWFzZSc7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiB2MSkge1xuICAgICAgaWYgKGtleSA9PT0gJ21ham9yJyB8fCBrZXkgPT09ICdtaW5vcicgfHwga2V5ID09PSAncGF0Y2gnKSB7XG4gICAgICAgIGlmICh2MVtrZXldICE9PSB2MltrZXldKSB7XG4gICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnRzLmNvbXBhcmVJZGVudGlmaWVycyA9IGNvbXBhcmVJZGVudGlmaWVycztcblxudmFyIG51bWVyaWMgPSAvXlswLTldKyQvO1xuZnVuY3Rpb24gY29tcGFyZUlkZW50aWZpZXJzKGEsIGIpIHtcbiAgdmFyIGFudW0gPSBudW1lcmljLnRlc3QoYSk7XG4gIHZhciBibnVtID0gbnVtZXJpYy50ZXN0KGIpO1xuXG4gIGlmIChhbnVtICYmIGJudW0pIHtcbiAgICBhID0gK2E7XG4gICAgYiA9ICtiO1xuICB9XG5cbiAgcmV0dXJuIChhbnVtICYmICFibnVtKSA/IC0xIDpcbiAgICAgICAgIChibnVtICYmICFhbnVtKSA/IDEgOlxuICAgICAgICAgYSA8IGIgPyAtMSA6XG4gICAgICAgICBhID4gYiA/IDEgOlxuICAgICAgICAgMDtcbn1cblxuZXhwb3J0cy5yY29tcGFyZUlkZW50aWZpZXJzID0gcmNvbXBhcmVJZGVudGlmaWVycztcbmZ1bmN0aW9uIHJjb21wYXJlSWRlbnRpZmllcnMoYSwgYikge1xuICByZXR1cm4gY29tcGFyZUlkZW50aWZpZXJzKGIsIGEpO1xufVxuXG5leHBvcnRzLm1ham9yID0gbWFqb3I7XG5mdW5jdGlvbiBtYWpvcihhLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkubWFqb3I7XG59XG5cbmV4cG9ydHMubWlub3IgPSBtaW5vcjtcbmZ1bmN0aW9uIG1pbm9yKGEsIGxvb3NlKSB7XG4gIHJldHVybiBuZXcgU2VtVmVyKGEsIGxvb3NlKS5taW5vcjtcbn1cblxuZXhwb3J0cy5wYXRjaCA9IHBhdGNoO1xuZnVuY3Rpb24gcGF0Y2goYSwgbG9vc2UpIHtcbiAgcmV0dXJuIG5ldyBTZW1WZXIoYSwgbG9vc2UpLnBhdGNoO1xufVxuXG5leHBvcnRzLmNvbXBhcmUgPSBjb21wYXJlO1xuZnVuY3Rpb24gY29tcGFyZShhLCBiLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFNlbVZlcihhLCBsb29zZSkuY29tcGFyZShiKTtcbn1cblxuZXhwb3J0cy5jb21wYXJlTG9vc2UgPSBjb21wYXJlTG9vc2U7XG5mdW5jdGlvbiBjb21wYXJlTG9vc2UoYSwgYikge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCB0cnVlKTtcbn1cblxuZXhwb3J0cy5yY29tcGFyZSA9IHJjb21wYXJlO1xuZnVuY3Rpb24gcmNvbXBhcmUoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYiwgYSwgbG9vc2UpO1xufVxuXG5leHBvcnRzLnNvcnQgPSBzb3J0O1xuZnVuY3Rpb24gc29ydChsaXN0LCBsb29zZSkge1xuICByZXR1cm4gbGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gZXhwb3J0cy5jb21wYXJlKGEsIGIsIGxvb3NlKTtcbiAgfSk7XG59XG5cbmV4cG9ydHMucnNvcnQgPSByc29ydDtcbmZ1bmN0aW9uIHJzb3J0KGxpc3QsIGxvb3NlKSB7XG4gIHJldHVybiBsaXN0LnNvcnQoZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBleHBvcnRzLnJjb21wYXJlKGEsIGIsIGxvb3NlKTtcbiAgfSk7XG59XG5cbmV4cG9ydHMuZ3QgPSBndDtcbmZ1bmN0aW9uIGd0KGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA+IDA7XG59XG5cbmV4cG9ydHMubHQgPSBsdDtcbmZ1bmN0aW9uIGx0KGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA8IDA7XG59XG5cbmV4cG9ydHMuZXEgPSBlcTtcbmZ1bmN0aW9uIGVxKGEsIGIsIGxvb3NlKSB7XG4gIHJldHVybiBjb21wYXJlKGEsIGIsIGxvb3NlKSA9PT0gMDtcbn1cblxuZXhwb3J0cy5uZXEgPSBuZXE7XG5mdW5jdGlvbiBuZXEoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpICE9PSAwO1xufVxuXG5leHBvcnRzLmd0ZSA9IGd0ZTtcbmZ1bmN0aW9uIGd0ZShhLCBiLCBsb29zZSkge1xuICByZXR1cm4gY29tcGFyZShhLCBiLCBsb29zZSkgPj0gMDtcbn1cblxuZXhwb3J0cy5sdGUgPSBsdGU7XG5mdW5jdGlvbiBsdGUoYSwgYiwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXBhcmUoYSwgYiwgbG9vc2UpIDw9IDA7XG59XG5cbmV4cG9ydHMuY21wID0gY21wO1xuZnVuY3Rpb24gY21wKGEsIG9wLCBiLCBsb29zZSkge1xuICB2YXIgcmV0O1xuICBzd2l0Y2ggKG9wKSB7XG4gICAgY2FzZSAnPT09JzpcbiAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ29iamVjdCcpIGEgPSBhLnZlcnNpb247XG4gICAgICBpZiAodHlwZW9mIGIgPT09ICdvYmplY3QnKSBiID0gYi52ZXJzaW9uO1xuICAgICAgcmV0ID0gYSA9PT0gYjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJyE9PSc6XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSBhID0gYS52ZXJzaW9uO1xuICAgICAgaWYgKHR5cGVvZiBiID09PSAnb2JqZWN0JykgYiA9IGIudmVyc2lvbjtcbiAgICAgIHJldCA9IGEgIT09IGI7XG4gICAgICBicmVhaztcbiAgICBjYXNlICcnOiBjYXNlICc9JzogY2FzZSAnPT0nOiByZXQgPSBlcShhLCBiLCBsb29zZSk7IGJyZWFrO1xuICAgIGNhc2UgJyE9JzogcmV0ID0gbmVxKGEsIGIsIGxvb3NlKTsgYnJlYWs7XG4gICAgY2FzZSAnPic6IHJldCA9IGd0KGEsIGIsIGxvb3NlKTsgYnJlYWs7XG4gICAgY2FzZSAnPj0nOiByZXQgPSBndGUoYSwgYiwgbG9vc2UpOyBicmVhaztcbiAgICBjYXNlICc8JzogcmV0ID0gbHQoYSwgYiwgbG9vc2UpOyBicmVhaztcbiAgICBjYXNlICc8PSc6IHJldCA9IGx0ZShhLCBiLCBsb29zZSk7IGJyZWFrO1xuICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb3BlcmF0b3I6ICcgKyBvcCk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0cy5Db21wYXJhdG9yID0gQ29tcGFyYXRvcjtcbmZ1bmN0aW9uIENvbXBhcmF0b3IoY29tcCwgbG9vc2UpIHtcbiAgaWYgKGNvbXAgaW5zdGFuY2VvZiBDb21wYXJhdG9yKSB7XG4gICAgaWYgKGNvbXAubG9vc2UgPT09IGxvb3NlKVxuICAgICAgcmV0dXJuIGNvbXA7XG4gICAgZWxzZVxuICAgICAgY29tcCA9IGNvbXAudmFsdWU7XG4gIH1cblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29tcGFyYXRvcikpXG4gICAgcmV0dXJuIG5ldyBDb21wYXJhdG9yKGNvbXAsIGxvb3NlKTtcblxuICBkZWJ1ZygnY29tcGFyYXRvcicsIGNvbXAsIGxvb3NlKTtcbiAgdGhpcy5sb29zZSA9IGxvb3NlO1xuICB0aGlzLnBhcnNlKGNvbXApO1xuXG4gIGlmICh0aGlzLnNlbXZlciA9PT0gQU5ZKVxuICAgIHRoaXMudmFsdWUgPSAnJztcbiAgZWxzZVxuICAgIHRoaXMudmFsdWUgPSB0aGlzLm9wZXJhdG9yICsgdGhpcy5zZW12ZXIudmVyc2lvbjtcblxuICBkZWJ1ZygnY29tcCcsIHRoaXMpO1xufVxuXG52YXIgQU5ZID0ge307XG5Db21wYXJhdG9yLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKGNvbXApIHtcbiAgdmFyIHIgPSB0aGlzLmxvb3NlID8gcmVbQ09NUEFSQVRPUkxPT1NFXSA6IHJlW0NPTVBBUkFUT1JdO1xuICB2YXIgbSA9IGNvbXAubWF0Y2gocik7XG5cbiAgaWYgKCFtKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY29tcGFyYXRvcjogJyArIGNvbXApO1xuXG4gIHRoaXMub3BlcmF0b3IgPSBtWzFdO1xuICBpZiAodGhpcy5vcGVyYXRvciA9PT0gJz0nKVxuICAgIHRoaXMub3BlcmF0b3IgPSAnJztcblxuICAvLyBpZiBpdCBsaXRlcmFsbHkgaXMganVzdCAnPicgb3IgJycgdGhlbiBhbGxvdyBhbnl0aGluZy5cbiAgaWYgKCFtWzJdKVxuICAgIHRoaXMuc2VtdmVyID0gQU5ZO1xuICBlbHNlXG4gICAgdGhpcy5zZW12ZXIgPSBuZXcgU2VtVmVyKG1bMl0sIHRoaXMubG9vc2UpO1xufTtcblxuQ29tcGFyYXRvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMudmFsdWU7XG59O1xuXG5Db21wYXJhdG9yLnByb3RvdHlwZS50ZXN0ID0gZnVuY3Rpb24odmVyc2lvbikge1xuICBkZWJ1ZygnQ29tcGFyYXRvci50ZXN0JywgdmVyc2lvbiwgdGhpcy5sb29zZSk7XG5cbiAgaWYgKHRoaXMuc2VtdmVyID09PSBBTlkpXG4gICAgcmV0dXJuIHRydWU7XG5cbiAgaWYgKHR5cGVvZiB2ZXJzaW9uID09PSAnc3RyaW5nJylcbiAgICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCB0aGlzLmxvb3NlKTtcblxuICByZXR1cm4gY21wKHZlcnNpb24sIHRoaXMub3BlcmF0b3IsIHRoaXMuc2VtdmVyLCB0aGlzLmxvb3NlKTtcbn07XG5cblxuZXhwb3J0cy5SYW5nZSA9IFJhbmdlO1xuZnVuY3Rpb24gUmFuZ2UocmFuZ2UsIGxvb3NlKSB7XG4gIGlmICgocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkgJiYgcmFuZ2UubG9vc2UgPT09IGxvb3NlKVxuICAgIHJldHVybiByYW5nZTtcblxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmFuZ2UpKVxuICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2UsIGxvb3NlKTtcblxuICB0aGlzLmxvb3NlID0gbG9vc2U7XG5cbiAgLy8gRmlyc3QsIHNwbGl0IGJhc2VkIG9uIGJvb2xlYW4gb3IgfHxcbiAgdGhpcy5yYXcgPSByYW5nZTtcbiAgdGhpcy5zZXQgPSByYW5nZS5zcGxpdCgvXFxzKlxcfFxcfFxccyovKS5tYXAoZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZVJhbmdlKHJhbmdlLnRyaW0oKSk7XG4gIH0sIHRoaXMpLmZpbHRlcihmdW5jdGlvbihjKSB7XG4gICAgLy8gdGhyb3cgb3V0IGFueSB0aGF0IGFyZSBub3QgcmVsZXZhbnQgZm9yIHdoYXRldmVyIHJlYXNvblxuICAgIHJldHVybiBjLmxlbmd0aDtcbiAgfSk7XG5cbiAgaWYgKCF0aGlzLnNldC5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIFNlbVZlciBSYW5nZTogJyArIHJhbmdlKTtcbiAgfVxuXG4gIHRoaXMuZm9ybWF0KCk7XG59XG5cblJhbmdlLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yYW5nZSA9IHRoaXMuc2V0Lm1hcChmdW5jdGlvbihjb21wcykge1xuICAgIHJldHVybiBjb21wcy5qb2luKCcgJykudHJpbSgpO1xuICB9KS5qb2luKCd8fCcpLnRyaW0oKTtcbiAgcmV0dXJuIHRoaXMucmFuZ2U7XG59O1xuXG5SYW5nZS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucmFuZ2U7XG59O1xuXG5SYW5nZS5wcm90b3R5cGUucGFyc2VSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7XG4gIHZhciBsb29zZSA9IHRoaXMubG9vc2U7XG4gIHJhbmdlID0gcmFuZ2UudHJpbSgpO1xuICBkZWJ1ZygncmFuZ2UnLCByYW5nZSwgbG9vc2UpO1xuICAvLyBgMS4yLjMgLSAxLjIuNGAgPT4gYD49MS4yLjMgPD0xLjIuNGBcbiAgdmFyIGhyID0gbG9vc2UgPyByZVtIWVBIRU5SQU5HRUxPT1NFXSA6IHJlW0hZUEhFTlJBTkdFXTtcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKGhyLCBoeXBoZW5SZXBsYWNlKTtcbiAgZGVidWcoJ2h5cGhlbiByZXBsYWNlJywgcmFuZ2UpO1xuICAvLyBgPiAxLjIuMyA8IDEuMi41YCA9PiBgPjEuMi4zIDwxLjIuNWBcbiAgcmFuZ2UgPSByYW5nZS5yZXBsYWNlKHJlW0NPTVBBUkFUT1JUUklNXSwgY29tcGFyYXRvclRyaW1SZXBsYWNlKTtcbiAgZGVidWcoJ2NvbXBhcmF0b3IgdHJpbScsIHJhbmdlLCByZVtDT01QQVJBVE9SVFJJTV0pO1xuXG4gIC8vIGB+IDEuMi4zYCA9PiBgfjEuMi4zYFxuICByYW5nZSA9IHJhbmdlLnJlcGxhY2UocmVbVElMREVUUklNXSwgdGlsZGVUcmltUmVwbGFjZSk7XG5cbiAgLy8gYF4gMS4yLjNgID0+IGBeMS4yLjNgXG4gIHJhbmdlID0gcmFuZ2UucmVwbGFjZShyZVtDQVJFVFRSSU1dLCBjYXJldFRyaW1SZXBsYWNlKTtcblxuICAvLyBub3JtYWxpemUgc3BhY2VzXG4gIHJhbmdlID0gcmFuZ2Uuc3BsaXQoL1xccysvKS5qb2luKCcgJyk7XG5cbiAgLy8gQXQgdGhpcyBwb2ludCwgdGhlIHJhbmdlIGlzIGNvbXBsZXRlbHkgdHJpbW1lZCBhbmRcbiAgLy8gcmVhZHkgdG8gYmUgc3BsaXQgaW50byBjb21wYXJhdG9ycy5cblxuICB2YXIgY29tcFJlID0gbG9vc2UgPyByZVtDT01QQVJBVE9STE9PU0VdIDogcmVbQ09NUEFSQVRPUl07XG4gIHZhciBzZXQgPSByYW5nZS5zcGxpdCgnICcpLm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIHBhcnNlQ29tcGFyYXRvcihjb21wLCBsb29zZSk7XG4gIH0pLmpvaW4oJyAnKS5zcGxpdCgvXFxzKy8pO1xuICBpZiAodGhpcy5sb29zZSkge1xuICAgIC8vIGluIGxvb3NlIG1vZGUsIHRocm93IG91dCBhbnkgdGhhdCBhcmUgbm90IHZhbGlkIGNvbXBhcmF0b3JzXG4gICAgc2V0ID0gc2V0LmZpbHRlcihmdW5jdGlvbihjb21wKSB7XG4gICAgICByZXR1cm4gISFjb21wLm1hdGNoKGNvbXBSZSk7XG4gICAgfSk7XG4gIH1cbiAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wYXJhdG9yKGNvbXAsIGxvb3NlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHNldDtcbn07XG5cbi8vIE1vc3RseSBqdXN0IGZvciB0ZXN0aW5nIGFuZCBsZWdhY3kgQVBJIHJlYXNvbnNcbmV4cG9ydHMudG9Db21wYXJhdG9ycyA9IHRvQ29tcGFyYXRvcnM7XG5mdW5jdGlvbiB0b0NvbXBhcmF0b3JzKHJhbmdlLCBsb29zZSkge1xuICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLCBsb29zZSkuc2V0Lm1hcChmdW5jdGlvbihjb21wKSB7XG4gICAgcmV0dXJuIGNvbXAubWFwKGZ1bmN0aW9uKGMpIHtcbiAgICAgIHJldHVybiBjLnZhbHVlO1xuICAgIH0pLmpvaW4oJyAnKS50cmltKCkuc3BsaXQoJyAnKTtcbiAgfSk7XG59XG5cbi8vIGNvbXByaXNlZCBvZiB4cmFuZ2VzLCB0aWxkZXMsIHN0YXJzLCBhbmQgZ3RsdCdzIGF0IHRoaXMgcG9pbnQuXG4vLyBhbHJlYWR5IHJlcGxhY2VkIHRoZSBoeXBoZW4gcmFuZ2VzXG4vLyB0dXJuIGludG8gYSBzZXQgb2YgSlVTVCBjb21wYXJhdG9ycy5cbmZ1bmN0aW9uIHBhcnNlQ29tcGFyYXRvcihjb21wLCBsb29zZSkge1xuICBkZWJ1ZygnY29tcCcsIGNvbXApO1xuICBjb21wID0gcmVwbGFjZUNhcmV0cyhjb21wLCBsb29zZSk7XG4gIGRlYnVnKCdjYXJldCcsIGNvbXApO1xuICBjb21wID0gcmVwbGFjZVRpbGRlcyhjb21wLCBsb29zZSk7XG4gIGRlYnVnKCd0aWxkZXMnLCBjb21wKTtcbiAgY29tcCA9IHJlcGxhY2VYUmFuZ2VzKGNvbXAsIGxvb3NlKTtcbiAgZGVidWcoJ3hyYW5nZScsIGNvbXApO1xuICBjb21wID0gcmVwbGFjZVN0YXJzKGNvbXAsIGxvb3NlKTtcbiAgZGVidWcoJ3N0YXJzJywgY29tcCk7XG4gIHJldHVybiBjb21wO1xufVxuXG5mdW5jdGlvbiBpc1goaWQpIHtcbiAgcmV0dXJuICFpZCB8fCBpZC50b0xvd2VyQ2FzZSgpID09PSAneCcgfHwgaWQgPT09ICcqJztcbn1cblxuLy8gfiwgfj4gLS0+ICogKGFueSwga2luZGEgc2lsbHkpXG4vLyB+MiwgfjIueCwgfjIueC54LCB+PjIsIH4+Mi54IH4+Mi54LnggLS0+ID49Mi4wLjAgPDMuMC4wXG4vLyB+Mi4wLCB+Mi4wLngsIH4+Mi4wLCB+PjIuMC54IC0tPiA+PTIuMC4wIDwyLjEuMFxuLy8gfjEuMiwgfjEuMi54LCB+PjEuMiwgfj4xLjIueCAtLT4gPj0xLjIuMCA8MS4zLjBcbi8vIH4xLjIuMywgfj4xLjIuMyAtLT4gPj0xLjIuMyA8MS4zLjBcbi8vIH4xLjIuMCwgfj4xLjIuMCAtLT4gPj0xLjIuMCA8MS4zLjBcbmZ1bmN0aW9uIHJlcGxhY2VUaWxkZXMoY29tcCwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZVRpbGRlKGNvbXAsIGxvb3NlKTtcbiAgfSkuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlVGlsZGUoY29tcCwgbG9vc2UpIHtcbiAgdmFyIHIgPSBsb29zZSA/IHJlW1RJTERFTE9PU0VdIDogcmVbVElMREVdO1xuICByZXR1cm4gY29tcC5yZXBsYWNlKHIsIGZ1bmN0aW9uKF8sIE0sIG0sIHAsIHByKSB7XG4gICAgZGVidWcoJ3RpbGRlJywgY29tcCwgXywgTSwgbSwgcCwgcHIpO1xuICAgIHZhciByZXQ7XG5cbiAgICBpZiAoaXNYKE0pKVxuICAgICAgcmV0ID0gJyc7XG4gICAgZWxzZSBpZiAoaXNYKG0pKVxuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLjAuMCA8JyArICgrTSArIDEpICsgJy4wLjAnO1xuICAgIGVsc2UgaWYgKGlzWChwKSlcbiAgICAgIC8vIH4xLjIgPT0gPj0xLjIuMC0gPDEuMy4wLVxuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4wIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJztcbiAgICBlbHNlIGlmIChwcikge1xuICAgICAgZGVidWcoJ3JlcGxhY2VUaWxkZSBwcicsIHByKTtcbiAgICAgIGlmIChwci5jaGFyQXQoMCkgIT09ICctJylcbiAgICAgICAgcHIgPSAnLScgKyBwcjtcbiAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyBwciArXG4gICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJztcbiAgICB9IGVsc2VcbiAgICAgIC8vIH4xLjIuMyA9PSA+PTEuMi4zIDwxLjMuMFxuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArXG4gICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJztcblxuICAgIGRlYnVnKCd0aWxkZSByZXR1cm4nLCByZXQpO1xuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuXG4vLyBeIC0tPiAqIChhbnksIGtpbmRhIHNpbGx5KVxuLy8gXjIsIF4yLngsIF4yLngueCAtLT4gPj0yLjAuMCA8My4wLjBcbi8vIF4yLjAsIF4yLjAueCAtLT4gPj0yLjAuMCA8My4wLjBcbi8vIF4xLjIsIF4xLjIueCAtLT4gPj0xLjIuMCA8Mi4wLjBcbi8vIF4xLjIuMyAtLT4gPj0xLjIuMyA8Mi4wLjBcbi8vIF4xLjIuMCAtLT4gPj0xLjIuMCA8Mi4wLjBcbmZ1bmN0aW9uIHJlcGxhY2VDYXJldHMoY29tcCwgbG9vc2UpIHtcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZUNhcmV0KGNvbXAsIGxvb3NlKTtcbiAgfSkuam9pbignICcpO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlQ2FyZXQoY29tcCwgbG9vc2UpIHtcbiAgZGVidWcoJ2NhcmV0JywgY29tcCwgbG9vc2UpO1xuICB2YXIgciA9IGxvb3NlID8gcmVbQ0FSRVRMT09TRV0gOiByZVtDQVJFVF07XG4gIHJldHVybiBjb21wLnJlcGxhY2UociwgZnVuY3Rpb24oXywgTSwgbSwgcCwgcHIpIHtcbiAgICBkZWJ1ZygnY2FyZXQnLCBjb21wLCBfLCBNLCBtLCBwLCBwcik7XG4gICAgdmFyIHJldDtcblxuICAgIGlmIChpc1goTSkpXG4gICAgICByZXQgPSAnJztcbiAgICBlbHNlIGlmIChpc1gobSkpXG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7XG4gICAgZWxzZSBpZiAoaXNYKHApKSB7XG4gICAgICBpZiAoTSA9PT0gJzAnKVxuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgICAgZWxzZVxuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLjAgPCcgKyAoK00gKyAxKSArICcuMC4wJztcbiAgICB9IGVsc2UgaWYgKHByKSB7XG4gICAgICBkZWJ1ZygncmVwbGFjZUNhcmV0IHByJywgcHIpO1xuICAgICAgaWYgKHByLmNoYXJBdCgwKSAhPT0gJy0nKVxuICAgICAgICBwciA9ICctJyArIHByO1xuICAgICAgaWYgKE0gPT09ICcwJykge1xuICAgICAgICBpZiAobSA9PT0gJzAnKVxuICAgICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyBwciArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICsgcHIgK1xuICAgICAgICAgICAgICAgICcgPCcgKyBNICsgJy4nICsgKCttICsgMSkgKyAnLjAnO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHJldCA9ICc+PScgKyBNICsgJy4nICsgbSArICcuJyArIHAgKyBwciArXG4gICAgICAgICAgICAgICcgPCcgKyAoK00gKyAxKSArICcuMC4wJztcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcoJ25vIHByJyk7XG4gICAgICBpZiAoTSA9PT0gJzAnKSB7XG4gICAgICAgIGlmIChtID09PSAnMCcpXG4gICAgICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4nICsgcCArXG4gICAgICAgICAgICAgICAgJyA8JyArIE0gKyAnLicgKyBtICsgJy4nICsgKCtwICsgMSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgICAnIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJztcbiAgICAgIH0gZWxzZVxuICAgICAgICByZXQgPSAnPj0nICsgTSArICcuJyArIG0gKyAnLicgKyBwICtcbiAgICAgICAgICAgICAgJyA8JyArICgrTSArIDEpICsgJy4wLjAnO1xuICAgIH1cblxuICAgIGRlYnVnKCdjYXJldCByZXR1cm4nLCByZXQpO1xuICAgIHJldHVybiByZXQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlWFJhbmdlcyhjb21wLCBsb29zZSkge1xuICBkZWJ1ZygncmVwbGFjZVhSYW5nZXMnLCBjb21wLCBsb29zZSk7XG4gIHJldHVybiBjb21wLnNwbGl0KC9cXHMrLykubWFwKGZ1bmN0aW9uKGNvbXApIHtcbiAgICByZXR1cm4gcmVwbGFjZVhSYW5nZShjb21wLCBsb29zZSk7XG4gIH0pLmpvaW4oJyAnKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVhSYW5nZShjb21wLCBsb29zZSkge1xuICBjb21wID0gY29tcC50cmltKCk7XG4gIHZhciByID0gbG9vc2UgPyByZVtYUkFOR0VMT09TRV0gOiByZVtYUkFOR0VdO1xuICByZXR1cm4gY29tcC5yZXBsYWNlKHIsIGZ1bmN0aW9uKHJldCwgZ3RsdCwgTSwgbSwgcCwgcHIpIHtcbiAgICBkZWJ1ZygneFJhbmdlJywgY29tcCwgcmV0LCBndGx0LCBNLCBtLCBwLCBwcik7XG4gICAgdmFyIHhNID0gaXNYKE0pO1xuICAgIHZhciB4bSA9IHhNIHx8IGlzWChtKTtcbiAgICB2YXIgeHAgPSB4bSB8fCBpc1gocCk7XG4gICAgdmFyIGFueVggPSB4cDtcblxuICAgIGlmIChndGx0ID09PSAnPScgJiYgYW55WClcbiAgICAgIGd0bHQgPSAnJztcblxuICAgIGlmICh4TSkge1xuICAgICAgaWYgKGd0bHQgPT09ICc+JyB8fCBndGx0ID09PSAnPCcpIHtcbiAgICAgICAgLy8gbm90aGluZyBpcyBhbGxvd2VkXG4gICAgICAgIHJldCA9ICc8MC4wLjAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gbm90aGluZyBpcyBmb3JiaWRkZW5cbiAgICAgICAgcmV0ID0gJyonO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZ3RsdCAmJiBhbnlYKSB7XG4gICAgICAvLyByZXBsYWNlIFggd2l0aCAwXG4gICAgICBpZiAoeG0pXG4gICAgICAgIG0gPSAwO1xuICAgICAgaWYgKHhwKVxuICAgICAgICBwID0gMDtcblxuICAgICAgaWYgKGd0bHQgPT09ICc+Jykge1xuICAgICAgICAvLyA+MSA9PiA+PTIuMC4wXG4gICAgICAgIC8vID4xLjIgPT4gPj0xLjMuMFxuICAgICAgICAvLyA+MS4yLjMgPT4gPj0gMS4yLjRcbiAgICAgICAgZ3RsdCA9ICc+PSc7XG4gICAgICAgIGlmICh4bSkge1xuICAgICAgICAgIE0gPSArTSArIDE7XG4gICAgICAgICAgbSA9IDA7XG4gICAgICAgICAgcCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoeHApIHtcbiAgICAgICAgICBtID0gK20gKyAxO1xuICAgICAgICAgIHAgPSAwO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGd0bHQgPT09ICc8PScpIHtcbiAgICAgICAgLy8gPD0wLjcueCBpcyBhY3R1YWxseSA8MC44LjAsIHNpbmNlIGFueSAwLjcueCBzaG91bGRcbiAgICAgICAgLy8gcGFzcy4gIFNpbWlsYXJseSwgPD03LnggaXMgYWN0dWFsbHkgPDguMC4wLCBldGMuXG4gICAgICAgIGd0bHQgPSAnPCdcbiAgICAgICAgaWYgKHhtKVxuICAgICAgICAgIE0gPSArTSArIDFcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG0gPSArbSArIDFcbiAgICAgIH1cblxuICAgICAgcmV0ID0gZ3RsdCArIE0gKyAnLicgKyBtICsgJy4nICsgcDtcbiAgICB9IGVsc2UgaWYgKHhtKSB7XG4gICAgICByZXQgPSAnPj0nICsgTSArICcuMC4wIDwnICsgKCtNICsgMSkgKyAnLjAuMCc7XG4gICAgfSBlbHNlIGlmICh4cCkge1xuICAgICAgcmV0ID0gJz49JyArIE0gKyAnLicgKyBtICsgJy4wIDwnICsgTSArICcuJyArICgrbSArIDEpICsgJy4wJztcbiAgICB9XG5cbiAgICBkZWJ1ZygneFJhbmdlIHJldHVybicsIHJldCk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cblxuLy8gQmVjYXVzZSAqIGlzIEFORC1lZCB3aXRoIGV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgY29tcGFyYXRvcixcbi8vIGFuZCAnJyBtZWFucyBcImFueSB2ZXJzaW9uXCIsIGp1c3QgcmVtb3ZlIHRoZSAqcyBlbnRpcmVseS5cbmZ1bmN0aW9uIHJlcGxhY2VTdGFycyhjb21wLCBsb29zZSkge1xuICBkZWJ1ZygncmVwbGFjZVN0YXJzJywgY29tcCwgbG9vc2UpO1xuICAvLyBMb29zZW5lc3MgaXMgaWdub3JlZCBoZXJlLiAgc3RhciBpcyBhbHdheXMgYXMgbG9vc2UgYXMgaXQgZ2V0cyFcbiAgcmV0dXJuIGNvbXAudHJpbSgpLnJlcGxhY2UocmVbU1RBUl0sICcnKTtcbn1cblxuLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgdG8gc3RyaW5nLnJlcGxhY2UocmVbSFlQSEVOUkFOR0VdKVxuLy8gTSwgbSwgcGF0Y2gsIHByZXJlbGVhc2UsIGJ1aWxkXG4vLyAxLjIgLSAzLjQuNSA9PiA+PTEuMi4wIDw9My40LjVcbi8vIDEuMi4zIC0gMy40ID0+ID49MS4yLjAgPDMuNS4wIEFueSAzLjQueCB3aWxsIGRvXG4vLyAxLjIgLSAzLjQgPT4gPj0xLjIuMCA8My41LjBcbmZ1bmN0aW9uIGh5cGhlblJlcGxhY2UoJDAsXG4gICAgICAgICAgICAgICAgICAgICAgIGZyb20sIGZNLCBmbSwgZnAsIGZwciwgZmIsXG4gICAgICAgICAgICAgICAgICAgICAgIHRvLCB0TSwgdG0sIHRwLCB0cHIsIHRiKSB7XG5cbiAgaWYgKGlzWChmTSkpXG4gICAgZnJvbSA9ICcnO1xuICBlbHNlIGlmIChpc1goZm0pKVxuICAgIGZyb20gPSAnPj0nICsgZk0gKyAnLjAuMCc7XG4gIGVsc2UgaWYgKGlzWChmcCkpXG4gICAgZnJvbSA9ICc+PScgKyBmTSArICcuJyArIGZtICsgJy4wJztcbiAgZWxzZVxuICAgIGZyb20gPSAnPj0nICsgZnJvbTtcblxuICBpZiAoaXNYKHRNKSlcbiAgICB0byA9ICcnO1xuICBlbHNlIGlmIChpc1godG0pKVxuICAgIHRvID0gJzwnICsgKCt0TSArIDEpICsgJy4wLjAnO1xuICBlbHNlIGlmIChpc1godHApKVxuICAgIHRvID0gJzwnICsgdE0gKyAnLicgKyAoK3RtICsgMSkgKyAnLjAnO1xuICBlbHNlIGlmICh0cHIpXG4gICAgdG8gPSAnPD0nICsgdE0gKyAnLicgKyB0bSArICcuJyArIHRwICsgJy0nICsgdHByO1xuICBlbHNlXG4gICAgdG8gPSAnPD0nICsgdG87XG5cbiAgcmV0dXJuIChmcm9tICsgJyAnICsgdG8pLnRyaW0oKTtcbn1cblxuXG4vLyBpZiBBTlkgb2YgdGhlIHNldHMgbWF0Y2ggQUxMIG9mIGl0cyBjb21wYXJhdG9ycywgdGhlbiBwYXNzXG5SYW5nZS5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKHZlcnNpb24pIHtcbiAgaWYgKCF2ZXJzaW9uKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnKVxuICAgIHZlcnNpb24gPSBuZXcgU2VtVmVyKHZlcnNpb24sIHRoaXMubG9vc2UpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZXQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAodGVzdFNldCh0aGlzLnNldFtpXSwgdmVyc2lvbikpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiB0ZXN0U2V0KHNldCwgdmVyc2lvbikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNldC5sZW5ndGg7IGkrKykge1xuICAgIGlmICghc2V0W2ldLnRlc3QodmVyc2lvbikpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAodmVyc2lvbi5wcmVyZWxlYXNlLmxlbmd0aCkge1xuICAgIC8vIEZpbmQgdGhlIHNldCBvZiB2ZXJzaW9ucyB0aGF0IGFyZSBhbGxvd2VkIHRvIGhhdmUgcHJlcmVsZWFzZXNcbiAgICAvLyBGb3IgZXhhbXBsZSwgXjEuMi4zLXByLjEgZGVzdWdhcnMgdG8gPj0xLjIuMy1wci4xIDwyLjAuMFxuICAgIC8vIFRoYXQgc2hvdWxkIGFsbG93IGAxLjIuMy1wci4yYCB0byBwYXNzLlxuICAgIC8vIEhvd2V2ZXIsIGAxLjIuNC1hbHBoYS5ub3RyZWFkeWAgc2hvdWxkIE5PVCBiZSBhbGxvd2VkLFxuICAgIC8vIGV2ZW4gdGhvdWdoIGl0J3Mgd2l0aGluIHRoZSByYW5nZSBzZXQgYnkgdGhlIGNvbXBhcmF0b3JzLlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBkZWJ1ZyhzZXRbaV0uc2VtdmVyKTtcbiAgICAgIGlmIChzZXRbaV0uc2VtdmVyID09PSBBTlkpXG4gICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICBpZiAoc2V0W2ldLnNlbXZlci5wcmVyZWxlYXNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGFsbG93ZWQgPSBzZXRbaV0uc2VtdmVyO1xuICAgICAgICBpZiAoYWxsb3dlZC5tYWpvciA9PT0gdmVyc2lvbi5tYWpvciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5taW5vciA9PT0gdmVyc2lvbi5taW5vciAmJlxuICAgICAgICAgICAgYWxsb3dlZC5wYXRjaCA9PT0gdmVyc2lvbi5wYXRjaClcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIGhhcyBhIC1wcmUsIGJ1dCBpdCdzIG5vdCBvbmUgb2YgdGhlIG9uZXMgd2UgbGlrZS5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0cy5zYXRpc2ZpZXMgPSBzYXRpc2ZpZXM7XG5mdW5jdGlvbiBzYXRpc2ZpZXModmVyc2lvbiwgcmFuZ2UsIGxvb3NlKSB7XG4gIHRyeSB7XG4gICAgcmFuZ2UgPSBuZXcgUmFuZ2UocmFuZ2UsIGxvb3NlKTtcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHJhbmdlLnRlc3QodmVyc2lvbik7XG59XG5cbmV4cG9ydHMubWF4U2F0aXNmeWluZyA9IG1heFNhdGlzZnlpbmc7XG5mdW5jdGlvbiBtYXhTYXRpc2Z5aW5nKHZlcnNpb25zLCByYW5nZSwgbG9vc2UpIHtcbiAgcmV0dXJuIHZlcnNpb25zLmZpbHRlcihmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIHNhdGlzZmllcyh2ZXJzaW9uLCByYW5nZSwgbG9vc2UpO1xuICB9KS5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gcmNvbXBhcmUoYSwgYiwgbG9vc2UpO1xuICB9KVswXSB8fCBudWxsO1xufVxuXG5leHBvcnRzLnZhbGlkUmFuZ2UgPSB2YWxpZFJhbmdlO1xuZnVuY3Rpb24gdmFsaWRSYW5nZShyYW5nZSwgbG9vc2UpIHtcbiAgdHJ5IHtcbiAgICAvLyBSZXR1cm4gJyonIGluc3RlYWQgb2YgJycgc28gdGhhdCB0cnV0aGluZXNzIHdvcmtzLlxuICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBpZiBpdCdzIGludmFsaWQgYW55d2F5XG4gICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZSwgbG9vc2UpLnJhbmdlIHx8ICcqJztcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vLyBEZXRlcm1pbmUgaWYgdmVyc2lvbiBpcyBsZXNzIHRoYW4gYWxsIHRoZSB2ZXJzaW9ucyBwb3NzaWJsZSBpbiB0aGUgcmFuZ2VcbmV4cG9ydHMubHRyID0gbHRyO1xuZnVuY3Rpb24gbHRyKHZlcnNpb24sIHJhbmdlLCBsb29zZSkge1xuICByZXR1cm4gb3V0c2lkZSh2ZXJzaW9uLCByYW5nZSwgJzwnLCBsb29zZSk7XG59XG5cbi8vIERldGVybWluZSBpZiB2ZXJzaW9uIGlzIGdyZWF0ZXIgdGhhbiBhbGwgdGhlIHZlcnNpb25zIHBvc3NpYmxlIGluIHRoZSByYW5nZS5cbmV4cG9ydHMuZ3RyID0gZ3RyO1xuZnVuY3Rpb24gZ3RyKHZlcnNpb24sIHJhbmdlLCBsb29zZSkge1xuICByZXR1cm4gb3V0c2lkZSh2ZXJzaW9uLCByYW5nZSwgJz4nLCBsb29zZSk7XG59XG5cbmV4cG9ydHMub3V0c2lkZSA9IG91dHNpZGU7XG5mdW5jdGlvbiBvdXRzaWRlKHZlcnNpb24sIHJhbmdlLCBoaWxvLCBsb29zZSkge1xuICB2ZXJzaW9uID0gbmV3IFNlbVZlcih2ZXJzaW9uLCBsb29zZSk7XG4gIHJhbmdlID0gbmV3IFJhbmdlKHJhbmdlLCBsb29zZSk7XG5cbiAgdmFyIGd0Zm4sIGx0ZWZuLCBsdGZuLCBjb21wLCBlY29tcDtcbiAgc3dpdGNoIChoaWxvKSB7XG4gICAgY2FzZSAnPic6XG4gICAgICBndGZuID0gZ3Q7XG4gICAgICBsdGVmbiA9IGx0ZTtcbiAgICAgIGx0Zm4gPSBsdDtcbiAgICAgIGNvbXAgPSAnPic7XG4gICAgICBlY29tcCA9ICc+PSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICc8JzpcbiAgICAgIGd0Zm4gPSBsdDtcbiAgICAgIGx0ZWZuID0gZ3RlO1xuICAgICAgbHRmbiA9IGd0O1xuICAgICAgY29tcCA9ICc8JztcbiAgICAgIGVjb21wID0gJzw9JztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNdXN0IHByb3ZpZGUgYSBoaWxvIHZhbCBvZiBcIjxcIiBvciBcIj5cIicpO1xuICB9XG5cbiAgLy8gSWYgaXQgc2F0aXNpZmVzIHRoZSByYW5nZSBpdCBpcyBub3Qgb3V0c2lkZVxuICBpZiAoc2F0aXNmaWVzKHZlcnNpb24sIHJhbmdlLCBsb29zZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBGcm9tIG5vdyBvbiwgdmFyaWFibGUgdGVybXMgYXJlIGFzIGlmIHdlJ3JlIGluIFwiZ3RyXCIgbW9kZS5cbiAgLy8gYnV0IG5vdGUgdGhhdCBldmVyeXRoaW5nIGlzIGZsaXBwZWQgZm9yIHRoZSBcImx0clwiIGZ1bmN0aW9uLlxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2Uuc2V0Lmxlbmd0aDsgKytpKSB7XG4gICAgdmFyIGNvbXBhcmF0b3JzID0gcmFuZ2Uuc2V0W2ldO1xuXG4gICAgdmFyIGhpZ2ggPSBudWxsO1xuICAgIHZhciBsb3cgPSBudWxsO1xuXG4gICAgY29tcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihjb21wYXJhdG9yKSB7XG4gICAgICBpZiAoY29tcGFyYXRvci5zZW12ZXIgPT09IEFOWSkge1xuICAgICAgICBjb21wYXJhdG9yID0gbmV3IENvbXBhcmF0b3IoJz49MC4wLjAnKVxuICAgICAgfVxuICAgICAgaGlnaCA9IGhpZ2ggfHwgY29tcGFyYXRvcjtcbiAgICAgIGxvdyA9IGxvdyB8fCBjb21wYXJhdG9yO1xuICAgICAgaWYgKGd0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGhpZ2guc2VtdmVyLCBsb29zZSkpIHtcbiAgICAgICAgaGlnaCA9IGNvbXBhcmF0b3I7XG4gICAgICB9IGVsc2UgaWYgKGx0Zm4oY29tcGFyYXRvci5zZW12ZXIsIGxvdy5zZW12ZXIsIGxvb3NlKSkge1xuICAgICAgICBsb3cgPSBjb21wYXJhdG9yO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSWYgdGhlIGVkZ2UgdmVyc2lvbiBjb21wYXJhdG9yIGhhcyBhIG9wZXJhdG9yIHRoZW4gb3VyIHZlcnNpb25cbiAgICAvLyBpc24ndCBvdXRzaWRlIGl0XG4gICAgaWYgKGhpZ2gub3BlcmF0b3IgPT09IGNvbXAgfHwgaGlnaC5vcGVyYXRvciA9PT0gZWNvbXApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGUgbG93ZXN0IHZlcnNpb24gY29tcGFyYXRvciBoYXMgYW4gb3BlcmF0b3IgYW5kIG91ciB2ZXJzaW9uXG4gICAgLy8gaXMgbGVzcyB0aGFuIGl0IHRoZW4gaXQgaXNuJ3QgaGlnaGVyIHRoYW4gdGhlIHJhbmdlXG4gICAgaWYgKCghbG93Lm9wZXJhdG9yIHx8IGxvdy5vcGVyYXRvciA9PT0gY29tcCkgJiZcbiAgICAgICAgbHRlZm4odmVyc2lvbiwgbG93LnNlbXZlcikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGxvdy5vcGVyYXRvciA9PT0gZWNvbXAgJiYgbHRmbih2ZXJzaW9uLCBsb3cuc2VtdmVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3NlbXZlci9zZW12ZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxMDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vc2VtdmVyL3NlbXZlci5qcyIsImltcG9ydCBzZW12ZXIgZnJvbSAnc2VtdmVyJ1xuaW1wb3J0IHsgaXNQbGFpbk9iamVjdCwgdHlwb2YgfSBmcm9tICcuLi91dGlsJ1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBhIHZlcnNpb24gc3RyaW5nLlxuICogQHBhcmFtICB7U3RyaW5nfSBWZXJzaW9uLiBpZTogMSwgMS4wLCAxLjAuMFxuICogQHJldHVybiB7U3RyaW5nfSBWZXJzaW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVWZXJzaW9uICh2KSB7XG4gIGNvbnN0IGlzVmFsaWQgPSBzZW12ZXIudmFsaWQodilcbiAgaWYgKGlzVmFsaWQpIHtcbiAgICByZXR1cm4gdlxuICB9XG5cbiAgdiA9IHR5cGVvZiAodikgPT09ICdzdHJpbmcnID8gdiA6ICcnXG4gIGNvbnN0IHNwbGl0ID0gdi5zcGxpdCgnLicpXG4gIGxldCBpID0gMFxuICBjb25zdCByZXN1bHQgPSBbXVxuXG4gIHdoaWxlIChpIDwgMykge1xuICAgIGNvbnN0IHMgPSB0eXBlb2YgKHNwbGl0W2ldKSA9PT0gJ3N0cmluZycgJiYgc3BsaXRbaV0gPyBzcGxpdFtpXSA6ICcwJ1xuICAgIHJlc3VsdC5wdXNoKHMpXG4gICAgaSsrXG4gIH1cblxuICByZXR1cm4gcmVzdWx0LmpvaW4oJy4nKVxufVxuXG4vKipcbiAqIEdldCBpbmZvcm1hdGlvbnMgZnJvbSBkaWZmZXJlbnQgZXJyb3Iga2V5LiBMaWtlOlxuICogLSBjb2RlXG4gKiAtIGVycm9yTWVzc2FnZVxuICogLSBlcnJvclR5cGVcbiAqIC0gaXNEb3duZ3JhZGVcbiAqIEBwYXJhbSAge3N0cmluZ30ga2V5XG4gKiBAcGFyYW0gIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtICB7c3RyaW5nfSBjcml0ZXJpYVxuICogQHJldHVybiB7b2JqZWN0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3IgKGtleSwgdmFsLCBjcml0ZXJpYSkge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgaXNEb3duZ3JhZGU6IHRydWUsXG4gICAgZXJyb3JUeXBlOiAxLFxuICAgIGNvZGU6IDEwMDBcbiAgfVxuICBjb25zdCBnZXRNc2cgPSBmdW5jdGlvbiAoa2V5LCB2YWwsIGNyaXRlcmlhKSB7XG4gICAgcmV0dXJuICdEb3duZ3JhZGVbJyArIGtleSArICddIDo6IGRldmljZUluZm8gJ1xuICAgICAgKyB2YWwgKyAnIG1hdGNoZWQgY3JpdGVyaWEgJyArIGNyaXRlcmlhXG4gIH1cbiAgY29uc3QgX2tleSA9IGtleS50b0xvd2VyQ2FzZSgpXG5cbiAgcmVzdWx0LmVycm9yTWVzc2FnZSA9IGdldE1zZyhrZXksIHZhbCwgY3JpdGVyaWEpXG5cbiAgaWYgKF9rZXkuaW5kZXhPZignb3N2ZXJzaW9uJykgPj0gMCkge1xuICAgIHJlc3VsdC5jb2RlID0gMTAwMVxuICB9XG4gIGVsc2UgaWYgKF9rZXkuaW5kZXhPZignYXBwdmVyc2lvbicpID49IDApIHtcbiAgICByZXN1bHQuY29kZSA9IDEwMDJcbiAgfVxuICBlbHNlIGlmIChfa2V5LmluZGV4T2YoJ3dlZXh2ZXJzaW9uJykgPj0gMCkge1xuICAgIHJlc3VsdC5jb2RlID0gMTAwM1xuICB9XG4gIGVsc2UgaWYgKF9rZXkuaW5kZXhPZignZGV2aWNlbW9kZWwnKSA+PSAwKSB7XG4gICAgcmVzdWx0LmNvZGUgPSAxMDA0XG4gIH1cblxuICByZXR1cm4gcmVzdWx0XG59XG5cbi8qKlxuICogV0VFWCBmcmFtZXdvcmsgaW5wdXQoZGV2aWNlSW5mbylcbiAqIHtcbiAqICAgcGxhdGZvcm06ICdpT1MnIG9yICdhbmRyb2lkJ1xuICogICBvc1ZlcnNpb246ICcxLjAuMCcgb3IgJzEuMCcgb3IgJzEnXG4gKiAgIGFwcFZlcnNpb246ICcxLjAuMCcgb3IgJzEuMCcgb3IgJzEnXG4gKiAgIHdlZXhWZXJzaW9uOiAnMS4wLjAnIG9yICcxLjAnIG9yICcxJ1xuICogICBkRGV2aWNlTW9kZWw6ICdNT0RFTF9OQU1FJ1xuICogfVxuICpcbiAqIGRvd25ncmFkZSBjb25maWcoY29uZmlnKVxuICoge1xuICogICBpb3M6IHtcbiAqICAgICBvc1ZlcnNpb246ICc+MS4wLjAnIG9yICc+PTEuMC4wJyBvciAnPDEuMC4wJyBvciAnPD0xLjAuMCcgb3IgJzEuMC4wJ1xuICogICAgIGFwcFZlcnNpb246ICc+MS4wLjAnIG9yICc+PTEuMC4wJyBvciAnPDEuMC4wJyBvciAnPD0xLjAuMCcgb3IgJzEuMC4wJ1xuICogICAgIHdlZXhWZXJzaW9uOiAnPjEuMC4wJyBvciAnPj0xLjAuMCcgb3IgJzwxLjAuMCcgb3IgJzw9MS4wLjAnIG9yICcxLjAuMCdcbiAqICAgICBkZXZpY2VNb2RlbDogWydtb2RlbEEnLCAnbW9kZWxCJywgLi4uXVxuICogICB9LFxuICogICBhbmRyb2lkOiB7XG4gKiAgICAgb3NWZXJzaW9uOiAnPjEuMC4wJyBvciAnPj0xLjAuMCcgb3IgJzwxLjAuMCcgb3IgJzw9MS4wLjAnIG9yICcxLjAuMCdcbiAqICAgICBhcHBWZXJzaW9uOiAnPjEuMC4wJyBvciAnPj0xLjAuMCcgb3IgJzwxLjAuMCcgb3IgJzw9MS4wLjAnIG9yICcxLjAuMCdcbiAqICAgICB3ZWV4VmVyc2lvbjogJz4xLjAuMCcgb3IgJz49MS4wLjAnIG9yICc8MS4wLjAnIG9yICc8PTEuMC4wJyBvciAnMS4wLjAnXG4gKiAgICAgZGV2aWNlTW9kZWw6IFsnbW9kZWxBJywgJ21vZGVsQicsIC4uLl1cbiAqICAgfVxuICogfVxuICpcbiAqXG4gKiBAcGFyYW0gIHtvYmplY3R9IGRldmljZUluZm8gV2VleCBTREsgZnJhbWV3b3JrIGlucHV0XG4gKiBAcGFyYW0gIHtvYmplY3R9IGNvbmZpZyAgICAgdXNlciBpbnB1dFxuICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICAgIHsgaXNEb3duZ3JhZGU6IHRydWUvZmFsc2UsIGVycm9yTWVzc2FnZS4uLiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVjayAoY29uZmlnLCBkZXZpY2VJbmZvKSB7XG4gIGRldmljZUluZm8gPSBkZXZpY2VJbmZvIHx8IGdsb2JhbC5XWEVudmlyb25tZW50XG4gIGRldmljZUluZm8gPSBpc1BsYWluT2JqZWN0KGRldmljZUluZm8pID8gZGV2aWNlSW5mbyA6IHt9XG5cbiAgbGV0IHJlc3VsdCA9IHtcbiAgICBpc0Rvd25ncmFkZTogZmFsc2UgLy8gZGVmYXV0bCBpcyBwYXNzXG4gIH1cblxuICBpZiAodHlwb2YoY29uZmlnKSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGxldCBjdXN0b21Eb3duZ3JhZGUgPSBjb25maWcuY2FsbCh0aGlzLCBkZXZpY2VJbmZvLCB7XG4gICAgICBzZW12ZXI6IHNlbXZlcixcbiAgICAgIG5vcm1hbGl6ZVZlcnNpb246IHRoaXMubm9ybWFsaXplVmVyc2lvblxuICAgIH0pXG5cbiAgICBjdXN0b21Eb3duZ3JhZGUgPSAhIWN1c3RvbURvd25ncmFkZVxuXG4gICAgcmVzdWx0ID0gY3VzdG9tRG93bmdyYWRlID8gdGhpcy5nZXRFcnJvcignY3VzdG9tJywgJycsICdjdXN0b20gcGFyYW1zJykgOiByZXN1bHRcbiAgfVxuICBlbHNlIHtcbiAgICBjb25maWcgPSBpc1BsYWluT2JqZWN0KGNvbmZpZykgPyBjb25maWcgOiB7fVxuXG4gICAgY29uc3QgcGxhdGZvcm0gPSBkZXZpY2VJbmZvLnBsYXRmb3JtIHx8ICd1bmtub3cnXG4gICAgY29uc3QgZFBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKVxuICAgIGNvbnN0IGNPYmogPSBjb25maWdbZFBsYXRmb3JtXSB8fCB7fVxuXG4gICAgZm9yIChjb25zdCBpIGluIGRldmljZUluZm8pIHtcbiAgICAgIGNvbnN0IGtleSA9IGlcbiAgICAgIGNvbnN0IGtleUxvd2VyID0ga2V5LnRvTG93ZXJDYXNlKClcbiAgICAgIGNvbnN0IHZhbCA9IGRldmljZUluZm9baV1cbiAgICAgIGNvbnN0IGlzVmVyc2lvbiA9IGtleUxvd2VyLmluZGV4T2YoJ3ZlcnNpb24nKSA+PSAwXG4gICAgICBjb25zdCBpc0RldmljZU1vZGVsID0ga2V5TG93ZXIuaW5kZXhPZignZGV2aWNlbW9kZWwnKSA+PSAwXG4gICAgICBjb25zdCBjcml0ZXJpYSA9IGNPYmpbaV1cblxuICAgICAgaWYgKGNyaXRlcmlhICYmIGlzVmVyc2lvbikge1xuICAgICAgICBjb25zdCBjID0gdGhpcy5ub3JtYWxpemVWZXJzaW9uKGNyaXRlcmlhKVxuICAgICAgICBjb25zdCBkID0gdGhpcy5ub3JtYWxpemVWZXJzaW9uKGRldmljZUluZm9baV0pXG5cbiAgICAgICAgaWYgKHNlbXZlci5zYXRpc2ZpZXMoZCwgYykpIHtcbiAgICAgICAgICByZXN1bHQgPSB0aGlzLmdldEVycm9yKGtleSwgdmFsLCBjcml0ZXJpYSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChpc0RldmljZU1vZGVsKSB7XG4gICAgICAgIGNvbnN0IF9jcml0ZXJpYSA9IHR5cG9mKGNyaXRlcmlhKSA9PT0gJ2FycmF5JyA/IGNyaXRlcmlhIDogW2NyaXRlcmlhXVxuICAgICAgICBpZiAoX2NyaXRlcmlhLmluZGV4T2YodmFsKSA+PSAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdGhpcy5nZXRFcnJvcihrZXksIHZhbCwgY3JpdGVyaWEpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9hcHAvZG93bmdyYWRlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcHAvZG93bmdyYWRlLmpzIiwiaW1wb3J0IFZtIGZyb20gJy4uL3ZtJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnXG5pbXBvcnQge1xuICBpbml0TW9kdWxlcyxcbiAgaW5pdE1ldGhvZHNcbn0gZnJvbSAnLi4vYXBwL3JlZ2lzdGVyJ1xuXG5jb25zdCB7XG4gIG5hdGl2ZUNvbXBvbmVudE1hcFxufSA9IGNvbmZpZ1xuXG4vKipcbiAqIFJlZ2lzdGVyIHRoZSBuYW1lIG9mIGVhY2ggbmF0aXZlIGNvbXBvbmVudC5cbiAqIEBwYXJhbSAge2FycmF5fSBjb21wb25lbnRzIGFycmF5IG9mIG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50cyAoY29tcG9uZW50cykge1xuICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnRzKSkge1xuICAgIGNvbXBvbmVudHMuZm9yRWFjaChmdW5jdGlvbiByZWdpc3RlciAobmFtZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIG5hdGl2ZUNvbXBvbmVudE1hcFtuYW1lXSA9IHRydWVcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbmFtZS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICBuYXRpdmVDb21wb25lbnRNYXBbbmFtZS50eXBlXSA9IG5hbWVcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgdGhlIG5hbWUgYW5kIG1ldGhvZHMgb2YgZWFjaCBtb2R1bGUuXG4gKiBAcGFyYW0gIHtvYmplY3R9IG1vZHVsZXMgYSBvYmplY3Qgb2YgbW9kdWxlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJNb2R1bGVzIChtb2R1bGVzKSB7XG4gIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ29iamVjdCcpIHtcbiAgICBpbml0TW9kdWxlcyhtb2R1bGVzKVxuICB9XG59XG5cbi8qKlxuICogUmVnaXN0ZXIgdGhlIG5hbWUgYW5kIG1ldGhvZHMgb2YgZWFjaCBhcGkuXG4gKiBAcGFyYW0gIHtvYmplY3R9IGFwaXMgYSBvYmplY3Qgb2YgYXBpc1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJNZXRob2RzIChtZXRob2RzKSB7XG4gIGlmICh0eXBlb2YgbWV0aG9kcyA9PT0gJ29iamVjdCcpIHtcbiAgICBpbml0TWV0aG9kcyhWbSwgbWV0aG9kcylcbiAgfVxufVxuXG4vLyBAdG9kbzogSGFjayBmb3IgdGhpcyBmcmFtZXdvcmsgb25seS4gV2lsbCBiZSByZS1kZXNpZ25lZCBvciByZW1vdmVkIGxhdGVyLlxuZ2xvYmFsLnJlZ2lzdGVyTWV0aG9kcyA9IHJlZ2lzdGVyTWV0aG9kc1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L3N0YXRpYy9yZWdpc3Rlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2RlZmF1bHQvc3RhdGljL3JlZ2lzdGVyLmpzIiwiaW1wb3J0IHsgaW5zdGFuY2VNYXAgfSBmcm9tICcuL21hcCdcbmltcG9ydCB7XG4gIGZpcmVFdmVudCxcbiAgY2FsbGJhY2tcbn0gZnJvbSAnLi4vYXBwL2N0cmwnXG5cbmNvbnN0IGpzSGFuZGxlcnMgPSB7XG4gIGZpcmVFdmVudDogKGlkLCAuLi5hcmdzKSA9PiB7XG4gICAgcmV0dXJuIGZpcmVFdmVudChpbnN0YW5jZU1hcFtpZF0sIC4uLmFyZ3MpXG4gIH0sXG4gIGNhbGxiYWNrOiAoaWQsIC4uLmFyZ3MpID0+IHtcbiAgICByZXR1cm4gY2FsbGJhY2soaW5zdGFuY2VNYXBbaWRdLCAuLi5hcmdzKVxuICB9XG59XG5cbi8qKlxuICogQWNjZXB0IGNhbGxzIGZyb20gbmF0aXZlIChldmVudCBvciBjYWxsYmFjaykuXG4gKlxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHBhcmFtICB7YXJyYXl9IHRhc2tzIGxpc3Qgd2l0aCBgbWV0aG9kYCBhbmQgYGFyZ3NgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNlaXZlVGFza3MgKGlkLCB0YXNrcykge1xuICBjb25zdCBpbnN0YW5jZSA9IGluc3RhbmNlTWFwW2lkXVxuICBpZiAoaW5zdGFuY2UgJiYgQXJyYXkuaXNBcnJheSh0YXNrcykpIHtcbiAgICBjb25zdCByZXN1bHRzID0gW11cbiAgICB0YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICBjb25zdCBoYW5kbGVyID0ganNIYW5kbGVyc1t0YXNrLm1ldGhvZF1cbiAgICAgIGNvbnN0IGFyZ3MgPSBbLi4udGFzay5hcmdzXVxuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGFyZ3MudW5zaGlmdChpZClcbiAgICAgICAgcmVzdWx0cy5wdXNoKGhhbmRsZXIoLi4uYXJncykpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gcmVzdWx0c1xuICB9XG4gIHJldHVybiBuZXcgRXJyb3IoYGludmFsaWQgaW5zdGFuY2UgaWQgXCIke2lkfVwiIG9yIHRhc2tzYClcbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvZGVmYXVsdC9zdGF0aWMvYnJpZGdlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9zdGF0aWMvYnJpZGdlLmpzIiwiaW1wb3J0IHsgaW5zdGFuY2VNYXAgfSBmcm9tICcuL21hcCdcbmltcG9ydCB7XG4gIGdldFJvb3RFbGVtZW50XG59IGZyb20gJy4uL2FwcC9jdHJsJ1xuXG4vKipcbiAqIEdldCBhIHdob2xlIGVsZW1lbnQgdHJlZSBvZiBhbiBpbnN0YW5jZSBmb3IgZGVidWdnaW5nLlxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7b2JqZWN0fSBhIHZpcnR1YWwgZG9tIHRyZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJvb3QgKGlkKSB7XG4gIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VNYXBbaWRdXG4gIGxldCByZXN1bHRcbiAgaWYgKGluc3RhbmNlKSB7XG4gICAgcmVzdWx0ID0gZ2V0Um9vdEVsZW1lbnQoaW5zdGFuY2UpXG4gIH1cbiAgZWxzZSB7XG4gICAgcmVzdWx0ID0gbmV3IEVycm9yKGBpbnZhbGlkIGluc3RhbmNlIGlkIFwiJHtpZH1cImApXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L3N0YXRpYy9taXNjLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9zdGF0aWMvbWlzYy5qcyIsIi8qKlxuICogQGZpbGVPdmVydmlld1xuICogQSBzaW1wbGUgdmlydHVhbCBkb20gaW1wbGVtZW50YXRpb25cbiAqL1xuLy8gaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vc2hhcmVkJ1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vc2hhcmVkL3V0aWxzJ1xuXG5jb25zdCBERUZBVUxUX1RBR19OQU1FID0gJ2RpdidcblxuZXhwb3J0IGNvbnN0IGluc3RhbmNlTWFwID0ge31cbmxldCBuZXh0Tm9kZVJlZiA9IDFcblxuZXhwb3J0IGZ1bmN0aW9uIERvY3VtZW50IChpZCwgdXJsLCBoYW5kbGVyLCBMaXN0ZW5lcikge1xuICBpZCA9IGlkID8gaWQudG9TdHJpbmcoKSA6ICcnXG4gIHRoaXMuaWQgPSBpZFxuICB0aGlzLlVSTCA9IHVybFxuXG4gIGluc3RhbmNlTWFwW2lkXSA9IHRoaXNcbiAgdGhpcy5ub2RlTWFwID0ge31cbiAgTGlzdGVuZXIgJiYgKHRoaXMubGlzdGVuZXIgPSBuZXcgTGlzdGVuZXIoaWQsIGhhbmRsZXIgfHwgZ2VuQ2FsbFRhc2tzKGlkKSkpXG4gIHRoaXMuY3JlYXRlRG9jdW1lbnRFbGVtZW50KClcbn1cblxuZnVuY3Rpb24gZ2VuQ2FsbFRhc2tzIChpZCkge1xuICAvLyBAdG9kbzogVGhlIGBjYWxsQWRkRWxlbWVudGAgQVBJIHNob3VsZCBiZSByZS1kZXNpZ24gaW1tZWRpYXRlbHlcbiAgLy8gYmVjYXVzZSBpdHMgcHVibGljIGFuZCBnbG9iYWwgYW5kIHdpdGhvdXQgY29uZmlnIG9wcG9ydHVuaXR5LlxuICBjb25zdCBoYXNBZGRFbGVtZW50SGFuZGxlciA9IHR5cGVvZiBjYWxsQWRkRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJ1xuICByZXR1cm4gKHRhc2tzKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHRhc2tzKSkge1xuICAgICAgdGFza3MgPSBbdGFza3NdXG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFza3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHRhc2sgPSB0YXNrc1tpXVxuICAgICAgbGV0IHJldHVyblZhbHVlXG4gICAgICBpZiAoaGFzQWRkRWxlbWVudEhhbmRsZXIgJiYgdGFzay5tb2R1bGUgPT09ICdkb20nICYmIHRhc2subWV0aG9kID09PSAnYWRkRWxlbWVudCcpIHtcbiAgICAgICAgY29uc3QgW3JlZiwganNvbiwgaW5kZXhdID0gdGFzay5hcmdzXG4gICAgICAgIHJldHVyblZhbHVlID0gY2FsbEFkZEVsZW1lbnQoaWQsIHJlZiwganNvbiwgaW5kZXgsICctMScpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBjYWxsTmF0aXZlKGlkLCBbdGFza10sICctMScpXG4gICAgICB9XG4gICAgICBpZiAocmV0dXJuVmFsdWUgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5WYWx1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5Eb2N1bWVudC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgZGVsZXRlIHRoaXMubGlzdGVuZXJcbiAgZGVsZXRlIHRoaXMubm9kZU1hcFxuICBkZWxldGUgaW5zdGFuY2VNYXBbdGhpcy5pZF1cbn1cblxuRG9jdW1lbnQucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMubGlzdGVuZXIuYmF0Y2hlZCA9IGZhbHNlXG59XG5cbkRvY3VtZW50LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5saXN0ZW5lci5iYXRjaGVkID0gdHJ1ZVxufVxuXG5Eb2N1bWVudC5wcm90b3R5cGUuY3JlYXRlRG9jdW1lbnRFbGVtZW50ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgY29uc3QgZWwgPSBuZXcgRWxlbWVudCgnZG9jdW1lbnQnKVxuICAgIGVsLmRvY0lkID0gdGhpcy5pZFxuICAgIGVsLm93bmVyRG9jdW1lbnQgPSB0aGlzXG4gICAgZWwucm9sZSA9ICdkb2N1bWVudEVsZW1lbnQnXG4gICAgZWwuZGVwdGggPSAwXG4gICAgZWwucmVmID0gJ19kb2N1bWVudEVsZW1lbnQnXG4gICAgdGhpcy5ub2RlTWFwLl9kb2N1bWVudEVsZW1lbnQgPSBlbFxuICAgIHRoaXMuZG9jdW1lbnRFbGVtZW50ID0gZWxcbiAgICBlbC5hcHBlbmRDaGlsZCA9IChub2RlKSA9PiB7XG4gICAgICBhcHBlbmRCb2R5KHRoaXMsIG5vZGUpXG4gICAgfVxuICAgIGVsLmluc2VydEJlZm9yZSA9IChub2RlLCBiZWZvcmUpID0+IHtcbiAgICAgIGFwcGVuZEJvZHkodGhpcywgbm9kZSwgYmVmb3JlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLmRvY3VtZW50RWxlbWVudFxufVxuXG5mdW5jdGlvbiBhcHBlbmRCb2R5IChkb2MsIG5vZGUsIGJlZm9yZSkge1xuICBjb25zdCB7IGRvY3VtZW50RWxlbWVudCB9ID0gZG9jXG5cbiAgaWYgKGRvY3VtZW50RWxlbWVudC5wdXJlQ2hpbGRyZW4ubGVuZ3RoID4gMCB8fCBub2RlLnBhcmVudE5vZGUpIHtcbiAgICByZXR1cm5cbiAgfVxuICBjb25zdCBjaGlsZHJlbiA9IGRvY3VtZW50RWxlbWVudC5jaGlsZHJlblxuICBjb25zdCBiZWZvcmVJbmRleCA9IGNoaWxkcmVuLmluZGV4T2YoYmVmb3JlKVxuICBpZiAoYmVmb3JlSW5kZXggPCAwKSB7XG4gICAgY2hpbGRyZW4ucHVzaChub2RlKVxuICB9XG4gIGVsc2Uge1xuICAgIGNoaWxkcmVuLnNwbGljZShiZWZvcmVJbmRleCwgMCwgbm9kZSlcbiAgfVxuXG4gIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgaWYgKG5vZGUucm9sZSA9PT0gJ2JvZHknKSB7XG4gICAgICBub2RlLmRvY0lkID0gZG9jLmlkXG4gICAgICBub2RlLm93bmVyRG9jdW1lbnQgPSBkb2NcbiAgICAgIG5vZGUucGFyZW50Tm9kZSA9IGRvY3VtZW50RWxlbWVudFxuICAgICAgbGlua1BhcmVudChub2RlLCBkb2N1bWVudEVsZW1lbnQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm9kZS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgY2hpbGQucGFyZW50Tm9kZSA9IG5vZGVcbiAgICAgIH0pXG4gICAgICBzZXRCb2R5KGRvYywgbm9kZSlcbiAgICAgIG5vZGUuZG9jSWQgPSBkb2MuaWRcbiAgICAgIG5vZGUub3duZXJEb2N1bWVudCA9IGRvY1xuICAgICAgbGlua1BhcmVudChub2RlLCBkb2N1bWVudEVsZW1lbnQpXG4gICAgICBkZWxldGUgZG9jLm5vZGVNYXBbbm9kZS5ub2RlSWRdXG4gICAgfVxuICAgIGRvY3VtZW50RWxlbWVudC5wdXJlQ2hpbGRyZW4ucHVzaChub2RlKVxuICAgIGRvYy5saXN0ZW5lci5jcmVhdGVCb2R5KG5vZGUpXG4gIH1cbiAgZWxzZSB7XG4gICAgbm9kZS5wYXJlbnROb2RlID0gZG9jdW1lbnRFbGVtZW50XG4gICAgZG9jLm5vZGVNYXBbbm9kZS5yZWZdID0gbm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEJvZHkgKGRvYywgZWwpIHtcbiAgZWwucm9sZSA9ICdib2R5J1xuICBlbC5kZXB0aCA9IDFcbiAgZGVsZXRlIGRvYy5ub2RlTWFwW2VsLm5vZGVJZF1cbiAgZWwucmVmID0gJ19yb290J1xuICBkb2Mubm9kZU1hcC5fcm9vdCA9IGVsXG4gIGRvYy5ib2R5ID0gZWxcbn1cblxuRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUJvZHkgPSBmdW5jdGlvbiAodHlwZSwgcHJvcHMpIHtcbiAgaWYgKCF0aGlzLmJvZHkpIHtcbiAgICBjb25zdCBlbCA9IG5ldyBFbGVtZW50KHR5cGUsIHByb3BzKVxuICAgIHNldEJvZHkodGhpcywgZWwpXG4gIH1cblxuICByZXR1cm4gdGhpcy5ib2R5XG59XG5cbkRvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50ID0gZnVuY3Rpb24gKHRhZ05hbWUsIHByb3BzKSB7XG4gIHJldHVybiBuZXcgRWxlbWVudCh0YWdOYW1lLCBwcm9wcylcbn1cblxuRG9jdW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbiAodGV4dCkge1xuICByZXR1cm4gbmV3IENvbW1lbnQodGV4dClcbn1cblxuRG9jdW1lbnQucHJvdG90eXBlLmZpcmVFdmVudCA9IGZ1bmN0aW9uIChlbCwgdHlwZSwgZSwgZG9tQ2hhbmdlcykge1xuICBpZiAoIWVsKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgZSA9IGUgfHwge31cbiAgZS50eXBlID0gdHlwZVxuICBlLnRhcmdldCA9IGVsXG4gIGUudGltZXN0YW1wID0gRGF0ZS5ub3coKVxuICBpZiAoZG9tQ2hhbmdlcykge1xuICAgIHVwZGF0ZUVsZW1lbnQoZWwsIGRvbUNoYW5nZXMpXG4gIH1cbiAgcmV0dXJuIGVsLmZpcmVFdmVudCh0eXBlLCBlKVxufVxuXG5Eb2N1bWVudC5wcm90b3R5cGUuZ2V0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICByZXR1cm4gdGhpcy5ub2RlTWFwW3JlZl1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRWxlbWVudCAoZWwsIGNoYW5nZXMpIHtcbiAgY29uc3QgYXR0cnMgPSBjaGFuZ2VzLmF0dHJzIHx8IHt9XG4gIGZvciAoY29uc3QgbmFtZSBpbiBhdHRycykge1xuICAgIGVsLnNldEF0dHIobmFtZSwgYXR0cnNbbmFtZV0sIHRydWUpXG4gIH1cbiAgY29uc3Qgc3R5bGUgPSBjaGFuZ2VzLnN0eWxlIHx8IHt9XG4gIGZvciAoY29uc3QgbmFtZSBpbiBzdHlsZSkge1xuICAgIGVsLnNldFN0eWxlKG5hbWUsIHN0eWxlW25hbWVdLCB0cnVlKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBOb2RlICgpIHtcbiAgdGhpcy5ub2RlSWQgPSAobmV4dE5vZGVSZWYrKykudG9TdHJpbmcoKVxuICB0aGlzLnJlZiA9IHRoaXMubm9kZUlkXG4gIHRoaXMuY2hpbGRyZW4gPSBbXVxuICB0aGlzLnB1cmVDaGlsZHJlbiA9IFtdXG4gIHRoaXMucGFyZW50Tm9kZSA9IG51bGxcbiAgdGhpcy5uZXh0U2libGluZyA9IG51bGxcbiAgdGhpcy5wcmV2aW91c1NpYmxpbmcgPSBudWxsXG59XG5cbk5vZGUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGRvYyA9IGluc3RhbmNlTWFwW3RoaXMuZG9jSWRdXG4gIGlmIChkb2MpIHtcbiAgICBkZWxldGUgdGhpcy5kb2NJZFxuICAgIGRlbGV0ZSBkb2Mubm9kZU1hcFt0aGlzLm5vZGVJZF1cbiAgfVxuICB0aGlzLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgIGNoaWxkLmRlc3Ryb3koKVxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gRWxlbWVudCAodHlwZSA9IERFRkFVTFRfVEFHX05BTUUsIHByb3BzKSB7XG4gIHByb3BzID0gcHJvcHMgfHwge31cbiAgdGhpcy5ub2RlVHlwZSA9IDFcbiAgdGhpcy5ub2RlSWQgPSAobmV4dE5vZGVSZWYrKykudG9TdHJpbmcoKVxuICB0aGlzLnJlZiA9IHRoaXMubm9kZUlkXG4gIHRoaXMudHlwZSA9IHR5cGVcbiAgdGhpcy5hdHRyID0gcHJvcHMuYXR0ciB8fCB7fVxuICB0aGlzLmNsYXNzU3R5bGUgPSBwcm9wcy5jbGFzc1N0eWxlIHx8IHt9XG4gIHRoaXMuc3R5bGUgPSBwcm9wcy5zdHlsZSB8fCB7fVxuICB0aGlzLmV2ZW50ID0ge31cbiAgdGhpcy5jaGlsZHJlbiA9IFtdXG4gIHRoaXMucHVyZUNoaWxkcmVuID0gW11cbn1cblxuRWxlbWVudC5wcm90b3R5cGUgPSBuZXcgTm9kZSgpXG5cbkVsZW1lbnQucHJvdG90eXBlLmFwcGVuZENoaWxkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgaWYgKG5vZGUucGFyZW50Tm9kZSAmJiBub2RlLnBhcmVudE5vZGUgIT09IHRoaXMpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIW5vZGUucGFyZW50Tm9kZSkge1xuICAgIGxpbmtQYXJlbnQobm9kZSwgdGhpcylcbiAgICBpbnNlcnRJbmRleChub2RlLCB0aGlzLmNoaWxkcmVuLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgdHJ1ZSlcbiAgICBpZiAodGhpcy5kb2NJZCkge1xuICAgICAgcmVnaXN0ZXJOb2RlKHRoaXMuZG9jSWQsIG5vZGUpXG4gICAgfVxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBpbnNlcnRJbmRleChub2RlLCB0aGlzLnB1cmVDaGlsZHJlbiwgdGhpcy5wdXJlQ2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgaWYgKHRoaXMuZG9jSWQpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBpbnN0YW5jZU1hcFt0aGlzLmRvY0lkXS5saXN0ZW5lclxuICAgICAgICByZXR1cm4gbGlzdGVuZXIuYWRkRWxlbWVudChub2RlLCB0aGlzLnJlZiwgLTEpXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIG1vdmVJbmRleChub2RlLCB0aGlzLmNoaWxkcmVuLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCwgdHJ1ZSlcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29uc3QgaW5kZXggPSBtb3ZlSW5kZXgobm9kZSwgdGhpcy5wdXJlQ2hpbGRyZW4sIHRoaXMucHVyZUNoaWxkcmVuLmxlbmd0aClcbiAgICAgIGlmICh0aGlzLmRvY0lkICYmIGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBpbnN0YW5jZU1hcFt0aGlzLmRvY0lkXS5saXN0ZW5lclxuICAgICAgICByZXR1cm4gbGlzdGVuZXIubW92ZUVsZW1lbnQobm9kZS5yZWYsIHRoaXMucmVmLCBpbmRleClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuRWxlbWVudC5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKG5vZGUsIGJlZm9yZSkge1xuICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZSAhPT0gdGhpcykge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChub2RlID09PSBiZWZvcmUgfHwgbm9kZS5uZXh0U2libGluZyA9PT0gYmVmb3JlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFub2RlLnBhcmVudE5vZGUpIHtcbiAgICBsaW5rUGFyZW50KG5vZGUsIHRoaXMpXG4gICAgaW5zZXJ0SW5kZXgobm9kZSwgdGhpcy5jaGlsZHJlbiwgdGhpcy5jaGlsZHJlbi5pbmRleE9mKGJlZm9yZSksIHRydWUpXG4gICAgaWYgKHRoaXMuZG9jSWQpIHtcbiAgICAgIHJlZ2lzdGVyTm9kZSh0aGlzLmRvY0lkLCBub2RlKVxuICAgIH1cbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgY29uc3QgcHVyZUJlZm9yZSA9IG5leHRFbGVtZW50KGJlZm9yZSlcbiAgICAgIGNvbnN0IGluZGV4ID0gaW5zZXJ0SW5kZXgoXG4gICAgICAgIG5vZGUsXG4gICAgICAgIHRoaXMucHVyZUNoaWxkcmVuLFxuICAgICAgICBwdXJlQmVmb3JlXG4gICAgICAgICAgPyB0aGlzLnB1cmVDaGlsZHJlbi5pbmRleE9mKHB1cmVCZWZvcmUpXG4gICAgICAgICAgOiB0aGlzLnB1cmVDaGlsZHJlbi5sZW5ndGhcbiAgICAgIClcbiAgICAgIGlmICh0aGlzLmRvY0lkKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gaW5zdGFuY2VNYXBbdGhpcy5kb2NJZF0ubGlzdGVuZXJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmFkZEVsZW1lbnQobm9kZSwgdGhpcy5yZWYsIGluZGV4KVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBtb3ZlSW5kZXgobm9kZSwgdGhpcy5jaGlsZHJlbiwgdGhpcy5jaGlsZHJlbi5pbmRleE9mKGJlZm9yZSksIHRydWUpXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IHB1cmVCZWZvcmUgPSBuZXh0RWxlbWVudChiZWZvcmUpXG4gICAgICBjb25zdCBpbmRleCA9IG1vdmVJbmRleChcbiAgICAgICAgbm9kZSxcbiAgICAgICAgdGhpcy5wdXJlQ2hpbGRyZW4sXG4gICAgICAgIHB1cmVCZWZvcmVcbiAgICAgICAgICA/IHRoaXMucHVyZUNoaWxkcmVuLmluZGV4T2YocHVyZUJlZm9yZSlcbiAgICAgICAgICA6IHRoaXMucHVyZUNoaWxkcmVuLmxlbmd0aFxuICAgICAgKVxuICAgICAgaWYgKHRoaXMuZG9jSWQgJiYgaW5kZXggPj0gMCkge1xuICAgICAgICBjb25zdCBsaXN0ZW5lciA9IGluc3RhbmNlTWFwW3RoaXMuZG9jSWRdLmxpc3RlbmVyXG4gICAgICAgIHJldHVybiBsaXN0ZW5lci5tb3ZlRWxlbWVudChub2RlLnJlZiwgdGhpcy5yZWYsIGluZGV4KVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5FbGVtZW50LnByb3RvdHlwZS5pbnNlcnRBZnRlciA9IGZ1bmN0aW9uIChub2RlLCBhZnRlcikge1xuICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZSAhPT0gdGhpcykge1xuICAgIHJldHVyblxuICB9XG4gIGlmIChub2RlID09PSBhZnRlciB8fCBub2RlLnByZXZpb3VzU2libGluZyA9PT0gYWZ0ZXIpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIW5vZGUucGFyZW50Tm9kZSkge1xuICAgIGxpbmtQYXJlbnQobm9kZSwgdGhpcylcbiAgICBpbnNlcnRJbmRleChub2RlLCB0aGlzLmNoaWxkcmVuLCB0aGlzLmNoaWxkcmVuLmluZGV4T2YoYWZ0ZXIpICsgMSwgdHJ1ZSlcbiAgICBpZiAodGhpcy5kb2NJZCkge1xuICAgICAgcmVnaXN0ZXJOb2RlKHRoaXMuZG9jSWQsIG5vZGUpXG4gICAgfVxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICBjb25zdCBpbmRleCA9IGluc2VydEluZGV4KFxuICAgICAgICBub2RlLFxuICAgICAgICB0aGlzLnB1cmVDaGlsZHJlbixcbiAgICAgICAgdGhpcy5wdXJlQ2hpbGRyZW4uaW5kZXhPZihwcmV2aW91c0VsZW1lbnQoYWZ0ZXIpKSArIDFcbiAgICAgIClcbiAgICAgIGlmICh0aGlzLmRvY0lkKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gaW5zdGFuY2VNYXBbdGhpcy5kb2NJZF0ubGlzdGVuZXJcbiAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmFkZEVsZW1lbnQobm9kZSwgdGhpcy5yZWYsIGluZGV4KVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBtb3ZlSW5kZXgobm9kZSwgdGhpcy5jaGlsZHJlbiwgdGhpcy5jaGlsZHJlbi5pbmRleE9mKGFmdGVyKSArIDEsIHRydWUpXG4gICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDEpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gbW92ZUluZGV4KFxuICAgICAgICBub2RlLFxuICAgICAgICB0aGlzLnB1cmVDaGlsZHJlbixcbiAgICAgICAgdGhpcy5wdXJlQ2hpbGRyZW4uaW5kZXhPZihwcmV2aW91c0VsZW1lbnQoYWZ0ZXIpKSArIDFcbiAgICAgIClcbiAgICAgIGlmICh0aGlzLmRvY0lkICYmIGluZGV4ID49IDApIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXIgPSBpbnN0YW5jZU1hcFt0aGlzLmRvY0lkXS5saXN0ZW5lclxuICAgICAgICByZXR1cm4gbGlzdGVuZXIubW92ZUVsZW1lbnQobm9kZS5yZWYsIHRoaXMucmVmLCBpbmRleClcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAobm9kZSwgcHJlc2VydmVkKSB7XG4gIGlmIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICByZW1vdmVJbmRleChub2RlLCB0aGlzLmNoaWxkcmVuLCB0cnVlKVxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICByZW1vdmVJbmRleChub2RlLCB0aGlzLnB1cmVDaGlsZHJlbilcbiAgICAgIGlmICh0aGlzLmRvY0lkKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gaW5zdGFuY2VNYXBbdGhpcy5kb2NJZF0ubGlzdGVuZXJcbiAgICAgICAgbGlzdGVuZXIucmVtb3ZlRWxlbWVudChub2RlLnJlZilcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFwcmVzZXJ2ZWQpIHtcbiAgICBub2RlLmRlc3Ryb3koKVxuICB9XG59XG5cbkVsZW1lbnQucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5kb2NJZCkge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gaW5zdGFuY2VNYXBbdGhpcy5kb2NJZF0ubGlzdGVuZXJcbiAgICB0aGlzLnB1cmVDaGlsZHJlbi5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgbGlzdGVuZXIucmVtb3ZlRWxlbWVudChub2RlLnJlZilcbiAgICB9KVxuICB9XG4gIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChub2RlID0+IHtcbiAgICBub2RlLmRlc3Ryb3koKVxuICB9KVxuICB0aGlzLmNoaWxkcmVuLmxlbmd0aCA9IDBcbiAgdGhpcy5wdXJlQ2hpbGRyZW4ubGVuZ3RoID0gMFxufVxuXG5mdW5jdGlvbiBuZXh0RWxlbWVudCAobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICByZXR1cm4gbm9kZVxuICAgIH1cbiAgICBub2RlID0gbm9kZS5uZXh0U2libGluZ1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXZpb3VzRWxlbWVudCAobm9kZSkge1xuICB3aGlsZSAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAxKSB7XG4gICAgICByZXR1cm4gbm9kZVxuICAgIH1cbiAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgfVxufVxuXG5mdW5jdGlvbiBsaW5rUGFyZW50IChub2RlLCBwYXJlbnQpIHtcbiAgbm9kZS5wYXJlbnROb2RlID0gcGFyZW50XG4gIGlmIChwYXJlbnQuZG9jSWQpIHtcbiAgICBub2RlLmRvY0lkID0gcGFyZW50LmRvY0lkXG4gICAgbm9kZS5vd25lckRvY3VtZW50ID0gcGFyZW50Lm93bmVyRG9jdW1lbnRcbiAgICBub2RlLm93bmVyRG9jdW1lbnQubm9kZU1hcFtub2RlLm5vZGVJZF0gPSBub2RlXG4gICAgbm9kZS5kZXB0aCA9IHBhcmVudC5kZXB0aCArIDFcbiAgfVxuICBub2RlLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgIGxpbmtQYXJlbnQoY2hpbGQsIG5vZGUpXG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlZ2lzdGVyTm9kZSAoZG9jSWQsIG5vZGUpIHtcbiAgY29uc3QgZG9jID0gaW5zdGFuY2VNYXBbZG9jSWRdXG4gIGRvYy5ub2RlTWFwW25vZGUubm9kZUlkXSA9IG5vZGVcbn1cblxuZnVuY3Rpb24gaW5zZXJ0SW5kZXggKHRhcmdldCwgbGlzdCwgbmV3SW5kZXgsIGNoYW5nZVNpYmxpbmcpIHtcbiAgaWYgKG5ld0luZGV4IDwgMCkge1xuICAgIG5ld0luZGV4ID0gMFxuICB9XG4gIGNvbnN0IGJlZm9yZSA9IGxpc3RbbmV3SW5kZXggLSAxXVxuICBjb25zdCBhZnRlciA9IGxpc3RbbmV3SW5kZXhdXG4gIGxpc3Quc3BsaWNlKG5ld0luZGV4LCAwLCB0YXJnZXQpXG4gIGlmIChjaGFuZ2VTaWJsaW5nKSB7XG4gICAgYmVmb3JlICYmIChiZWZvcmUubmV4dFNpYmxpbmcgPSB0YXJnZXQpXG4gICAgdGFyZ2V0LnByZXZpb3VzU2libGluZyA9IGJlZm9yZVxuICAgIHRhcmdldC5uZXh0U2libGluZyA9IGFmdGVyXG4gICAgYWZ0ZXIgJiYgKGFmdGVyLnByZXZpb3VzU2libGluZyA9IHRhcmdldClcbiAgfVxuICByZXR1cm4gbmV3SW5kZXhcbn1cblxuZnVuY3Rpb24gbW92ZUluZGV4ICh0YXJnZXQsIGxpc3QsIG5ld0luZGV4LCBjaGFuZ2VTaWJsaW5nKSB7XG4gIGNvbnN0IGluZGV4ID0gbGlzdC5pbmRleE9mKHRhcmdldClcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAtMVxuICB9XG4gIGlmIChjaGFuZ2VTaWJsaW5nKSB7XG4gICAgY29uc3QgYmVmb3JlID0gbGlzdFtpbmRleCAtIDFdXG4gICAgY29uc3QgYWZ0ZXIgPSBsaXN0W2luZGV4ICsgMV1cbiAgICBiZWZvcmUgJiYgKGJlZm9yZS5uZXh0U2libGluZyA9IGFmdGVyKVxuICAgIGFmdGVyICYmIChhZnRlci5wcmV2aW91c1NpYmxpbmcgPSBiZWZvcmUpXG4gIH1cbiAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpXG4gIGxldCBuZXdJbmRleEFmdGVyID0gbmV3SW5kZXhcbiAgaWYgKGluZGV4IDw9IG5ld0luZGV4KSB7XG4gICAgbmV3SW5kZXhBZnRlciA9IG5ld0luZGV4IC0gMVxuICB9XG4gIGNvbnN0IGJlZm9yZU5ldyA9IGxpc3RbbmV3SW5kZXhBZnRlciAtIDFdXG4gIGNvbnN0IGFmdGVyTmV3ID0gbGlzdFtuZXdJbmRleEFmdGVyXVxuICBsaXN0LnNwbGljZShuZXdJbmRleEFmdGVyLCAwLCB0YXJnZXQpXG4gIGlmIChjaGFuZ2VTaWJsaW5nKSB7XG4gICAgYmVmb3JlTmV3ICYmIChiZWZvcmVOZXcubmV4dFNpYmxpbmcgPSB0YXJnZXQpXG4gICAgdGFyZ2V0LnByZXZpb3VzU2libGluZyA9IGJlZm9yZU5ld1xuICAgIHRhcmdldC5uZXh0U2libGluZyA9IGFmdGVyTmV3XG4gICAgYWZ0ZXJOZXcgJiYgKGFmdGVyTmV3LnByZXZpb3VzU2libGluZyA9IHRhcmdldClcbiAgfVxuICBpZiAoaW5kZXggPT09IG5ld0luZGV4QWZ0ZXIpIHtcbiAgICByZXR1cm4gLTFcbiAgfVxuICByZXR1cm4gbmV3SW5kZXhcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSW5kZXggKHRhcmdldCwgbGlzdCwgY2hhbmdlU2libGluZykge1xuICBjb25zdCBpbmRleCA9IGxpc3QuaW5kZXhPZih0YXJnZXQpXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoY2hhbmdlU2libGluZykge1xuICAgIGNvbnN0IGJlZm9yZSA9IGxpc3RbaW5kZXggLSAxXVxuICAgIGNvbnN0IGFmdGVyID0gbGlzdFtpbmRleCArIDFdXG4gICAgYmVmb3JlICYmIChiZWZvcmUubmV4dFNpYmxpbmcgPSBhZnRlcilcbiAgICBhZnRlciAmJiAoYWZ0ZXIucHJldmlvdXNTaWJsaW5nID0gYmVmb3JlKVxuICB9XG4gIGxpc3Quc3BsaWNlKGluZGV4LCAxKVxufVxuXG5FbGVtZW50LnByb3RvdHlwZS5zZXRBdHRyID0gZnVuY3Rpb24gKGtleSwgdmFsdWUsIHNpbGVudCkge1xuICBpZiAodGhpcy5hdHRyW2tleV0gPT09IHZhbHVlICYmIHNpbGVudCAhPT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuICB0aGlzLmF0dHJba2V5XSA9IHZhbHVlXG4gIGlmICghc2lsZW50ICYmIHRoaXMuZG9jSWQpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IGluc3RhbmNlTWFwW3RoaXMuZG9jSWRdLmxpc3RlbmVyXG4gICAgbGlzdGVuZXIuc2V0QXR0cih0aGlzLnJlZiwga2V5LCB2YWx1ZSlcbiAgfVxufVxuXG5FbGVtZW50LnByb3RvdHlwZS5zZXRTdHlsZSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlLCBzaWxlbnQpIHtcbiAgaWYgKHRoaXMuc3R5bGVba2V5XSA9PT0gdmFsdWUgJiYgc2lsZW50ICE9PSBmYWxzZSkge1xuICAgIHJldHVyblxuICB9XG4gIHRoaXMuc3R5bGVba2V5XSA9IHZhbHVlXG4gIGlmICghc2lsZW50ICYmIHRoaXMuZG9jSWQpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IGluc3RhbmNlTWFwW3RoaXMuZG9jSWRdLmxpc3RlbmVyXG4gICAgbGlzdGVuZXIuc2V0U3R5bGUodGhpcy5yZWYsIGtleSwgdmFsdWUpXG4gIH1cbn1cblxuRWxlbWVudC5wcm90b3R5cGUucmVzZXRDbGFzc1N0eWxlID0gZnVuY3Rpb24gKCkge1xuICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLmNsYXNzU3R5bGUpIHtcbiAgICB0aGlzLmNsYXNzU3R5bGVba2V5XSA9ICcnXG4gIH1cbn1cblxuRWxlbWVudC5wcm90b3R5cGUuc2V0Q2xhc3NTdHlsZSA9IGZ1bmN0aW9uIChjbGFzc1N0eWxlKSB7XG4gIHRoaXMucmVzZXRDbGFzc1N0eWxlKClcbiAgZXh0ZW5kKHRoaXMuY2xhc3NTdHlsZSwgY2xhc3NTdHlsZSlcbiAgaWYgKHRoaXMuZG9jSWQpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IGluc3RhbmNlTWFwW3RoaXMuZG9jSWRdLmxpc3RlbmVyXG4gICAgbGlzdGVuZXIuc2V0U3R5bGVzKHRoaXMucmVmLCB0aGlzLnRvU3R5bGUoKSlcbiAgfVxufVxuXG5FbGVtZW50LnByb3RvdHlwZS5hZGRFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyKSB7XG4gIGlmICghdGhpcy5ldmVudFt0eXBlXSkge1xuICAgIHRoaXMuZXZlbnRbdHlwZV0gPSBoYW5kbGVyXG4gICAgaWYgKHRoaXMuZG9jSWQpIHtcbiAgICAgIGNvbnN0IGxpc3RlbmVyID0gaW5zdGFuY2VNYXBbdGhpcy5kb2NJZF0ubGlzdGVuZXJcbiAgICAgIGxpc3RlbmVyLmFkZEV2ZW50KHRoaXMucmVmLCB0eXBlKVxuICAgIH1cbiAgfVxufVxuXG5FbGVtZW50LnByb3RvdHlwZS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gIGlmICh0aGlzLmV2ZW50W3R5cGVdKSB7XG4gICAgZGVsZXRlIHRoaXMuZXZlbnRbdHlwZV1cbiAgICBpZiAodGhpcy5kb2NJZCkge1xuICAgICAgY29uc3QgbGlzdGVuZXIgPSBpbnN0YW5jZU1hcFt0aGlzLmRvY0lkXS5saXN0ZW5lclxuICAgICAgbGlzdGVuZXIucmVtb3ZlRXZlbnQodGhpcy5yZWYsIHR5cGUpXG4gICAgfVxuICB9XG59XG5cbkVsZW1lbnQucHJvdG90eXBlLmZpcmVFdmVudCA9IGZ1bmN0aW9uICh0eXBlLCBlKSB7XG4gIGNvbnN0IGhhbmRsZXIgPSB0aGlzLmV2ZW50W3R5cGVdXG4gIGlmIChoYW5kbGVyKSB7XG4gICAgcmV0dXJuIGhhbmRsZXIuY2FsbCh0aGlzLCBlKVxuICB9XG59XG5cbkVsZW1lbnQucHJvdG90eXBlLnRvU3R5bGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBleHRlbmQoe30sIHRoaXMuY2xhc3NTdHlsZSwgdGhpcy5zdHlsZSlcbn1cblxuRWxlbWVudC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCByZXN1bHQgPSB7XG4gICAgcmVmOiB0aGlzLnJlZi50b1N0cmluZygpLFxuICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICBhdHRyOiB0aGlzLmF0dHIsXG4gICAgc3R5bGU6IHRoaXMudG9TdHlsZSgpXG4gIH1cbiAgY29uc3QgZXZlbnQgPSBPYmplY3Qua2V5cyh0aGlzLmV2ZW50KVxuICBpZiAoZXZlbnQubGVuZ3RoKSB7XG4gICAgcmVzdWx0LmV2ZW50ID0gZXZlbnRcbiAgfVxuICBpZiAodGhpcy5wdXJlQ2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgcmVzdWx0LmNoaWxkcmVuID0gdGhpcy5wdXJlQ2hpbGRyZW4ubWFwKChjaGlsZCkgPT4gY2hpbGQudG9KU09OKCkpXG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG5FbGVtZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICc8JyArIHRoaXMudHlwZSArXG4gICAgJyBhdHRyPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLmF0dHIpICtcbiAgICAnIHN0eWxlPScgKyBKU09OLnN0cmluZ2lmeSh0aGlzLnRvU3R5bGUoKSkgKyAnPicgK1xuICAgIHRoaXMucHVyZUNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IGNoaWxkLnRvU3RyaW5nKCkpLmpvaW4oJycpICtcbiAgICAnPC8nICsgdGhpcy50eXBlICsgJz4nXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb21tZW50ICh2YWx1ZSkge1xuICB0aGlzLm5vZGVUeXBlID0gOFxuICB0aGlzLm5vZGVJZCA9IChuZXh0Tm9kZVJlZisrKS50b1N0cmluZygpXG4gIHRoaXMucmVmID0gdGhpcy5ub2RlSWRcbiAgdGhpcy50eXBlID0gJ2NvbW1lbnQnXG4gIHRoaXMudmFsdWUgPSB2YWx1ZVxuICB0aGlzLmNoaWxkcmVuID0gW11cbiAgdGhpcy5wdXJlQ2hpbGRyZW4gPSBbXVxufVxuXG5Db21tZW50LnByb3RvdHlwZSA9IG5ldyBOb2RlKClcblxuQ29tbWVudC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnPCEtLSAnICsgdGhpcy52YWx1ZSArICcgLS0+J1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS92ZG9tL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvdmRvbS9pbmRleC5qcyIsIm1vZHVsZS5leHBvcnRzID0ge1xuXHRcIm5hbWVcIjogXCJ3ZWV4XCIsXG5cdFwidmVyc2lvblwiOiBcIjAuNC4wXCIsXG5cdFwiZGVzY3JpcHRpb25cIjogXCJBIGZyYW1ld29yayBmb3IgYnVpbGRpbmcgTW9iaWxlIGNyb3NzLXBsYXRmb3JtIFVJXCIsXG5cdFwibGljZW5zZVwiOiBcIkFwYWNoZS0yLjBcIixcblx0XCJyZXBvc2l0b3J5XCI6IHtcblx0XHRcInR5cGVcIjogXCJnaXRcIixcblx0XHRcInVybFwiOiBcImdpdEBnaXRodWIuY29tOmFsaWJhYmEvd2VleC5naXRcIlxuXHR9LFxuXHRcImhvbWVwYWdlXCI6IFwiaHR0cDovL2FsaWJhYmEuZ2l0aHViLmlvL3dlZXgvXCIsXG5cdFwiYnVnc1wiOiB7XG5cdFx0XCJ1cmxcIjogXCJodHRwczovL2dpdGh1Yi5jb20vYWxpYmFiYS93ZWV4L2lzc3Vlc1wiXG5cdH0sXG5cdFwicHJpdmF0ZVwiOiB0cnVlLFxuXHRcImtleXdvcmRzXCI6IFtcblx0XHRcIndlZXhcIixcblx0XHRcImh5YnJpZFwiLFxuXHRcdFwid2ViY29tcG9uZW50XCIsXG5cdFx0XCJhcHBmcmFtZXdvcmtcIixcblx0XHRcIm12dm1cIixcblx0XHRcImphdmFzY3JpcHRcIixcblx0XHRcIndlYmtpdFwiLFxuXHRcdFwidjhcIixcblx0XHRcImpzY29yZVwiLFxuXHRcdFwiaHRtbDVcIixcblx0XHRcImFuZHJvaWRcIixcblx0XHRcImlvc1wiLFxuXHRcdFwieXVub3NcIlxuXHRdLFxuXHRcImVuZ2luZXNcIjoge1xuXHRcdFwibm9kZVwiOiBcIj49NFwiXG5cdH0sXG5cdFwic2NyaXB0c1wiOiB7XG5cdFx0XCJwb3N0aW5zdGFsbFwiOiBcImJhc2ggLi9iaW4vaW5zdGFsbC1ob29rcy5zaFwiLFxuXHRcdFwiYnVpbGQ6Y29uZmlnXCI6IFwibm9kZSBidWlsZC9jb25maWcuZnJhbWV3b3Jrcy5qc1wiLFxuXHRcdFwiYnVpbGQ6YnJvd3NlclwiOiBcInd3cCAmJiB3ZWJwYWNrIC0tY29uZmlnIGJ1aWxkL3dlYnBhY2suYnJvd3Nlci5jb25maWcuanNcIixcblx0XHRcImJ1aWxkOmNvbW1vblwiOiBcIndlYnBhY2sgLS1jb25maWcgYnVpbGQvd2VicGFjay5jb21tb24uY29uZmlnLmpzXCIsXG5cdFx0XCJidWlsZDpuYXRpdmVcIjogXCJ3ZWJwYWNrIC0tY29uZmlnIGJ1aWxkL3dlYnBhY2submF0aXZlLmNvbmZpZy5qc1wiLFxuXHRcdFwiYnVpbGQ6ZXhhbXBsZXNcIjogXCJ3ZWJwYWNrIC0tY29uZmlnIGJ1aWxkL3dlYnBhY2suZXhhbXBsZXMuY29uZmlnLmpzXCIsXG5cdFx0XCJidWlsZDp0ZXN0XCI6IFwid2VicGFjayAtLWNvbmZpZyBidWlsZC93ZWJwYWNrLnRlc3QuY29uZmlnLmpzXCIsXG5cdFx0XCJkaXN0OmJyb3dzZXJcIjogXCJucG0gcnVuIGJ1aWxkOmJyb3dzZXIgJiYgbnBtIHJ1biBidWlsZDpjb21tb24gJiYgYmFzaCAuL2Jpbi9kaXN0LWJyb3dzZXIuc2hcIixcblx0XHRcImRpc3RcIjogXCJucG0gcnVuIGRpc3Q6YnJvd3NlclwiLFxuXHRcdFwiZGV2OmJyb3dzZXJcIjogXCJ3d3AgJiYgd2VicGFjayAtLXdhdGNoIC0tY29uZmlnIGJ1aWxkL3dlYnBhY2suYnJvd3Nlci5jb25maWcuanNcIixcblx0XHRcImRldjpuYXRpdmVcIjogXCJ3ZWJwYWNrIC0td2F0Y2ggLS1jb25maWcgYnVpbGQvd2VicGFjay5uYXRpdmUuY29uZmlnLmpzXCIsXG5cdFx0XCJkZXY6ZXhhbXBsZXNcIjogXCJ3ZWJwYWNrIC0td2F0Y2ggLS1jb25maWcgYnVpbGQvd2VicGFjay5leGFtcGxlcy5jb25maWcuanNcIixcblx0XHRcImRldjp0ZXN0XCI6IFwid2VicGFjayAtLXdhdGNoIC0tY29uZmlnIGJ1aWxkL3dlYnBhY2sudGVzdC5jb25maWcuanNcIixcblx0XHRcImJ1aWxkXCI6IFwibnBtIHJ1biBidWlsZDpuYXRpdmUgJiYgbnBtIHJ1biBidWlsZDpicm93c2VyICYmIG5wbSBydW4gYnVpbGQ6ZXhhbXBsZXMgJiYgbnBtIHJ1biBidWlsZDp0ZXN0XCIsXG5cdFx0XCJsaW50XCI6IFwiZXNsaW50IGh0bWw1XCIsXG5cdFx0XCJ0ZXN0OnVuaXRcIjogXCJtb2NoYSAtLWNvbXBpbGVycyBqczpiYWJlbC1jb3JlL3JlZ2lzdGVyIGh0bWw1L3Rlc3QvdW5pdC8qLyouanMgaHRtbDUvdGVzdC91bml0LyovKi8qLmpzXCIsXG5cdFx0XCJ0ZXN0OmNvdmVyXCI6IFwiYmFiZWwtbm9kZSBub2RlX21vZHVsZXMvaXNwYXJ0YS9iaW4vaXNwYXJ0YSBjb3ZlciAtLXJlcG9ydCB0ZXh0IG5vZGVfbW9kdWxlcy9tb2NoYS9iaW4vX21vY2hhIC0tIC0tcmVwb3J0ZXIgZG90IGh0bWw1L3Rlc3QvdW5pdC8qLyouanMgaHRtbDUvdGVzdC91bml0LyovKi8qLmpzXCIsXG5cdFx0XCJ0ZXN0OmUyZVwiOiBcIm5wbSBydW4gYnVpbGQ6YnJvd3NlciAmJiBub2RlIGh0bWw1L3Rlc3QvZTJlL3J1bm5lci5qc1wiLFxuXHRcdFwidGVzdFwiOiBcIm5wbSBydW4gYnVpbGQ6Y29uZmlnICYmIG5wbSBydW4gbGludCAmJiBucG0gcnVuIHRlc3Q6Y292ZXIgJiYgbnBtIHJ1biB0ZXN0OmUyZVwiLFxuXHRcdFwic2VydmVcIjogXCJzZXJ2ZSAuLyAtcCAxMjU4MFwiLFxuXHRcdFwiY2xlYW46ZXhhbXBsZXNcIjogXCJlY2hvIFxcXCJcXFxcMDMzWzM2OzFtW0NsZWFuXVxcXFwwMzNbMG0gXFxcXDAzM1szM21leGFtcGxlc1xcXFwwMzNbMG1cXFwiICYmIHJtIC12cmYgZXhhbXBsZXMvYnVpbGQvKlwiLFxuXHRcdFwiY2xlYW46dGVzdFwiOiBcImVjaG8gXFxcIlxcXFwwMzNbMzY7MW1bQ2xlYW5dXFxcXDAzM1swbSBcXFxcMDMzWzMzbXRlc3RcXFxcMDMzWzBtXFxcIiAmJiBybSAtdnJmIHRlc3QvYnVpbGQvKlwiLFxuXHRcdFwiY2xlYW5cIjogXCJucG0gcnVuIGNsZWFuOmV4YW1wbGVzICYmIG5wbSBydW4gY2xlYW46dGVzdFwiLFxuXHRcdFwiY29weTpqc1wiOiBcImNwIC12ZiAuL2Rpc3QvbmF0aXZlLmpzIC4vYW5kcm9pZC9zZGsvYXNzZXRzL21haW4uanNcIixcblx0XHRcImNvcHk6ZXhhbXBsZXNcIjogXCJybSAtcmYgLi9hbmRyb2lkL3BsYXlncm91bmQvYXBwL3NyYy9tYWluL2Fzc2V0cy8qICYmIGNwIC12cmYgLi9leGFtcGxlcy9idWlsZC8qIC4vYW5kcm9pZC9wbGF5Z3JvdW5kL2FwcC9zcmMvbWFpbi9hc3NldHMvXCIsXG5cdFx0XCJjb3B5XCI6IFwibnBtIHJ1biBjb3B5OmpzICYmIG5wbSBydW4gY29weTpleGFtcGxlc1wiXG5cdH0sXG5cdFwic3VidmVyc2lvblwiOiB7XG5cdFx0XCJicm93c2VyXCI6IFwiMC40LjBcIixcblx0XHRcImZyYW1ld29ya1wiOiBcIjAuMTYuMTdcIixcblx0XHRcInRyYW5zZm9ybWVyXCI6IFwiPj0wLjEuNSA8MC40XCJcblx0fSxcblx0XCJkZXBlbmRlbmNpZXNcIjoge1xuXHRcdFwiYW5pbWF0aW9uanNcIjogXCJeMC4xLjVcIixcblx0XHRcImNvcmUtanNcIjogXCJeMi40LjBcIixcblx0XHRcImN1YmljYmV6aWVyXCI6IFwiXjAuMS4xXCIsXG5cdFx0XCJlbnZkXCI6IFwiXjAuMS4xXCIsXG5cdFx0XCJodHRwdXJsXCI6IFwiXjAuMS4xXCIsXG5cdFx0XCJsYXp5aW1nXCI6IFwiXjAuMS4yXCIsXG5cdFx0XCJtb2RhbHNcIjogXCJeMC4xLjZcIixcblx0XHRcInNjcm9sbC10b1wiOiBcIjAuMC4yXCIsXG5cdFx0XCJzZW12ZXJcIjogXCJeNS4xLjBcIixcblx0XHRcIndlZXgtY29tcG9uZW50c1wiOiBcIl4wLjIuMFwiXG5cdH0sXG5cdFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcblx0XHRcImJhYmVsLWNsaVwiOiBcIn42LjQuNVwiLFxuXHRcdFwiYmFiZWwtbG9hZGVyXCI6IFwiXjYuMi40XCIsXG5cdFx0XCJiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLXJ1bnRpbWVcIjogXCJeNi4xNS4wXCIsXG5cdFx0XCJiYWJlbC1wcmVzZXQtZXMyMDE1XCI6IFwiXjYuOS4wXCIsXG5cdFx0XCJiYWJlbC1ydW50aW1lXCI6IFwiXjYuMTEuNlwiLFxuXHRcdFwiY2hhaVwiOiBcIl4zLjUuMFwiLFxuXHRcdFwiY2hyb21lZHJpdmVyXCI6IFwiXjIuMjEuMlwiLFxuXHRcdFwiY3Jvc3Mtc3Bhd25cIjogXCJeNC4wLjBcIixcblx0XHRcImNzcy1sb2FkZXJcIjogXCJeMC4yMy4xXCIsXG5cdFx0XCJlc2xpbnRcIjogXCJeMi4xMS4xXCIsXG5cdFx0XCJodHRwLXNlcnZlclwiOiBcIl4wLjkuMFwiLFxuXHRcdFwiaXNwYXJ0YVwiOiBcIl40LjAuMFwiLFxuXHRcdFwiaXN0YW5idWxcIjogXCJeMC40LjNcIixcblx0XHRcImpzb24tbG9hZGVyXCI6IFwiXjAuNS40XCIsXG5cdFx0XCJtb2NoYVwiOiBcIl4yLjUuM1wiLFxuXHRcdFwibmlnaHR3YXRjaFwiOiBcIl4wLjkuNFwiLFxuXHRcdFwicGhhbnRvbWpzLXByZWJ1aWx0XCI6IFwiXjIuMS43XCIsXG5cdFx0XCJzZWxlbml1bS1zZXJ2ZXJcIjogXCIyLjUzLjFcIixcblx0XHRcInNlcnZlXCI6IFwiXjEuNC4wXCIsXG5cdFx0XCJzaW5vblwiOiBcIl4xLjE3LjRcIixcblx0XHRcInNpbm9uLWNoYWlcIjogXCJeMi44LjBcIixcblx0XHRcInN0eWxlLWxvYWRlclwiOiBcIl4wLjEzLjFcIixcblx0XHRcInVnbGlmeS1qc1wiOiBcIl4yLjYuNFwiLFxuXHRcdFwid2VicGFja1wiOiBcIl4xLjEzLjFcIixcblx0XHRcIndlZXgtbG9hZGVyXCI6IFwiXjAuMy4xXCIsXG5cdFx0XCJ3d3BcIjogXCJeMC4yLjBcIlxuXHR9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9wYWNrYWdlLmpzb25cbiAqKiBtb2R1bGUgaWQgPSAxMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL3BhY2thZ2UuanNvbiIsIi8qKlxuICogQGZpbGVPdmVydmlldyBUaGUgYXBpIGZvciBpbnZva2luZyB3aXRoIFwiJFwiIHByZWZpeFxuICovXG5pbXBvcnQgeyBleHRlbmQsIHR5cG9mIH0gZnJvbSAnLi4vdXRpbCdcblxuLyoqXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBjb21tb25cbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqL1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSAkdm0gaW5zdGVhZFxuICogZmluZCB0aGUgdm0gYnkgaWRcbiAqIE5vdGU6IHRoZXJlIGlzIG9ubHkgb25lIGlkIGluIHdob2xlIGNvbXBvbmVudFxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7Vm19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkIChpZCkge1xuICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIFZtIyQgaXMgZGVwcmVjYXRlZCwgcGxlYXNlIHVzZSBWbSMkdm0gaW5zdGVhZCcpXG4gIGNvbnN0IGluZm8gPSB0aGlzLl9pZHNbaWRdXG4gIGlmIChpbmZvKSB7XG4gICAgcmV0dXJuIGluZm8udm1cbiAgfVxufVxuXG4vKipcbiAqIGZpbmQgdGhlIGVsZW1lbnQgYnkgaWRcbiAqIE5vdGU6IHRoZXJlIGlzIG9ubHkgb25lIGlkIGluIHdob2xlIGNvbXBvbmVudFxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7RWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uICRlbCAoaWQpIHtcbiAgY29uc3QgaW5mbyA9IHRoaXMuX2lkc1tpZF1cbiAgaWYgKGluZm8pIHtcbiAgICByZXR1cm4gaW5mby5lbFxuICB9XG59XG5cbi8qKlxuICogZmluZCB0aGUgdm0gb2YgdGhlIGN1c3RvbSBjb21wb25lbnQgYnkgaWRcbiAqIE5vdGU6IHRoZXJlIGlzIG9ubHkgb25lIGlkIGluIHdob2xlIGNvbXBvbmVudFxuICogQHBhcmFtICB7c3RyaW5nfSBpZFxuICogQHJldHVybiB7Vm19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkdm0gKGlkKSB7XG4gIGNvbnN0IGluZm8gPSB0aGlzLl9pZHNbaWRdXG4gIGlmIChpbmZvKSB7XG4gICAgcmV0dXJuIGluZm8udm1cbiAgfVxufVxuXG4vKipcbiAqIEZpcmUgd2hlbiBkaWZmZXIgcmVuZGVyaW5nIGZpbmlzaGVkXG4gKlxuICogQHBhcmFtICB7RnVuY3Rpb259IGZuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkcmVuZGVyVGhlbiAoZm4pIHtcbiAgY29uc3QgYXBwID0gdGhpcy5fYXBwXG4gIGNvbnN0IGRpZmZlciA9IGFwcC5kaWZmZXJcbiAgcmV0dXJuIGRpZmZlci50aGVuKCgpID0+IHtcbiAgICBmbigpXG4gIH0pXG59XG5cbi8qKlxuICogc2Nyb2xsIGFuIGVsZW1lbnQgc3BlY2lmaWVkIGJ5IGlkIGludG8gdmlldyxcbiAqIG1vcmVvdmVyIHNwZWNpZnkgYSBudW1iZXIgb2Ygb2Zmc2V0IG9wdGlvbmFsbHlcbiAqIEBwYXJhbSAge3N0cmluZ30gaWRcbiAqIEBwYXJhbSAge251bWJlcn0gb2Zmc2V0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkc2Nyb2xsVG8gKGlkLCBvZmZzZXQpIHtcbiAgY29uc29sZS53YXJuKCdbSlMgRnJhbWV3b3JrXSBWbSMkc2Nyb2xsVG8gaXMgZGVwcmVjYXRlZCwgJyArXG4gICAgICAgICAgJ3BsZWFzZSB1c2UgXCJyZXF1aXJlKFxcJ0B3ZWV4LW1vZHVsZS9kb21cXCcpJyArXG4gICAgICAgICAgJy5zY3JvbGxUbyhlbCwgb3B0aW9ucylcIiBpbnN0ZWFkJylcbiAgY29uc3QgZWwgPSB0aGlzLiRlbChpZClcbiAgaWYgKGVsKSB7XG4gICAgY29uc3QgZG9tID0gdGhpcy5fYXBwLnJlcXVpcmVNb2R1bGUoJ2RvbScpXG4gICAgZG9tLnNjcm9sbFRvRWxlbWVudChlbC5yZWYsIHsgb2Zmc2V0OiBvZmZzZXQgfSlcbiAgfVxufVxuXG4vKipcbiAqIHBlcmZvcm0gdHJhbnNpdGlvbiBhbmltYXRpb24gb24gYW4gZWxlbWVudCBzcGVjaWZpZWQgYnkgaWRcbiAqIEBwYXJhbSAge3N0cmluZ30gICBpZFxuICogQHBhcmFtICB7b2JqZWN0fSAgIG9wdGlvbnNcbiAqIEBwYXJhbSAge29iamVjdH0gICBvcHRpb25zLnN0eWxlc1xuICogQHBhcmFtICB7b2JqZWN0fSAgIG9wdGlvbnMuZHVyYXRpb24obXMpXG4gKiBAcGFyYW0gIHtvYmplY3R9ICAgW29wdGlvbnMudGltaW5nRnVuY3Rpb25dXG4gKiBAcGFyYW0gIHtvYmplY3R9ICAgW29wdGlvbnMuZGVsYXk9MChtcyldXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uICR0cmFuc2l0aW9uIChpZCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgY29uc3QgZWwgPSB0aGlzLiRlbChpZClcbiAgaWYgKGVsICYmIG9wdGlvbnMgJiYgb3B0aW9ucy5zdHlsZXMpIHtcbiAgICBjb25zdCBhbmltYXRpb24gPSB0aGlzLl9hcHAucmVxdWlyZU1vZHVsZSgnYW5pbWF0aW9uJylcbiAgICBhbmltYXRpb24udHJhbnNpdGlvbihlbC5yZWYsIG9wdGlvbnMsICguLi5hcmdzKSA9PiB7XG4gICAgICB0aGlzLl9zZXRTdHlsZShlbCwgb3B0aW9ucy5zdHlsZXMpXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayguLi5hcmdzKVxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiBnZXQgc29tZSBjb25maWdcbiAqIEByZXR1cm4ge29iamVjdH0gc29tZSBjb25maWcgZm9yIGFwcCBpbnN0YW5jZVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGJ1bmRsZVVybFxuICogQHByb3BlcnR5IHtib29sZWFufSBkZWJ1Z1xuICogQHByb3BlcnR5IHtvYmplY3R9IGVudlxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVudi53ZWV4VmVyc2lvbihleC4gMS4wLjApXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZW52LmFwcE5hbWUoZXguIFRCL1RNKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVudi5hcHBWZXJzaW9uKGV4LiA1LjAuMClcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBlbnYucGxhdGZvcm0oZXguIGlPUy9BbmRyb2lkKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVudi5vc1ZlcnNpb24oZXguIDcuMC4wKVxuICogQHByb3BlcnR5IHtzdHJpbmd9IGVudi5kZXZpY2VNb2RlbCAqKm5hdGl2ZSBvbmx5KipcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbnYuW2RldmljZVdpZHRoPTc1MF1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBlbnYuZGV2aWNlSGVpZ2h0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkZ2V0Q29uZmlnIChjYWxsYmFjaykge1xuICBjb25zdCBjb25maWcgPSBleHRlbmQoe1xuICAgIGVudjogZ2xvYmFsLldYRW52aXJvbm1lbnQgfHwge31cbiAgfSwgdGhpcy5fYXBwLm9wdGlvbnMpXG4gIGlmICh0eXBvZihjYWxsYmFjaykgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIHRoZSBjYWxsYmFjayBvZiBWbSMkZ2V0Q29uZmlnKGNhbGxiYWNrKSBpcyBkZXByZWNhdGVkLCAnICtcbiAgICAgICd0aGlzIGFwaSBub3cgY2FuIGRpcmVjdGx5IFJFVFVSTiBjb25maWcgaW5mby4nKVxuICAgIGNhbGxiYWNrKGNvbmZpZylcbiAgfVxuICByZXR1cm4gY29uZmlnXG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIHJlcXVlc3QgbmV0d29yayB2aWEgaHR0cCBwcm90b2NvbFxuICogQHBhcmFtICB7b2JqZWN0fSAgIHBhcmFtc1xuICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkc2VuZEh0dHAgKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgY29uc29sZS53YXJuKCdbSlMgRnJhbWV3b3JrXSBWbSMkc2VuZEh0dHAgaXMgZGVwcmVjYXRlZCwgJyArXG4gICAgICAgICAgJ3BsZWFzZSB1c2UgXCJyZXF1aXJlKFxcJ0B3ZWV4LW1vZHVsZS9zdHJlYW1cXCcpJyArXG4gICAgICAgICAgJy5zZW5kSHR0cChwYXJhbXMsIGNhbGxiYWNrKVwiIGluc3RlYWQnKVxuICBjb25zdCBzdHJlYW0gPSB0aGlzLl9hcHAucmVxdWlyZU1vZHVsZSgnc3RyZWFtJylcbiAgc3RyZWFtLnNlbmRIdHRwKHBhcmFtcywgY2FsbGJhY2spXG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIG9wZW4gYSB1cmxcbiAqIEBwYXJhbSAge3N0cmluZ30gdXJsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkb3BlblVSTCAodXJsKSB7XG4gIGNvbnNvbGUud2FybignW0pTIEZyYW1ld29ya10gVm0jJG9wZW5VUkwgaXMgZGVwcmVjYXRlZCwgJyArXG4gICAgICAgICAgJ3BsZWFzZSB1c2UgXCJyZXF1aXJlKFxcJ0B3ZWV4LW1vZHVsZS9ldmVudFxcJyknICtcbiAgICAgICAgICAnLm9wZW5VUkwodXJsKVwiIGluc3RlYWQnKVxuICBjb25zdCBldmVudCA9IHRoaXMuX2FwcC5yZXF1aXJlTW9kdWxlKCdldmVudCcpXG4gIGV2ZW50Lm9wZW5VUkwodXJsKVxufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBzZXQgYSB0aXRsZSBmb3IgcGFnZVxuICogQHBhcmFtICB7c3RyaW5nfSB0aXRsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gJHNldFRpdGxlICh0aXRsZSkge1xuICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIFZtIyRzZXRUaXRsZSBpcyBkZXByZWNhdGVkLCAnICtcbiAgICAgICAgICAncGxlYXNlIHVzZSBcInJlcXVpcmUoXFwnQHdlZXgtbW9kdWxlL3BhZ2VJbmZvXFwnKScgK1xuICAgICAgICAgICcuc2V0VGl0bGUodGl0bGUpXCIgaW5zdGVhZCcpXG4gIGNvbnN0IHBhZ2VJbmZvID0gdGhpcy5fYXBwLnJlcXVpcmVNb2R1bGUoJ3BhZ2VJbmZvJylcbiAgcGFnZUluZm8uc2V0VGl0bGUodGl0bGUpXG59XG5cbi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIFwicmVxdWlyZSgnQHdlZXgtbW9kdWxlL21vZHVsZU5hbWUnKSBpbnN0ZWFkXCJcbiAqIGludm9rZSBhIG5hdGl2ZSBtZXRob2QgYnkgc3BlY2lmaW5nIHRoZSBuYW1lIG9mIG1vZHVsZSBhbmQgbWV0aG9kXG4gKiBAcGFyYW0gIHtzdHJpbmd9IG1vZHVsZU5hbWVcbiAqIEBwYXJhbSAge3N0cmluZ30gbWV0aG9kTmFtZVxuICogQHBhcmFtICB7Li4uKn0gdGhlIHJlc3QgYXJndW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiAkY2FsbCAobW9kdWxlTmFtZSwgbWV0aG9kTmFtZSwgLi4uYXJncykge1xuICBjb25zb2xlLndhcm4oJ1tKUyBGcmFtZXdvcmtdIFZtIyRjYWxsIGlzIGRlcHJlY2F0ZWQsICcgK1xuICAgICdwbGVhc2UgdXNlIFwicmVxdWlyZShcXCdAd2VleC1tb2R1bGUvbW9kdWxlTmFtZVxcJylcIiBpbnN0ZWFkJylcbiAgY29uc3QgbW9kdWxlID0gdGhpcy5fYXBwLnJlcXVpcmVNb2R1bGUobW9kdWxlTmFtZSlcbiAgaWYgKG1vZHVsZSAmJiBtb2R1bGVbbWV0aG9kTmFtZV0pIHtcbiAgICBtb2R1bGVbbWV0aG9kTmFtZV0oLi4uYXJncylcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9kZWZhdWx0L2FwaS9tZXRob2RzLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvZGVmYXVsdC9hcGkvbWV0aG9kcy5qcyIsIi8qIGdsb2JhbCBFdmVudCAqL1xuXG4ndXNlIHN0cmljdCdcblxuLy8gY29uc3QgRnJhbWVVcGRhdGVyID0gcmVxdWlyZSgnLi9mcmFtZVVwZGF0ZXInKVxuaW1wb3J0IHsgd2F0Y2hJZk5lZWRlZCB9IGZyb20gJy4vYXBwZWFyV2F0Y2hlcidcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlscydcbi8vIGNvbnN0IGxhenlsb2FkID0gcmVxdWlyZSgnLi9sYXp5bG9hZCcpXG4vLyBjb25zdCBhbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbicpXG5cbmNvbnN0IFJFTkRFUklOR19JTkRFTlQgPSA4MDBcblxuY29uc3QgX2luc3RhbmNlTWFwID0ge31cbmNvbnN0IHR5cGVNYXAgPSB7fVxuY29uc3Qgc2Nyb2xsYWJsZVR5cGVzID0gW1xuICAnc2Nyb2xsZXInLFxuICAnaHNjcm9sbGVyJyxcbiAgJ3ZzY3JvbGxlcicsXG4gICdsaXN0JyxcbiAgJ2hsaXN0JyxcbiAgJ3ZsaXN0J1xuXVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21wb25lbnRNYW5hZ2VyIChpZCkge1xuICB0aGlzLmlkID0gaWRcbiAgdGhpcy5iYXRjaGVkID0gZmFsc2VcbiAgdGhpcy51cGRhdGVzID0gW11cbiAgdGhpcy5jb21wb25lbnRNYXAgPSB7fVxuICBfaW5zdGFuY2VNYXBbdGhpcy5pZF0gPSB0aGlzXG59XG5cbkNvbXBvbmVudE1hbmFnZXIuZ2V0SW5zdGFuY2UgPSBpbnN0YW5jZUlkID0+IF9pbnN0YW5jZU1hcFtpbnN0YW5jZUlkXVxuXG5Db21wb25lbnRNYW5hZ2VyLnJlZ2lzdGVyQ29tcG9uZW50ID0gKHR5cGUsIGRlZmluaXRpb24pID0+IHtcbiAgdHlwZU1hcFt0eXBlXSA9IGRlZmluaXRpb25cbn1cblxuQ29tcG9uZW50TWFuYWdlci5nZXRTY3JvbGxhYmxlVHlwZXMgPSAoKSA9PiBzY3JvbGxhYmxlVHlwZXNcblxuQ29tcG9uZW50TWFuYWdlci5wcm90b3R5cGUgPSB7XG5cbiAgZ2V0V2VleEluc3RhbmNlICgpIHtcbiAgICBpZiAoIXRoaXMuX3dlZXhJbnN0YW5jZSkge1xuICAgICAgdGhpcy5fd2VleEluc3RhbmNlID0gZ2xvYmFsLndlZXhcbiAgICAgICAgPyBnbG9iYWwud2VleC5nZXRJbnN0YW5jZSh0aGlzLmlkKVxuICAgICAgICA6IG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX3dlZXhJbnN0YW5jZVxuICB9LFxuXG4gIC8vIEZpcmUgYSBldmVudCAncmVuZGVyYmVnaW4nLydyZW5kZXJlbmQnIG9uIGJvZHkgZWxlbWVudC5cbiAgcmVuZGVyaW5nICgpIHtcbiAgICBmdW5jdGlvbiBfcmVuZGVyaW5nRW5kICgpIHtcbiAgICAgIC8vIGdldCB3ZWV4IGluc3RhbmNlIHJvb3RcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVuZGVyZW5kJykpXG4gICAgICB0aGlzLl9yZW5kZXJpbmdUaW1lciA9IG51bGxcbiAgICB9XG4gICAgaWYgKHRoaXMuX3JlbmRlcmluZ1RpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVuZGVyaW5nVGltZXIpXG4gICAgICB0aGlzLl9yZW5kZXJpbmdUaW1lciA9IHNldFRpbWVvdXQoXG4gICAgICAgIF9yZW5kZXJpbmdFbmQuYmluZCh0aGlzKSxcbiAgICAgICAgUkVOREVSSU5HX0lOREVOVFxuICAgICAgKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVuZGVyYmVnaW4nKSlcbiAgICAgIHRoaXMuX3JlbmRlcmluZ1RpbWVyID0gc2V0VGltZW91dChcbiAgICAgICAgX3JlbmRlcmluZ0VuZC5iaW5kKHRoaXMpLFxuICAgICAgICBSRU5ERVJJTkdfSU5ERU5UXG4gICAgICApXG4gICAgfVxuICB9LFxuXG4gIGdldENvbXBvbmVudCAocmVmKSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgfSxcblxuICByZW1vdmVDb21wb25lbnQgKHJlZikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgaWYgKCFyZWYgfHwgIXRoaXMuY29tcG9uZW50TWFwW3JlZl0pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICAvLyByZW1vdmUgZnJvbSB0aGlzLmNvbXBvbmVudE1hcCBjdXJzaXZlbHlcbiAgICAoZnVuY3Rpb24gX3JlbW92ZUN1cnNpdmVseSAoX3JlZikge1xuICAgICAgY29uc3QgY2hpbGQgPSBzZWxmLmNvbXBvbmVudE1hcFtfcmVmXVxuICAgICAgY29uc3QgbGlzdGVuZXJzID0gY2hpbGQuX2xpc3RlbmVyc1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSBjaGlsZC5kYXRhLmNoaWxkcmVuXG4gICAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgX3JlbW92ZUN1cnNpdmVseShjaGlsZHJlbltpXS5yZWYpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHJlbW92ZSBldmVudHMgZnJvbSBfcmVmIGNvbXBvbmVudFxuICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gbGlzdGVuZXJzKSB7XG4gICAgICAgICAgY2hpbGQubm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1t0eXBlXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZGVsZXRlIGNoaWxkLl9saXN0ZW5lcnNcbiAgICAgIGRlbGV0ZSBjaGlsZC5ub2RlLl9saXN0ZW5lcnNcbiAgICAgIC8vIHJlbW92ZSBfcmVmIGNvbXBvbmVudFxuICAgICAgZGVsZXRlIHNlbGYuY29tcG9uZW50TWFwW19yZWZdXG4gICAgfSkocmVmKVxuICB9LFxuXG4gIGNyZWF0ZUVsZW1lbnQgKGRhdGEsIG5vZGVUeXBlKSB7XG4gICAgbGV0IENvbXBvbmVudFR5cGUgPSB0eXBlTWFwW2RhdGEudHlwZV1cbiAgICBpZiAoIUNvbXBvbmVudFR5cGUpIHtcbiAgICAgIENvbXBvbmVudFR5cGUgPSB0eXBlTWFwWydkaXYnXVxuICAgIH1cblxuICAgIGRhdGEuaW5zdGFuY2VJZCA9IHRoaXMuaWRcbiAgICBkYXRhLnNjYWxlID0gdGhpcy5nZXRXZWV4SW5zdGFuY2UoKS5zY2FsZVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnRUeXBlKGRhdGEsIG5vZGVUeXBlKVxuICAgIGNvbnN0IHJlZiA9IGRhdGEucmVmXG4gICAgdGhpcy5jb21wb25lbnRNYXBbcmVmXSA9IGNvbXBvbmVudFxuICAgIGNvbXBvbmVudC5ub2RlLnNldEF0dHJpYnV0ZSgnZGF0YS1yZWYnLCByZWYpXG5cbiAgICByZXR1cm4gY29tcG9uZW50XG4gIH0sXG5cbiAgLyoqXG4gICAqIGNyZWF0ZUJvZHk6IGdlbmVyYXRlIHJvb3QgY29tcG9uZW50XG4gICAqIEBwYXJhbSAge29iamVjdH0gZWxlbWVudFxuICAgKi9cbiAgY3JlYXRlQm9keSAoZWxlbWVudCkge1xuICAgIGNvbnNvbGUubG9nKCdbaDUtcmVuZGVyXSBjcmVhdGVCb2R5JywgZWxlbWVudClcbiAgICBpZiAodGhpcy5jb21wb25lbnRNYXBbJ19yb290J10pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBlbGVtZW50ID0gZWxlbWVudC50b0pTT04oKVxuXG4gICAgY29uc3Qgbm9kZVR5cGUgPSBlbGVtZW50LnR5cGVcbiAgICBlbGVtZW50LnR5cGUgPSAncm9vdCdcbiAgICBlbGVtZW50LnJvb3RJZCA9IHRoaXMuZ2V0V2VleEluc3RhbmNlKCkucm9vdElkXG4gICAgZWxlbWVudC5yZWYgPSAnX3Jvb3QnXG5cbiAgICBjb25zdCByb290ID0gdGhpcy5jcmVhdGVFbGVtZW50KGVsZW1lbnQsIG5vZGVUeXBlKVxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuZ2V0V2VleEluc3RhbmNlKCkucm9vdElkKVxuICAgICAgICAgIHx8IGRvY3VtZW50LmJvZHlcbiAgICBib2R5LmFwcGVuZENoaWxkKHJvb3Qubm9kZSlcbiAgICByb290Ll9hcHBlbmRlZCA9IHRydWVcblxuICAgIHRoaXMuaGFuZGxlQXBwZW5kKHJvb3QpXG4gIH0sXG5cbiAgYXBwZW5kQ2hpbGQgKHBhcmVudFJlZiwgZGF0YSkge1xuICAgIGxldCBwYXJlbnQgPSB0aGlzLmNvbXBvbmVudE1hcFtwYXJlbnRSZWZdXG5cbiAgICBpZiAodGhpcy5jb21wb25lbnRNYXBbZGF0YS5yZWZdIHx8ICFwYXJlbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJlbnRSZWYgPT09ICdfcm9vdCcgJiYgIXBhcmVudCkge1xuICAgICAgcGFyZW50ID0gdGhpcy5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgdHlwZTogJ3Jvb3QnLFxuICAgICAgICByb290SWQ6IHRoaXMuZ2V0V2VleEluc3RhbmNlKCkucm9vdElkLFxuICAgICAgICByZWY6ICdfcm9vdCdcbiAgICAgIH0pXG4gICAgICBwYXJlbnQuX2FwcGVuZGVkID0gdHJ1ZVxuICAgIH1cblxuICAgIGNvbnN0IGNoaWxkID0gcGFyZW50LmFwcGVuZENoaWxkKGRhdGEpXG5cbiAgICAvLyBJbiBzb21lIHBhcmVudCBjb21wb25lbnQgdGhlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZFxuICAgIC8vIGFwcGVuZENoaWxkIGRpZG4ndCByZXR1cm4gdGhlIGNvbXBvbmVudCBhdCBhbGwsIHRoZXJlZm9yXG4gICAgLy8gY2hpbGQgbWF5YmUgYSB1bmRlZmluZWQgb2JqZWN0LlxuICAgIGlmIChjaGlsZCkge1xuICAgICAgY2hpbGQucGFyZW50UmVmID0gcGFyZW50UmVmXG4gICAgfVxuXG4gICAgaWYgKGNoaWxkICYmIHBhcmVudC5fYXBwZW5kZWQpIHtcbiAgICAgIHRoaXMuaGFuZGxlQXBwZW5kKGNoaWxkKVxuICAgIH1cbiAgfSxcblxuICAvLyBhcHBlbmRDaGlsZHJlbiAocmVmLCBlbGVtZW50cykge1xuICAvLyAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgLy8gICAgIHRoaXMuYXBwZW5kQ2hpbGQocmVmLCBlbGVtZW50c1tpXSlcbiAgLy8gICB9XG4gIC8vIH0sXG5cbiAgcmVtb3ZlRWxlbWVudCAocmVmKSB7XG4gICAgaWYgKGlzQXJyYXkocmVmKSkge1xuICAgICAgcmV0dXJuIHJlZi5tYXAociA9PiB0aGlzLnJlbW92ZUVsZW1lbnQocikpXG4gICAgfVxuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgICAvLyBmaXJlIGV2ZW50IGZvciByZW5kZXJpbmcgZG9tIG9uIGJvZHkgZWxtZW50LlxuICAgIHRoaXMucmVuZGVyaW5nKClcblxuICAgIGlmIChjb21wb25lbnQgJiYgY29tcG9uZW50LnBhcmVudFJlZikge1xuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5jb21wb25lbnRNYXBbY29tcG9uZW50LnBhcmVudFJlZl1cbiAgICAgIGNvbXBvbmVudC5vblJlbW92ZSAmJiBjb21wb25lbnQub25SZW1vdmUoKVxuICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGNvbXBvbmVudClcbiAgICB9XG4gICAgZWxzZSBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgY29uc29sZS5lcnJvcihgW2g1LXJlbmRlcl0gY29tcG9uZW50IG9mIHJlZiAnJHtyZWZ9JyBkb2VzIG5vdCBleGlzdC5gKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtoNS1yZW5kZXJdIHBhcmVudCBjb21wb25lbnQgJyR7Y29tcG9uZW50LnBhcmVudFJlZn0nIGRvZXMgbm90IGV4aXN0LmApXG4gICAgfVxuICB9LFxuXG4gIG1vdmVFbGVtZW50IChyZWYsIHBhcmVudFJlZiwgaW5kZXgpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudE1hcFtyZWZdXG4gICAgY29uc3QgbmV3UGFyZW50ID0gdGhpcy5jb21wb25lbnRNYXBbcGFyZW50UmVmXVxuICAgIGNvbnN0IG9sZFBhcmVudFJlZiA9IGNvbXBvbmVudC5wYXJlbnRSZWZcbiAgICBsZXQgY2hpbGRyZW4sIGJlZm9yZSwgaSwgbFxuICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcihgW2g1LXJlbmRlcl0gY29tcG9uZW50IG9mIHJlZiAnJHtyZWZ9JyBkb2VzIG5vdCBleGlzdC5gKVxuICAgIH1cbiAgICBpZiAoIW5ld1BhcmVudCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBbaDUtcmVuZGVyXSBwYXJlbnQgY29tcG9uZW50ICcke3BhcmVudFJlZn0nIGRvZXMgbm90IGV4aXN0LmApXG4gICAgfVxuXG4gICAgaWYgKGluZGV4IDwgLTEpIHtcbiAgICAgIGluZGV4ID0gLTFcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBpbmRleCBjYW5ub3QgYmUgbGVzcyB0aGFuIC0xLicpXG4gICAgfVxuXG4gICAgLy8gZmlyZSBldmVudCBmb3IgcmVuZGVyaW5nLlxuICAgIHRoaXMucmVuZGVyaW5nKClcblxuICAgIGNoaWxkcmVuID0gbmV3UGFyZW50LmRhdGEuY2hpbGRyZW5cbiAgICBpZiAoY2hpbGRyZW5cbiAgICAgICAgJiYgY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICYmIGluZGV4ICE9PSAtMVxuICAgICAgICAmJiBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgYmVmb3JlID0gdGhpcy5jb21wb25lbnRNYXBbbmV3UGFyZW50LmRhdGEuY2hpbGRyZW5baW5kZXhdLnJlZl1cbiAgICB9XG5cbiAgICAvLyByZW1vdmUgZnJvbSBvbGRQYXJlbnQuZGF0YS5jaGlsZHJlblxuICAgIGlmIChvbGRQYXJlbnRSZWYgJiYgdGhpcy5jb21wb25lbnRNYXBbb2xkUGFyZW50UmVmXSkge1xuICAgICAgY2hpbGRyZW4gPSB0aGlzLmNvbXBvbmVudE1hcFtvbGRQYXJlbnRSZWZdLmRhdGEuY2hpbGRyZW5cbiAgICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgIGlmIChjaGlsZHJlbltpXS5yZWYgPT09IHJlZikge1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGwgPiBpKSB7XG4gICAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXdQYXJlbnQuaW5zZXJ0QmVmb3JlKGNvbXBvbmVudCwgYmVmb3JlKVxuXG4gICAgY29tcG9uZW50Lm9uTW92ZSAmJiBjb21wb25lbnQub25Nb3ZlKHBhcmVudFJlZiwgaW5kZXgpXG4gIH0sXG5cbiAgaW5zZXJ0QmVmb3JlIChyZWYsIGRhdGEpIHtcbiAgICBsZXQgY2hpbGQsIHBhcmVudFxuICAgIGNvbnN0IGJlZm9yZSA9IHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgICBjaGlsZCA9IHRoaXMuY29tcG9uZW50TWFwW2RhdGEucmVmXVxuICAgIGJlZm9yZSAmJiAocGFyZW50ID0gdGhpcy5jb21wb25lbnRNYXBbYmVmb3JlLnBhcmVudFJlZl0pXG4gICAgaWYgKGNoaWxkIHx8ICFwYXJlbnQgfHwgIWJlZm9yZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2hpbGQgPSB0aGlzLmNyZWF0ZUVsZW1lbnQoZGF0YSlcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGNoaWxkLnBhcmVudFJlZiA9IGJlZm9yZS5wYXJlbnRSZWZcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGJlZm9yZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb21wb25lbnRNYXBbYmVmb3JlLnBhcmVudFJlZl0uX2FwcGVuZGVkKSB7XG4gICAgICB0aGlzLmhhbmRsZUFwcGVuZChjaGlsZClcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIGFkZEVsZW1lbnRcbiAgICogSWYgaW5kZXggaXMgbGFyZ2V0IHRoYW4gYW55IGNoaWxkJ3MgaW5kZXgsIHRoZVxuICAgKiBlbGVtZW50IHdpbGwgYmUgYXBwZW5kZWQgYmVoaW5kLlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGFyZW50UmVmXG4gICAqIEBwYXJhbSB7b2JqfSBlbGVtZW50IChkYXRhIG9mIHRoZSBjb21wb25lbnQpXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxuICAgKi9cbiAgYWRkRWxlbWVudCAoZWxlbWVudCwgcGFyZW50UmVmLCBpbmRleCkge1xuICAgIC8vIGZpcmUgZXZlbnQgZm9yIHJlbmRlcmluZyBkb20gb24gYm9keSBlbG1lbnQuXG4gICAgZWxlbWVudCA9IGVsZW1lbnQudG9KU09OKClcbiAgICB0aGlzLnJlbmRlcmluZygpXG5cbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmNvbXBvbmVudE1hcFtwYXJlbnRSZWZdXG4gICAgaWYgKCFwYXJlbnQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IHBhcmVudC5kYXRhLmNoaWxkcmVuXG4gICAgLy8gLTEgbWVhbnMgYXBwZW5kIGFzIHRoZSBsYXN0LlxuICAgIGlmIChpbmRleCA8IC0xKSB7XG4gICAgICBpbmRleCA9IC0xXG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gaW5kZXggY2Fubm90IGJlIGxlc3MgdGhhbiAtMS4nKVxuICAgIH1cbiAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICYmIGNoaWxkcmVuLmxlbmd0aCA+IGluZGV4XG4gICAgICAgICYmIGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5pbnNlcnRCZWZvcmUoY2hpbGRyZW5baW5kZXhdLnJlZiwgZWxlbWVudClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKHBhcmVudFJlZiwgZWxlbWVudClcbiAgICB9XG4gIH0sXG5cbiAgYWRkRXZlbnQgKHJlZiwgdHlwZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYFtoNS1yZW5kZXJdIGNvbXBvbmVudCBvZiByZWYgJyR7cmVmfScgZG9lcyBub3QgZXhpc3QuYClcbiAgICB9XG4gICAgY29tcG9uZW50LmJpbmRFdmVudHMoW3R5cGVdKVxuICB9LFxuXG4gIHJlbW92ZUV2ZW50IChyZWYsIHR5cGUpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNvbXBvbmVudE1hcFtyZWZdXG4gICAgaWYgKCFjb21wb25lbnQpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGBbaDUtcmVuZGVyXSBjb21wb25lbnQgb2YgcmVmICcke3JlZn0nIGRvZXMgbm90IGV4aXN0LmApXG4gICAgfVxuICAgIGNvbXBvbmVudC51bmJpbmRFdmVudHMoW3R5cGVdKVxuICB9LFxuXG4gIHNldEF0dHIgKHJlZiwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYFtoNS1yZW5kZXJdIGNvbXBvbmVudCBvZiByZWYgJyR7cmVmfScgZG9lcyBub3QgZXhpc3QuYClcbiAgICB9XG4gICAgY29tcG9uZW50LnVwZGF0ZUF0dHJzKHsgW2tleV06IHZhbHVlIH0pXG4gIH0sXG5cbiAgc2V0U3R5bGUgKHJlZiwga2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50TWFwW3JlZl1cbiAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoYFtoNS1yZW5kZXJdIGNvbXBvbmVudCBvZiByZWYgJyR7cmVmfScgZG9lcyBub3QgZXhpc3QuYClcbiAgICB9XG4gICAgY29tcG9uZW50LnVwZGF0ZVN0eWxlKHsgW2tleV06IHZhbHVlIH0pXG4gIH0sXG5cbiAgc2V0U3R5bGVzIChyZWYsIHN0eWxlKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnRNYXBbcmVmXVxuICAgIGlmICghY29tcG9uZW50KSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcihgW2g1LXJlbmRlcl0gY29tcG9uZW50IG9mIHJlZiAnJHtyZWZ9JyBkb2VzIG5vdCBleGlzdC5gKVxuICAgIH1cbiAgICBjb21wb25lbnQudXBkYXRlU3R5bGUoc3R5bGUpXG4gIH0sXG5cbiAgaGFuZGxlQXBwZW5kIChjb21wb25lbnQpIHtcbiAgICBjb21wb25lbnQuX2FwcGVuZGVkID0gdHJ1ZVxuICAgIGNvbXBvbmVudC5vbkFwcGVuZCAmJiBjb21wb25lbnQub25BcHBlbmQoKVxuXG4gICAgLy8gaW52b2tlIG9uQXBwZW5kIG9uIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5XG4gICAgY29uc3QgY2hpbGRyZW4gPSBjb21wb25lbnQuZGF0YS5jaGlsZHJlblxuICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY29tcG9uZW50TWFwW2NoaWxkcmVuW2ldLnJlZl1cbiAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVBcHBlbmQoY2hpbGQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB3YXRjaCBhcHBlYXIvZGlzYXBwZWFyIG9mIHRoZSBjb21wb25lbnQgaWYgbmVlZGVkXG4gICAgd2F0Y2hJZk5lZWRlZChjb21wb25lbnQpXG5cbiAgICAvLyBkbyBsYXp5bG9hZCBpZiBuZWVkZWRcbiAgICBjb21wb25lbnQuZmlyZUxhenlsb2FkKClcbiAgICAvLyBsYXp5bG9hZC5zdGFydElmTmVlZGVkKGNvbXBvbmVudCk7XG4gIH0sXG5cbiAgY3JlYXRlRmluaXNoIChjYWxsYmFjaykge1xuICAgIC8vIFRPRE9cbiAgfSxcblxuICB1cGRhdGVGaW5pc2ggKGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ET1xuICB9LFxuXG4gIHJlZnJlc2hGaW5pc2ggKGNhbGxiYWNrKSB7XG4gICAgLy8gVE9ET1xuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9kb20vY29tcG9uZW50TWFuYWdlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZG9tL2NvbXBvbmVudE1hbmFnZXIuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IGNvbXBvbmVudHNJblNjcm9sbGVyID0gW11cbmNvbnN0IGNvbXBvbmVudHNPdXRPZlNjcm9sbGVyID0gW11cbmxldCBsaXN0ZW5lZCA9IGZhbHNlXG5sZXQgZGlyZWN0aW9uID0gJ3VwJ1xubGV0IHNjcm9sbFkgPSAwXG5cbmV4cG9ydCBmdW5jdGlvbiB3YXRjaElmTmVlZGVkIChjb21wb25lbnQpIHtcbiAgaWYgKG5lZWRXYXRjaChjb21wb25lbnQpKSB7XG4gICAgaWYgKGNvbXBvbmVudC5pc0luU2Nyb2xsYWJsZSgpKSB7XG4gICAgICBjb21wb25lbnRzSW5TY3JvbGxlci5wdXNoKGNvbXBvbmVudClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb21wb25lbnRzT3V0T2ZTY3JvbGxlci5wdXNoKGNvbXBvbmVudClcbiAgICB9XG4gICAgaWYgKCFsaXN0ZW5lZCkge1xuICAgICAgbGlzdGVuZWQgPSB0cnVlXG4gICAgICAvLyBjb25zdCBoYW5kbGVyID0gdGhyb3R0bGUob25TY3JvbGwsIDI1KVxuICAgICAgY29uc3QgaGFuZGxlciA9IHRocm90dGxlKG9uU2Nyb2xsLCAxMDApXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlciwgZmFsc2UpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIG5lZWRXYXRjaCAoY29tcG9uZW50KSB7XG4gIGNvbnN0IGV2ZW50cyA9IGNvbXBvbmVudC5kYXRhLmV2ZW50XG4gIGlmIChldmVudHNcbiAgICAgICYmIChldmVudHMuaW5kZXhPZignYXBwZWFyJykgIT09IC0xXG4gICAgICAgIHx8IGV2ZW50cy5pbmRleE9mKCdkaXNhcHBlYXInKSAhPT0gLTEpKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gb25TY3JvbGwgKGUpIHtcbiAgLy8gSWYgdGhlIHNjcm9sbCBldmVudCBpcyBkaXNwYXRjaGVkIGZyb20gYSBzY3JvbGxhYmxlIGNvbXBvbmVudFxuICAvLyBpbXBsZW1lbnRlZCB0aHJvdWdoIHNjcm9sbGVyanMsIHRoZW4gdGhlIGFwcGVhci9kaXNhcHBlYXIgZXZlbnRzXG4gIC8vIHNob3VsZCBiZSB0cmVhdGVkIHNwZWNpYWxseSBieSBoYW5kbGVTY3JvbGxlclNjcm9sbC5cbiAgaWYgKGUub3JpZ2luYWxUeXBlID09PSAnc2Nyb2xsaW5nJykge1xuICAgIGhhbmRsZVNjcm9sbGVyU2Nyb2xsKGUpXG4gIH1cbiAgZWxzZSB7XG4gICAgaGFuZGxlV2luZG93U2Nyb2xsKClcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVTY3JvbGxlclNjcm9sbCAoZSkge1xuICBjb25zdCBjbXBzID0gY29tcG9uZW50c0luU2Nyb2xsZXJcbiAgY29uc3QgbGVuID0gY21wcy5sZW5ndGhcbiAgZGlyZWN0aW9uID0gZS5kaXJlY3Rpb25cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNtcHNbaV1cbiAgICBjb25zdCBhcHBlYXIgPSBpc0NvbXBvbmVudEluU2Nyb2xsZXJBcHBlYXIoY29tcG9uZW50KVxuICAgIGlmIChhcHBlYXIgJiYgIWNvbXBvbmVudC5fYXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuX2FwcGVhciA9IHRydWVcbiAgICAgIGZpcmVFdmVudChjb21wb25lbnQsICdhcHBlYXInKVxuICAgIH1cbiAgICBlbHNlIGlmICghYXBwZWFyICYmIGNvbXBvbmVudC5fYXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuX2FwcGVhciA9IGZhbHNlXG4gICAgICBmaXJlRXZlbnQoY29tcG9uZW50LCAnZGlzYXBwZWFyJylcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlV2luZG93U2Nyb2xsICgpIHtcbiAgY29uc3QgeSA9IHdpbmRvdy5zY3JvbGxZXG4gIGRpcmVjdGlvbiA9IHkgPj0gc2Nyb2xsWSA/ICd1cCcgOiAnZG93bidcbiAgc2Nyb2xsWSA9IHlcblxuICBjb25zdCBsZW4gPSBjb21wb25lbnRzT3V0T2ZTY3JvbGxlci5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBjb21wb25lbnRzT3V0T2ZTY3JvbGxlcltpXVxuICAgIGNvbnN0IGFwcGVhciA9IGlzQ29tcG9uZW50SW5XaW5kb3coY29tcG9uZW50KVxuICAgIGlmIChhcHBlYXIgJiYgIWNvbXBvbmVudC5fYXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuX2FwcGVhciA9IHRydWVcbiAgICAgIGZpcmVFdmVudChjb21wb25lbnQsICdhcHBlYXInKVxuICAgIH1cbiAgICBlbHNlIGlmICghYXBwZWFyICYmIGNvbXBvbmVudC5fYXBwZWFyKSB7XG4gICAgICBjb21wb25lbnQuX2FwcGVhciA9IGZhbHNlXG4gICAgICBmaXJlRXZlbnQoY29tcG9uZW50LCAnZGlzYXBwZWFyJylcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNDb21wb25lbnRJblNjcm9sbGVyQXBwZWFyIChjb21wb25lbnQpIHtcbiAgbGV0IHBhcmVudFNjcm9sbGVyID0gY29tcG9uZW50Ll9wYXJlbnRTY3JvbGxlclxuICBjb25zdCBjbXBSZWN0ID0gY29tcG9uZW50Lm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgaWYgKCFpc0NvbXBvbmVudEluV2luZG93KGNvbXBvbmVudCkpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICB3aGlsZSAocGFyZW50U2Nyb2xsZXIpIHtcbiAgICBjb25zdCBwYXJlbnRSZWN0ID0gcGFyZW50U2Nyb2xsZXIubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmICghKGNtcFJlY3QucmlnaHQgPiBwYXJlbnRSZWN0LmxlZnRcbiAgICAgICAgJiYgY21wUmVjdC5sZWZ0IDwgcGFyZW50UmVjdC5yaWdodFxuICAgICAgICAmJiBjbXBSZWN0LmJvdHRvbSA+IHBhcmVudFJlY3QudG9wXG4gICAgICAgICYmIGNtcFJlY3QudG9wIDwgcGFyZW50UmVjdC5ib3R0b20pKSB7XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG4gICAgcGFyZW50U2Nyb2xsZXIgPSBwYXJlbnRTY3JvbGxlci5fcGFyZW50U2Nyb2xsZXJcbiAgfVxuICByZXR1cm4gdHJ1ZVxufVxuXG5mdW5jdGlvbiBpc0NvbXBvbmVudEluV2luZG93IChjb21wb25lbnQpIHtcbiAgY29uc3QgcmVjdCA9IGNvbXBvbmVudC5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gIHJldHVybiByZWN0LnJpZ2h0ID4gMCAmJiByZWN0LmxlZnQgPCB3aW5kb3cuaW5uZXJXaWR0aCAmJlxuICAgICAgICAgcmVjdC5ib3R0b20gPiAwICYmIHJlY3QudG9wIDwgd2luZG93LmlubmVySGVpZ2h0XG59XG5cbmZ1bmN0aW9uIGZpcmVFdmVudCAoY29tcG9uZW50LCB0eXBlKSB7XG4gIGNvbnN0IGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJylcbiAgY29uc3QgZGF0YSA9IHsgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfVxuICBldnQuaW5pdEV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSlcbiAgZXZ0LmRhdGEgPSBkYXRhXG4gIGV4dGVuZChldnQsIGRhdGEpXG4gIGNvbXBvbmVudC5ub2RlLmRpc3BhdGNoRXZlbnQoZXZ0KVxufVxuXG5mdW5jdGlvbiB0aHJvdHRsZSAoZnVuYywgd2FpdCkge1xuICBsZXQgY29udGV4dCwgYXJncywgcmVzdWx0XG4gIGxldCB0aW1lb3V0ID0gbnVsbFxuICBsZXQgcHJldmlvdXMgPSAwXG4gIGNvbnN0IGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgIHByZXZpb3VzID0gRGF0ZS5ub3coKVxuICAgIHRpbWVvdXQgPSBudWxsXG4gICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICB9XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKVxuICAgIGNvbnN0IHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpXG4gICAgY29udGV4dCA9IHRoaXNcbiAgICBhcmdzID0gYXJndW1lbnRzXG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dClcbiAgICAgIHRpbWVvdXQgPSBudWxsXG4gICAgICBwcmV2aW91cyA9IG5vd1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgIH1cbiAgICBlbHNlIGlmICghdGltZW91dCkge1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZylcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZG9tL2FwcGVhcldhdGNoZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2RvbS9hcHBlYXJXYXRjaGVyLmpzIiwiLyogZ2xvYmFsIEltYWdlICovXG5cbid1c2Ugc3RyaWN0J1xuXG4vLyBjb25zdCBXRUFQUF9TVFlMRV9JRCA9ICd3ZWFwcC1zdHlsZSdcblxuaW1wb3J0IGZyYW1lVXBkYXRlciBmcm9tICcuL2ZyYW1lVXBkYXRlcidcbmV4cG9ydCB7IGZyYW1lVXBkYXRlciB9XG5cbmltcG9ydCAnLi4vLi4vc2hhcmVkL29iamVjdEFzc2lnbidcblxuZXhwb3J0IHtcbiAgZXh0ZW5kLFxuICBkZWYsXG4gIHJlbW92ZSxcbiAgaGFzT3duLFxuICBiaW5kLFxuICB0b0FycmF5LFxuICBpc09iamVjdCxcbiAgaXNQbGFpbk9iamVjdCxcbiAgdHlwb2Zcbn0gZnJvbSAnLi4vLi4vZGVmYXVsdC91dGlsJ1xuXG5pbXBvcnQgeyBpc0FycmF5LCBzbGljZSB9IGZyb20gJy4vYXJyYXknXG5leHBvcnQgeyBpc0FycmF5LCBzbGljZSB9XG5cbmV4cG9ydCBjb25zdCB2ZW5kb3JzID0gWydtcycsICdtb3onLCAnd2Via2l0JywgJ28nXVxuXG5sZXQgX2lzV2VicFN1cHBvcnRlZCA9IGZhbHNlXG5cbjsgKGZ1bmN0aW9uIGlzU3VwcG9ydFdlYnAgKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHdlYlAgPSBuZXcgSW1hZ2UoKVxuICAgIHdlYlAuc3JjID0gJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1Jqb0FBQUJYUlVKUVZsQTRJQzRBQUFDeUFnQ2RBJ1xuICAgICAgICAgICAgICArICdTb0NBQUlBTG1rMG1rMGlJaUlpSWdCb1N5Z0FCYzZXV2dBQS92ZWZmLzBQUDhiQS8vTHdZQUFBJ1xuICAgIHdlYlAub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHdlYlAuaGVpZ2h0ID09PSAyKSB7XG4gICAgICAgIF9pc1dlYnBTdXBwb3J0ZWQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhdGNoIChlKSB7XG4gICAgLy8gZG8gbm90aGluZy5cbiAgfVxufSkoKVxuXG5sZXQgX2lzU3RpY2t5U3VwcG9ydGVkID0gZmFsc2VcblxuOyAoZnVuY3Rpb24gaXNTdXBwb3J0U3RpY2t5ICgpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnN0IGVsZW1lbnRTdHlsZSA9IGVsZW1lbnQuc3R5bGVcbiAgZWxlbWVudFN0eWxlLmNzc1RleHQgPSB2ZW5kb3JzLmNvbmNhdChbJyddKS5tYXAoZnVuY3Rpb24gKHZlbmRvcikge1xuICAgIHJldHVybiAncG9zaXRpb246J1xuICAgICAgKyAodmVuZG9yID8gJy0nICsgdmVuZG9yICsgJy0nIDogJycpXG4gICAgICArICdzdGlja3knXG4gIH0pLmpvaW4oJzsnKSArICc7J1xuICBfaXNTdGlja3lTdXBwb3J0ZWQgPSBlbGVtZW50U3R5bGUucG9zaXRpb24uaW5kZXhPZignc3RpY2t5JykgIT09IC0xXG59KSgpXG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBleHRlbmQgKHRvLCBmcm9tKSB7XG4vLyAgIGZvciAoY29uc3Qga2V5IGluIGZyb20pIHtcbi8vICAgICB0b1trZXldID0gZnJvbVtrZXldXG4vLyAgIH1cbi8vICAgcmV0dXJuIHRvXG4vLyB9XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0IChvYmopIHtcbi8vICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopXG4vLyAgICAgLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpID09PSAnb2JqZWN0J1xuLy8gfVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VHlwZSAob2JqKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKVxuICAgIC5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kU3R5bGUgKGNzcywgc3R5bGVJZCwgcmVwbGFjZSkge1xuICBsZXQgc3R5bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHlsZUlkKVxuICBpZiAoc3R5bGUgJiYgcmVwbGFjZSkge1xuICAgIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpXG4gICAgc3R5bGUgPSBudWxsXG4gIH1cbiAgaWYgKCFzdHlsZSkge1xuICAgIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKVxuICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnXG4gICAgc3R5bGVJZCAmJiAoc3R5bGUuaWQgPSBzdHlsZUlkKVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF0uYXBwZW5kQ2hpbGQoc3R5bGUpXG4gIH1cbiAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFVuaXF1ZUZyb21BcnJheSAoYXJyKSB7XG4gIGlmICghaXNBcnJheShhcnIpKSB7XG4gICAgcmV0dXJuIFtdXG4gIH1cbiAgY29uc3QgcmVzID0gW11cbiAgY29uc3QgdW5pcXVlID0ge31cbiAgbGV0IHZhbFxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YWwgPSBhcnJbaV1cbiAgICBpZiAodW5pcXVlW3ZhbF0pIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICAgIHVuaXF1ZVt2YWxdID0gdHJ1ZVxuICAgIHJlcy5wdXNoKHZhbClcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXRlY3RXZWJwICgpIHtcbiAgcmV0dXJuIF9pc1dlYnBTdXBwb3J0ZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRldGVjdFN0aWNreSAoKSB7XG4gIHJldHVybiBfaXNTdGlja3lTdXBwb3J0ZWRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbSAobnVtKSB7XG4gIGNvbnN0IF9kZWZhdWx0TnVtID0gMTBcbiAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInIHx8IG51bSA8PSAwKSB7XG4gICAgbnVtID0gX2RlZmF1bHROdW1cbiAgfVxuICBjb25zdCBfbWF4ID0gTWF0aC5wb3coMTAsIG51bSlcbiAgcmV0dXJuIE1hdGguZmxvb3IoRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKCkgKiBfbWF4KSAlIF9tYXhcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJnYiAoY29sb3IpIHtcbiAgbGV0IG1hdGNoXG4gIGNvbG9yID0gY29sb3IgKyAnJ1xuICBtYXRjaCA9IGNvbG9yLm1hdGNoKC8jKFtcXGRhLWZBLUZdezJ9KShbXFxkYS1mQS1GXXsyfSkoW1xcZGEtZkEtRl17Mn0pLylcbiAgaWYgKG1hdGNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHI6IHBhcnNlSW50KG1hdGNoWzFdLCAxNiksXG4gICAgICBnOiBwYXJzZUludChtYXRjaFsyXSwgMTYpLFxuICAgICAgYjogcGFyc2VJbnQobWF0Y2hbM10sIDE2KVxuICAgIH1cbiAgfVxuICBtYXRjaCA9IGNvbG9yLm1hdGNoKC9yZ2JcXCgoXFxkKyksXFxzKihcXGQrKSxcXHMqKFxcZCspXFwpLylcbiAgaWYgKG1hdGNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHI6IHBhcnNlSW50KG1hdGNoWzFdKSxcbiAgICAgIGc6IHBhcnNlSW50KG1hdGNoWzJdKSxcbiAgICAgIGI6IHBhcnNlSW50KG1hdGNoWzNdKVxuICAgIH1cbiAgfVxufVxuXG4vLyBkaXJlY3Rpb246ICdsJyB8ICdyJywgZGVmYXVsdCBpcyAncidcbi8vIG51bTogaG93IG1hbnkgdGltZXMgdG8gbG9vcCwgc2hvdWxkIGJlIGEgcG9zaXRpdmUgaW50ZWdlclxuZXhwb3J0IGZ1bmN0aW9uIGxvb3BBcnJheSAoYXJyLCBudW0sIGRpcmVjdGlvbikge1xuICBpZiAoIWlzQXJyYXkoYXJyKSkge1xuICAgIHJldHVyblxuICB9XG4gIGxldCBpc0xlZnQgPSAoZGlyZWN0aW9uICsgJycpLnRvTG93ZXJDYXNlKCkgPT09ICdsJ1xuICBjb25zdCBsZW4gPSBhcnIubGVuZ3RoXG4gIG51bSA9IG51bSAlIGxlblxuICBpZiAobnVtIDwgMCkge1xuICAgIG51bSA9IC1udW1cbiAgICBpc0xlZnQgPSAhaXNMZWZ0XG4gIH1cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiBhcnJcbiAgfVxuICBsZXQgbHAsIHJwXG4gIGlmIChpc0xlZnQpIHtcbiAgICBscCA9IGFyci5zbGljZSgwLCBudW0pXG4gICAgcnAgPSBhcnIuc2xpY2UobnVtKVxuICB9XG4gIGVsc2Uge1xuICAgIGxwID0gYXJyLnNsaWNlKDAsIGxlbiAtIG51bSlcbiAgICBycCA9IGFyci5zbGljZShsZW4gLSBudW0pXG4gIH1cbiAgcmV0dXJuIHJwLmNvbmNhdChscClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlIChmdW5jLCB3YWl0KSB7XG4gIGxldCByZXN1bHRcbiAgbGV0IHRpbWVySWQgPSBudWxsXG4gIGxldCBwcmV2aW91cyA9IDBcbiAgbGV0IGNvbnRleHRcbiAgbGV0IGFyZ3NcbiAgY29uc3QgbGF0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcHJldmlvdXMgPSBEYXRlLm5vdygpXG4gICAgdGltZXJJZCA9IG51bGxcbiAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpXG4gICAgY29uc3QgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cylcbiAgICBjb250ZXh0ID0gdGhpc1xuICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpXG4gICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXJJZClcbiAgICAgIHRpbWVySWQgPSBudWxsXG4gICAgICBwcmV2aW91cyA9IG5vd1xuICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgIH1cbiAgICBlbHNlIGlmICghdGltZXJJZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZylcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjYW1lbFRvS2ViYWIgKG5hbWUpIHtcbiAgaWYgKCFuYW1lKSB7IHJldHVybiAnJyB9XG4gIHJldHVybiBuYW1lLnJlcGxhY2UoLyhbQS1aXSkvZywgZnVuY3Rpb24gKGcsIGcxKSB7XG4gICAgcmV0dXJuIGAtJHtnMS50b0xvd2VyQ2FzZSgpfWBcbiAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGtlYmFiVG9DYW1lbCAobmFtZSkge1xuICBpZiAoIW5hbWUpIHsgcmV0dXJuICcnIH1cbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvLShbYS16XSkvZywgZnVuY3Rpb24gKGcsIGcxKSB7XG4gICAgY29uc29sZS5sb2coZzEpXG4gICAgcmV0dXJuIGAke2cxLnRvVXBwZXJDYXNlKCl9YFxuICB9KVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3V0aWxzL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci91dGlscy9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCByYWYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XG4gICAgICAgICAgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgICAgIGZ1bmN0aW9uIChjYWxsbGJhY2spIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoY2FsbGxiYWNrLCAxNilcbiAgICAgICAgICB9XG5cbmxldCByYWZJZFxuY29uc3Qgb2JzZXJ2ZXJzID0gW11cbmxldCBwYXVzZWQgPSBmYWxzZVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0YXJ0OiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHJhZklkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICByYWZJZCA9IHJhZihmdW5jdGlvbiBydW5Mb29wICgpIHtcbiAgICAgIGlmICghcGF1c2VkKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgb2JzZXJ2ZXJzW2ldKClcbiAgICAgICAgfVxuICAgICAgICByYWYocnVuTG9vcClcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuXG4gIGlzQWN0aXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICFwYXVzZWRcbiAgfSxcblxuICBwYXVzZTogZnVuY3Rpb24gKCkge1xuICAgIHBhdXNlZCA9IHRydWVcbiAgICByYWZJZCA9IHVuZGVmaW5lZFxuICB9LFxuXG4gIHJlc3VtZTogZnVuY3Rpb24gKCkge1xuICAgIHBhdXNlZCA9IGZhbHNlXG4gICAgdGhpcy5zdGFydCgpXG4gIH0sXG5cbiAgYWRkVXBkYXRlT2JzZXJ2ZXI6IGZ1bmN0aW9uIChvYnNlcnZlTWV0aG9kKSB7XG4gICAgb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZU1ldGhvZClcbiAgfVxufVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvdXRpbHMvZnJhbWVVcGRhdGVyLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci91dGlscy9mcmFtZVVwZGF0ZXIuanMiLCJpbXBvcnQgJ2NvcmUtanMvZm4vb2JqZWN0L2Fzc2lnbidcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvc2hhcmVkL29iamVjdEFzc2lnbi5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L3NoYXJlZC9vYmplY3RBc3NpZ24uanMiLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3QuYXNzaWduO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2NvcmUtanMvZm4vb2JqZWN0L2Fzc2lnbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9jb3JlLWpzL2ZuL29iamVjdC9hc3NpZ24uanMiLCIvLyAxOS4xLjMuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlKVxudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYsICdPYmplY3QnLCB7YXNzaWduOiByZXF1aXJlKCcuL19vYmplY3QtYXNzaWduJyl9KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvZXM2Lm9iamVjdC5hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL2VzNi5vYmplY3QuYXNzaWduLmpzIiwiJ3VzZSBzdHJpY3QnO1xuLy8gMTkuMS4yLjEgT2JqZWN0LmFzc2lnbih0YXJnZXQsIHNvdXJjZSwgLi4uKVxudmFyIGdldEtleXMgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIGdPUFMgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcHMnKVxuICAsIHBJRSAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpXG4gICwgdG9PYmplY3QgPSByZXF1aXJlKCcuL190by1vYmplY3QnKVxuICAsIElPYmplY3QgID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgJGFzc2lnbiAgPSBPYmplY3QuYXNzaWduO1xuXG4vLyBzaG91bGQgd29yayB3aXRoIHN5bWJvbHMgYW5kIHNob3VsZCBoYXZlIGRldGVybWluaXN0aWMgcHJvcGVydHkgb3JkZXIgKFY4IGJ1Zylcbm1vZHVsZS5leHBvcnRzID0gISRhc3NpZ24gfHwgcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICB2YXIgQSA9IHt9XG4gICAgLCBCID0ge31cbiAgICAsIFMgPSBTeW1ib2woKVxuICAgICwgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gIEFbU10gPSA3O1xuICBLLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGspeyBCW2tdID0gazsgfSk7XG4gIHJldHVybiAkYXNzaWduKHt9LCBBKVtTXSAhPSA3IHx8IE9iamVjdC5rZXlzKCRhc3NpZ24oe30sIEIpKS5qb2luKCcnKSAhPSBLO1xufSkgPyBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCBzb3VyY2UpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHZhciBUICAgICA9IHRvT2JqZWN0KHRhcmdldClcbiAgICAsIGFMZW4gID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICwgaW5kZXggPSAxXG4gICAgLCBnZXRTeW1ib2xzID0gZ09QUy5mXG4gICAgLCBpc0VudW0gICAgID0gcElFLmY7XG4gIHdoaWxlKGFMZW4gPiBpbmRleCl7XG4gICAgdmFyIFMgICAgICA9IElPYmplY3QoYXJndW1lbnRzW2luZGV4KytdKVxuICAgICAgLCBrZXlzICAgPSBnZXRTeW1ib2xzID8gZ2V0S2V5cyhTKS5jb25jYXQoZ2V0U3ltYm9scyhTKSkgOiBnZXRLZXlzKFMpXG4gICAgICAsIGxlbmd0aCA9IGtleXMubGVuZ3RoXG4gICAgICAsIGogICAgICA9IDBcbiAgICAgICwga2V5O1xuICAgIHdoaWxlKGxlbmd0aCA+IGopaWYoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSlUW2tleV0gPSBTW2tleV07XG4gIH0gcmV0dXJuIFQ7XG59IDogJGFzc2lnbjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1hc3NpZ24uanNcbiAqKiBtb2R1bGUgaWQgPSAxMjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vY29yZS1qcy9tb2R1bGVzL19vYmplY3QtYXNzaWduLmpzIiwiZXhwb3J0cy5mID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jb3JlLWpzL21vZHVsZXMvX29iamVjdC1nb3BzLmpzXG4gKiogbW9kdWxlIGlkID0gMTI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2NvcmUtanMvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanMiLCIndXNlIHN0cmljdCdcblxuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkgKGFycikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheVxuICAgID8gQXJyYXkuaXNBcnJheShhcnIpXG4gICAgOiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycikgPT09ICdbb2JqZWN0IEFycmF5XScpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGljZSAoYXJyLCBzdGFydCwgZW5kKSB7XG4gIGlmIChpc0FycmF5KGFycikpIHtcbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQpXG4gIH1cbiAgY29uc3Qgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyLCBzdGFydCwgZW5kKVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3V0aWxzL2FycmF5LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci91dGlscy9hcnJheS5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBjb25maWcgPSB7XG4gIHdlZXhWZXJzaW9uOiAnMC41LjAnLFxuICBkZWJ1ZzogZmFsc2UsXG4gIHZhbGlkUm9vdHM6IFsnZGl2JywgJ2xpc3QnLCAndmxpc3QnLCAnc2Nyb2xsZXInXSxcbiAgZG93bmdyYWRlOiB7XG4gICAgLy8gcm9vdDogdHJ1ZVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3JlbmRlci9jb25maWcuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL3JlbmRlci9jb25maWcuanMiLCIvKiBnbG9iYWwgWE1MSHR0cFJlcXVlc3QgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGxvYWRCeVhIUiAoY29uZmlnLCBjYWxsYmFjaykge1xuICBpZiAoIWNvbmZpZy5zb3VyY2UpIHtcbiAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ3hociBsb2FkZXI6IG1pc3NpbmcgY29uZmlnLnNvdXJjZS4nKSlcbiAgfVxuICBjb25zdCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuICB4aHIub3BlbignR0VUJywgY29uZmlnLnNvdXJjZSlcbiAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayhudWxsLCB0aGlzLnJlc3BvbnNlVGV4dClcbiAgfVxuICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgIGNhbGxiYWNrKGVycm9yKVxuICB9XG4gIHhoci5zZW5kKClcbn1cblxuZnVuY3Rpb24gbG9hZEJ5SnNvbnAgKGNvbmZpZywgY2FsbGJhY2spIHtcbiAgaWYgKCFjb25maWcuc291cmNlKSB7XG4gICAgY2FsbGJhY2sobmV3IEVycm9yKCdqc29ucCBsb2FkZXI6IG1pc3NpbmcgY29uZmlnLnNvdXJjZS4nKSlcbiAgfVxuICBjb25zdCBjYWxsYmFja05hbWUgPSBjb25maWcuanNvbnBDYWxsYmFjayB8fCAnd2VleEpzb25wQ2FsbGJhY2snXG4gIHdpbmRvd1tjYWxsYmFja05hbWVdID0gZnVuY3Rpb24gKGNvZGUpIHtcbiAgICBpZiAoY29kZSkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgY29kZSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ2xvYWQgYnkganNvbnAgZXJyb3InKSlcbiAgICB9XG4gIH1cbiAgY29uc3Qgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JylcbiAgc2NyaXB0LnNyYyA9IGRlY29kZVVSSUNvbXBvbmVudChjb25maWcuc291cmNlKVxuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KVxufVxuXG5mdW5jdGlvbiBsb2FkQnlTb3VyY2VDb2RlIChjb25maWcsIGNhbGxiYWNrKSB7XG4gIC8vIHNyYyBpcyB0aGUganNidW5kbGUuXG4gIC8vIG5vIG5lZWQgdG8gZmV0Y2ggZnJvbSBhbnl3aGVyZS5cbiAgaWYgKGNvbmZpZy5zb3VyY2UpIHtcbiAgICBjYWxsYmFjayhudWxsLCBjb25maWcuc291cmNlKVxuICB9XG4gIGVsc2Uge1xuICAgIGNhbGxiYWNrKG5ldyBFcnJvcignc291cmNlIGNvZGUgbGFvZGVyOiBtaXNzaW5nIGNvbmZpZy5zb3VyY2UuJykpXG4gIH1cbn1cblxuY29uc3QgY2FsbGJhY2tNYXAgPSB7XG4gIHhocjogbG9hZEJ5WEhSLFxuICBqc29ucDogbG9hZEJ5SnNvbnAsXG4gIHNvdXJjZTogbG9hZEJ5U291cmNlQ29kZVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9hZCAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgY29uc3QgbG9hZEZuID0gY2FsbGJhY2tNYXBbb3B0aW9ucy5sb2FkZXJdXG4gIGxvYWRGbihvcHRpb25zLCBjYWxsYmFjaylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyTG9hZGVyIChuYW1lLCBsb2FkZXJGdW5jKSB7XG4gIGlmICh0eXBlb2YgbG9hZGVyRnVuYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrTWFwW25hbWVdID0gbG9hZGVyRnVuY1xuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL2xvYWRlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL2xvYWRlci5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgcHJvdG9jb2wgZnJvbSAnLi9wcm90b2NvbCdcbmltcG9ydCByZWNlaXZlciBmcm9tICcuL3JlY2VpdmVyJ1xuaW1wb3J0IFNlbmRlciBmcm9tICcuL3NlbmRlcidcblxuZXhwb3J0IHsgcHJvdG9jb2wsIHJlY2VpdmVyLCBTZW5kZXIgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2JyaWRnZS9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYnJpZGdlL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBkZWZhdWx0IHtcblxuICAvLyB3ZWV4IGluc3RhbmNlc1xuICBfaW5zdGFuY2VzOiB7fSxcblxuICAvLyBhcGkgbWV0YSBpbmZvXG4gIF9tZXRhOiB7fSxcblxuICAvLyBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlIHVzZWQgdGhpcyB0byByZWdpc3RlciBhbmQgYWNjZXNzIGFwaU1vZHVsZXMuXG4gIGFwaU1vZHVsZToge30sXG5cbiAgLy8gZ2V0IHRoZSBhcGkgbWV0aG9kIG1ldGEgaW5mbyBhcnJheSBmb3IgdGhlIG1vZHVsZS5cbiAgZ2V0QXBpTW9kdWxlTWV0YTogZnVuY3Rpb24gKG1vZHVsZU5hbWUpIHtcbiAgICBjb25zdCBtZXRhT2JqID0ge31cbiAgICBtZXRhT2JqW21vZHVsZU5hbWVdID0gdGhpcy5fbWV0YVttb2R1bGVOYW1lXVxuICAgIHJldHVybiBtZXRhT2JqXG4gIH0sXG5cbiAgLy8gU2V0IG1ldGEgaW5mbyBmb3IgYSBhcGkgbW9kdWxlLlxuICAvLyBJZiB0aGVyZSBpcyBhIHNhbWUgbmFtZWQgYXBpLCBqdXN0IHJlcGxhY2UgaXQuXG4gIC8vIG9wdHM6XG4gIC8vIC0gbWV0YU9iajogbWV0YSBvYmplY3QgbGlrZVxuICAvLyB7XG4gIC8vICAgIGRvbTogW3tcbiAgLy8gICAgICBuYW1lOiAnYWRkRWxlbWVudCcsXG4gIC8vICAgICAgYXJnczogWydzdHJpbmcnLCAnb2JqZWN0J11cbiAgLy8gICAgfV1cbiAgLy8gfVxuICBzZXRBcGlNb2R1bGVNZXRhOiBmdW5jdGlvbiAobWV0YU9iaikge1xuICAgIGxldCBtb2R1bGVOYW1lXG4gICAgZm9yIChjb25zdCBrIGluIG1ldGFPYmopIHtcbiAgICAgIGlmIChtZXRhT2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgIG1vZHVsZU5hbWUgPSBrXG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1ldGFBcnJheSA9IHRoaXMuX21ldGFbbW9kdWxlTmFtZV1cbiAgICBpZiAoIW1ldGFBcnJheSkge1xuICAgICAgdGhpcy5fbWV0YVttb2R1bGVOYW1lXSA9IG1ldGFPYmpbbW9kdWxlTmFtZV1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBuYW1lT2JqID0ge31cbiAgICAgIG1ldGFPYmpbbW9kdWxlTmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoYXBpKSB7XG4gICAgICAgIG5hbWVPYmpbYXBpLm5hbWVdID0gYXBpXG4gICAgICB9KVxuICAgICAgbWV0YUFycmF5LmZvckVhY2goZnVuY3Rpb24gKGFwaSwgaSkge1xuICAgICAgICBpZiAobmFtZU9ialthcGkubmFtZV0pIHtcbiAgICAgICAgICBtZXRhQXJyYXlbaV0gPSBuYW1lT2JqW2FwaS5uYW1lXVxuICAgICAgICAgIGRlbGV0ZSBuYW1lT2JqW2FwaS5uYW1lXVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgZm9yIChjb25zdCBrIGluIG1ldGFPYmopIHtcbiAgICAgICAgaWYgKG1ldGFPYmouaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICBtZXRhQXJyYXkucHVzaChtZXRhT2JqW2tdKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX21ldGFbbW9kdWxlTmFtZV0gPSBtZXRhT2JqW21vZHVsZU5hbWVdXG4gIH0sXG5cbiAgLy8gU2V0IG1ldGEgaW5mbyBmb3IgYSBzaW5nbGUgYXBpLlxuICAvLyBvcHRzOlxuICAvLyAgLSBtb2R1bGVOYW1lOiBhcGkgbW9kdWxlIG5hbWUuXG4gIC8vICAtIG1ldGE6IGEgbWV0YSBvYmplY3QgbGlrZTpcbiAgLy8gIHtcbiAgLy8gICAgbmFtZTogJ2FkZEVsZW1lbnQnLFxuICAvLyAgICBhcmdzOiBbJ3N0cmluZycsICdvYmplY3QnXVxuICAvLyAgfVxuICBzZXRBcGlNZXRhOiBmdW5jdGlvbiAobW9kdWxlTmFtZSwgbWV0YSkge1xuICAgIGNvbnN0IG1ldGFBcnJheSA9IHRoaXMuX21ldGFbbW9kdWxlTmFtZV1cbiAgICBpZiAoIW1ldGFBcnJheSkge1xuICAgICAgdGhpcy5fbWV0YVttb2R1bGVOYW1lXSA9IFttZXRhXVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxldCBtZXRhSWR4ID0gLTFcbiAgICAgIG1ldGFBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChhcGksIGkpIHtcbiAgICAgICAgbGV0IG5hbWUgLy8gdG9kb1xuICAgICAgICBpZiAobWV0YS5uYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgbWV0YUlkeCA9IGlcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGlmIChtZXRhSWR4ICE9PSAtMSkge1xuICAgICAgICBtZXRhQXJyYXlbbWV0YUlkeF0gPSBtZXRhXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgbWV0YUFycmF5LnB1c2gobWV0YSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gX3JlZ2lzdGVyTW9kdWxlcyhbe1xuLy8gICBtb2RhbDogW3tcbi8vICAgICBuYW1lOiAndG9hc3QnLFxuLy8gICAgIGFyZ3M6IFsnb2JqZWN0JywgJ2Z1bmN0aW9uJ11cbi8vICAgfSwge1xuLy8gICAgIG5hbWU6ICdhbGVydCcsXG4vLyAgICAgYXJnczogWydvYmplY3QnLCAnZnVuY3Rpb24nXVxuLy8gICB9LCB7XG4vLyAgICAgbmFtZTogJ2NvbmZpcm0nLFxuLy8gICAgIGFyZ3M6IFsnb2JqZWN0JywgJ2Z1bmN0aW9uJ11cbi8vICAgfSwge1xuLy8gICAgIG5hbWU6ICdwcm9tcHQnLFxuLy8gICAgIGFyZ3M6IFsnb2JqZWN0JywgJ2Z1bmN0aW9uJ11cbi8vICAgfV1cbi8vIH0sIHtcbi8vICAgYW5pbWF0aW9uOiBbe1xuLy8gICAgIG5hbWU6ICd0cmFuc2l0aW9uJyxcbi8vICAgICBhcmdzOiBbJ3N0cmluZycsICdvYmplY3QnLCAnZnVuY3Rpb24nXVxuLy8gICB9XVxuLy8gfV0pXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvYnJpZGdlL3Byb3RvY29sLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9icmlkZ2UvcHJvdG9jb2wuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9yZW5kZXIvY29uZmlnJ1xuaW1wb3J0IHByb3RvY29sIGZyb20gJy4vcHJvdG9jb2wnXG5pbXBvcnQgeyBpc0FycmF5LCBmcmFtZVVwZGF0ZXIgfSBmcm9tICcuLi91dGlscydcbmltcG9ydCBTZW5kZXIgZnJvbSAnLi9zZW5kZXInXG5cbmNvbnN0IGNhbGxRdWV1ZSA9IFtdXG4vLyBOZWVkIGEgdGFzayBjb3VudGVyP1xuLy8gV2hlbiBmcmFtZVVwZGF0ZXIgaXMgbm90IGFjdGl2YXRlZCwgdGFza3Mgd2lsbCBub3QgYmUgcHVzaFxuLy8gaW50byBjYWxsUXVldWUgYW5kIHRoZXJlIHdpbGwgYmUgbm8gdHJhY2UgZm9yIHNpdHVhdGlvbiBvZlxuLy8gZXhlY3V0aW9uIG9mIHRhc2tzLlxuXG4vLyBnaXZlIDEwbXMgZm9yIGNhbGwgaGFuZGxpbmcsIGFuZCByZXN0IDZtcyBmb3Igb3RoZXJzXG5jb25zdCBNQVhfVElNRV9GT1JfRUFDSF9GUkFNRSA9IDEwXG5cbi8vIGNhbGxOYXRpdmU6IGpzRnJhbWV3b3JrIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCB0byB0YWxrIHRvXG4vLyB0aGlzIHJlbmRlcmVyLlxuLy8gcGFyYW1zOlxuLy8gIC0gaW5zdGFuY2VJZDogc3RyaW5nLlxuLy8gIC0gdGFza3M6IGFycmF5IG9mIG9iamVjdC5cbi8vICAtIGNhbGxiYWNrSWQ6IG51bWJlci5cbmZ1bmN0aW9uIGNhbGxOYXRpdmUgKGluc3RhbmNlSWQsIHRhc2tzLCBjYWxsYmFja0lkKSB7XG4gIGxldCBjYWxscyA9IFtdXG4gIGlmICh0eXBlb2YgdGFza3MgPT09ICdzdHJpbmcnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNhbGxzID0gSlNPTi5wYXJzZSh0YXNrcylcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2ludmFsaWQgdGFza3M6JywgdGFza3MpXG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKGlzQXJyYXkodGFza3MpKSB7XG4gICAgY2FsbHMgPSB0YXNrc1xuICB9XG4gIGNvbnN0IGxlbiA9IGNhbGxzLmxlbmd0aFxuICBjYWxsc1tsZW4gLSAxXS5jYWxsYmFja0lkID0gKCFjYWxsYmFja0lkICYmIGNhbGxiYWNrSWQgIT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IC0xXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhbGxiYWNrSWRcbiAgLy8gVG8gc29sdmUgdGhlIHByb2JsZW0gb2YgY2FsbGFwcCwgdGhlIHR3by13YXkgdGltZSBsb29wIHJ1bGUgbXVzdFxuICAvLyBiZSByZXBsYWNlZCBieSBjYWxsaW5nIGRpcmVjdGx5IGV4Y2VwdCB0aGUgc2l0dWF0aW9uIG9mIHBhZ2UgbG9hZGluZy5cbiAgLy8gMjAxNS0xMS0wM1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGZyYW1lVXBkYXRlci5pc0FjdGl2ZSgpKSB7XG4gICAgICBjYWxsUXVldWUucHVzaCh7XG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGNhbGw6IGNhbGxzW2ldXG4gICAgICB9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHByb2Nlc3NDYWxsKGluc3RhbmNlSWQsIGNhbGxzW2ldKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQ2FsbFF1ZXVlICgpIHtcbiAgbGV0IGxlbiA9IGNhbGxRdWV1ZS5sZW5ndGhcbiAgaWYgKGxlbiA9PT0gMCkge1xuICAgIHJldHVyblxuICB9XG4gIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKVxuICBsZXQgZWxhcHNlZCA9IDBcblxuICB3aGlsZSAoLS1sZW4gPj0gMCAmJiBlbGFwc2VkIDwgTUFYX1RJTUVfRk9SX0VBQ0hfRlJBTUUpIHtcbiAgICBjb25zdCBjYWxsT2JqID0gY2FsbFF1ZXVlLnNoaWZ0KClcbiAgICBwcm9jZXNzQ2FsbChjYWxsT2JqLmluc3RhbmNlSWQsIGNhbGxPYmouY2FsbClcbiAgICBlbGFwc2VkID0gRGF0ZS5ub3coKSAtIHN0YXJ0XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NhbGwgKGluc3RhbmNlSWQsIGNhbGwpIHtcbiAgY29uc3QgbW9kdWxlTmFtZSA9IGNhbGwubW9kdWxlXG4gIGNvbnN0IG1ldGhvZE5hbWUgPSBjYWxsLm1ldGhvZFxuICBsZXQgbW9kdWxlLCBtZXRob2RcbiAgY29uc3QgYXJncyA9IGNhbGwuYXJncyB8fCBjYWxsLmFyZ3VtZW50cyB8fCBbXVxuXG4gIGlmICghKG1vZHVsZSA9IHByb3RvY29sLmFwaU1vZHVsZVttb2R1bGVOYW1lXSkpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIShtZXRob2QgPSBtb2R1bGVbbWV0aG9kTmFtZV0pKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICBtZXRob2QuYXBwbHkoZ2xvYmFsLndlZXguZ2V0SW5zdGFuY2UoaW5zdGFuY2VJZCksIGFyZ3MpXG5cbiAgY29uc3QgY2FsbGJhY2tJZCA9IGNhbGwuY2FsbGJhY2tJZFxuICBpZiAoKGNhbGxiYWNrSWRcbiAgICB8fCBjYWxsYmFja0lkID09PSAwXG4gICAgfHwgY2FsbGJhY2tJZCA9PT0gJzAnKVxuICAgICYmIGNhbGxiYWNrSWQgIT09ICctMSdcbiAgICAmJiBjYWxsYmFja0lkICE9PSAtMSkge1xuICAgIHBlcmZvcm1OZXh0VGljayhpbnN0YW5jZUlkLCBjYWxsYmFja0lkKVxuICB9XG59XG5cbmZ1bmN0aW9uIHBlcmZvcm1OZXh0VGljayAoaW5zdGFuY2VJZCwgY2FsbGJhY2tJZCkge1xuICBTZW5kZXIuZ2V0U2VuZGVyKGluc3RhbmNlSWQpLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkKVxufVxuXG5mdW5jdGlvbiBuYXRpdmVMb2cgKCkge1xuICBpZiAoY29uZmlnLmRlYnVnKSB7XG4gICAgaWYgKGFyZ3VtZW50c1swXS5tYXRjaCgvXnBlcmYvKSkge1xuICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zb2xlLmRlYnVnLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcbiAgfVxufVxuXG5mdW5jdGlvbiBleHBvcnRzQnJpZGdlTWV0aG9kc1RvR2xvYmFsICgpIHtcbiAgZ2xvYmFsLmNhbGxOYXRpdmUgPSBjYWxsTmF0aXZlXG4gIGdsb2JhbC5uYXRpdmVMb2cgPSBuYXRpdmVMb2dcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgLy8gcHJvY2VzcyBjYWxsUXVldWUgZXZlcnkgMTYgbWlsbGlzZWNvbmRzLlxuICAgIGZyYW1lVXBkYXRlci5hZGRVcGRhdGVPYnNlcnZlcihwcm9jZXNzQ2FsbFF1ZXVlKVxuICAgIGZyYW1lVXBkYXRlci5zdGFydCgpXG5cbiAgICAvLyBleHBvcnRzIG1ldGhvZHMgdG8gZ2xvYmFsKHdpbmRvdykuXG4gICAgZXhwb3J0c0JyaWRnZU1ldGhvZHNUb0dsb2JhbCgpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9icmlkZ2UvcmVjZWl2ZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2JyaWRnZS9yZWNlaXZlci5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi91dGlscydcblxuY29uc3QgX3NlbmRlck1hcCA9IHt9XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbmRlciAoaW5zdGFuY2UpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNlbmRlcikpIHtcbiAgICByZXR1cm4gbmV3IFNlbmRlcihpbnN0YW5jZSlcbiAgfVxuICB0aGlzLmluc3RhbmNlSWQgPSBpbnN0YW5jZS5pbnN0YW5jZUlkXG4gIHRoaXMud2VleEluc3RhbmNlID0gaW5zdGFuY2VcbiAgX3NlbmRlck1hcFt0aGlzLmluc3RhbmNlSWRdID0gdGhpc1xufVxuXG5mdW5jdGlvbiBfc2VuZCAoaW5zdGFuY2VJZCwgbXNnKSB7XG4gIGNhbGxKUyhpbnN0YW5jZUlkLCBbbXNnXSlcbn1cblxuU2VuZGVyLmdldFNlbmRlciA9IGZ1bmN0aW9uIChpbnN0YW5jZUlkKSB7XG4gIHJldHVybiBfc2VuZGVyTWFwW2luc3RhbmNlSWRdXG59XG5cblNlbmRlci5wcm90b3R5cGUgPSB7XG5cbiAgLy8gcGVyZm9ybSBhIGNhbGxiYWNrIHRvIGpzZnJhbWV3b3JrLlxuICBwZXJmb3JtQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFja0lkLCBkYXRhLCBrZWVwQWxpdmUpIHtcbiAgICBjb25zdCBhcmdzID0gW2NhbGxiYWNrSWRdXG4gICAgZGF0YSAmJiBhcmdzLnB1c2goZGF0YSlcbiAgICBrZWVwQWxpdmUgJiYgYXJncy5wdXNoKGtlZXBBbGl2ZSlcbiAgICBfc2VuZCh0aGlzLmluc3RhbmNlSWQsIHtcbiAgICAgIG1ldGhvZDogJ2NhbGxiYWNrJyxcbiAgICAgIGFyZ3M6IGFyZ3NcbiAgICB9KVxuICB9LFxuXG4gIGZpcmVFdmVudDogZnVuY3Rpb24gKHJlZiwgdHlwZSwgZnVuYywgZXZlbnQpIHtcbiAgICBmdW5jLmV4dHJhICYmIGV4dGVuZChldmVudCwgZnVuYy5leHRyYSgpKVxuICAgIF9zZW5kKHRoaXMuaW5zdGFuY2VJZCwge1xuICAgICAgbWV0aG9kOiAnZmlyZUV2ZW50JyxcbiAgICAgIGFyZ3M6IFtyZWYsIHR5cGUsIGV2ZW50LCBmdW5jLnVwZGF0b3IgJiYgZnVuYy51cGRhdG9yKCldXG4gICAgfSlcbiAgfVxuXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvYnJpZGdlL3NlbmRlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYnJpZGdlL3NlbmRlci5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgeyBleHRlbmQgfSBmcm9tICcuLi8uLi91dGlscydcbmltcG9ydCB7IENvbXBvbmVudE1hbmFnZXIgfSBmcm9tICcuLi8uLi9kb20nXG5pbXBvcnQgKiBhcyBvcGVyYXRlIGZyb20gJy4vb3BlcmF0ZSdcbmltcG9ydCAqIGFzIHBvc2l0aW9uIGZyb20gJy4vcG9zaXRpb24nXG5pbXBvcnQgZmxleGJveCBmcm9tICcuL2ZsZXhib3gnXG5pbXBvcnQgeyBtYWtlSW1hZ2VMYXp5LCBmaXJlTGF6eWxvYWQgfSBmcm9tICcuL2xhenlsb2FkJ1xuXG5mdW5jdGlvbiBoYXNJbnRlcnNlY3Rpb24gKHJlY3QsIGN0UmVjdCkge1xuICByZXR1cm4gKHJlY3QubGVmdCA8IGN0UmVjdC5yaWdodCAmJiByZWN0LnJpZ2h0ID4gY3RSZWN0LmxlZnQpXG4gICAgJiYgKHJlY3QudG9wIDwgY3RSZWN0LmJvdHRvbSAmJiByZWN0LmJvdHRvbSA+IGN0UmVjdC50b3ApXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXBvbmVudCAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgdGhpcy5kYXRhID0gZGF0YVxuICB0aGlzLm5vZGUgPSB0aGlzLmNyZWF0ZShub2RlVHlwZSlcbiAgdGhpcy5jcmVhdGVDaGlsZHJlbigpXG4gIHRoaXMudXBkYXRlQXR0cnModGhpcy5kYXRhLmF0dHIgfHwge30pXG4gIC8vIGlzc3VlOiB3aGVuIGFkZCBlbGVtZW50IHRvIGEgbGlzdCBpbiBsaWZldGltZSBob29rICdyZWFkeScsIHRoZVxuICAvLyBzdHlsZXMgaXMgc2V0IHRvIHRoZSBjbGFzc1N0eWxlLCBub3Qgc3R5bGUuIFRoaXMgaXMgYSBpc3N1ZVxuICAvLyB0aGF0IGpzZnJhbWV3b3JrIHNob3VsZCBkbyBzb21ldGhpbmcgYWJvdXQuXG4gIGNvbnN0IGNsYXNzU3R5bGUgPSB0aGlzLmRhdGEuY2xhc3NTdHlsZVxuICBjbGFzc1N0eWxlICYmIHRoaXMudXBkYXRlU3R5bGUodGhpcy5kYXRhLmNsYXNzU3R5bGUpXG4gIHRoaXMudXBkYXRlU3R5bGUodGhpcy5kYXRhLnN0eWxlIHx8IHt9KVxuICB0aGlzLmJpbmRFdmVudHModGhpcy5kYXRhLmV2ZW50IHx8IFtdKVxufVxuXG5Db21wb25lbnQucHJvdG90eXBlID0ge1xuXG4gIGdldENvbXBvbmVudE1hbmFnZXIgKCkge1xuICAgIHJldHVybiBDb21wb25lbnRNYW5hZ2VyLmdldEluc3RhbmNlKHRoaXMuZGF0YS5pbnN0YW5jZUlkKVxuICB9LFxuXG4gIGdldFdlZXhJbnN0YW5jZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpLmdldFdlZXhJbnN0YW5jZSgpXG4gIH0sXG5cbiAgZ2V0UGFyZW50ICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnRNYW5hZ2VyKCkuY29tcG9uZW50TWFwW3RoaXMucGFyZW50UmVmXVxuICB9LFxuXG4gIGdldFBhcmVudFNjcm9sbGVyICgpIHtcbiAgICBpZiAodGhpcy5pc0luU2Nyb2xsYWJsZSgpKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcGFyZW50U2Nyb2xsZXJcbiAgICB9XG4gICAgcmV0dXJuIG51bGxcbiAgfSxcblxuICBnZXRSb290U2Nyb2xsZXIgKCkge1xuICAgIGlmICh0aGlzLmlzSW5TY3JvbGxhYmxlKCkpIHtcbiAgICAgIGxldCBzY3JvbGxlciA9IHRoaXMuX3BhcmVudFNjcm9sbGVyXG4gICAgICBsZXQgcGFyZW50ID0gc2Nyb2xsZXIuX3BhcmVudFNjcm9sbGVyXG4gICAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICAgIHNjcm9sbGVyID0gcGFyZW50XG4gICAgICAgIHBhcmVudCA9IHNjcm9sbGVyLl9wYXJlbnRTY3JvbGxlclxuICAgICAgfVxuICAgICAgcmV0dXJuIHNjcm9sbGVyXG4gICAgfVxuICAgIHJldHVybiBudWxsXG4gIH0sXG5cbiAgZ2V0Um9vdENvbnRhaW5lciAoKSB7XG4gICAgY29uc3Qgcm9vdCA9IHRoaXMuZ2V0V2VleEluc3RhbmNlKCkuZ2V0Um9vdCgpXG4gICAgICB8fCBkb2N1bWVudC5ib2R5XG4gICAgcmV0dXJuIHJvb3RcbiAgfSxcblxuICBpc1Njcm9sbGFibGUgKCkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmRhdGEudHlwZVxuICAgIHJldHVybiBDb21wb25lbnRNYW5hZ2VyLmdldFNjcm9sbGFibGVUeXBlcygpLmluZGV4T2YodCkgIT09IC0xXG4gIH0sXG5cbiAgaXNJblNjcm9sbGFibGUgKCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5faXNJblNjcm9sbGFibGUgPT09ICdib29sZWFuJykge1xuICAgICAgcmV0dXJuIHRoaXMuX2lzSW5TY3JvbGxhYmxlXG4gICAgfVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICBpZiAocGFyZW50XG4gICAgICAgICYmICh0eXBlb2YgcGFyZW50Ll9pc0luU2Nyb2xsYWJsZSAhPT0gJ2Jvb2xlYW4nKVxuICAgICAgICAmJiAhcGFyZW50LmlzU2Nyb2xsYWJsZSgpKSB7XG4gICAgICBpZiAocGFyZW50LmRhdGEucmVmID09PSAnX3Jvb3QnKSB7XG4gICAgICAgIHRoaXMuX2lzSW5TY3JvbGxhYmxlID0gZmFsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgICB0aGlzLl9pc0luU2Nyb2xsYWJsZSA9IHBhcmVudC5pc0luU2Nyb2xsYWJsZSgpXG4gICAgICB0aGlzLl9wYXJlbnRTY3JvbGxlciA9IHBhcmVudC5fcGFyZW50U2Nyb2xsZXJcbiAgICAgIHJldHVybiB0aGlzLl9pc0luU2Nyb2xsYWJsZVxuICAgIH1cbiAgICBpZiAocGFyZW50ICYmIHR5cGVvZiBwYXJlbnQuX2lzSW5TY3JvbGxhYmxlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHRoaXMuX2lzSW5TY3JvbGxhYmxlID0gcGFyZW50Ll9pc0luU2Nyb2xsYWJsZVxuICAgICAgdGhpcy5fcGFyZW50U2Nyb2xsZXIgPSBwYXJlbnQuX3BhcmVudFNjcm9sbGVyXG4gICAgICByZXR1cm4gdGhpcy5faXNJblNjcm9sbGFibGVcbiAgICB9XG4gICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuaXNTY3JvbGxhYmxlKCkpIHtcbiAgICAgIHRoaXMuX2lzSW5TY3JvbGxhYmxlID0gdHJ1ZVxuICAgICAgdGhpcy5fcGFyZW50U2Nyb2xsZXIgPSBwYXJlbnRcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9LFxuXG4gIC8vIGRpc3BhdGNoIGEgc3BlY2lmaWVkIGV2ZW50IG9uIHRoaXMubm9kZVxuICAvLyAgLSB0eXBlOiBldmVudCB0eXBlXG4gIC8vICAtIGRhdGE6IGV2ZW50IGRhdGFcbiAgLy8gIC0gY29uZmlnOiBldmVudCBjb25maWcgb2JqZWN0XG4gIC8vICAgICAtIGJ1YmJsZXNcbiAgLy8gICAgIC0gY2FuY2VsYWJsZVxuICBkaXNwYXRjaEV2ZW50ICh0eXBlLCBkYXRhLCBjb25maWcpIHtcbiAgICBjb25zdCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJylcbiAgICBjb25maWcgPSBjb25maWcgfHwge31cbiAgICBldmVudC5pbml0RXZlbnQodHlwZSwgY29uZmlnLmJ1YmJsZXMgfHwgZmFsc2UsIGNvbmZpZy5jYW5jZWxhYmxlIHx8IGZhbHNlKVxuICAgICFkYXRhICYmIChkYXRhID0ge30pXG4gICAgZXZlbnQuZGF0YSA9IGV4dGVuZCh7fSwgZGF0YSlcbiAgICBleHRlbmQoZXZlbnQsIGRhdGEpXG4gICAgdGhpcy5ub2RlLmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gIH0sXG5cbiAgb25BcHBlbmQ6IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBldnRzID0gdGhpcy5kYXRhLmV2ZW50XG4gICAgaWYgKCFldnRzIHx8ICFldnRzLmxlbmd0aCkgeyByZXR1cm4gfVxuICAgIGxldCBmbGFnID0gZmFsc2VcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IGV2dHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoZXZ0c1tpXSA9PT0gJ2FwcGVhcicpIHtcbiAgICAgICAgZmxhZyA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmbGFnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gdHJpZ2dlciAnYXBwZWFyJyBldmVudCBpbiB0aGUgbmV4dCB0aWNrLlxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgcmVjdCA9IHRoaXMubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRTY3JvbGxlcigpXG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gcGFyZW50XG4gICAgICAgID8gcGFyZW50Lm5vZGVcbiAgICAgICAgOiB0aGlzLmdldFJvb3RDb250YWluZXIoKVxuICAgICAgY29uc3QgY3RSZWN0ID0gcGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgaWYgKGhhc0ludGVyc2VjdGlvbihyZWN0LCBjdFJlY3QpKSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnYXBwZWFyJywgeyBkaXJlY3Rpb246ICcnIH0pXG4gICAgICB9XG4gICAgfSwgMClcbiAgfSxcblxuICBhZGRBcHBlbmRIYW5kbGVyIChjYikge1xuICAgIGxldCBwcmVcbiAgICBpZiAodGhpcy5vbkFwcGVuZCkge1xuICAgICAgcHJlID0gdGhpcy5vbkFwcGVuZC5iaW5kKHRoaXMpXG4gICAgfVxuICAgIHRoaXMub25BcHBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwcmUgJiYgcHJlLmNhbGwodGhpcylcbiAgICAgIGNiICYmIGNiLmNhbGwodGhpcylcbiAgICB9LmJpbmQodGhpcylcbiAgfSxcblxuICAvLyBjaGFuZ2Ugc3JjIHRvIGltZy1zcmMgZm9yIGxpYi5pbWcgdG8gZmlyZSBsYXp5bG9hZCBsYXRlci5cbiAgZW5hYmxlTGF6eWxvYWQgKHNyYykge1xuICAgIGlmICh0aGlzLm5vZGUpIHtcbiAgICAgIG1ha2VJbWFnZUxhenkodGhpcy5ub2RlLCBzcmMpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gdGhpcy5ub2RlIGRvZXMgbm90IGV4aXN0LicpXG4gICAgfVxuICB9LFxuXG4gIC8vIHRhcmdldCBjYW4gYmUgYm90aCB3ZWV4IGNvbXBvbmVudCBhbmQgZG9tIGVsZW1lbnQuXG4gIGZpcmVMYXp5bG9hZCAodGFyZ2V0KSB7XG4gICAgIXRhcmdldCAmJiAodGFyZ2V0ID0gdGhpcylcbiAgICBmaXJlTGF6eWxvYWQodGFyZ2V0KVxuICB9LFxuXG4gIGF0dHI6IHt9LCAvLyBhdHRyIHNldHRlcnNcblxuICBzdHlsZToge30sIC8vIHN0eWxlIHNldHRlcnNcblxuICAvLyBldmVudCBmdW5jc1xuICAvLyAgLSAxLiAndXBkYXRvcicgZm9yIHVwZGF0aW5nIGF0dHJzIG9yIHN0eWxlcyB3aXRoIG91dCB0cmlnZ2VyaW5nIG1lc3NhZ2VzLlxuICAvLyAgLSAyLiAnZXh0cmEnIGZvciBiaW5kaW5nIGV4dHJhIGRhdGEuXG4gIC8vICAtIDMuICdzZXR0ZXInIHNldCBhIHNwZWNpZmllZCBldmVudCBoYW5kbGVyLlxuICAvLyBmdW5jcyBzaG91bGQgYmUgZnVuY3Rpb25zIGxpa2UgdGhpczogKHRha2UgJ2NoYW5nZScgZXZlbnQgYXMgYSBleGFtcGxlKVxuICAvLyB7XG4gIC8vICAgY2hhbmdlOiB7XG4gIC8vICAgICB1cGRhdG9yICgpIHtcbiAgLy8gICAgICAgcmV0dXJuIHtcbiAgLy8gICAgICAgICBhdHRyczoge1xuICAvLyAgICAgICAgICAgY2hlY2tlZDogdGhpcy5jaGVja2VkXG4gIC8vICAgICAgICAgfVxuICAvLyAgICAgICB9XG4gIC8vICAgICB9LFxuICAvLyAgICAgZXh0cmEgKCkge1xuICAvLyAgICAgICByZXR1cm4ge1xuICAvLyAgICAgICAgIHZhbHVlOiB0aGlzLmNoZWNrZWRcbiAgLy8gICAgICAgfVxuICAvLyAgICAgfVxuICAvLyAgIH1cbiAgLy8gfVxuICBldmVudDoge30sXG5cbiAgY2xlYXJBdHRyICgpIHtcbiAgfSxcblxuICBjbGVhclN0eWxlICgpIHtcbiAgICB0aGlzLm5vZGUuY3NzVGV4dCA9ICcnXG4gIH1cbn1cblxuLy8gZXh0ZW5kIG9wZXJhdGlvbnMuXG5leHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZSwgb3BlcmF0ZSlcblxuLy8gZXh0ZW5kIGF0dHIgYW5kIHN0eWxlIHNldHRlcnMgZnJvbSAncG9zaXRpb24nIGFuZCAnZmxleGJveCcuXG5leHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZSwgcG9zaXRpb24pXG5leHRlbmQoQ29tcG9uZW50LnByb3RvdHlwZS5zdHlsZSwgZmxleGJveC5zdHlsZSlcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvaW5kZXguanMiLCIvKipcbiAqIEBmaWxlT3ZlcnZpZXdcbiAqIEEgc2ltcGxlIHZpcnR1YWwgZG9tIGltcGxlbWVudGF0aW9uXG4gKi9cbmltcG9ydCBDb21wb25lbnRNYW5hZ2VyIGZyb20gJy4vY29tcG9uZW50TWFuYWdlcidcblxuZXhwb3J0IHsgQ29tcG9uZW50TWFuYWdlciB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZG9tL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9kb20vaW5kZXguanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vLi4vdXRpbHMnXG5pbXBvcnQgeyBnZXRGaWx0ZXJzIH0gZnJvbSAnLi92YWx1ZUZpbHRlcidcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZSAobm9kZVR5cGUpIHtcbiAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZVR5cGUgfHwgJ2RpdicpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDaGlsZHJlbiAoKSB7XG4gIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5kYXRhLmNoaWxkcmVuXG4gIGNvbnN0IHBhcmVudFJlZiA9IHRoaXMuZGF0YS5yZWZcbiAgY29uc3QgY29tcG9uZW50TWFuYWdlciA9IHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpXG4gIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICBjb25zdCBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICAgIGxldCBpc0ZsZXggPSBmYWxzZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkcmVuW2ldLmluc3RhbmNlSWQgPSB0aGlzLmRhdGEuaW5zdGFuY2VJZFxuICAgICAgY2hpbGRyZW5baV0uc2NhbGUgPSB0aGlzLmRhdGEuc2NhbGVcbiAgICAgIGNvbnN0IGNoaWxkID0gY29tcG9uZW50TWFuYWdlci5jcmVhdGVFbGVtZW50KGNoaWxkcmVuW2ldKVxuICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQoY2hpbGQubm9kZSlcbiAgICAgIGNoaWxkLnBhcmVudFJlZiA9IHBhcmVudFJlZlxuICAgICAgaWYgKCFpc0ZsZXhcbiAgICAgICAgJiYgY2hpbGQuZGF0YS5zdHlsZVxuICAgICAgICAmJiBjaGlsZC5kYXRhLnN0eWxlLmhhc093blByb3BlcnR5KCdmbGV4JylcbiAgICAgICkge1xuICAgICAgICBpc0ZsZXggPSB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChmcmFnbWVudClcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGRhdGEpIHtcbiAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgY29uc3QgY29tcG9uZW50TWFuYWdlciA9IHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpXG4gIGNvbnN0IGNoaWxkID0gY29tcG9uZW50TWFuYWdlci5jcmVhdGVFbGVtZW50KGRhdGEpXG4gIHRoaXMubm9kZS5hcHBlbmRDaGlsZChjaGlsZC5ub2RlKVxuICAvLyB1cGRhdGUgdGhpcy5kYXRhLmNoaWxkcmVuXG4gIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgIHRoaXMuZGF0YS5jaGlsZHJlbiA9IFtkYXRhXVxuICB9XG4gIGVsc2Uge1xuICAgIGNoaWxkcmVuLnB1c2goZGF0YSlcbiAgfVxuICByZXR1cm4gY2hpbGRcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGluc2VydEJlZm9yZSAoY2hpbGQsIGJlZm9yZSkge1xuICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZGF0YS5jaGlsZHJlblxuICBsZXQgaSA9IDBcbiAgbGV0IGxcbiAgbGV0IGlzQXBwZW5kID0gZmFsc2VcblxuICAvLyB1cGRhdGUgdGhpcy5kYXRhLmNoaWxkcmVuXG4gIGlmICghY2hpbGRyZW4gfHwgIWNoaWxkcmVuLmxlbmd0aCB8fCAhYmVmb3JlKSB7XG4gICAgaXNBcHBlbmQgPSB0cnVlXG4gIH1cbiAgZWxzZSB7XG4gICAgZm9yIChsID0gY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICBpZiAoY2hpbGRyZW5baV0ucmVmID09PSBiZWZvcmUuZGF0YS5yZWYpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGkgPT09IGwpIHtcbiAgICAgIGlzQXBwZW5kID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc0FwcGVuZCkge1xuICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChjaGlsZC5ub2RlKVxuICAgIGNoaWxkcmVuLnB1c2goY2hpbGQuZGF0YSlcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoYmVmb3JlLmZpeGVkUGxhY2Vob2xkZXIpIHtcbiAgICAgIHRoaXMubm9kZS5pbnNlcnRCZWZvcmUoY2hpbGQubm9kZSwgYmVmb3JlLmZpeGVkUGxhY2Vob2xkZXIpXG4gICAgfVxuICAgIGVsc2UgaWYgKGJlZm9yZS5zdGlja3lQbGFjZWhvbGRlcikge1xuICAgICAgdGhpcy5ub2RlLmluc2VydEJlZm9yZShjaGlsZC5ub2RlLCBiZWZvcmUuc3RpY2t5UGxhY2Vob2xkZXIpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5ub2RlLmluc2VydEJlZm9yZShjaGlsZC5ub2RlLCBiZWZvcmUubm9kZSlcbiAgICB9XG4gICAgY2hpbGRyZW4uc3BsaWNlKGksIDAsIGNoaWxkLmRhdGEpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNoaWxkIChjaGlsZCkge1xuICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZGF0YS5jaGlsZHJlblxuICAvLyByZW1vdmUgZnJvbSB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgbGV0IGkgPSAwXG4gIGNvbnN0IGNvbXBvbmVudE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKVxuICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgbGV0IGxcbiAgICBmb3IgKGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChjaGlsZHJlbltpXS5yZWYgPT09IGNoaWxkLmRhdGEucmVmKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpIDwgbCkge1xuICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpXG4gICAgfVxuICB9XG4gIC8vIHJlbW92ZSBmcm9tIGNvbXBvbmVudE1hcCByZWN1cnNpdmVseVxuICBjb21wb25lbnRNYW5hZ2VyLnJlbW92ZUNvbXBvbmVudChjaGlsZC5kYXRhLnJlZilcbiAgY2hpbGQudW5zZXRQb3NpdGlvbigpXG4gIGNoaWxkLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjaGlsZC5ub2RlKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQXR0cnMgKGF0dHJzKSB7XG4gIC8vIE5vdGXvvJphdHRyIG11c3QgYmUgaW5qZWN0ZWQgaW50byB0aGUgZG9tIGVsZW1lbnQgYmVjYXVzZVxuICAvLyBpdCB3aWxsIGJlIGFjY2Vzc2VkIGZyb20gdGhlIG91dHNpZGUgZGV2ZWxvcGVyIGJ5IGV2ZW50LnRhcmdldC5hdHRyLlxuICBpZiAoIXRoaXMubm9kZS5hdHRyKSB7XG4gICAgdGhpcy5ub2RlLmF0dHIgPSB7fVxuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIGF0dHJzKSB7XG4gICAgY29uc3QgdmFsdWUgPSBhdHRyc1trZXldXG4gICAgY29uc3QgYXR0clNldHRlciA9IHRoaXMuYXR0cltrZXldXG4gICAgaWYgKHR5cGVvZiBhdHRyU2V0dGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBhdHRyU2V0dGVyLmNhbGwodGhpcywgdmFsdWUpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRoaXMubm9kZVtrZXldID0gdmFsdWVcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLm5vZGUuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpXG4gICAgICB9XG4gICAgICB0aGlzLm5vZGUuYXR0cltrZXldID0gdmFsdWVcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChzdHlsZSkge1xuICBmb3IgKGNvbnN0IGtleSBpbiBzdHlsZSkge1xuICAgIGxldCB2YWx1ZSA9IHN0eWxlW2tleV1cbiAgICBjb25zdCBzdHlsZVNldHRlciA9IHRoaXMuc3R5bGVba2V5XVxuICAgIGlmICh0eXBlb2Ygc3R5bGVTZXR0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHN0eWxlU2V0dGVyLmNhbGwodGhpcywgdmFsdWUpXG4gICAgICBjb250aW51ZVxuICAgIH1cbiAgICBjb25zdCBwYXJzZXIgPSBnZXRGaWx0ZXJzKGtleSxcbiAgICAgIHsgc2NhbGU6IHRoaXMuZGF0YS5zY2FsZSB9KVt0eXBlb2YgdmFsdWVdXG4gICAgaWYgKHR5cGVvZiBwYXJzZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhbHVlID0gcGFyc2VyKHZhbHVlKVxuICAgIH1cbiAgICB0aGlzLm5vZGUuc3R5bGVba2V5XSA9IHZhbHVlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRFdmVudHMgKGV2dHMpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXNcbiAgY29uc3Qgd2VleEluc3RhbmNlID0gdGhpcy5nZXRXZWV4SW5zdGFuY2UoKVxuICBldnRzLm1hcChmdW5jdGlvbiAoZXZ0KSB7XG4gICAgY29uc3QgZnVuYyA9IHNlbGYuZXZlbnRbZXZ0XSB8fCB7fVxuICAgIGNvbnN0IHNldHRlciA9IGZ1bmMuc2V0dGVyXG4gICAgaWYgKHNldHRlcikge1xuICAgICAgc2VsZi5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBzZXR0ZXIpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgc2VuZGVyID0gd2VleEluc3RhbmNlLnNlbmRlclxuICAgIGNvbnN0IGxpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIGRvIHN0b3AgYnViYmxpbmcuXG4gICAgICAvLyBkbyBub3QgcHJldmVudCBkZWZhdWx0LCBvdGhlcndpc2UgdGhlIHRvdWNoc3RhcnRcbiAgICAgIC8vIGV2ZW50IHdpbGwgbm8gbG9uZ2VyIHRyaWdnZXIgYSBjbGljayBldmVudFxuICAgICAgaWYgKGUuX2FscmVhZHlUcmlnZ2VyZWQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlLl9hbHJlYWR5VHJpZ2dlcmVkID0gdHJ1ZVxuICAgICAgY29uc3QgZXZlbnQgPSBleHRlbmQoe30sIGUpXG4gICAgICBldmVudC50YXJnZXQgPSBzZWxmLmRhdGFcbiAgICAgIHNlbmRlci5maXJlRXZlbnQoc2VsZi5kYXRhLnJlZiwgZXZ0LCB7XG4gICAgICAgIGV4dHJhOiBmdW5jLmV4dHJhICYmIGZ1bmMuZXh0cmEuYmluZChzZWxmKSxcbiAgICAgICAgdXBkYXRvcjogZnVuYy51cGRhdG9yICYmIGZ1bmMudXBkYXRvci5iaW5kKHNlbGYpXG4gICAgICB9LCBldmVudClcbiAgICB9XG4gICAgc2VsZi5ub2RlLmFkZEV2ZW50TGlzdGVuZXIoZXZ0LCBsaXN0ZW5lciwgZmFsc2UsIGZhbHNlKVxuICAgIGxldCBsaXN0ZW5lcnMgPSBzZWxmLl9saXN0ZW5lcnNcbiAgICBpZiAoIWxpc3RlbmVycykge1xuICAgICAgbGlzdGVuZXJzID0gc2VsZi5fbGlzdGVuZXJzID0ge31cbiAgICAgIHNlbGYubm9kZS5fbGlzdGVuZXJzID0ge31cbiAgICB9XG4gICAgbGlzdGVuZXJzW2V2dF0gPSBsaXN0ZW5lclxuICAgIHNlbGYubm9kZS5fbGlzdGVuZXJzW2V2dF0gPSBsaXN0ZW5lclxuICB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5iaW5kRXZlbnRzIChldnRzKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzXG4gIGV2dHMubWFwKGZ1bmN0aW9uIChldnQpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9IHRoaXMuX2xpc3RlbmVyc1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgc2VsZi5ub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0LCBsaXN0ZW5lcilcbiAgICAgIHNlbGYuX2xpc3RlbmVyc1tldnRdID0gbnVsbFxuICAgICAgc2VsZi5ub2RlLl9saXN0ZW5lcnNbZXZ0XSA9IG51bGxcbiAgICB9XG4gIH0pXG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvb3BlcmF0ZS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvb3BlcmF0ZS5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBOT1RfUFhfTlVNQkVSX1BST1BFUlRJRVMgPSBbJ2ZsZXgnLCAnb3BhY2l0eScsICd6SW5kZXgnLCAnZm9udFdlaWdodCddXG5cbmV4cG9ydCBmdW5jdGlvbiBmaWx0ZXJTdHlsZXMgKHN0eWxlcywgY29uZmlnKSB7XG4gIGZvciAoY29uc3Qga2V5IGluIHN0eWxlcykge1xuICAgIGNvbnN0IHZhbHVlID0gc3R5bGVzW2tleV1cbiAgICBjb25zdCBwYXJzZXIgPSB0aGlzLmdldEZpbHRlcnMoa2V5LCBjb25maWcpW3R5cGVvZiB2YWx1ZV1cbiAgICBpZiAodHlwZW9mIHBhcnNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3R5bGVzW2tleV0gPSBwYXJzZXIodmFsdWUpXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGaWx0ZXJzIChrZXksIGNvbmZpZykge1xuICBpZiAoTk9UX1BYX05VTUJFUl9QUk9QRVJUSUVTLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICByZXR1cm4ge31cbiAgfVxuICByZXR1cm4ge1xuICAgIG51bWJlcjogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIHZhbCAqIGNvbmZpZy5zY2FsZSArICdweCdcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgLy8gc3RyaW5nIG9mIGEgcHVyZSBudW1iZXIgb3IgYSBudW1iZXIgc3VmZml4ZWQgd2l0aCBhICdweCcgdW5pdFxuICAgICAgaWYgKHZhbC5tYXRjaCgvXlxcLT9cXGQqXFwuP1xcZCsoPzpweCk/JC8pKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbCkgKiBjb25maWcuc2NhbGUgKyAncHgnXG4gICAgICB9XG4gICAgICBpZiAoa2V5Lm1hdGNoKC90cmFuc2Zvcm0vKSAmJiB2YWwubWF0Y2goL3RyYW5zbGF0ZS8pKSB7XG4gICAgICAgIHJldHVybiB2YWwucmVwbGFjZSgvXFxkKlxcLj9cXGQrcHgvZywgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHBhcnNlRmxvYXQobWF0Y2gpICogY29uZmlnLnNjYWxlKSArICdweCdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWxcbiAgICB9XG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC92YWx1ZUZpbHRlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvdmFsdWVGaWx0ZXIuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFN0aWNreSBmcm9tICcuL3N0aWNreSdcblxuLy8gU2V0IHBvc2l0b24gdG8gZml4ZWQsIHdpdGggYSBwbGFjZWhvbGRlciBpZiBpdCdzIGluIGFcbi8vIHNjcm9sbGFibGUgY29tcG9uZW50LlxuZXhwb3J0IGZ1bmN0aW9uIHNldEZpeGVkICgpIHtcbiAgLy8gZGVsYXkgcHJvY2Vzc2luZyBpbiBjYXNlIHRoZSBub2RlIGlzIG5vdCBhcHBlbmRlZCB5ZXQuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdmaXhlZCdcbiAgICBpZiAoIXRoaXMuaXNJblNjcm9sbGFibGUoKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMubm9kZS5wYXJlbnROb2RlXG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgLy8gRm9yIHRoZSBlbGVtZW50cyB3aG8gYXJlIGZpeGVkOiB0aGlzIGZpeGVkUGxhY2Vob2xkZXJcbiAgICAgIC8vIHNob3VkIGJlIGluc2VydGVkLCBhbmQgdGhlIGZpeGVkIGVsZW1lbnQgaXRzZWxmIHNob3VsZFxuICAgICAgLy8gYmUgbW92ZWQgdG8gdGhlIHJvb3QgY29udGFpbmVyLlxuICAgICAgdGhpcy5maXhlZFBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIHRoaXMuZml4ZWRQbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCd3ZWV4LWZpeGVkLXBsYWNlaG9sZGVyJylcbiAgICAgIHRoaXMuZml4ZWRQbGFjZWhvbGRlci5zdHlsZS5jc3NUZXh0ID0gW1xuICAgICAgICAnZGlzcGxheTpub25lOycsXG4gICAgICAgICd3aWR0aDowcHg7JyxcbiAgICAgICAgJ2hlaWdodDowcHg7J1xuICAgICAgXS5qb2luKCcnKVxuICAgICAgcGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmZpeGVkUGxhY2Vob2xkZXIsIHRoaXMubm9kZSlcbiAgICAgIHRoaXMuZ2V0Um9vdENvbnRhaW5lcigpLmFwcGVuZENoaWxkKHRoaXMubm9kZSlcbiAgICB9XG4gIH0uYmluZCh0aGlzKSwgMClcbn1cblxuLy8gdW5zZXQgYSBmaXhlZCBub2RlIHRvIHRoZSBwZWNpZmllZCAncG9zaXRpb24nIG9yICdyZWxhdGl2ZScgYnkgZGVmYXVsdC5cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEZpeGVkIChwb3NpdGlvbikge1xuICAvLyBGb3IgdGhlIGVsZW1lbnRzIHdobyBhcmUgZml4ZWQgZWxlbWVudHMgYmVmb3JlLCBub3dcbiAgLy8gYXJlIG5vdCBmaXhlZDogdGhlIGZpeGVkUGxhY2Vob2xkZXIgaGFzIHRvIGJlIHJlcGxhY2VkXG4gIC8vIGJ5IHRoaXMgZWxlbWVudC5cbiAgcG9zaXRpb24gPSBwb3NpdGlvbiA/IHBvc2l0aW9uICsgJycgOiAncmVsYXRpdmUnXG4gIGlmICh0aGlzLmZpeGVkUGxhY2Vob2xkZXIpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmZpeGVkUGxhY2Vob2xkZXIucGFyZW50Tm9kZVxuICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLCB0aGlzLmZpeGVkUGxhY2Vob2xkZXIpXG4gICAgcGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuZml4ZWRQbGFjZWhvbGRlcilcbiAgICB0aGlzLmZpeGVkUGxhY2Vob2xkZXIgPSBudWxsXG4gICAgdGhpcy5ub2RlLnN0eWxlLnBvc2l0aW9uID0gcG9zaXRpb25cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RpY2t5ICgpIHtcbiAgdGhpcy5ub2RlLnN0eWxlLnpJbmRleCA9IDEwMFxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLnN0aWNreSA9IG5ldyBTdGlja3kodGhpcylcbiAgfS5iaW5kKHRoaXMpLCAwKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRTdGlja3kgKCkge1xuICBpZiAodGhpcy5zdGlja3kpIHtcbiAgICB0aGlzLnN0aWNreS5kZXN0cm95KClcbiAgICB0aGlzLnN0aWNreSA9IG51bGxcbiAgfVxufVxuXG4vLyB1c2FsbHkgdXNlZCB0byB1bnNldCBzdGlja3kgYW5kIGZpeGVkXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRQb3NpdGlvbiAocG9zaXRpb24pIHtcbiAgdGhpcy5zdHlsZS5wb3NpdGlvbi5jYWxsKHRoaXMsIHBvc2l0aW9uKVxufVxuXG5leHBvcnQgY29uc3Qgc3R5bGUgPSB7XG4gIHBvc2l0aW9uICh2YWx1ZSkge1xuICAgIC8vIFRoaXMgaXMgYSBwZWFjZSBvZiBoYWNraW5nIHRvIGZpeCB0aGUgcHJvYmxlbSBhYm91dFxuICAgIC8vIG1peGluZyBmaXhlZCBhbmQgdHJhbnNmb3JtLiBTZWUgJ2h0dHA6Ly9zdGFja292ZXJmbG9cbiAgICAvLyB3LmNvbS9xdWVzdGlvbnMvMTUxOTQzMTMvd2Via2l0LWNzcy10cmFuc2Zvcm0zZC1wb3NpXG4gICAgLy8gdGlvbi1maXhlZC1pc3N1ZScgZm9yIG1vcmUgaW5mby5cbiAgICB2YWx1ZSAhPT0gJ2ZpeGVkJyAmJiB0aGlzLnVuc2V0Rml4ZWQoKVxuICAgIHZhbHVlICE9PSAnc3RpY2t5JyAmJiB0aGlzLnVuc2V0U3RpY2t5KClcbiAgICBpZiAodmFsdWUgPT09ICdmaXhlZCcpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldEZpeGVkKClcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSAnc3RpY2t5Jykge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0U3RpY2t5KClcbiAgICB9XG4gICAgdGhpcy5ub2RlLnN0eWxlLnBvc2l0aW9uID0gdmFsdWVcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2UvY29tcG9uZW50L3Bvc2l0aW9uLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9wb3NpdGlvbi5qcyIsIi8qIGdsb2JhbCBIVE1MRWxlbWVudCAqL1xuXG5pbXBvcnQgeyB0aHJvdHRsZSB9IGZyb20gJy4uLy4uL3V0aWxzJ1xuXG5jb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnRcbmNvbnN0IGlzRmlyZWZveCA9ICEhdWEubWF0Y2goL0ZpcmVmb3gvaSlcbmNvbnN0IGlzSUVNb2JpbGUgPSAhIXVhLm1hdGNoKC9JRU1vYmlsZS9pKVxuY29uc3QgY3NzUHJlZml4ID0gaXNGaXJlZm94ID8gJy1tb3otJyA6IGlzSUVNb2JpbGUgPyAnLW1zLScgOiAnLXdlYmtpdC0nXG5jb25zdCBzdHlsZVByZWZpeCA9IGlzRmlyZWZveCA/ICdNb3onIDogaXNJRU1vYmlsZSA/ICdtcycgOiAnd2Via2l0J1xuXG4vLyBldmVuIHN0aWNreSwgc3RpbGwgbm90IHdvcmsuIHNvLi4uXG4vLyBjb25zdCBzdXBwb3J0U3RpY2t5ID0gZGV0ZWN0U3RpY2t5KClcblxuZnVuY3Rpb24gYmluZFBhcmVudCAoc3RpY2t5KSB7XG4gIGlmICghc3RpY2t5IGluc3RhbmNlb2YgU3RpY2t5KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgc2Nyb2xsZXIgPSBzdGlja3kuY29tcG9uZW50LmdldFBhcmVudFNjcm9sbGVyKClcbiAgbGV0IHB0XG4gIGlmIChzY3JvbGxlcikge1xuICAgIHB0ID0gc3RpY2t5LnBhcmVudCA9IHNjcm9sbGVyXG4gICAgc3RpY2t5LnBhcmVudEVsZW1lbnQgPSBwdC5ub2RlXG4gIH1cbiAgZWxzZSB7XG4gICAgcHQgPSBzdGlja3kucGFyZW50ID0gc3RpY2t5LmNvbXBvbmVudC5nZXRSb290Q29udGFpbmVyKClcbiAgICBzdGlja3kucGFyZW50RWxlbWVudCA9IHB0XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0U3RpY2t5IChzdGlja3kpIHtcbiAgY29uc3QgY29tcCA9IHN0aWNreS5jb21wb25lbnRcbiAgY29uc3QgZWxlbWVudCA9IHN0aWNreS5lbGVtZW50XG4gIGNvbXAuc3RpY2t5UGxhY2Vob2xkZXIgPSBzdGlja3kuZWxlbWVudC5jbG9uZU5vZGUodHJ1ZSlcbiAgY29tcC5zdGlja3lQbGFjZWhvbGRlci5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtcmVmJylcbiAgY29tcC5zdGlja3lQbGFjZWhvbGRlci5jbGFzc0xpc3QuYWRkKCd3ZWV4LXN0aWNreS1wbGFjZWhvbGRlcicpXG4gIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnd2VleC1zdGlja3knKVxuICBzdGlja3kucHJlTWFyZ2luVG9wID0gZWxlbWVudC5zdHlsZS5tYXJnaW5Ub3BcbiAgc3RpY2t5LnByZVRvcCA9IGVsZW1lbnQuc3R5bGUudG9wXG4gIGVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gc3RpY2t5LnRvcCB8fCAnMCcgKyAncHgnXG5cbiAgZWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShcbiAgICBjb21wLnN0aWNreVBsYWNlaG9sZGVyLCBlbGVtZW50KVxuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJ1xuICBsZXQgdG9wXG4gIGlmIChzdGlja3kucGFyZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICB0b3AgPSAwXG4gIH1cbiAgZWxzZSB7XG4gICAgdG9wID0gc3RpY2t5LnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wXG4gIH1cbiAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnXG4gIHN0aWNreS5wYXJlbnRFbGVtZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpXG59XG5cbi8qKlxuICogdW5zZXRTdGlja3lcbiAqIEBwYXJhbSAge1N0aWNreX0gc3RpY2t5IDogYSBzdGlja3kgaW5zdGFuY2UuXG4gKiBAcGFyYW0gIHtzdHJpbmd9IHBvc2l0aW9uIDogcG9zaXRpb24gcmVwbGFjaW5nIHdpdGggKGRlZmF1bHQ6ICdyZWxhdGl2ZScpLlxuICovXG5mdW5jdGlvbiB1bnNldFN0aWNreSAoc3RpY2t5LCBwb3NpdGlvbikge1xuICBjb25zdCBjb21wID0gc3RpY2t5LmNvbXBvbmVudFxuICBjb25zdCBlbGVtZW50ID0gc3RpY2t5LmVsZW1lbnRcbiAgcG9zaXRpb24gPSBwb3NpdGlvbiA/IHBvc2l0aW9uICsgJycgOiBzdGlja3kucHJlUG9zaXRpb25cbiAgZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9IHBvc2l0aW9uXG4gIGVsZW1lbnQuc3R5bGUubWFyZ2luVG9wID0gc3RpY2t5LnByZU1hcmdpblRvcCB8fCAnJ1xuICBlbGVtZW50LnN0eWxlLnRvcCA9IHN0aWNreS5wcmVUb3AgfHwgJydcbiAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd3ZWV4LXN0aWNreScpXG4gIGlmIChjb21wLnN0aWNreVBsYWNlaG9sZGVyKSB7XG4gICAgY29uc3QgcGFyZW50ID0gY29tcC5zdGlja3lQbGFjZWhvbGRlci5wYXJlbnROb2RlXG4gICAgcGFyZW50Lmluc2VydEJlZm9yZShlbGVtZW50LCBjb21wLnN0aWNreVBsYWNlaG9sZGVyKVxuICAgIHBhcmVudC5yZW1vdmVDaGlsZChjb21wLnN0aWNreVBsYWNlaG9sZGVyKVxuICAgIGNvbXAuc3RpY2t5UGxhY2Vob2xkZXIgPSBudWxsXG4gIH1cbn1cblxuLyoqXG4gKiBAY2xhc3MgIFN0aWNreVxuICogQHBhcmFtIHtDb21wb25lbnR9IGNvbXBvbmVudDogYSB3ZWV4IGNvbXBvbmVudC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIGNvbmZpZyBvcHRpb25zLlxuICogIC0gb3B0aW9ucy5jb21wb25lbnQgKG9wdGlvbmFsKSBpbmNhc2UgdGhlIGNvbXBvbmVudCBwYXJhbSBpcyBtaXNzaW5nLCBpdCBjYW5cbiAqICAgIGJlIHNwZWNpZmllZCBpbiB0aGlzIG9wdGlvbnMuXG4gKiAgLSBvcHRpb25zLndpdGhpblBhcmVudD1mYWxzZe+8iG9wdGlvbmFs77yMb25seSBmb3IgQW5kcm9pZO+8iXRoZSBzdGlja3kgZWZmZWN0IGlzXG4gKiAgICBsaW1pdGVkIHdpdGhpbiB0aGUgcGFyZW50IGVsZW1lbnQgb25seS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU3RpY2t5IChjb21wb25lbnQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnRcbiAgdGhpcy5lbGVtZW50ID0gY29tcG9uZW50Lm5vZGVcbiAgdGhpcy5wcmVQb3NpdGlvbiA9IHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvblxuICB0aGlzLndpdGhpblBhcmVudCA9IG9wdGlvbnMud2l0aGluUGFyZW50IHx8IGZhbHNlXG4gIHRoaXMucGFyZW50ID0gbnVsbFxuICB0aGlzLmluaXQoKVxufVxuXG5TdGlja3kucHJvdG90eXBlID0ge1xuXG4gIGNvbnN0cnVjdG9yOiBTdGlja3ksXG5cbiAgaW5pdCAoKSB7XG4gICAgY29uc3QgZWxlbWVudFN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlXG4gICAgZWxlbWVudFN0eWxlW3N0eWxlUHJlZml4ICsgJ1RyYW5zZm9ybSddID0gJ3RyYW5zbGF0ZVooMCknIC8vIGZpeCBmbGlja2VyaW5nXG4gICAgZWxlbWVudFN0eWxlWyd0cmFuc2Zvcm0nXSA9ICd0cmFuc2xhdGVaKDApJ1xuICAgIGJpbmRQYXJlbnQodGhpcylcbiAgICAvLyBpZiAoc3VwcG9ydFN0aWNreSkge1xuICAgIC8vICAgZWxlbWVudFN0eWxlLnBvc2l0aW9uID0gY3NzUHJlZml4ICsgJ3N0aWNreSdcbiAgICAvLyB9XG4gICAgdGhpcy5fc2ltdWxhdGVTdGlja3koKVxuICAgIHRoaXMuX2JpbmRSZXNpemUoKVxuICB9LFxuXG4gIF9iaW5kUmVzaXplICgpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgIGNvbnN0IGlzQW5kcm9pZCA9ICgvYW5kcm9pZC9naSkudGVzdChuYXZpZ2F0b3IuYXBwVmVyc2lvbilcbiAgICBjb25zdCByZXNpemVFdmVudCA9IHNlbGYuX3Jlc2l6ZUV2ZW50ID0gJ29ub3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbmRvd1xuICAgICAgPyAnb3JpZW50YXRpb25jaGFuZ2UnXG4gICAgICA6ICdyZXNpemUnXG4gICAgY29uc3QgcmVzaXplSGFuZGxlciA9IHNlbGYuX3Jlc2l6ZUhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5yZWZyZXNoKClcbiAgICAgIH0sIGlzQW5kcm9pZCA/IDIwMCA6IDApXG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHJlc2l6ZUV2ZW50LCByZXNpemVIYW5kbGVyLCBmYWxzZSlcbiAgfSxcblxuICAvKipcbiAgICogUmVmcmVzaCBhIGluc3RhbmNlLlxuICAgKiBJZiB3aXRoUGFyZW50IGlzIHRydWUgYW5kIHRoZSBwYXJlbnQnIGhlaWdodCBhbHRlcmVkLCB0aGlzXG4gICAqIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLlxuICAgKi9cbiAgcmVmcmVzaCAoKSB7XG4gICAgLy8gaWYgKHN1cHBvcnRTdGlja3kpIHtcbiAgICAvLyAgIHJldHVyblxuICAgIC8vIH1cbiAgICB0aGlzLl9kZXRhY2goKVxuICAgIHRoaXMuX3NpbXVsYXRlU3RpY2t5KClcbiAgfSxcblxuICBfc2ltdWxhdGVTdGlja3kgKCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzXG4gICAgY29uc3QgaXNJblNjcm9sbGFibGUgPSB0aGlzLmlzSW5TY3JvbGxhYmxlKClcbiAgICAvLyB0aGUgaW5pdGlhbCB5IG9mZnNldC5cbiAgICB0aGlzLm9mZnNldCA9IChpc0luU2Nyb2xsYWJsZVxuICAgICAgPyB0aGlzLmdldFBhcmVudFNjcm9sbGVyKCkub2Zmc2V0XG4gICAgICA6IHdpbmRvdy5wYWdlWU9mZnNldClcbiAgICAgIHx8IDBcbiAgICBjb25zdCByZWN0VG9wID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgIGxldCB3cmFwcGVyVG9wID0gMFxuICAgIGlmIChpc0luU2Nyb2xsYWJsZSkge1xuICAgICAgd3JhcHBlclRvcCA9IHRoaXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcbiAgICB9XG4gICAgY29uc3Qgd2l0aGluUGFyZW50ID0gdGhpcy53aXRoaW5QYXJlbnRcbiAgICBjb25zdCB0aHJlc2hvbGRCYXNlID0gcmVjdFRvcCAtIHdyYXBwZXJUb3AgKyB0aGlzLm9mZnNldFxuICAgIC8qKlxuICAgICAqIGN1clN0YXRlOlxuICAgICAqICAgMSAtIG5vcm1hbFxuICAgICAqICAgMiAtIHN0aWNreVxuICAgICAqICAgMyAtIGV4Y2VlZCBwYXJlbnRcbiAgICAgKiBAdHlwZSB7TnVtYmVyfVxuICAgICAqL1xuICAgIHRoaXMuY3VyU3RhdGUgPSAxXG4gICAgY29uc3Qgc2Nyb2xsSGFuZGxlciA9IHRoaXMuX3Njcm9sbEhhbmRsZXIgPSB0aHJvdHRsZShmdW5jdGlvbiAoZSkge1xuICAgICAgY29uc3QgdGhyZXNob2xkVG9wID0gdGhyZXNob2xkQmFzZVxuICAgICAgY29uc3QgeXBvcyA9IHNlbGYuaXNJblNjcm9sbGFibGUoKSA/IGUub2Zmc2V0IDogd2luZG93LnBhZ2VZT2Zmc2V0XG4gICAgICBzZWxmLm9mZnNldCA9IHlwb3NcbiAgICAgIGlmICh5cG9zIDwgdGhyZXNob2xkVG9wKSB7XG4gICAgICAgIGlmIChzZWxmLmN1clN0YXRlICE9PSAxKSB7XG4gICAgICAgICAgdW5zZXRTdGlja3koc2VsZilcbiAgICAgICAgICBzZWxmLmN1clN0YXRlID0gMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgoIXdpdGhpblBhcmVudCAmJiB5cG9zID49IHRocmVzaG9sZFRvcCkgfHxcbiAgICAgICAgKHdpdGhpblBhcmVudCAmJiB5cG9zID49IHRocmVzaG9sZFRvcC8qICYmIHlwb3MgPCB0aHJlc2hvbGRCb3R0b20qLykpIHtcbiAgICAgICAgaWYgKHNlbGYuY3VyU3RhdGUgIT09IDIpIHtcbiAgICAgICAgICBzZXRTdGlja3koc2VsZilcbiAgICAgICAgICBzZWxmLmN1clN0YXRlID0gMlxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgMTAwKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyLCBmYWxzZSlcblxuICAgIC8vIHRha2UgZWZmZWN0IG9uY2UgaW5pdGVkIGFmdGVyIGEgZGVzdHJveW1lbnQuXG4gICAgaWYgKHRoaXMub2Zmc2V0ID49IHRocmVzaG9sZEJhc2UpIHtcbiAgICAgIGNvbnN0IGR1bW15RXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpXG4gICAgICBkdW1teUV2ZW50LmluaXRFdmVudCgnc2Nyb2xsJywgdHJ1ZSwgdHJ1ZSlcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGR1bW15RXZlbnQpXG4gICAgfVxuICB9LFxuXG4gIF9kZXRhY2ggKHBvc2l0aW9uKSB7XG4gICAgcG9zaXRpb24gPSBwb3NpdGlvbiA/IHBvc2l0aW9uICsgJycgOiAncmVsYXRpdmUnXG4gICAgLy8gaWYgKHN1cHBvcnRTdGlja3kpIHtcbiAgICAvLyAgIHJldHVyblxuICAgIC8vIH1cbiAgICBpZiAodGhpcy5jdXJTdGF0ZSA9PT0gMikge1xuICAgICAgdW5zZXRTdGlja3kodGhpcylcbiAgICB9XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX3Njcm9sbEhhbmRsZXIsIGZhbHNlKVxuICB9LFxuXG4gIGlzSW5TY3JvbGxhYmxlICgpIHtcbiAgICBpZiAoIXRoaXMuX2lzSW5TY3JvbGxhYmxlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLl9pc0luU2Nyb2xsYWJsZSA9IHRoaXMuY29tcG9uZW50LmlzSW5TY3JvbGxhYmxlKClcbiAgICAgIH1cbiAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gVGhlIHBhcmVudFJlZiBpcyBub3QgaW4gY29tcG9uZW50TWFuYWdlcidzIGNvbXBvbmVudE1hcCB5ZXQsIHNvXG4gICAgICAgIC8vIGl0J3MgaW52YWxpZCB0byBnZXQgdGhlIHBhcmVudCBhbmQgdGVzdCBpZiBpdCdzIHNjcm9sbGFibGUuXG4gICAgICAgIC8vIFRoaXMgaXMgbW9zdCBsaWtlbHkgdG8gaGFwcGVuIGluIHRoZSBjYXNlIHRoYXQgdGhlIHBhcmVudFxuICAgICAgICAvLyBjb21wb25lbnQncyAnYXBwZW5kJyBhdHRyaWJ1dGUgaXMgc2V0IHRvICd0cmVlJy5cbiAgICAgICAgY29uc29sZS5lcnJvcignaXNJblNjcm9sbGFibGUgaXMgbm90IHlldCBhdmFpbGFibGUgdG8gY2FsbCcsIGVycilcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2lzSW5TY3JvbGxhYmxlXG4gIH0sXG5cbiAgZ2V0UGFyZW50U2Nyb2xsZXIgKCkge1xuICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5nZXRQYXJlbnRTY3JvbGxlcigpXG4gIH0sXG5cbiAgZGVzdHJveSAocG9zaXRpb24pIHtcbiAgICB0aGlzLl9kZXRhY2gocG9zaXRpb24pXG4gICAgY29uc3QgZWxlbWVudFN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlXG4gICAgZWxlbWVudFN0eWxlLnJlbW92ZVByb3BlcnR5KGNzc1ByZWZpeCArICd0cmFuc2Zvcm0nKVxuICAgIGVsZW1lbnRTdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNmb3JtJylcbiAgICAvLyBpZiAoc3VwcG9ydFN0aWNreSkge1xuICAgIC8vICAgcmV0dXJuXG4gICAgLy8gfVxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX3Jlc2l6ZUV2ZW50LCB0aGlzLl9yZXNpemVIYW5kbGVyLCBmYWxzZSlcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2UvY29tcG9uZW50L3N0aWNreS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvc3RpY2t5LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IGJveEFsaWduTWFwID0ge1xuICBzdHJldGNoOiAnc3RyZXRjaCcsXG4gICdmbGV4LXN0YXJ0JzogJ3N0YXJ0JyxcbiAgJ2ZsZXgtZW5kJzogJ2VuZCcsXG4gIGNlbnRlcjogJ2NlbnRlcidcbn1cblxuY29uc3QgYm94T3JpZW50TWFwID0ge1xuICByb3c6ICdob3Jpem9udGFsJyxcbiAgY29sdW1uOiAndmVydGljYWwnXG59XG5cbmNvbnN0IGJveFBhY2tNYXAgPSB7XG4gICdmbGV4LXN0YXJ0JzogJ3N0YXJ0JyxcbiAgJ2ZsZXgtZW5kJzogJ2VuZCcsXG4gIGNlbnRlcjogJ2NlbnRlcicsXG4gICdzcGFjZS1iZXR3ZWVuJzogJ2p1c3RpZnknLFxuICAnc3BhY2UtYXJvdW5kJzogJ2p1c3RpZnknIC8vIEp1c3Qgc2FtZSBhcyBgc3BhY2UtYmV0d2VlbmBcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBzdHlsZToge1xuICAgIGZsZXggKHZhbHVlKSB7XG4gICAgICB0aGlzLm5vZGUuc3R5bGUud2Via2l0Qm94RmxleCA9IHZhbHVlXG4gICAgICB0aGlzLm5vZGUuc3R5bGUud2Via2l0RmxleCA9IHZhbHVlXG4gICAgICB0aGlzLm5vZGUuc3R5bGUuZmxleCA9IHZhbHVlXG4gICAgfSxcblxuICAgIGFsaWduSXRlbXMgKHZhbHVlKSB7XG4gICAgICB0aGlzLm5vZGUuc3R5bGUud2Via2l0Qm94QWxpZ24gPSBib3hBbGlnbk1hcFt2YWx1ZV1cbiAgICAgIHRoaXMubm9kZS5zdHlsZS53ZWJraXRBbGlnbkl0ZW1zID0gdmFsdWVcbiAgICAgIHRoaXMubm9kZS5zdHlsZS5hbGlnbkl0ZW1zID0gdmFsdWVcbiAgICB9LFxuXG4gICAgYWxpZ25TZWxmICh2YWx1ZSkge1xuICAgICAgdGhpcy5ub2RlLnN0eWxlLndlYmtpdEFsaWduU2VsZiA9IHZhbHVlXG4gICAgICB0aGlzLm5vZGUuc3R5bGUuYWxpZ25TZWxmID0gdmFsdWVcbiAgICB9LFxuXG4gICAgZmxleERpcmVjdGlvbiAodmFsdWUpIHtcbiAgICAgIHRoaXMubm9kZS5zdHlsZS53ZWJraXRCb3hPcmllbnQgPSBib3hPcmllbnRNYXBbdmFsdWVdXG4gICAgICB0aGlzLm5vZGUuc3R5bGUud2Via2l0RmxleERpcmVjdGlvbiA9IHZhbHVlXG4gICAgICB0aGlzLm5vZGUuc3R5bGUuZmxleERpcmVjdGlvbiA9IHZhbHVlXG4gICAgfSxcblxuICAgIGp1c3RpZnlDb250ZW50ICh2YWx1ZSkge1xuICAgICAgdGhpcy5ub2RlLnN0eWxlLndlYmtpdEJveFBhY2sgPSBib3hQYWNrTWFwW3ZhbHVlXVxuICAgICAgdGhpcy5ub2RlLnN0eWxlLndlYmtpdEp1c3RpZnlDb250ZW50ID0gdmFsdWVcbiAgICAgIHRoaXMubm9kZS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IHZhbHVlXG4gICAgfVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvZmxleGJveC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9jb21wb25lbnQvZmxleGJveC5qcyIsIi8qIGdsb2JhbCBsaWIsIEhUTUxFbGVtZW50ICovXG5cbid1c2Ugc3RyaWN0J1xuXG5yZXF1aXJlKCdsYXp5aW1nJylcblxubGV0IGxhenlsb2FkVGltZXJcblxuLy8gZmlyZSBsYXp5aW1nIG9uIGltYWdlcy5cbmZ1bmN0aW9uIGZpcmUgKCkge1xuICBzZXRUaW1lb3V0KCgpID0+IGxpYi5pbWcuZmlyZSgpLCAwKVxufVxuXG4vLyB3ZSBkb24ndCBrbm93IHdoZW4gYWxsIGltYWdlcyBhcmUgYXBwZW5kZWRcbi8vIGp1c3QgdXNlIHNldFRpbWVvdXQgdG8gZG8gZGVsYXkgbGF6eWxvYWRcbi8vXG4vLyAtLSBhY3R1YWxseSBldmVyeXRpbWUgd2UgYWRkIGEgZWxlbWVudCBvciB1cGRhdGUgc3R5bGVzLFxuLy8gdGhlIGNvbXBvbmVudCBtYW5hZ2VyIHdpbGwgY2FsbCBzdGFydElmTmVlZCB0byBmaXJlXG4vLyBsYXp5bG9hZCBvbmNlIGFnYWluIGluIHRoZSBoYW5kbGVBcHBlbmQgZnVuY3Rpb24uIHNvIHRoZXJlXG4vLyBpcyBubyB3YXkgdGhhdCBhbnkgaW1hZ2UgZWxlbWVudCBjYW4gbWlzcyBpdC4gU2VlIHNvdXJjZVxuLy8gY29kZSBpbiBjb21wb25lbnRNYW5nYWdlci5qcy5cblxuLy8ganVzdCBmb3IgdGhlIGltYWdlIGNvbXBvbmVudCB0byBzdGFydCBsYXp5bG9hZC5cbmZ1bmN0aW9uIHN0YXJ0SWZOZWVkZWQgKHRhcmdldCkge1xuICBpZiAoIWxhenlsb2FkVGltZXIpIHtcbiAgICBsYXp5bG9hZFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBmaXJlKClcbiAgICAgIGNsZWFyVGltZW91dChsYXp5bG9hZFRpbWVyKVxuICAgICAgbGF6eWxvYWRUaW1lciA9IG51bGxcbiAgICB9LCAxNilcbiAgfVxufVxuXG4vLyBmb3IgYSBzY29wZSBvZiBlbGVtZW50LCBub3QgZm9yIGEgaW1hZ2UuXG5mdW5jdGlvbiBsb2FkSWZOZWVkZWQgKGVsZW1lbnRTY29wZSkge1xuICBjb25zdCBub3RQcmVQcm9jZXNzZWQgPSBlbGVtZW50U2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2ltZy1zcmNdJylcbiAgLy8gaW1hZ2UgZWxlbWVudHMgd2hpY2ggaGF2ZSBhdHRyaWJ1dGUgJ2ktbGF6eS1zcmMnIHdlcmUgZWxlbWVudHNcbiAgLy8gdGhhdCBoYWQgYmVlbiBwcmVwcm9jZXNzZWQgYnkgbGliLWltZy1jb3JlLCBidXQgbm90IGxvYWRlZCB5ZXQsIGFuZFxuICAvLyBtdXN0IGJlIGxvYWRlZCB3aGVuICdhcHBlYXInIGV2ZW50cyB3ZXJlIGZpcmVkLiBJdCB0dXJucyBvdXQgdGhlXG4gIC8vICdhcHBlYXInIGV2ZW50IHdhcyBub3QgZmlyZWQgY29ycmVjdGx5IGluIHRoZSBjc3MtdHJhbnNsYXRlLXRyYW5zaXRpb25cbiAgLy8gc2l0dWF0aW9uLCBzbyAnaS1sYXp5LXNyYycgbXVzdCBiZSBjaGVja2VkIGFuZCBsYXp5bG9hZCBtdXN0IGJlXG4gIC8vIGZpcmVkIG1hbnVhbGx5LlxuICBjb25zdCBwcmVQcm9jZXNzZWQgPSBlbGVtZW50U2NvcGUucXVlcnlTZWxlY3RvckFsbCgnW2ktbGF6eS1zcmNdJylcbiAgaWYgKG5vdFByZVByb2Nlc3NlZC5sZW5ndGggPiAwIHx8IHByZVByb2Nlc3NlZC5sZW5ndGggPiAwKSB7XG4gICAgZmlyZSgpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VJbWFnZUxhenkgKGltYWdlLCBzcmMpIHtcbiAgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdpbWctc3JjJylcbiAgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdpLWxhenktc3JjJylcbiAgaW1hZ2UucmVtb3ZlQXR0cmlidXRlKCdzcmMnKVxuICBpbWFnZS5zZXRBdHRyaWJ1dGUoJ2ltZy1zcmMnLCBzcmMpXG4gIGZpcmUoKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlyZUxhenlsb2FkICh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnICYmICEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSB7XG4gICAgdGFyZ2V0ID0gdGFyZ2V0Lm5vZGVcbiAgfVxuICBpZiAoIXRhcmdldCkge1xuICAgIHJldHVyblxuICB9XG4gIGlmICh0YXJnZXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW1hZ2UnKSB7XG4gICAgcmV0dXJuIHN0YXJ0SWZOZWVkZWQodGFyZ2V0KVxuICB9XG4gIHJldHVybiBsb2FkSWZOZWVkZWQodGFyZ2V0KVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2UvY29tcG9uZW50L2xhenlsb2FkLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2NvbXBvbmVudC9sYXp5bG9hZC5qcyIsIi8qXG4gICAgbGliLWltZy1hZHB0ZXIgXG4gICAgQXV0aG9yOiBrb25nc2hpLndsQGFsaWJhYmEtaW5jLmNvbSBcbiAgICBEYXRlOiAgIERlYywyMDE1XG4qL1xuO1xuXG4oZnVuY3Rpb24gKHdpbiwgbGliKSB7XG4gICAgcmVxdWlyZSgnYXBwZWFyanMnKTtcblxuICAgIHZhciBhZGFwdGVyID0ge307XG4gICAgdmFyIGFwcGVhckluc3RhbmNlO1xuICAgIHZhciBydW50aW1lRmxhZ3MgPSB7fTtcblxuICAgIHZhciBjb25maWcgPSB7XG4gICAgICAgICdkYXRhU3JjJzogJ2ltZy1zcmMnLCAvL+aMh+WumuWbvueJh+WcsOWdgOeahGF0dHJpYnV0ZeWQjSwg5YW85YGabGF6eS1jbGFzc+eahOS9nOeUqFxuICAgICAgICAnbGF6eUhlaWdodCc6IDAsIC8v5Lul5q2k6auY5bqm5o+Q5YmN6Kem5Y+R5oeS5Yqg6L29XG4gICAgICAgICdsYXp5V2lkdGgnOiAwIC8v5Lul5q2k5a695bqm5o+Q5YmN6Kem5Y+R5oeS5Yqg6L29XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gZXh0ZW5kU3RyaWN0KG1haW4sIHN1Yikge1xuICAgICAgICB2YXIgcmV0ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gbWFpbikge1xuICAgICAgICAgICAgaWYgKG1haW4uaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICByZXRba10gPSBzdWIuaGFzT3duUHJvcGVydHkoaykgPyBzdWJba10gOiBtYWluW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXBwbHlTcmMoaXRlbSwgcHJvY2Vzc2VkU3JjKSB7XG4gICAgICAgIGlmICghcHJvY2Vzc2VkU3JjKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGl0ZW0ubm9kZU5hbWUudG9VcHBlckNhc2UoKSA9PSAnSU1HJykge1xuICAgICAgICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHByb2Nlc3NlZFNyYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoXCInICsgcHJvY2Vzc2VkU3JjICsgJ1wiKSc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICBhcHBlYXJJbnN0YW5jZSA9IGxpYi5hcHBlYXIuaW5pdCh7XG4gICAgICAgICAgICBjbHM6ICdpbWd0bXAnLCAvL+WPr+mAie+8jOmcgOimgemBjeWOhueahOWFg+e0oFxuICAgICAgICAgICAgb25jZTogdHJ1ZSwgLy/lj6/pgInvvIzmmK/lkKblj6rop6blj5HkuIDmrKFcbiAgICAgICAgICAgIHg6IGNvbmZpZy5sYXp5V2lkdGgsIC8v5Y+v6YCJ77yM5a655Zmo5Y+z6L656Led56a7eOS7peWGheeahOWFg+e0oOWKoOi9ve+8jOm7mOiupOS4ujBcbiAgICAgICAgICAgIHk6IGNvbmZpZy5sYXp5SGVpZ2h0LCAvL+WPr+mAie+8jOWuueWZqOW6lemDqOi3neemu3nku6XlhoXnmoTlhYPntKDliqDovb3vvIzpu5jorqTkuLowXG4gICAgICAgICAgICBvbkFwcGVhcjogZnVuY3Rpb24gKGV2dCkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gdGhpcztcbiAgICAgICAgICAgICAgICBhcHBseVNyYyhpdGVtLCBpdGVtLmdldEF0dHJpYnV0ZSgnaS1sYXp5LXNyYycpKTtcbiAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgnaS1sYXp5LXNyYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGFkYXB0ZXIubG9nQ29uZmlnID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zb2xlLmxvZygnbGliLWltZyBDb25maWdcXG4nLCBjb25maWcpO1xuICAgIH1cblxuXG4gICAgYWRhcHRlci5maXJlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGlmICghYXBwZWFySW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGluaXQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsYWJlbCA9ICdpXycgKyBEYXRlLm5vdygpICUgMTAwMDAwO1xuICAgICAgICB2YXIgZG9tTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1snICsgY29uZmlnLmRhdGFTcmMgKyAnXScpO1xuXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb21MaXN0LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uZGF0YXNldC5sYXp5ID09ICdmYWxzZScgJiYgaXRlbS5kYXRhc2V0LmxhenkgIT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlTcmMoaXRlbSwgcHJvY2Vzc1NyYyhpdGVtLCBpdGVtLmdldEF0dHJpYnV0ZShjb25maWcuZGF0YVNyYykpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKGxhYmVsKTtcbiAgICAgICAgICAgICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnaS1sYXp5LXNyYycsIGl0ZW0uZ2V0QXR0cmlidXRlKGNvbmZpZy5kYXRhU3JjKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZShjb25maWcuZGF0YVNyYyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGFwcGVhckluc3RhbmNlLmJpbmQoJy4nICsgbGFiZWwpO1xuICAgICAgICBhcHBlYXJJbnN0YW5jZS5maXJlKCk7XG4gICAgfVxuXG5cblxuICAgIGFkYXB0ZXIuZGVmYXVsdFNyYyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUJDQVlBQUFBZkZjU0pBQUFBRFVsRVFWUUltV05nWUdCZ0FBQUFCUUFCaDZGTzFBQUFBQUJKUlU1RXJrSmdnZz09JztcblxuXG5cbiAgICBsaWIuaW1nID0gYWRhcHRlcjtcbiAgICBcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGFkYXB0ZXI7XG5cbn0pKHdpbmRvdywgd2luZG93WydsaWInXSB8fCAod2luZG93WydsaWInXSA9IHt9KSk7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9sYXp5aW1nL3NyYy9hZGFwdGVyLmpzXG4gKiogbW9kdWxlIGlkID0gMTQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2xhenlpbWcvc3JjL2FkYXB0ZXIuanMiLCI7XG4oZnVuY3Rpb24gKHdpbiwgbGliKSB7XG4gIHZhciBkb2MgPSBkb2N1bWVudDtcbiAgdmFyIGFwcGVhckV2dDtcbiAgdmFyIGRpc2FwcGVhckV2dDtcblxuICBmdW5jdGlvbiBjcmVhdGVFdmVudCgpIHtcbiAgICBhcHBlYXJFdnQgPSBkb2MuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpOy8v5Yib5bu66Ieq5a6a5LmJ5pi+56S65LqL5Lu2ICBcbiAgICBkaXNhcHBlYXJFdnQgPSBkb2MuY3JlYXRlRXZlbnQoXCJIVE1MRXZlbnRzXCIpOy8v5Yib5bu66Ieq5a6a5LmJ5raI5aSx5LqL5Lu2ICBcbiAgICBhcHBlYXJFdnQuaW5pdEV2ZW50KCdfYXBwZWFyJywgZmFsc2UsIHRydWUpOyAgICAgIFxuICAgIGRpc2FwcGVhckV2dC5pbml0RXZlbnQoJ19kaXNhcHBlYXInLCBmYWxzZSwgdHJ1ZSk7ICAgICAgXG4gIH1cblxuICAvKipcbiAgICogW3Rocm90dGxlIOiKgua1geWHveaVsF1cbiAgICogQHBhcmFtICB7W2Z1bmN0aW9uXX0gZnVuYyBb5omn6KGM5Ye95pWwXVxuICAgKiBAcGFyYW0gIHtbaW50XX0gd2FpdCBb562J5b6F5pe26ZW/XVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCkge1xuICAgIHZhciBsYXRlc3QgPSBEYXRlLm5vdygpLFxuICAgICAgcHJldmlvdXMgPSAwLC8v5LiK5qyh5omn6KGM55qE5pe26Ze0XG4gICAgICB0aW1lb3V0ID0gbnVsbCwvL3NldFRpbW91dOS7u+WKoVxuICAgICAgY29udGV4dCwvL+S4iuS4i+aWh1xuICAgICAgYXJncywvL+WPguaVsFxuICAgICAgcmVzdWx0Oy8v57uT5p6cXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgcHJldmlvdXMgPSBEYXRlLm5vdygpO1xuICAgICAgdGltZW91dCA9IG51bGw7Ly/muIXnqbrorqHml7blmahcbiAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgdmFyIHJlbWFpbmluZyA9IHdhaXQgLSAobm93IC0gcHJldmlvdXMpO1xuICAgICAgaWYgKHJlbWFpbmluZyA8PSAwIHx8IHJlbWFpbmluZyA+PSB3YWl0KSB7XG4gICAgICAgIC8v5aaC5p6c5rKh5pyJ5Ymp5L2Z5pe26Ze077yM5oiW6ICF5a2Y5Zyo5L+u5pS56L+H57O757uf5pe26Ze05a+86Ie05Ymp5L2Z5pe26Ze05aKe5aSn55qE5oOF5Ya177yM5YiZ5omn6KGMXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICB9IGVsc2UgaWYgKHRpbWVvdXQgPT0gbnVsbCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFtnZXRPZmZzZXQg6I635Y+W6L656Led5bC65a+4XVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGVsICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtbdHlwZV19IHBhcmFtIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBmdW5jdGlvbiBnZXRPZmZzZXQoZWwsIHBhcmFtKSB7XG4gICAgdmFyIGVsLCBsLCAgciwgYiwgdDtcbiAgICBpZiAoIWVsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghcGFyYW0pIHtcbiAgICAgIHBhcmFtID0ge3g6IDAsIHk6IDB9O1xuICAgIH1cblxuICAgIGlmIChlbCAhPSB3aW5kb3cpIHtcbiAgICAgIGVsID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICBsID0gZWwubGVmdDtcbiAgICAgIHQgPSBlbC50b3A7XG4gICAgICByID0gZWwucmlnaHQ7XG4gICAgICBiID0gZWwuYm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBsID0gMDtcbiAgICAgIHQgPSAwO1xuICAgICAgciA9IGwgKyBlbC5pbm5lcldpZHRoO1xuICAgICAgYiA9IHQgKyBlbC5pbm5lckhlaWdodDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICdsZWZ0JzogbCxcbiAgICAgICd0b3AnOiB0LFxuICAgICAgJ3JpZ2h0JzogciArIHBhcmFtLngsXG4gICAgICAnYm90dG9tJzogYiArIHBhcmFtLnlcbiAgICB9O1xuICB9XG4gIC8v5YWD57Sg5L2N572u5q+U6L6DXG4gIGZ1bmN0aW9uIGNvbXBhcmVPZmZzZXQoZDEsIGQyKSB7XG4gICAgdmFyIGxlZnQgPSBkMi5yaWdodCA+IGQxLmxlZnQgJiYgZDIubGVmdCA8IGQxLnJpZ2h0O1xuICAgIHZhciB0b3AgPSBkMi5ib3R0b20gPiBkMS50b3AgJiYgZDIudG9wIDwgZDEuYm90dG9tO1xuICAgIHJldHVybiBsZWZ0ICYmIHRvcDtcbiAgfVxuICAvL+iOt+WPluenu+WKqOaWueWQkVxuICBmdW5jdGlvbiBnZXREaXJlY3Rpb24oYmVmb3JlT2Zmc2V0LCBub3dPZmZzZXQpIHtcbiAgICB2YXIgZGlyZWN0aW9uID0gJ25vbmUnO1xuICAgIHZhciBob3JpemVudGFsID0gYmVmb3JlT2Zmc2V0LmxlZnQgLSBub3dPZmZzZXQubGVmdDtcbiAgICB2YXIgdmVydGljYWwgPSBiZWZvcmVPZmZzZXQudG9wIC0gbm93T2Zmc2V0LnRvcDtcbiAgICBpZiAodmVydGljYWwgPT0gMCkge1xuICAgICAgaWYgKGhvcml6ZW50YWwgIT0gMCkge1xuICAgICAgICBkaXJlY3Rpb24gPSBob3JpemVudGFsID4gMCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkaXJlY3Rpb24gPSAnbm9uZSdcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhvcml6ZW50YWwgPT0gMCkge1xuICAgICAgaWYgKHZlcnRpY2FsICE9IDApIHtcbiAgICAgICAgZGlyZWN0aW9uID0gdmVydGljYWwgPiAwID8gJ3VwJyA6ICdkb3duJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpcmVjdGlvbiA9ICdub25lJztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpcmVjdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIGVsKSB7XG4gICAgZm9yICh2YXIgayBpbiBlbCkge1xuICAgICAgaWYgKGVsLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgIHRhcmdldFtrXSA9IGVsW2tdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG5cbiAgLyoqXG4gICAqIFtfX2JpbmRFdmVudCDnu5Hlrprkuovku7bvvIzljIXmi6zmu5rliqjjgIF0b3VjaG1vdmXjgIF0cmFuc2Zvcm3jgIFyZXNpemXnrYldXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBmdW5jdGlvbiBfX2JpbmRFdmVudCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGhhbmRsZSA9IHRocm90dGxlKGZ1bmN0aW9uICgpIHtcbiAgICAgIF9fZmlyZS5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH0sIHRoaXMub3B0aW9ucy53YWl0KTtcbiAgICBpZiAodGhpcy5fX2hhbmRsZSkge1xuICAgICAgLy/pgb/lhY3ph43lpI3nu5HlrppcbiAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX19oYW5kbGUpO1xuICAgICAgdGhpcy5fX2hhbmRsZSA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuX19oYW5kbGUgPSBoYW5kbGU7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlLCBmYWxzZSk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgIF9fZmlyZS5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH0sIGZhbHNlKTtcbiAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25FbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgIF9fZmlyZS5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xuICAgIH0sIGZhbHNlKTtcbiAgICAvLyBhbmRyb2lkNC4w5Lul5LiLXG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgZnVuY3Rpb24oKSB7XG4gICAgICBfX2ZpcmUuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICB9LCBmYWxzZSk7XG4gICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGZ1bmN0aW9uKCkge1xuICAgICAgX19maXJlLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgLy/ojrflj5blrrnlmajlhoXmiYDmnInnmoTliqDovb3lhYPntKBcbiAgZnVuY3Rpb24gX19nZXRFbGVtZW50cyhzZWxlY3Rvcikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvL+iOt+WPluWuueWZqFxuICAgIHZhciBjb250YWluZXIgPSB0aGlzLm9wdGlvbnMuY29udGFpbmVyO1xuICAgIGlmICh0eXBlb2YgY29udGFpbmVyID09ICdzdHJpbmcnKSB7XG4gICAgICAvL+WmguaenOaYr+Wtl+espuS4su+8jOWImemAieaLqeWZqFxuICAgICAgdGhpcy5jb250YWluZXIgPSBkb2MucXVlcnlTZWxlY3Rvcihjb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL+WvueixoeS8oOWAvFxuICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuICAgIC8v6I635Y+W5a655Zmo5YaF55qE5omA5pyJ55uu5qCH5YWD57SgXG4gICAgaWYgKHRoaXMuY29udGFpbmVyID09IHdpbmRvdykge1xuICAgICAgdmFyIGFwcGVhcldhdGNoRWxlbWVudHMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7ICAgICAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcHBlYXJXYXRjaEVsZW1lbnRzID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgfVxuICAgIHZhciBhcHBlYXJXYXRjaEVsZW1lbnRzID0gW10uc2xpY2UuY2FsbChhcHBlYXJXYXRjaEVsZW1lbnRzLCBudWxsKTtcblxuICAgIGFwcGVhcldhdGNoRWxlbWVudHMgPSBhcHBlYXJXYXRjaEVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbihlbGUpIHtcbiAgICAgIC8vIOWmguaenOW3sue7j+e7keWumui/h++8jOa4hemZpGFwcGVhcueKtuaAge+8jOS4jeWGjeWKoOWFpeWIsOaVsOe7hOmHjFxuICAgICAgaWYgKGVsZS5kYXRhc2V0WydiaW5kJ10gPT0gJzEnKSB7XG4gICAgICAgIGRlbGV0ZSBlbGUuX2hhc0FwcGVhcjtcbiAgICAgICAgZGVsZXRlIGVsZS5faGFzRGlzQXBwZWFyO1xuICAgICAgICBkZWxldGUgZWxlLl9hcHBlYXI7ICAgICAgXG4gICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKHNlbGYub3B0aW9ucy5jbHMpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBhcHBlYXJXYXRjaEVsZW1lbnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gX19pbml0Qm91bmRpbmdSZWN0KGVsZW1lbnRzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmIChlbGVtZW50cyAmJiBlbGVtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBbXS5mb3JFYWNoLmNhbGwoZWxlbWVudHMsIGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgZWxlLl9lbGVPZmZzZXQgPSBnZXRPZmZzZXQoZWxlKTsgXG4gICAgICAgIC8v56e76Zmk57G75ZCNXG4gICAgICAgIGVsZS5jbGFzc0xpc3QucmVtb3ZlKHNlbGYub3B0aW9ucy5jbHMpO1xuICAgICAgICAvLyDmoIflv5flt7Lnu4/nu5HlrppcbiAgICAgICAgZWxlLmRhdGFzZXRbJ2JpbmQnXSA9IDE7XG4gICAgICB9KTtcbiAgICB9ICAgICAgICBcbiAgfVxuXG4gIC8vIOinpuWPkeWKoOi9vVxuICBmdW5jdGlvbiBfX2ZpcmUoKSB7XG4gICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgZWxlbWVudHMgPSB0aGlzLmFwcGVhcldhdGNoRWxlbWVudHMsXG4gICAgICBhcHBlYXJDYWxsYmFjayA9IHRoaXMub3B0aW9ucy5vbkFwcGVhciwvL2FwcGVhcueahOaJp+ihjOWHveaVsFxuICAgICAgZGlzYXBwZWFyQ2FsbGJhY2sgPSB0aGlzLm9wdGlvbnMub25EaXNhcHBlYXIsLy9kaXNhcHBlYXLnmoTmiafooYzlh73mlbBcbiAgICAgIGNvbnRhaW5lck9mZnNldCA9IGdldE9mZnNldChjb250YWluZXIsIHtcbiAgICAgICAgeDogdGhpcy5vcHRpb25zLngsXG4gICAgICAgIHk6IHRoaXMub3B0aW9ucy55XG4gICAgICB9KSxcbiAgICAgIGlzT25jZSA9IHRoaXMub3B0aW9ucy5vbmNlLC8v5piv5ZCm5Y+q5omn6KGM5LiA5qyhXG4gICAgICBldiA9IGFyZ3VtZW50c1swXSB8fCB7fTtcbiAgICBpZiAoZWxlbWVudHMgJiYgZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgW10uZm9yRWFjaC5jYWxsKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlLCBpKSB7XG4gICAgICAgIC8v6I635Y+W5bem5Y+z6Led56a7XG4gICAgICAgIHZhciBlbGVPZmZzZXQgPSBnZXRPZmZzZXQoZWxlKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IGdldERpcmVjdGlvbihlbGUuX2VsZU9mZnNldCwgZWxlT2Zmc2V0KTtcbiAgICAgICAgLy/kv53lrZjkuIrkuKrml7bmrrXnmoTkvY3nva7kv6Hmga9cbiAgICAgICAgZWxlLl9lbGVPZmZzZXQgPSBlbGVPZmZzZXQ7XG4gICAgICAgIC8v5p+l55yL5piv5ZCm5Zyo5Y+v6KeG5Yy65Z+f6IyD5Zu05YaFXG4gICAgICAgIHZhciBpc0luVmlldyA9IGNvbXBhcmVPZmZzZXQoY29udGFpbmVyT2Zmc2V0LCBlbGVPZmZzZXQpO1xuICAgICAgICB2YXIgYXBwZWFyID0gZWxlLl9hcHBlYXI7XG4gICAgICAgIHZhciBfaGFzQXBwZWFyID0gZWxlLl9oYXNBcHBlYXI7XG4gICAgICAgIHZhciBfaGFzRGlzQXBwZWFyID0gZWxlLl9oYXNEaXNBcHBlYXI7XG4gICAgICAgIGFwcGVhckV2dC5kYXRhID0ge1xuICAgICAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgZGlzYXBwZWFyRXZ0LmRhdGEgPSB7XG4gICAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJblZpZXcgJiYgIWFwcGVhcikge1xuICAgICAgICAgIGlmICgoaXNPbmNlICYmICFfaGFzQXBwZWFyKSB8fCAhaXNPbmNlKSB7XG4gICAgICAgICAgICAvL+WmguaenOWPquinpuWPkeS4gOasoeW5tuS4lOayoeacieinpuWPkei/h+aIluiAheWFgeiuuOinpuWPkeWkmuasoVxuICAgICAgICAgICAgLy/lpoLmnpzlnKjlj6/op4bljLrln5/lhoXvvIzlubbkuJTmmK/ku45kaXNwcGVhcui/m+WFpWFwcGVhcu+8jOWImeaJp+ihjOWbnuiwg1xuICAgICAgICAgICAgYXBwZWFyQ2FsbGJhY2sgJiYgYXBwZWFyQ2FsbGJhY2suY2FsbChlbGUsIGV2KTtcbiAgICAgICAgICAgIC8v6Kem5Y+R6Ieq5a6a5LmJ5LqL5Lu2XG4gICAgICAgICAgICBlbGUuZGlzcGF0Y2hFdmVudChhcHBlYXJFdnQpO1xuICAgICAgICAgICAgZWxlLl9oYXNBcHBlYXIgPSB0cnVlO1xuICAgICAgICAgICAgZWxlLl9hcHBlYXIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaXNJblZpZXcgJiYgYXBwZWFyKSB7XG4gICAgICAgICAgaWYgKChpc09uY2UgJiYgIV9oYXNEaXNBcHBlYXIpIHx8ICFpc09uY2UpIHtcbiAgICAgICAgICAgIC8v5aaC5p6c5LiN5Zyo5Y+v6KeG5Yy65Z+f5YaF77yM5bm25LiU5piv5LuOYXBwZWFy6L+b5YWlZGlzYXBwZWFy77yM5omn6KGMZGlzYXBwZWFy5Zue6LCDXG4gICAgICAgICAgICBkaXNhcHBlYXJDYWxsYmFjayAmJiBkaXNhcHBlYXJDYWxsYmFjay5jYWxsKGVsZSwgZXYpO1xuICAgICAgICAgICAgLy/op6blj5Hoh6rlrprkuYnkuovku7ZcbiAgICAgICAgICAgIGVsZS5kaXNwYXRjaEV2ZW50KGRpc2FwcGVhckV2dCk7XG4gICAgICAgICAgICBlbGUuX2hhc0Rpc0FwcGVhciA9IHRydWU7XG4gICAgICAgICAgICBlbGUuX2FwcGVhciA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLy8gcHJvdG8gPSBleHRlbmQocHJvdG8sIGxpc3RlbmVyKTtcblxuICBmdW5jdGlvbiBfX2luaXQob3B0cykge1xuICAgIC8v5omp5bGV5Y+C5pWwXG4gICAgZXh0ZW5kKHRoaXMub3B0aW9ucywgb3B0cyB8fCAob3B0cyA9IHt9KSk7XG4gICAgLy/ojrflj5bnm67moIflhYPntKBcbiAgICB0aGlzLmFwcGVhcldhdGNoRWxlbWVudHMgPSB0aGlzLmFwcGVhcldhdGNoRWxlbWVudHMgfHwgX19nZXRFbGVtZW50cy5jYWxsKHRoaXMsICcuJyArIHRoaXMub3B0aW9ucy5jbHMpO1xuICAgIC8v5Yid5aeL5YyW5L2N572u5L+h5oGvXG4gICAgX19pbml0Qm91bmRpbmdSZWN0LmNhbGwodGhpcywgdGhpcy5hcHBlYXJXYXRjaEVsZW1lbnRzKTtcbiAgICAvL+e7keWumuS6i+S7tlxuICAgIF9fYmluZEV2ZW50LmNhbGwodGhpcyk7XG4gIH1cbiAgXG4gIHZhciBBcHBlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgX19pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuXG4gIHZhciBhcHBlYXIgPSB7XG4gICAgaW5zdGFuY2VzOiBbXSxcbiAgICBpbml0OiBmdW5jdGlvbiAob3B0cykge1xuICAgICAgdmFyIHByb3RvID0ge1xuICAgICAgICAvL+m7mOiupOWPguaVsFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgY29udGFpbmVyOiB3aW5kb3csXG4gICAgICAgICAgd2FpdDogMTAwLFxuICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgeTogMCxcbiAgICAgICAgICBjbHM6ICdsaWItYXBwZWFyJyxcbiAgICAgICAgICBvbmNlOiBmYWxzZSxcbiAgICAgICAgICBvblJlc2V0OiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgICBvbkFwcGVhcjogZnVuY3Rpb24gKCkge30sXG4gICAgICAgICAgb25EaXNhcHBlYXI6IGZ1bmN0aW9uICgpIHt9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRhaW5lcjogbnVsbCxcbiAgICAgICAgYXBwZWFyV2F0Y2hFbGVtZW50czogbnVsbCxcbiAgICAgICAgYmluZDogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICB2YXIgY2xzID0gdGhpcy5vcHRpb25zLmNscztcbiAgICAgICAgICAvLyDmt7vliqDpnIDopoHnu5HlrprnmoRhcHBlYXLlhYPntKBcbiAgICAgICAgICBpZiAodHlwZW9mIG5vZGUgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50cyA9IF9fZ2V0RWxlbWVudHMuY2FsbCh0aGlzLCBub2RlKTtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlbGVtZW50cywgZnVuY3Rpb24gKGVsZSwgaSkge1xuICAgICAgICAgICAgICBpZiAoIWVsZS5jbGFzc0xpc3QuY29udGFpbnMoY2xzKSkge1xuICAgICAgICAgICAgICAgIGVsZS5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBlbHNlIGlmIChub2RlLm5vZGVUeXBlID09IDEgJiYgdGhpcy5jb250YWluZXIuY29udGFpbnMobm9kZSkpIHtcbiAgICAgICAgICAgIC8v5aaC5p6c5Lyg5YWl55qE5piv5YWD57Sg5bm25LiU5Zyo5YyF5ZCr5Zyo5a655Zmo5Lit77yM55u05o6l5re75Yqg57G75ZCNXG4gICAgICAgICAgICBpZiAoIW5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKGNscykpIHtcbiAgICAgICAgICAgICAgLy/mt7vliqDnsbvlkI1cbiAgICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKGNscyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvL+aWsOWinueahOWtkOWFg+e0oFxuICAgICAgICAgIHZhciBuZXdFbGVtZW50cyA9IF9fZ2V0RWxlbWVudHMuY2FsbCh0aGlzLCAnLicgKyB0aGlzLm9wdGlvbnMuY2xzKTtcbiAgICAgICAgICAvL+Wvuee8k+WtmOeahOWtkOWFg+e0oOWBmuWinumHj1xuICAgICAgICAgIHRoaXMuYXBwZWFyV2F0Y2hFbGVtZW50cyA9IHRoaXMuYXBwZWFyV2F0Y2hFbGVtZW50cy5jb25jYXQobmV3RWxlbWVudHMpO1xuICAgICAgICAgIC8v5Yid5aeL5YyW5paw5a2Q5YWD57Sg55qE5L2N572u5L+h5oGvXG4gICAgICAgICAgX19pbml0Qm91bmRpbmdSZWN0LmNhbGwodGhpcywgbmV3RWxlbWVudHMpO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9LFxuICAgICAgICAvLyDph43nva7lh73mlbBcbiAgICAgICAgcmVzZXQ6IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgICAgX19pbml0LmNhbGwodGhpcywgb3B0cyk7XG4gICAgICAgICAgdGhpcy5hcHBlYXJXYXRjaEVsZW1lbnRzLmZvckVhY2goZnVuY3Rpb24oZWxlKSB7XG4gICAgICAgICAgICBkZWxldGUgZWxlLl9oYXNBcHBlYXI7XG4gICAgICAgICAgICBkZWxldGUgZWxlLl9oYXNEaXNBcHBlYXI7XG4gICAgICAgICAgICBkZWxldGUgZWxlLl9hcHBlYXI7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgICAgIGZpcmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXRoaXMuYXBwZWFyV2F0Y2hFbGVtZW50cykge1xuICAgICAgICAgICAgdGhpcy5hcHBlYXJXYXRjaEVsZW1lbnRzID0gW107XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBuZXdFbGVtZW50cyA9IF9fZ2V0RWxlbWVudHMuY2FsbCh0aGlzLCAnLicgKyB0aGlzLm9wdGlvbnMuY2xzKTtcbiAgICAgICAgICB0aGlzLmFwcGVhcldhdGNoRWxlbWVudHMgPSB0aGlzLmFwcGVhcldhdGNoRWxlbWVudHMuY29uY2F0KG5ld0VsZW1lbnRzKTtcbiAgICAgICAgICAvL+WIneWni+WMluS9jee9ruS/oeaBr1xuICAgICAgICAgIF9faW5pdEJvdW5kaW5nUmVjdC5jYWxsKHRoaXMsIG5ld0VsZW1lbnRzKTtcbiAgICAgICAgICBfX2ZpcmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgQXBwZWFyLnByb3RvdHlwZSA9IHByb3RvO1xuICAgICAgdmFyIGluc3RhbmNlID0gbmV3IEFwcGVhcihvcHRzKTtcbiAgICAgIHRoaXMuaW5zdGFuY2VzLnB1c2goaW5zdGFuY2UpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH0sXG4gICAgZmlyZUFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGluc3RhbmNlcyA9IHRoaXMuaW5zdGFuY2VzO1xuICAgICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgIGluc3RhbmNlLmZpcmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvL+azqOWGjOS6i+S7tlxuICBjcmVhdGVFdmVudCgpO1xuXG4gIGxpYi5hcHBlYXIgPSBhcHBlYXI7XG5cbn0pKHdpbmRvdywgd2luZG93LmxpYiB8fCAod2luZG93LmxpYiA9IHt9KSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbGF6eWltZy9+L2FwcGVhcmpzL3NyYy9hcHBlYXIuanNcbiAqKiBtb2R1bGUgaWQgPSAxNDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vbGF6eWltZy9+L2FwcGVhcmpzL3NyYy9hcHBlYXIuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL2NvbXBvbmVudCdcblxuLy8gQ29tcG9uZW50IHdoaWNoIGNhbiBoYXZlIG5vIHN1YmNvbXBvbmVudHMuXG4vLyBUaGlzIGNvbXBvbmVudCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseSwgc2luY2Vcbi8vIGl0IGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgYXMgYSBiYXNlIGNsYXNzIHRvIGV4dGVuZCBmcm9tLlxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQXRvbWljIChkYXRhKSB7XG4gIENvbXBvbmVudC5jYWxsKHRoaXMsIGRhdGEpXG59XG5cbkF0b21pYy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpXG5cbkF0b21pYy5wcm90b3R5cGUuY3JlYXRlQ2hpbGRyZW4gPSBmdW5jdGlvbiAoZGF0YSkge1xuICAvLyBkbyBub250aGluZ1xuICByZXR1cm5cbn1cblxuQXRvbWljLnByb3RvdHlwZS5hcHBlbmRDaGlsZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gIC8vIGRvIG5vdGhpbmdcbiAgcmV0dXJuXG59XG5cbkF0b21pYy5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGNoaWxkLCBiZWZvcmUpIHtcbiAgLy8gZG8gbm90aGluZ1xuICByZXR1cm5cbn1cblxuQXRvbWljLnByb3RvdHlwZS5yZW1vdmVDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAvLyBkbyBub3RoaW5nXG4gIHJldHVyblxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2UvYXRvbWljLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2F0b21pYy5qcyIsImltcG9ydCBDb21wb25lbnRNYW5hZ2VyIGZyb20gJy4uL2RvbS9jb21wb25lbnRNYW5hZ2VyJ1xuaW1wb3J0IHsgcmVnaXN0ZXJMb2FkZXIgfSBmcm9tICcuL2xvYWRlcidcbmltcG9ydCB7IHByb3RvY29sIH0gZnJvbSAnLi4vYnJpZGdlJ1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi4vdXRpbHMnXG5cbmNvbnN0IG1ldGhvZHMgPSB7XG4gIC8vIFJlZ2lzdGVyIGEgbmV3IGNvbXBvbmVudCB3aXRoIHRoZSBzcGVjaWZpZWQgbmFtZS5cbiAgcmVnaXN0ZXJDb21wb25lbnQgKG5hbWUsIGNvbXApIHtcbiAgICBDb21wb25lbnRNYW5hZ2VyLnJlZ2lzdGVyQ29tcG9uZW50KG5hbWUsIGNvbXApXG4gIH0sXG5cbiAgLy8gUmVnaXN0ZXIgYSBuZXcgYXBpIG1vZHVsZS5cbiAgLy8gSWYgdGhlIG1vZHVsZSBhbHJlYWR5IGV4aXN0cywganVzdCBhZGQgbWV0aG9kcyBmcm9tIHRoZVxuICAvLyBuZXcgbW9kdWxlIHRvIHRoZSBvbGQgb25lLlxuICByZWdpc3RlckFwaU1vZHVsZSAobmFtZSwgbW9kdWxlLCBtZXRhKSB7XG4gICAgaWYgKCFwcm90b2NvbC5hcGlNb2R1bGVbbmFtZV0pIHtcbiAgICAgIHByb3RvY29sLmFwaU1vZHVsZVtuYW1lXSA9IG1vZHVsZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG1vZHVsZSkge1xuICAgICAgICBpZiAobW9kdWxlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBwcm90b2NvbC5hcGlNb2R1bGVbbmFtZV1ba2V5XSA9IG1vZHVsZVtrZXldXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgLy8gcmVnaXN0ZXIgQVBJIG1vZHVsZSdzIG1ldGEgaW5mbyB0byBqc2ZyYW1ld29ya1xuICAgIGlmIChtZXRhKSB7XG4gICAgICBwcm90b2NvbC5zZXRBcGlNb2R1bGVNZXRhKG1ldGEpXG4gICAgICBnbG9iYWwucmVnaXN0ZXJNb2R1bGVzKHByb3RvY29sLmdldEFwaU1vZHVsZU1ldGEobmFtZSksIHRydWUpXG4gICAgfVxuICB9LFxuXG4gIC8vIFJlZ2lzdGVyIGEgbmV3IGFwaSBtZXRob2QgZm9yIHRoZSBzcGVjaWZpZWQgbW9kdWxlLlxuICAvLyBvcHRzOlxuICAvLyAgLSBhcmdzOiB0eXBlIG9mIGFyZ3VtZW50cyB0aGUgQVBJIG1ldGhvZCB0YWtlcyBzdWNoXG4gIC8vICAgIGFzIFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ11cbiAgcmVnaXN0ZXJBcGkgKG1vZHVsZU5hbWUsIG5hbWUsIG1ldGhvZCwgYXJncykge1xuICAgIGlmICh0eXBlb2YgbWV0aG9kICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKCFwcm90b2NvbC5hcGlNb2R1bGVbbW9kdWxlTmFtZV0pIHtcbiAgICAgIHByb3RvY29sLmFwaU1vZHVsZVttb2R1bGVOYW1lXSA9IHt9XG4gICAgICBwcm90b2NvbC5fbWV0YVttb2R1bGVOYW1lXSA9IFtdXG4gICAgfVxuICAgIHByb3RvY29sLmFwaU1vZHVsZVttb2R1bGVOYW1lXVtuYW1lXSA9IG1ldGhvZFxuICAgIGlmICghYXJncykge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIC8vIHJlZ2lzdGVyIEFQSSBtZXRhIGluZm8gdG8ganNmcmFtZXdvcmtcbiAgICBwcm90b2NvbC5zZXRBcGlNZXRhKG1vZHVsZU5hbWUsIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBhcmdzOiBhcmdzXG4gICAgfSlcbiAgICBnbG9iYWwucmVnaXN0ZXJNb2R1bGVzKHByb3RvY29sLmdldEFwaU1vZHVsZU1ldGEobW9kdWxlTmFtZSksIHRydWUpXG4gIH0sXG5cbiAgLy8gUmVnaXN0ZXIgYSBuZXcgd2VleC1idW5kbGUtbG9hZGVyLlxuICByZWdpc3RlckxvYWRlciAobmFtZSwgbG9hZGVyRnVuYykge1xuICAgIHJlZ2lzdGVyTG9hZGVyKG5hbWUsIGxvYWRlckZ1bmMpXG4gIH1cblxufVxuXG4vLyBUbyBpbnN0YWxsIGNvbXBvbmVudHMgYW5kIHBsdWdpbnMuXG5mdW5jdGlvbiBpbnN0YWxsIChtb2QpIHtcbiAgbW9kLmluaXQodGhpcylcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmQgKFdlZXgpIHtcbiAgV2VleC5pbnN0YWxsID0gaW5zdGFsbC5iaW5kKFdlZXgpXG4gIGV4dGVuZChXZWV4LCBtZXRob2RzKVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3JlbmRlci9yZWdpc3Rlci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvcmVuZGVyL3JlZ2lzdGVyLmpzIiwiKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSAmJiAod2luZG93ID0ge2N0cmw6IHt9LCBsaWI6IHt9fSk7IXdpbmRvdy5jdHJsICYmICh3aW5kb3cuY3RybCA9IHt9KTshd2luZG93LmxpYiAmJiAod2luZG93LmxpYiA9IHt9KTshZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwidmFsXCIse3ZhbHVlOmEudG9TdHJpbmcoKSxlbnVtZXJhYmxlOiEwfSksdGhpcy5ndD1mdW5jdGlvbihhKXtyZXR1cm4gYy5jb21wYXJlKHRoaXMsYSk+MH0sdGhpcy5ndGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuY29tcGFyZSh0aGlzLGEpPj0wfSx0aGlzLmx0PWZ1bmN0aW9uKGEpe3JldHVybiBjLmNvbXBhcmUodGhpcyxhKTwwfSx0aGlzLmx0ZT1mdW5jdGlvbihhKXtyZXR1cm4gYy5jb21wYXJlKHRoaXMsYSk8PTB9LHRoaXMuZXE9ZnVuY3Rpb24oYSl7cmV0dXJuIDA9PT1jLmNvbXBhcmUodGhpcyxhKX19Yi5lbnY9Yi5lbnZ8fHt9LGMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsfSxjLnByb3RvdHlwZS52YWx1ZU9mPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudmFsLnNwbGl0KFwiLlwiKSxiPVtdLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9cGFyc2VJbnQoYVtjXSwxMCk7aXNOYU4oZCkmJihkPTApO3ZhciBlPWQudG9TdHJpbmcoKTtlLmxlbmd0aDw1JiYoZT1BcnJheSg2LWUubGVuZ3RoKS5qb2luKFwiMFwiKStlKSxiLnB1c2goZSksMT09PWIubGVuZ3RoJiZiLnB1c2goXCIuXCIpfXJldHVybiBwYXJzZUZsb2F0KGIuam9pbihcIlwiKSl9LGMuY29tcGFyZT1mdW5jdGlvbihhLGIpe2E9YS50b1N0cmluZygpLnNwbGl0KFwiLlwiKSxiPWIudG9TdHJpbmcoKS5zcGxpdChcIi5cIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aHx8YzxiLmxlbmd0aDtjKyspe3ZhciBkPXBhcnNlSW50KGFbY10sMTApLGU9cGFyc2VJbnQoYltjXSwxMCk7aWYod2luZG93LmlzTmFOKGQpJiYoZD0wKSx3aW5kb3cuaXNOYU4oZSkmJihlPTApLGU+ZClyZXR1cm4tMTtpZihkPmUpcmV0dXJuIDF9cmV0dXJuIDB9LGIudmVyc2lvbj1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IGMoYSl9fSh3aW5kb3csd2luZG93LmxpYnx8KHdpbmRvdy5saWI9e30pKSxmdW5jdGlvbihhLGIpe2IuZW52PWIuZW52fHx7fTt2YXIgYz1hLmxvY2F0aW9uLnNlYXJjaC5yZXBsYWNlKC9eXFw/LyxcIlwiKTtpZihiLmVudi5wYXJhbXM9e30sYylmb3IodmFyIGQ9Yy5zcGxpdChcIiZcIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXtkW2VdPWRbZV0uc3BsaXQoXCI9XCIpO3RyeXtiLmVudi5wYXJhbXNbZFtlXVswXV09ZGVjb2RlVVJJQ29tcG9uZW50KGRbZV1bMV0pfWNhdGNoKGYpe2IuZW52LnBhcmFtc1tkW2VdWzBdXT1kW2VdWzFdfX19KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpLGZ1bmN0aW9uKGEsYil7Yi5lbnY9Yi5lbnZ8fHt9O3ZhciBjLGQ9YS5uYXZpZ2F0b3IudXNlckFnZW50O2lmKGM9ZC5tYXRjaCgvV2luZG93c1xcc1Bob25lXFxzKD86T1NcXHMpPyhbXFxkXFwuXSspLykpYi5lbnYub3M9e25hbWU6XCJXaW5kb3dzIFBob25lXCIsaXNXaW5kb3dzUGhvbmU6ITAsdmVyc2lvbjpjWzFdfTtlbHNlIGlmKGQubWF0Y2goL1NhZmFyaS8pJiYoYz1kLm1hdGNoKC9BbmRyb2lkW1xcc1xcL10oW1xcZFxcLl0rKS8pKSliLmVudi5vcz17dmVyc2lvbjpjWzFdfSxkLm1hdGNoKC9Nb2JpbGVcXHMrU2FmYXJpLyk/KGIuZW52Lm9zLm5hbWU9XCJBbmRyb2lkXCIsYi5lbnYub3MuaXNBbmRyb2lkPSEwKTooYi5lbnYub3MubmFtZT1cIkFuZHJvaWRQYWRcIixiLmVudi5vcy5pc0FuZHJvaWRQYWQ9ITApO2Vsc2UgaWYoYz1kLm1hdGNoKC8oaVBob25lfGlQYWR8aVBvZCkvKSl7dmFyIGU9Y1sxXTtjPWQubWF0Y2goL09TIChbXFxkX1xcLl0rKSBsaWtlIE1hYyBPUyBYLyksYi5lbnYub3M9e25hbWU6ZSxpc0lQaG9uZTpcImlQaG9uZVwiPT09ZXx8XCJpUG9kXCI9PT1lLGlzSVBhZDpcImlQYWRcIj09PWUsaXNJT1M6ITAsdmVyc2lvbjpjWzFdLnNwbGl0KFwiX1wiKS5qb2luKFwiLlwiKX19ZWxzZSBiLmVudi5vcz17bmFtZTpcInVua25vd25cIix2ZXJzaW9uOlwiMC4wLjBcIn07Yi52ZXJzaW9uJiYoYi5lbnYub3MudmVyc2lvbj1iLnZlcnNpb24oYi5lbnYub3MudmVyc2lvbikpfSh3aW5kb3csd2luZG93LmxpYnx8KHdpbmRvdy5saWI9e30pKSxmdW5jdGlvbihhLGIpe2IuZW52PWIuZW52fHx7fTt2YXIgYyxkPWEubmF2aWdhdG9yLnVzZXJBZ2VudDsoYz1kLm1hdGNoKC8oPzpVQ1dFQnxVQ0Jyb3dzZXJcXC8pKFtcXGRcXC5dKykvKSk/Yi5lbnYuYnJvd3Nlcj17bmFtZTpcIlVDXCIsaXNVQzohMCx2ZXJzaW9uOmNbMV19OihjPWQubWF0Y2goL01RUUJyb3dzZXJcXC8oW1xcZFxcLl0rKS8pKT9iLmVudi5icm93c2VyPXtuYW1lOlwiUVFcIixpc1FROiEwLHZlcnNpb246Y1sxXX06KGM9ZC5tYXRjaCgvRmlyZWZveFxcLyhbXFxkXFwuXSspLykpP2IuZW52LmJyb3dzZXI9e25hbWU6XCJGaXJlZm94XCIsaXNGaXJlZm94OiEwLHZlcnNpb246Y1sxXX06KGM9ZC5tYXRjaCgvTVNJRVxccyhbXFxkXFwuXSspLykpfHwoYz1kLm1hdGNoKC9JRU1vYmlsZVxcLyhbXFxkXFwuXSspLykpPyhiLmVudi5icm93c2VyPXt2ZXJzaW9uOmNbMV19LGQubWF0Y2goL0lFTW9iaWxlLyk/KGIuZW52LmJyb3dzZXIubmFtZT1cIklFTW9iaWxlXCIsYi5lbnYuYnJvd3Nlci5pc0lFTW9iaWxlPSEwKTooYi5lbnYuYnJvd3Nlci5uYW1lPVwiSUVcIixiLmVudi5icm93c2VyLmlzSUU9ITApLGQubWF0Y2goL0FuZHJvaWR8aVBob25lLykmJihiLmVudi5icm93c2VyLmlzSUVMaWtlV2Via2l0PSEwKSk6KGM9ZC5tYXRjaCgvKD86Q2hyb21lfENyaU9TKVxcLyhbXFxkXFwuXSspLykpPyhiLmVudi5icm93c2VyPXtuYW1lOlwiQ2hyb21lXCIsaXNDaHJvbWU6ITAsdmVyc2lvbjpjWzFdfSxkLm1hdGNoKC9WZXJzaW9uXFwvW1xcZCtcXC5dK1xccypDaHJvbWUvKSYmKGIuZW52LmJyb3dzZXIubmFtZT1cIkNocm9tZSBXZWJ2aWV3XCIsYi5lbnYuYnJvd3Nlci5pc1dlYnZpZXc9ITApKTpkLm1hdGNoKC9TYWZhcmkvKSYmKGM9ZC5tYXRjaCgvQW5kcm9pZFtcXHNcXC9dKFtcXGRcXC5dKykvKSk/Yi5lbnYuYnJvd3Nlcj17bmFtZTpcIkFuZHJvaWRcIixpc0FuZHJvaWQ6ITAsdmVyc2lvbjpjWzFdfTpkLm1hdGNoKC9pUGhvbmV8aVBhZHxpUG9kLyk/ZC5tYXRjaCgvU2FmYXJpLyk/KGM9ZC5tYXRjaCgvVmVyc2lvblxcLyhbXFxkXFwuXSspLyksYi5lbnYuYnJvd3Nlcj17bmFtZTpcIlNhZmFyaVwiLGlzU2FmYXJpOiEwLHZlcnNpb246Y1sxXX0pOihjPWQubWF0Y2goL09TIChbXFxkX1xcLl0rKSBsaWtlIE1hYyBPUyBYLyksYi5lbnYuYnJvd3Nlcj17bmFtZTpcImlPUyBXZWJ2aWV3XCIsaXNXZWJ2aWV3OiEwLHZlcnNpb246Y1sxXS5yZXBsYWNlKC9cXF8vZyxcIi5cIil9KTpiLmVudi5icm93c2VyPXtuYW1lOlwidW5rbm93blwiLHZlcnNpb246XCIwLjAuMFwifSxiLnZlcnNpb24mJihiLmVudi5icm93c2VyLnZlcnNpb249Yi52ZXJzaW9uKGIuZW52LmJyb3dzZXIudmVyc2lvbikpfSh3aW5kb3csd2luZG93LmxpYnx8KHdpbmRvdy5saWI9e30pKSxmdW5jdGlvbihhLGIpe2IuZW52PWIuZW52fHx7fTt2YXIgYz1hLm5hdmlnYXRvci51c2VyQWdlbnQ7Yy5tYXRjaCgvV2VpYm8vaSk/Yi5lbnYudGhpcmRhcHA9e2FwcG5hbWU6XCJXZWlib1wiLGlzV2VpYm86ITB9OmMubWF0Y2goL01pY3JvTWVzc2VuZ2VyL2kpP2IuZW52LnRoaXJkYXBwPXthcHBuYW1lOlwiV2VpeGluXCIsaXNXZWl4aW46ITB9OmIuZW52LnRoaXJkYXBwPSExfSh3aW5kb3csd2luZG93LmxpYnx8KHdpbmRvdy5saWI9e30pKSxmdW5jdGlvbihhLGIpe2IuZW52PWIuZW52fHx7fTt2YXIgYyxkLGU9YS5uYXZpZ2F0b3IudXNlckFnZW50OyhkPWUubWF0Y2goL1dpbmRWYW5lW1xcL1xcc10oW1xcZFxcLlxcX10rKS8pKSYmKGM9ZFsxXSk7dmFyIGY9ITEsZz1cIlwiLGg9XCJcIixpPVwiXCI7KGQ9ZS5tYXRjaCgvQWxpQXBwXFwoKFtBLVpcXC1dKylcXC8oW1xcZFxcLl0rKVxcKS9pKSkmJihmPSEwLGc9ZFsxXSxpPWRbMl0saD1nLmluZGV4T2YoXCItUERcIik+MD9iLmVudi5vcy5pc0lPUz9cImlQYWRcIjpiLmVudi5vcy5pc0FuZHJvaWQ/XCJBbmRyb2lkUGFkXCI6Yi5lbnYub3MubmFtZTpiLmVudi5vcy5uYW1lKSwhZyYmZS5pbmRleE9mKFwiVEJJT1NcIik+MCYmKGc9XCJUQlwiKSxmP2IuZW52LmFsaWFwcD17d2luZHZhbmU6Yi52ZXJzaW9uKGN8fFwiMC4wLjBcIiksYXBwbmFtZTpnfHxcInVua293blwiLHZlcnNpb246Yi52ZXJzaW9uKGl8fFwiMC4wLjBcIikscGxhdGZvcm06aHx8Yi5lbnYub3MubmFtZX06Yi5lbnYuYWxpYXBwPSExLGIuZW52LnRhb2Jhb0FwcD1iLmVudi5hbGlhcHB9KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpOzttb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5saWJbJ2VudiddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2VudmQvYnVpbGQvZW52ZC5jb21tb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxNDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vZW52ZC9idWlsZC9lbnZkLmNvbW1vbi5qcyIsIih0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgJiYgKHdpbmRvdyA9IHtjdHJsOiB7fSwgbGliOiB7fX0pOyF3aW5kb3cuY3RybCAmJiAod2luZG93LmN0cmwgPSB7fSk7IXdpbmRvdy5saWIgJiYgKHdpbmRvdy5saWIgPSB7fSk7IWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXt2YXIgYj17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInBhcmFtc1wiLHtzZXQ6ZnVuY3Rpb24oYSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGEpe2Zvcih2YXIgYyBpbiBiKWRlbGV0ZSBiW2NdO2Zvcih2YXIgYyBpbiBhKWJbY109YVtjXX19LGdldDpmdW5jdGlvbigpe3JldHVybiBifSxlbnVtZXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJzZWFyY2hcIix7c2V0OmZ1bmN0aW9uKGEpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXswPT09YS5pbmRleE9mKFwiP1wiKSYmKGE9YS5zdWJzdHIoMSkpO3ZhciBjPWEuc3BsaXQoXCImXCIpO2Zvcih2YXIgZCBpbiBiKWRlbGV0ZSBiW2RdO2Zvcih2YXIgZT0wO2U8Yy5sZW5ndGg7ZSsrKXt2YXIgZj1jW2VdLnNwbGl0KFwiPVwiKTtpZih2b2lkIDAhPT1mWzFdJiYoZlsxXT1mWzFdLnRvU3RyaW5nKCkpLGZbMF0pdHJ5e2JbZGVjb2RlVVJJQ29tcG9uZW50KGZbMF0pXT1kZWNvZGVVUklDb21wb25lbnQoZlsxXSl9Y2F0Y2goZyl7YltmWzBdXT1mWzFdfX19fSxnZXQ6ZnVuY3Rpb24oKXt2YXIgYT1bXTtmb3IodmFyIGMgaW4gYilpZih2b2lkIDAhPT1iW2NdKWlmKFwiXCIhPT1iW2NdKXRyeXthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGMpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChiW2NdKSl9Y2F0Y2goZCl7YS5wdXNoKGMrXCI9XCIrYltjXSl9ZWxzZSB0cnl7YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChjKSl9Y2F0Y2goZCl7YS5wdXNoKGMpfXJldHVybiBhLmxlbmd0aD9cIj9cIithLmpvaW4oXCImXCIpOlwiXCJ9LGVudW1lcmFibGU6ITB9KTt2YXIgYztPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcImhhc2hcIix7c2V0OmZ1bmN0aW9uKGEpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYSYmYS5pbmRleE9mKFwiI1wiKTwwJiYoYT1cIiNcIithKSxjPWF8fFwiXCIpfSxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY30sZW51bWVyYWJsZTohMH0pLHRoaXMuc2V0PWZ1bmN0aW9uKGEpe2E9YXx8XCJcIjt2YXIgYjtpZighKGI9YS5tYXRjaChuZXcgUmVnRXhwKFwiXihbYS16MC05LV0rOik/Wy9dezJ9KD86KFteQC86P10rKSg/OjooW15ALzpdKykpP0ApPyhbXjovPyNdKykoPzpbOl0oWzAtOV0rKSk/KFsvXVtePyM7XSopPyg/Ols/XShbXiNdKikpPyhbI11bXj9dKik/JFwiLFwiaVwiKSkpKXRocm93IG5ldyBFcnJvcihcIldyb25nIHVyaSBzY2hlbWUuXCIpO3RoaXMucHJvdG9jb2w9YlsxXXx8KFwib2JqZWN0XCI9PXR5cGVvZiBsb2NhdGlvbj9sb2NhdGlvbi5wcm90b2NvbDpcIlwiKSx0aGlzLnVzZXJuYW1lPWJbMl18fFwiXCIsdGhpcy5wYXNzd29yZD1iWzNdfHxcIlwiLHRoaXMuaG9zdG5hbWU9dGhpcy5ob3N0PWJbNF0sdGhpcy5wb3J0PWJbNV18fFwiXCIsdGhpcy5wYXRobmFtZT1iWzZdfHxcIi9cIix0aGlzLnNlYXJjaD1iWzddfHxcIlwiLHRoaXMuaGFzaD1iWzhdfHxcIlwiLHRoaXMub3JpZ2luPXRoaXMucHJvdG9jb2wrXCIvL1wiK3RoaXMuaG9zdG5hbWV9LHRoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByb3RvY29sK1wiLy9cIjtyZXR1cm4gdGhpcy51c2VybmFtZSYmKGErPXRoaXMudXNlcm5hbWUsdGhpcy5wYXNzd29yZCYmKGErPVwiOlwiK3RoaXMucGFzc3dvcmQpLGErPVwiQFwiKSxhKz10aGlzLmhvc3QsdGhpcy5wb3J0JiZcIjgwXCIhPT10aGlzLnBvcnQmJihhKz1cIjpcIit0aGlzLnBvcnQpLHRoaXMucGF0aG5hbWUmJihhKz10aGlzLnBhdGhuYW1lKSx0aGlzLnNlYXJjaCYmKGErPXRoaXMuc2VhcmNoKSx0aGlzLmhhc2gmJihhKz10aGlzLmhhc2gpLGF9LGEmJnRoaXMuc2V0KGEudG9TdHJpbmcoKSl9Yi5odHRwdXJsPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgYyhhKX19KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpOzttb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5saWJbJ2h0dHB1cmwnXTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9odHRwdXJsL2J1aWxkL2h0dHB1cmwuY29tbW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2h0dHB1cmwvYnVpbGQvaHR0cHVybC5jb21tb24uanMiLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuXG4ndXNlIHN0cmljdCdcblxudmFyIGlzSW5pdGlhbGl6ZWQgPSBmYWxzZVxuXG4vLyBtYWpvciBldmVudHMgc3VwcG9ydGVkOlxuLy8gICBwYW5zdGFydFxuLy8gICBwYW5tb3ZlXG4vLyAgIHBhbmVuZFxuLy8gICBzd2lwZVxuLy8gICBsb25ncHJlc3Ncbi8vIGV4dHJhIGV2ZW50cyBzdXBwb3J0ZWQ6XG4vLyAgIGR1YWx0b3VjaHN0YXJ0XG4vLyAgIGR1YWx0b3VjaFxuLy8gICBkdWFsdG91Y2hlbmRcbi8vICAgdGFwXG4vLyAgIGRvdWJsZXRhcFxuLy8gICBwcmVzc2VuZFxuXG52YXIgZG9jID0gd2luZG93LmRvY3VtZW50XG52YXIgZG9jRWwgPSBkb2MuZG9jdW1lbnRFbGVtZW50XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2VcbnZhciBnZXN0dXJlcyA9IHt9XG52YXIgbGFzdFRhcCA9IG51bGxcblxuLyoqXG4gKiBmaW5kIHRoZSBjbG9zZXN0IGNvbW1vbiBhbmNlc3RvclxuICogaWYgdGhlcmUncyBubyBvbmUsIHJldHVybiBudWxsXG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWwxIGZpcnN0IGVsZW1lbnRcbiAqIEBwYXJhbSAge0VsZW1lbnR9IGVsMiBzZWNvbmQgZWxlbWVudFxuICogQHJldHVybiB7RWxlbWVudH0gICAgIGNvbW1vbiBhbmNlc3RvclxuICovXG5mdW5jdGlvbiBnZXRDb21tb25BbmNlc3RvcihlbDEsIGVsMikge1xuICB2YXIgZWwgPSBlbDFcbiAgd2hpbGUgKGVsKSB7XG4gICAgaWYgKGVsLmNvbnRhaW5zKGVsMikgfHwgZWwgPT0gZWwyKSB7XG4gICAgICByZXR1cm4gZWxcbiAgICB9XG4gICAgZWwgPSBlbC5wYXJlbnROb2RlXG4gIH1cbiAgcmV0dXJuIG51bGxcbn1cblxuLyoqXG4gKiBmaXJlIGEgSFRNTEV2ZW50XG4gKlxuICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudCB3aGljaCBlbGVtZW50IHRvIGZpcmUgYSBldmVudCBvblxuICogQHBhcmFtICB7c3RyaW5nfSAgdHlwZSAgICB0eXBlIG9mIGV2ZW50XG4gKiBAcGFyYW0gIHtvYmplY3R9ICBleHRyYSAgIGV4dHJhIGRhdGEgZm9yIHRoZSBldmVudCBvYmplY3RcbiAqL1xuZnVuY3Rpb24gZmlyZUV2ZW50KGVsZW1lbnQsIHR5cGUsIGV4dHJhKSB7XG4gIHZhciBldmVudCA9IGRvYy5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpXG4gIGV2ZW50LmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKVxuXG4gIGlmICh0eXBlb2YgZXh0cmEgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIgcCBpbiBleHRyYSkge1xuICAgICAgZXZlbnRbcF0gPSBleHRyYVtwXVxuICAgIH1cbiAgfVxuXG4gIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldmVudClcbn1cblxuLyoqXG4gKiBjYWxjIHRoZSB0cmFuc2Zvcm1cbiAqIGFzc3VtZSA0IHBvaW50cyBBQkNEIG9uIHRoZSBjb29yZGluYXRlIHN5c3RlbVxuICogPiByb3RhdGXvvJphbmdsZSByb3RhdGluZyBmcm9tIEFCIHRvIENEXG4gKiA+IHNjYWxl77yac2NhbGUgcmF0aW8gZnJvbSBBQiB0byBDRFxuICogPiB0cmFuc2xhdGXvvJp0cmFuc2xhdGUgc2hpZnQgZnJvbSBBIHRvIENcbiAqXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHgxIGFic2Npc3NhIG9mIEFcbiAqIEBwYXJhbSAge251bWJlcn0geTEgb3JkaW5hdGUgb2YgQVxuICogQHBhcmFtICB7bnVtYmVyfSB4MiBhYnNjaXNzYSBvZiBCXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHkyIG9yZGluYXRlIG9mIEJcbiAqIEBwYXJhbSAge251bWJlcn0geDMgYWJzY2lzc2Egb2YgQ1xuICogQHBhcmFtICB7bnVtYmVyfSB5MyBvcmRpbmF0ZSBvZiBDXG4gKiBAcGFyYW0gIHtudW1iZXJ9IHg0IGFic2Npc3NhIG9mIERcbiAqIEBwYXJhbSAge251bWJlcn0geTQgb3JkaW5hdGUgb2YgRFxuICogQHJldHVybiB7b2JqZWN0fSAgICB0cmFuc2Zvcm0gb2JqZWN0IGxpa2VcbiAqICAge3JvdGF0ZSwgc2NhbGUsIHRyYW5zbGF0ZVsyXSwgbWF0cml4WzNdWzNdfVxuICovXG5mdW5jdGlvbiBjYWxjKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkge1xuICB2YXIgcm90YXRlID0gTWF0aC5hdGFuMih5NCAtIHkzLCB4NCAtIHgzKSAtIE1hdGguYXRhbjIoeTIgLSB5MSwgeDIgLSB4MSlcbiAgdmFyIHNjYWxlID0gTWF0aC5zcXJ0KChNYXRoLnBvdyh5NCAtIHkzLCAyKVxuICAgICsgTWF0aC5wb3coeDQgLSB4MywgMikpIC8gKE1hdGgucG93KHkyIC0geTEsIDIpXG4gICAgKyBNYXRoLnBvdyh4MiAtIHgxLCAyKSkpXG4gIHZhciB0cmFuc2xhdGUgPSBbXG4gICAgeDNcbiAgICAtIHNjYWxlICogeDEgKiBNYXRoLmNvcyhyb3RhdGUpXG4gICAgKyBzY2FsZSAqIHkxICogTWF0aC5zaW4ocm90YXRlKSxcbiAgICB5M1xuICAgIC0gc2NhbGUgKiB5MSAqIE1hdGguY29zKHJvdGF0ZSlcbiAgICAtIHNjYWxlICogeDEgKiBNYXRoLnNpbihyb3RhdGUpXVxuXG4gIHJldHVybiB7XG4gICAgcm90YXRlOiByb3RhdGUsXG4gICAgc2NhbGU6IHNjYWxlLFxuICAgIHRyYW5zbGF0ZTogdHJhbnNsYXRlLFxuICAgIG1hdHJpeDogW1xuICAgICAgW3NjYWxlICogTWF0aC5jb3Mocm90YXRlKSwgLXNjYWxlICogTWF0aC5zaW4ocm90YXRlKSwgdHJhbnNsYXRlWzBdXSxcbiAgICAgIFtzY2FsZSAqIE1hdGguc2luKHJvdGF0ZSksIHNjYWxlICogTWF0aC5jb3Mocm90YXRlKSwgdHJhbnNsYXRlWzFdXSxcbiAgICAgIFswLCAwLCAxXVxuICAgIF1cbiAgfVxufVxuXG4vKipcbiAqIHRha2Ugb3ZlciB0aGUgdG91Y2hzdGFydCBldmVudHMuIEFkZCBuZXcgdG91Y2hlcyB0byB0aGUgZ2VzdHVyZXMuXG4gKiBJZiB0aGVyZSBpcyBubyBwcmV2aW91cyByZWNvcmRzLCB0aGVuIGJpbmQgdG91Y2htb3ZlLCB0b2NoZW5kXG4gKiBhbmQgdG91Y2hjYW5jZWwgZXZlbnRzLlxuICogbmV3IHRvdWNoZXMgaW5pdGlhbGl6ZWQgd2l0aCBzdGF0ZSAndGFwcGluZycsIGFuZCB3aXRoaW4gNTAwIG1pbGxpc2Vjb25kc1xuICogaWYgdGhlIHN0YXRlIGlzIHN0aWxsIHRhcHBpbmcsIHRoZW4gdHJpZ2dlciBnZXN0dXJlICdwcmVzcycuXG4gKiBJZiB0aGVyZSBhcmUgdHdvIHRvdWNoZSBwb2ludHMsIHRoZW4gdGhlICdkdWFsdG91Y2hzdGFydCcgaXMgdHJpZ2dlcmQuIFRoZVxuICogbm9kZSBvZiB0aGUgdG91Y2ggZ2VzdHVyZSBpcyB0aGVpciBjbG9lc3QgY29tbW9uIGFuY2VzdG9yLlxuICpcbiAqIEBldmVudFxuICogQHBhcmFtICB7ZXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHRvdWNoc3RhcnRIYW5kbGVyKGV2ZW50KSB7XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT09IDApIHtcbiAgICBkb2NFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmVIYW5kbGVyLCBmYWxzZSlcbiAgICBkb2NFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRvdWNoZW5kSGFuZGxlciwgZmFsc2UpXG4gICAgZG9jRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0b3VjaGNhbmNlbEhhbmRsZXIsIGZhbHNlKVxuICB9XG5cbiAgLy8gcmVjb3JkIGV2ZXJ5IHRvdWNoXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXVxuICAgIHZhciB0b3VjaFJlY29yZCA9IHt9XG5cbiAgICBmb3IgKHZhciBwIGluIHRvdWNoKSB7XG4gICAgICB0b3VjaFJlY29yZFtwXSA9IHRvdWNoW3BdXG4gICAgfVxuXG4gICAgdmFyIGdlc3R1cmUgPSB7XG4gICAgICBzdGFydFRvdWNoOiB0b3VjaFJlY29yZCxcbiAgICAgIHN0YXJ0VGltZTogRGF0ZS5ub3coKSxcbiAgICAgIHN0YXR1czogJ3RhcHBpbmcnLFxuICAgICAgZWxlbWVudDogZXZlbnQuc3JjRWxlbWVudCB8fCBldmVudC50YXJnZXQsXG4gICAgICBwcmVzc2luZ0hhbmRsZXI6IHNldFRpbWVvdXQoZnVuY3Rpb24gKGVsZW1lbnQsIHRvdWNoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAndGFwcGluZycpIHtcbiAgICAgICAgICAgIGdlc3R1cmUuc3RhdHVzID0gJ3ByZXNzaW5nJ1xuXG4gICAgICAgICAgICBmaXJlRXZlbnQoZWxlbWVudCwgJ2xvbmdwcmVzcycsIHtcbiAgICAgICAgICAgICAgLy8gYWRkIHRvdWNoIGRhdGEgZm9yIHdlZXhcbiAgICAgICAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICAgICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgICAgICAgICBjaGFuZ2VkVG91Y2hlczogZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsZWFyVGltZW91dChnZXN0dXJlLnByZXNzaW5nSGFuZGxlcilcbiAgICAgICAgICBnZXN0dXJlLnByZXNzaW5nSGFuZGxlciA9IG51bGxcbiAgICAgICAgfVxuICAgICAgfShldmVudC5zcmNFbGVtZW50IHx8IGV2ZW50LnRhcmdldCwgZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV0pLCA1MDApXG4gICAgfVxuICAgIGdlc3R1cmVzW3RvdWNoLmlkZW50aWZpZXJdID0gZ2VzdHVyZVxuICB9XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT0gMikge1xuICAgIHZhciBlbGVtZW50cyA9IFtdXG5cbiAgICBmb3IgKHZhciBwIGluIGdlc3R1cmVzKSB7XG4gICAgICBlbGVtZW50cy5wdXNoKGdlc3R1cmVzW3BdLmVsZW1lbnQpXG4gICAgfVxuXG4gICAgZmlyZUV2ZW50KGdldENvbW1vbkFuY2VzdG9yKGVsZW1lbnRzWzBdLCBlbGVtZW50c1sxXSksICdkdWFsdG91Y2hzdGFydCcsIHtcbiAgICAgIHRvdWNoZXM6IHNsaWNlLmNhbGwoZXZlbnQudG91Y2hlcyksXG4gICAgICB0b3VjaEV2ZW50OiBldmVudFxuICAgIH0pXG4gIH1cbn1cblxuLyoqXG4gKiB0YWtlIG92ZXIgdG91Y2htb3ZlIGV2ZW50cywgYW5kIGhhbmRsZSBwYW4gYW5kIGR1YWwgcmVsYXRlZCBnZXN0dXJlcy5cbiAqXG4gKiAxLiB0cmF2ZXJzZSBldmVyeSB0b3VjaCBwb2ludO+8mlxuICogPiBpZiAndGFwcGluZycgYW5kIHRoZSBzaGlmdCBpcyBvdmVyIDEwIHBpeGxlcywgdGhlbiBpdCdzIGEgJ3Bhbm5pbmcnLlxuICogMi4gaWYgdGhlcmUgYXJlIHR3byB0b3VjaCBwb2ludHMsIHRoZW4gY2FsYyB0aGUgdHJhbmZvcm0gYW5kIHRyaWdnZXJcbiAqICAgJ2R1YWx0b3VjaCcuXG4gKlxuICogQGV2ZW50XG4gKiBAcGFyYW0gIHtldmVudH0gZXZlbnRcbiAqL1xuZnVuY3Rpb24gdG91Y2htb3ZlSGFuZGxlcihldmVudCkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LmNoYW5nZWRUb3VjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbaV1cbiAgICB2YXIgZ2VzdHVyZSA9IGdlc3R1cmVzW3RvdWNoLmlkZW50aWZpZXJdXG5cbiAgICBpZiAoIWdlc3R1cmUpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghZ2VzdHVyZS5sYXN0VG91Y2gpIHtcbiAgICAgIGdlc3R1cmUubGFzdFRvdWNoID0gZ2VzdHVyZS5zdGFydFRvdWNoXG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS5sYXN0VGltZSkge1xuICAgICAgZ2VzdHVyZS5sYXN0VGltZSA9IGdlc3R1cmUuc3RhcnRUaW1lXG4gICAgfVxuICAgIGlmICghZ2VzdHVyZS52ZWxvY2l0eVgpIHtcbiAgICAgIGdlc3R1cmUudmVsb2NpdHlYID0gMFxuICAgIH1cbiAgICBpZiAoIWdlc3R1cmUudmVsb2NpdHlZKSB7XG4gICAgICBnZXN0dXJlLnZlbG9jaXR5WSA9IDBcbiAgICB9XG4gICAgaWYgKCFnZXN0dXJlLmR1cmF0aW9uKSB7XG4gICAgICBnZXN0dXJlLmR1cmF0aW9uID0gMFxuICAgIH1cblxuICAgIHZhciB0aW1lID0gIERhdGUubm93KCkgLSBnZXN0dXJlLmxhc3RUaW1lXG4gICAgdmFyIHZ4ID0gKHRvdWNoLmNsaWVudFggLSBnZXN0dXJlLmxhc3RUb3VjaC5jbGllbnRYKSAvIHRpbWVcbiAgICB2YXIgdnkgPSAodG91Y2guY2xpZW50WSAtIGdlc3R1cmUubGFzdFRvdWNoLmNsaWVudFkpIC8gdGltZVxuXG4gICAgdmFyIFJFQ09SRF9EVVJBVElPTiA9IDcwXG4gICAgaWYgKHRpbWUgPiBSRUNPUkRfRFVSQVRJT04pIHtcbiAgICAgIHRpbWUgPSBSRUNPUkRfRFVSQVRJT05cbiAgICB9XG4gICAgaWYgKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lID4gUkVDT1JEX0RVUkFUSU9OKSB7XG4gICAgICBnZXN0dXJlLmR1cmF0aW9uID0gUkVDT1JEX0RVUkFUSU9OIC0gdGltZVxuICAgIH1cblxuICAgIGdlc3R1cmUudmVsb2NpdHlYID0gKGdlc3R1cmUudmVsb2NpdHlYICogZ2VzdHVyZS5kdXJhdGlvbiArIHZ4ICogdGltZSlcbiAgICAgIC8gKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lKVxuICAgIGdlc3R1cmUudmVsb2NpdHlZID0gKGdlc3R1cmUudmVsb2NpdHlZICogZ2VzdHVyZS5kdXJhdGlvbiArIHZ5ICogdGltZSlcbiAgICAgIC8gKGdlc3R1cmUuZHVyYXRpb24gKyB0aW1lKVxuICAgIGdlc3R1cmUuZHVyYXRpb24gKz0gdGltZVxuXG4gICAgZ2VzdHVyZS5sYXN0VG91Y2ggPSB7fVxuXG4gICAgZm9yICh2YXIgcCBpbiB0b3VjaCkge1xuICAgICAgZ2VzdHVyZS5sYXN0VG91Y2hbcF0gPSB0b3VjaFtwXVxuICAgIH1cbiAgICBnZXN0dXJlLmxhc3RUaW1lID0gRGF0ZS5ub3coKVxuXG4gICAgdmFyIGRpc3BsYWNlbWVudFggPSB0b3VjaC5jbGllbnRYIC0gZ2VzdHVyZS5zdGFydFRvdWNoLmNsaWVudFhcbiAgICB2YXIgZGlzcGxhY2VtZW50WSA9IHRvdWNoLmNsaWVudFkgLSBnZXN0dXJlLnN0YXJ0VG91Y2guY2xpZW50WVxuICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyhkaXNwbGFjZW1lbnRYLCAyKVxuICAgICAgKyBNYXRoLnBvdyhkaXNwbGFjZW1lbnRZLCAyKSlcbiAgICB2YXIgaXNWZXJ0aWNhbCA9ICEoTWF0aC5hYnMoZGlzcGxhY2VtZW50WCkgPiBNYXRoLmFicyhkaXNwbGFjZW1lbnRZKSlcbiAgICB2YXIgZGlyZWN0aW9uID0gaXNWZXJ0aWNhbFxuICAgICAgPyBkaXNwbGFjZW1lbnRZID49IDAgPyAnZG93bicgOiAndXAnXG4gICAgICA6IGRpc3BsYWNlbWVudFggPj0gMCA/ICdyaWdodCcgOiAnbGVmdCdcblxuICAgIC8vIG1hZ2ljIG51bWJlciAxMDogbW92aW5nIDEwcHggbWVhbnMgcGFuLCBub3QgdGFwXG4gICAgaWYgKChnZXN0dXJlLnN0YXR1cyA9PT0gJ3RhcHBpbmcnIHx8IGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKVxuICAgICAgICAmJiBkaXN0YW5jZSA+IDEwKSB7XG4gICAgICBnZXN0dXJlLnN0YXR1cyA9ICdwYW5uaW5nJ1xuICAgICAgZ2VzdHVyZS5pc1ZlcnRpY2FsID0gaXNWZXJ0aWNhbFxuICAgICAgZ2VzdHVyZS5kaXJlY3Rpb24gPSBkaXJlY3Rpb25cblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3BhbnN0YXJ0Jywge1xuICAgICAgICB0b3VjaDogdG91Y2gsXG4gICAgICAgIHRvdWNoZXM6IGV2ZW50LnRvdWNoZXMsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzOiBldmVudC5jaGFuZ2VkVG91Y2hlcyxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnQsXG4gICAgICAgIGlzVmVydGljYWw6IGdlc3R1cmUuaXNWZXJ0aWNhbCxcbiAgICAgICAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIGdlc3R1cmUucGFuVGltZSA9IERhdGUubm93KClcblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3Bhbm1vdmUnLCB7XG4gICAgICAgIGRpc3BsYWNlbWVudFg6IGRpc3BsYWNlbWVudFgsXG4gICAgICAgIGRpc3BsYWNlbWVudFk6IGRpc3BsYWNlbWVudFksXG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hlczogZXZlbnQudG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICB0b3VjaEV2ZW50OiBldmVudCxcbiAgICAgICAgaXNWZXJ0aWNhbDogZ2VzdHVyZS5pc1ZlcnRpY2FsLFxuICAgICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICBpZiAoT2JqZWN0LmtleXMoZ2VzdHVyZXMpLmxlbmd0aCA9PSAyKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gW11cbiAgICB2YXIgY3VycmVudCA9IFtdXG4gICAgdmFyIGVsZW1lbnRzID0gW11cbiAgICB2YXIgdHJhbnNmb3JtXG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50LnRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0b3VjaCA9IGV2ZW50LnRvdWNoZXNbaV1cbiAgICAgIHZhciBnZXN0dXJlID0gZ2VzdHVyZXNbdG91Y2guaWRlbnRpZmllcl1cbiAgICAgIHBvc2l0aW9uLnB1c2goW2dlc3R1cmUuc3RhcnRUb3VjaC5jbGllbnRYLCBnZXN0dXJlLnN0YXJ0VG91Y2guY2xpZW50WV0pXG4gICAgICBjdXJyZW50LnB1c2goW3RvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFldKVxuICAgIH1cblxuICAgIGZvciAodmFyIHAgaW4gZ2VzdHVyZXMpIHtcbiAgICAgIGVsZW1lbnRzLnB1c2goZ2VzdHVyZXNbcF0uZWxlbWVudClcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0gPSBjYWxjKFxuICAgICAgcG9zaXRpb25bMF1bMF0sXG4gICAgICBwb3NpdGlvblswXVsxXSxcbiAgICAgIHBvc2l0aW9uWzFdWzBdLFxuICAgICAgcG9zaXRpb25bMV1bMV0sXG4gICAgICBjdXJyZW50WzBdWzBdLFxuICAgICAgY3VycmVudFswXVsxXSxcbiAgICAgIGN1cnJlbnRbMV1bMF0sXG4gICAgICBjdXJyZW50WzFdWzFdXG4gICAgKVxuICAgIGZpcmVFdmVudChnZXRDb21tb25BbmNlc3RvcihlbGVtZW50c1swXSwgZWxlbWVudHNbMV0pLCAnZHVhbHRvdWNoJywge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICB9KVxuICB9XG59XG5cbi8qKlxuICogaGFuZGxlIHRvdWNoZW5kIGV2ZW50XG4gKlxuICogMS4gaWYgdGhlcmUgYXJlIHRvdyB0b3VjaCBwb2ludHMsIHRoZW4gdHJpZ2dlciAnZHVhbHRvdWNoZW5kJ+WmglxuICpcbiAqIDIuIHRyYXZlcnNlIGV2ZXJ5IHRvdWNoIHBpb25077yaXG4gKiA+IGlmIHRhcHBpbmcsIHRoZW4gdHJpZ2dlciAndGFwJy5cbiAqIElmIHRoZXJlIGlzIGEgdGFwIDMwMCBtaWxsaXNlY29uZHMgYmVmb3JlLCB0aGVuIGl0J3MgYSAnZG91YmxldGFwJy5cbiAqID4gaWYgcGFkZGluZywgdGhlbiBkZWNpZGUgdG8gdHJpZ2dlciAncGFuZW5kJyBvciAnc3dpcGUnXG4gKiA+IGlmIHByZXNzaW5nLCB0aGVuIHRyaWdnZXIgJ3ByZXNzZW5kJy5cbiAqXG4gKiAzLiByZW1vdmUgbGlzdGVuZXJzLlxuICpcbiAqIEBldmVudFxuICogQHBhcmFtICB7ZXZlbnR9IGV2ZW50XG4gKi9cbmZ1bmN0aW9uIHRvdWNoZW5kSGFuZGxlcihldmVudCkge1xuXG4gIGlmIChPYmplY3Qua2V5cyhnZXN0dXJlcykubGVuZ3RoID09IDIpIHtcbiAgICB2YXIgZWxlbWVudHMgPSBbXVxuICAgIGZvciAodmFyIHAgaW4gZ2VzdHVyZXMpIHtcbiAgICAgIGVsZW1lbnRzLnB1c2goZ2VzdHVyZXNbcF0uZWxlbWVudClcbiAgICB9XG4gICAgZmlyZUV2ZW50KGdldENvbW1vbkFuY2VzdG9yKGVsZW1lbnRzWzBdLCBlbGVtZW50c1sxXSksICdkdWFsdG91Y2hlbmQnLCB7XG4gICAgICB0b3VjaGVzOiBzbGljZS5jYWxsKGV2ZW50LnRvdWNoZXMpLFxuICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICB9KVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciB0b3VjaCA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzW2ldXG4gICAgdmFyIGlkID0gdG91Y2guaWRlbnRpZmllclxuICAgIHZhciBnZXN0dXJlID0gZ2VzdHVyZXNbaWRdXG5cbiAgICBpZiAoIWdlc3R1cmUpIHtcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUucHJlc3NpbmdIYW5kbGVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZ2VzdHVyZS5wcmVzc2luZ0hhbmRsZXIpXG4gICAgICBnZXN0dXJlLnByZXNzaW5nSGFuZGxlciA9IG51bGxcbiAgICB9XG5cbiAgICBpZiAoZ2VzdHVyZS5zdGF0dXMgPT09ICd0YXBwaW5nJykge1xuICAgICAgZ2VzdHVyZS50aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgICBmaXJlRXZlbnQoZ2VzdHVyZS5lbGVtZW50LCAndGFwJywge1xuICAgICAgICB0b3VjaDogdG91Y2gsXG4gICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICB9KVxuXG4gICAgICBpZiAobGFzdFRhcCAmJiBnZXN0dXJlLnRpbWVzdGFtcCAtIGxhc3RUYXAudGltZXN0YW1wIDwgMzAwKSB7XG4gICAgICAgIGZpcmVFdmVudChnZXN0dXJlLmVsZW1lbnQsICdkb3VibGV0YXAnLCB7XG4gICAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGxhc3RUYXAgPSBnZXN0dXJlXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpXG4gICAgICB2YXIgZHVyYXRpb24gPSBub3cgLSBnZXN0dXJlLnN0YXJ0VGltZVxuICAgICAgdmFyIGRpc3BsYWNlbWVudFggPSB0b3VjaC5jbGllbnRYIC0gZ2VzdHVyZS5zdGFydFRvdWNoLmNsaWVudFhcbiAgICAgIHZhciBkaXNwbGFjZW1lbnRZID0gdG91Y2guY2xpZW50WSAtIGdlc3R1cmUuc3RhcnRUb3VjaC5jbGllbnRZXG5cbiAgICAgIHZhciB2ZWxvY2l0eSA9IE1hdGguc3FydChnZXN0dXJlLnZlbG9jaXR5WSAqIGdlc3R1cmUudmVsb2NpdHlZXG4gICAgICAgICsgZ2VzdHVyZS52ZWxvY2l0eVggKiBnZXN0dXJlLnZlbG9jaXR5WClcbiAgICAgIHZhciBpc1N3aXBlID0gdmVsb2NpdHkgPiAwLjUgJiYgKG5vdyAtIGdlc3R1cmUubGFzdFRpbWUpIDwgMTAwXG4gICAgICB2YXIgZXh0cmEgPSB7XG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgaXNTd2lwZTogaXNTd2lwZSxcbiAgICAgICAgdmVsb2NpdHlYOiBnZXN0dXJlLnZlbG9jaXR5WCxcbiAgICAgICAgdmVsb2NpdHlZOiBnZXN0dXJlLnZlbG9jaXR5WSxcbiAgICAgICAgZGlzcGxhY2VtZW50WDogZGlzcGxhY2VtZW50WCxcbiAgICAgICAgZGlzcGxhY2VtZW50WTogZGlzcGxhY2VtZW50WSxcbiAgICAgICAgdG91Y2g6IHRvdWNoLFxuICAgICAgICB0b3VjaGVzOiBldmVudC50b3VjaGVzLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlczogZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50LFxuICAgICAgICBpc1ZlcnRpY2FsOiBnZXN0dXJlLmlzVmVydGljYWwsXG4gICAgICAgIGRpcmVjdGlvbjogZ2VzdHVyZS5kaXJlY3Rpb25cbiAgICAgIH1cblxuICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3BhbmVuZCcsIGV4dHJhKVxuICAgICAgaWYgKGlzU3dpcGUpIHtcbiAgICAgICAgZmlyZUV2ZW50KGdlc3R1cmUuZWxlbWVudCwgJ3N3aXBlJywgZXh0cmEpXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKSB7XG4gICAgICBmaXJlRXZlbnQoZ2VzdHVyZS5lbGVtZW50LCAncHJlc3NlbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgZGVsZXRlIGdlc3R1cmVzW2lkXVxuICB9XG5cbiAgaWYgKE9iamVjdC5rZXlzKGdlc3R1cmVzKS5sZW5ndGggPT09IDApIHtcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0b3VjaG1vdmVIYW5kbGVyLCBmYWxzZSlcbiAgICBkb2NFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRvdWNoZW5kSGFuZGxlciwgZmFsc2UpXG4gICAgZG9jRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0b3VjaGNhbmNlbEhhbmRsZXIsIGZhbHNlKVxuICB9XG59XG5cbi8qKlxuICogaGFuZGxlIHRvdWNoY2FuY2VsXG4gKlxuICogMS4gaWYgdGhlcmUgYXJlIHR3byB0b3VjaCBwb2ludHMsIHRoZW4gdHJpZ2dlciAnZHVhbHRvdWNoZW5kJ1xuICpcbiAqIDIuIHRyYXZlcnNlIGV2ZXJ0eSB0b3VjaCBwb2ludDpcbiAqID4gaWYgcGFubm5pZywgdGhlbiB0cmlnZ2VyICdwYW5lbmQnXG4gKiA+IGlmIHByZXNzaW5nLCB0aGVuIHRyaWdnZXIgJ3ByZXNzZW5kJ1xuICpcbiAqIDMuIHJlbW92ZSBsaXN0ZW5lcnNcbiAqXG4gKiBAZXZlbnRcbiAqIEBwYXJhbSAge2V2ZW50fSBldmVudFxuICovXG5mdW5jdGlvbiB0b3VjaGNhbmNlbEhhbmRsZXIoZXZlbnQpIHtcblxuICBpZiAoT2JqZWN0LmtleXMoZ2VzdHVyZXMpLmxlbmd0aCA9PSAyKSB7XG4gICAgdmFyIGVsZW1lbnRzID0gW11cbiAgICBmb3IgKHZhciBwIGluIGdlc3R1cmVzKSB7XG4gICAgICBlbGVtZW50cy5wdXNoKGdlc3R1cmVzW3BdLmVsZW1lbnQpXG4gICAgfVxuICAgIGZpcmVFdmVudChnZXRDb21tb25BbmNlc3RvcihlbGVtZW50c1swXSwgZWxlbWVudHNbMV0pLCAnZHVhbHRvdWNoZW5kJywge1xuICAgICAgdG91Y2hlczogc2xpY2UuY2FsbChldmVudC50b3VjaGVzKSxcbiAgICAgIHRvdWNoRXZlbnQ6IGV2ZW50XG4gICAgfSlcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnQuY2hhbmdlZFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdG91Y2ggPSBldmVudC5jaGFuZ2VkVG91Y2hlc1tpXVxuICAgIHZhciBpZCA9IHRvdWNoLmlkZW50aWZpZXJcbiAgICB2YXIgZ2VzdHVyZSA9IGdlc3R1cmVzW2lkXVxuXG4gICAgaWYgKCFnZXN0dXJlKSB7XG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIGlmIChnZXN0dXJlLnByZXNzaW5nSGFuZGxlcikge1xuICAgICAgY2xlYXJUaW1lb3V0KGdlc3R1cmUucHJlc3NpbmdIYW5kbGVyKVxuICAgICAgZ2VzdHVyZS5wcmVzc2luZ0hhbmRsZXIgPSBudWxsXG4gICAgfVxuXG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncGFubmluZycpIHtcbiAgICAgIGZpcmVFdmVudChnZXN0dXJlLmVsZW1lbnQsICdwYW5lbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hlczogZXZlbnQudG91Y2hlcyxcbiAgICAgICAgY2hhbmdlZFRvdWNoZXM6IGV2ZW50LmNoYW5nZWRUb3VjaGVzLFxuICAgICAgICB0b3VjaEV2ZW50OiBldmVudFxuICAgICAgfSlcbiAgICB9XG4gICAgaWYgKGdlc3R1cmUuc3RhdHVzID09PSAncHJlc3NpbmcnKSB7XG4gICAgICBmaXJlRXZlbnQoZ2VzdHVyZS5lbGVtZW50LCAncHJlc3NlbmQnLCB7XG4gICAgICAgIHRvdWNoOiB0b3VjaCxcbiAgICAgICAgdG91Y2hFdmVudDogZXZlbnRcbiAgICAgIH0pXG4gICAgfVxuICAgIGRlbGV0ZSBnZXN0dXJlc1tpZF1cbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyhnZXN0dXJlcykubGVuZ3RoID09PSAwKSB7XG4gICAgZG9jRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdG91Y2htb3ZlSGFuZGxlciwgZmFsc2UpXG4gICAgZG9jRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0b3VjaGVuZEhhbmRsZXIsIGZhbHNlKVxuICAgIGRvY0VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdG91Y2hjYW5jZWxIYW5kbGVyLCBmYWxzZSlcbiAgfVxufVxuXG5pZiAoIWlzSW5pdGlhbGl6ZWQpIHtcbiAgZG9jRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRvdWNoc3RhcnRIYW5kbGVyLCBmYWxzZSlcbiAgaXNJbml0aWFsaXplZCA9IHRydWVcbn1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL3JlbmRlci9nZXN0dXJlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9yZW5kZXIvZ2VzdHVyZS5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgQ29tcG9uZW50TWFuYWdlciBmcm9tICcuLi9kb20vY29tcG9uZW50TWFuYWdlcidcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vcmVuZGVyL2NvbmZpZydcblxuZnVuY3Rpb24gZGV0ZWN0Um9vdEhlaWdodCAocm9vdCkge1xuICBjb25zdCByb290UXVlcnkgPSAnIycgKyByb290LmdldFdlZXhJbnN0YW5jZSgpLnJvb3RJZFxuICBjb25zdCByb290Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihyb290UXVlcnkpIHx8IGRvY3VtZW50LmJvZHlcbiAgY29uc3QgaGVpZ2h0ID0gcm9vdENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcbiAgaWYgKGhlaWdodCA+IGdsb2JhbC5pbm5lckhlaWdodCkge1xuICAgIGNvbnNvbGUud2FybihbXG4gICAgICAnW2g1LXJlbmRlcl0gZm9yIHNjcm9sbGFibGUgcm9vdCBsaWtlIFxcJ2xpc3RcXCcgYW5kIFxcJ3Njcm9sbGVyXFwnLCB0aGUgaGVpZ2h0IG9mICcsXG4gICAgICAndGhlIHJvb3QgY29udGFpbmVyIG11c3QgYmUgYSB1c2VyLXNwZWNpZmllZCB2YWx1ZS4gT3RoZXJ3aXNlICcsXG4gICAgICAndGhlIHNjcm9sbGFibGUgZWxlbWVudCBtYXkgbm90IGJlIGFibGUgdG8gd29yayBjb3JyZWN0bHkuICcsXG4gICAgICAnQ3VycmVudCBoZWlnaHQgb2YgdGhlIHJvb3QgZWxlbWVudCBcXCcnICsgcm9vdFF1ZXJ5ICsgJ1xcJyBpcyAnLFxuICAgICAgaGVpZ2h0ICsgJ3B4LCBhbmQgbW9zdGx5IGl0cyBoZWlnaHQgc2hvdWxkIGJlIGxlc3MgdGhhbiB0aGUgJyxcbiAgICAgICd2aWV3cG9ydFxcJ3MgaGVpZ2h0ICcgKyBnbG9iYWwuaW5uZXJIZWlnaHQgKyAncHguIFBsZWFzZSAnLFxuICAgICAgJ21ha2Ugc3VyZSB0aGUgaGVpZ2h0IGlzIGNvcnJlY3QuJ1xuICAgIF0uam9pbignJykpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBDb21wb25lbnQgPSBXZWV4LkNvbXBvbmVudFxuXG4gIGZ1bmN0aW9uIFJvb3RDb21wb25lbnQgKGRhdGEsIG5vZGVUeXBlKSB7XG4gICAgY29uc3QgaWQgPSBkYXRhLnJvb3RJZCArICctcm9vdCdcbiAgICBjb25zdCBjbSA9IENvbXBvbmVudE1hbmFnZXIuZ2V0SW5zdGFuY2UoZGF0YS5pbnN0YW5jZUlkKVxuXG4gICAgdGhpcy5kYXRhID0gZGF0YVxuXG4gICAgLy8gVGhlIHJvb3QgY29tcG9uZW50IHNob3VsZCBiZSBpbXBsZW1lbnRlZCBhcyBhIGRpdiBjb21wb25lbnQsIGFzIHRoZSBzY3JvbGxhYmxlXG4gICAgLy8gY29tcG9uZW50cyBoYXZlIHBlcmZvcm1hbmNlIGlzc3VlIGNvbXBhcmUgdG8gdGhlIG9yaWdpbmFsIGJvZHkgc2Nyb2xsLlxuICAgIGlmICghbm9kZVR5cGUpIHtcbiAgICAgIGNvbnNvbGUud2FybihgW2g1LXJlbmRlcl0gbm8gbm9kZVR5cGUgaXMgc3BlY2lmaWVkLCBjb25zdHJ1Y3QgUm9vdCB1c2UgJ2Ryb290JyBieSBkZWZhdWx0LmApXG4gICAgICBub2RlVHlwZSA9ICdkcm9vdCdcbiAgICB9XG4gICAgZWxzZSBpZiAoY29uZmlnLnZhbGlkUm9vdHMuaW5kZXhPZihub2RlVHlwZSkgPT09IC0xKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtoNS1yZW5kZXJdIHRoZSByb290IGNvbXBvbmVudCB0eXBlICcke25vZGVUeXBlfScgaXMgbm90IG9uZSBvZlxudGhlIHR5cGVzIGluIFske2NvbmZpZy52YWxpZFJvb3RzfV0gbGlzdC4gSXQgaXMgYXV0byBkb3duZ3JhZGVkXG50byAnZHJvb3QnLmApXG4gICAgICBub2RlVHlwZSA9ICdkcm9vdCdcbiAgICB9XG4gICAgZWxzZSBpZiAoY29uZmlnLmRvd25ncmFkZS5yb290KSB7XG4gICAgICBjb25zb2xlLndhcm4oYFtoNS1yZW5kZXJdIHRoZSByb290IGlzIGRvd25ncmFkZSB0byAnZHJvb3QnIGR1ZSB0byB0aGUgZG93bmdyYWRlXG5jb25maWd1cmF0aW9uIG9mIHdlZXguYClcbiAgICAgIG5vZGVUeXBlID0gJ2Ryb290J1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICghZ2xvYmFsLndlZXguZ2V0SW5zdGFuY2UoZGF0YS5pbnN0YW5jZUlkKS5lbWJlZCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVuZGVyZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRldGVjdFJvb3RIZWlnaHQodGhpcylcbiAgICAgICAgfS5iaW5kKHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlVHlwZSA9PT0gJ2Ryb290Jykge1xuICAgICAgZGF0YS5zdHlsZS5oZWlnaHQgPSAnJ1xuICAgIH1cbiAgICBlbHNlIGlmIChub2RlVHlwZSA9PT0gJ2RpdicpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmcuXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgIWRhdGEuc3R5bGUuaGVpZ2h0ICYmIChkYXRhLnN0eWxlLmhlaWdodCA9ICcxMDAlJylcbiAgICB9XG4gICAgZGF0YS50eXBlID0gbm9kZVR5cGVcbiAgICBjb25zdCBjbXAgPSBjbS5jcmVhdGVFbGVtZW50KGRhdGEpXG4gICAgY21wLm5vZGUuaWQgPSBpZFxuICAgIHJldHVybiBjbXBcbiAgfVxuXG4gIFJvb3RDb21wb25lbnQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3Jvb3QnLCBSb290Q29tcG9uZW50KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2Uvcm9vdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9yb290LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcblxuICBmdW5jdGlvbiBEaXYgKGRhdGEsIG5vZGVUeXBlKSB7XG4gICAgQ29tcG9uZW50LmNhbGwodGhpcywgZGF0YSwgbm9kZVR5cGUpXG4gICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtY29udGFpbmVyJylcbiAgfVxuICBEaXYucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlKVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ2RpdicsIERpdilcbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgnY29udGFpbmVyJywgRGl2KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2Jhc2UvZGl2LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9iYXNlL2Rpdi5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBERUZBVUxUX0xPQURfTU9SRV9PRkZTRVQgPSAwXG5sZXQgQ29tcG9uZW50XG5cbmNvbnN0IHByb3RvID0ge1xuICBjcmVhdGUgKG5vZGVUeXBlKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZVR5cGUgfHwgJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWRyb290JylcbiAgICByZXR1cm4gbm9kZVxuICB9LFxuXG4gIGJpbmRFdmVudHMgKGV2dHMpIHtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCh0aGlzLCBldnRzKVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gZmlyZSBsb2FkbW9yZSBldmVudC5cbiAgICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5ib2R5XG4gICAgICBjb25zdCBsZWZ0RGlzdCA9IGJvZHkuc2Nyb2xsSGVpZ2h0IC0gd2luZG93LmlubmVySGVpZ2h0IC0gYm9keS5zY3JvbGxUb3BcbiAgICAgIGlmIChsZWZ0RGlzdCA8PSB0aGlzLmxvYWRtb3Jlb2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnbG9hZG1vcmUnKVxuICAgICAgfVxuICAgIH0uYmluZCh0aGlzKSlcbiAgfVxufVxuXG5jb25zdCBhdHRyID0ge1xuICBsb2FkbW9yZW9mZnNldCAodmFsKSB7XG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbClcbiAgICBpZiAodmFsdWUgPCAwIHx8IGlzTmFOKHZhbHVlKSkge1xuICAgICAgY29uc29sZS53YXJuKGBbaDUtcmVuZGVyXSBpbnZhbGlkIGxvYWRtb3Jlb2Zmc2V0OiAke3ZhbH1gKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMubG9hZG1vcmVvZmZzZXQgPSB2YWx1ZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICBmdW5jdGlvbiBEcm9vdCAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgICBpZiAoZGF0YS5yZWYgIT09ICdfcm9vdCcpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLndhcm4oJ1toNS1yZW5kZXJdIGRyb290IGNhbiBvbmx5IGJlIHVzZWQgYXMgYSBkb3duZ3JhZGVkIHJvb3QuJylcbiAgICB9XG4gICAgdGhpcy5sb2FkbW9yZW9mZnNldCA9IERFRkFVTFRfTE9BRF9NT1JFX09GRlNFVFxuICAgIENvbXBvbmVudC5jYWxsKHRoaXMsIGRhdGEsIG5vZGVUeXBlKVxuICB9XG4gIERyb290LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSlcbiAgZXh0ZW5kKERyb290LnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChEcm9vdC5wcm90b3R5cGUsIHsgYXR0ciB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ2Ryb290JywgRHJvb3QpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvYmFzZS9kcm9vdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvYmFzZS9kcm9vdC5qcyIsImltcG9ydCBwYWNrYWdlcyBmcm9tICcuL3BhY2tlcidcblxuLy8gaW5zdGFsbCB0aGUgYXBpcyBhbmQgY29tcG9uZW50cyBhcyBwYWNrYWdlcy5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdCAoV2VleCkge1xuICAgIGlmICghcGFja2FnZXMgfHwgIXBhY2thZ2VzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHBhY2thZ2VzLmZvckVhY2gocGtnID0+IFdlZXguaW5zdGFsbChwa2cpKVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvaW5kZXguanMiLCIvLyBpbXBvcnQgY29tcG9uZW50cy5cbmltcG9ydCBUZXh0IGZyb20gJy4vY29tcG9uZW50cy90ZXh0J1xuaW1wb3J0IEltYWdlIGZyb20gJy4vY29tcG9uZW50cy9pbWFnZSdcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9jb21wb25lbnRzL3NsaWRlcidcbmltcG9ydCBTY3JvbGxhYmxlIGZyb20gJy4vY29tcG9uZW50cy9zY3JvbGxhYmxlJ1xuaW1wb3J0IEluZGljYXRvciBmcm9tICcuL2NvbXBvbmVudHMvaW5kaWNhdG9yJ1xuaW1wb3J0IFRhYmhlYWRlciBmcm9tICcuL2NvbXBvbmVudHMvdGFiaGVhZGVyJ1xuaW1wb3J0IElucHV0IGZyb20gJy4vY29tcG9uZW50cy9pbnB1dCdcbmltcG9ydCBUZXh0YXJlYSBmcm9tICcuL2NvbXBvbmVudHMvdGV4dGFyZWEnXG5pbXBvcnQgVmlkZW8gZnJvbSAnLi9jb21wb25lbnRzL3ZpZGVvJ1xuaW1wb3J0IFN3aXRjaCBmcm9tICcuL2NvbXBvbmVudHMvc3dpdGNoJ1xuaW1wb3J0IEVtYmVkIGZyb20gJy4vY29tcG9uZW50cy9lbWJlZCdcbmltcG9ydCBTcGlubmVyIGZyb20gJy4vY29tcG9uZW50cy9zcGlubmVyJ1xuaW1wb3J0IFdlYiBmcm9tICcuL2NvbXBvbmVudHMvd2ViJ1xuXG4vLyBpbXBvcnQgYXBpcy5cbmltcG9ydCBBbmltYXRpb24gZnJvbSAnLi9hcGkvYW5pbWF0aW9uJ1xuaW1wb3J0IENsaXBib2FyZCBmcm9tICcuL2FwaS9jbGlwYm9hcmQnXG5pbXBvcnQgRG9tIGZyb20gJy4vYXBpL2RvbSdcbmltcG9ydCBFdmVudCBmcm9tICcuL2FwaS9ldmVudCdcbmltcG9ydCBHZW9sb2NhdGlvbiBmcm9tICcuL2FwaS9nZW9sb2NhdGlvbidcbmltcG9ydCBHbG9iYWxFdmVudCBmcm9tICcuL2FwaS9nbG9iYWxFdmVudCdcbmltcG9ydCBNb2RhbCBmcm9tICcuL2FwaS9tb2RhbCdcbmltcG9ydCBOYXZpZ2F0b3IgZnJvbSAnLi9hcGkvbmF2aWdhdG9yJ1xuaW1wb3J0IFBhZ2VJbmZvIGZyb20gJy4vYXBpL3BhZ2VJbmZvJ1xuaW1wb3J0IFN0b3JhZ2UgZnJvbSAnLi9hcGkvc3RvcmFnZSdcbmltcG9ydCBTdHJlYW0gZnJvbSAnLi9hcGkvc3RyZWFtJ1xuaW1wb3J0IFdlYnZpZXcgZnJvbSAnLi9hcGkvd2VidmlldydcblxubW9kdWxlLmV4cG9ydHMgPSBbVGV4dCwgSW1hZ2UsIFNsaWRlciwgU2Nyb2xsYWJsZSwgSW5kaWNhdG9yLCBUYWJoZWFkZXIsIElucHV0LCBUZXh0YXJlYSwgVmlkZW8sIFN3aXRjaCwgRW1iZWQsIFNwaW5uZXIsIFdlYiwgQW5pbWF0aW9uLCBDbGlwYm9hcmQsIERvbSwgRXZlbnQsIEdlb2xvY2F0aW9uLCBHbG9iYWxFdmVudCwgTW9kYWwsIE5hdmlnYXRvciwgUGFnZUluZm8sIFN0b3JhZ2UsIFN0cmVhbSwgV2Vidmlld11cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvcGFja2VyLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvcGFja2VyLmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IERFRkFVTFRfRk9OVF9TSVpFID0gMzJcbmNvbnN0IERFRkFVTFRfVEVYVF9PVkVSRkxPVyA9ICdlbGxpcHNpcydcblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbnRhaW5lcicpXG4gICAgbm9kZS5zdHlsZS5mb250U2l6ZSA9IERFRkFVTFRfRk9OVF9TSVpFICogdGhpcy5kYXRhLnNjYWxlICsgJ3B4J1xuICAgIHRoaXMudGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAvLyBHaXZlIHRoZSBkZXZlbG9wZXJzIHRoZSBhYmlsaXR5IHRvIGNvbnRyb2wgc3BhY2VcbiAgICAvLyBhbmQgbGluZS1icmVha2Vycy5cbiAgICB0aGlzLnRleHROb2RlLnN0eWxlLndoaXRlU3BhY2UgPSAncHJlLXdyYXAnXG4gICAgdGhpcy50ZXh0Tm9kZS5zdHlsZS53b3JkV3JhcCA9ICdicmVhay13b3JkJ1xuICAgIHRoaXMudGV4dE5vZGUuc3R5bGUuZGlzcGxheSA9ICctd2Via2l0LWJveCdcbiAgICB0aGlzLnRleHROb2RlLnN0eWxlLndlYmtpdEJveE9yaWVudCA9ICd2ZXJ0aWNhbCdcbiAgICB0aGlzLnN0eWxlLmxpbmVzLmNhbGwodGhpcywgdGhpcy5kYXRhLnN0eWxlLmxpbmVzKVxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy50ZXh0Tm9kZSlcbiAgICByZXR1cm4gbm9kZVxuICB9LFxuXG4gIGNsZWFyQXR0ciAoKSB7XG4gICAgdGhpcy5ub2RlLmZpcnN0Q2hpbGQudGV4dENvbnRlbnQgPSAnJ1xuICB9XG59XG5cbmNvbnN0IGF0dHIgPSB7XG4gIHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICBjb25zdCBzcGFuID0gdGhpcy5ub2RlLmZpcnN0Q2hpbGRcbiAgICBzcGFuLmlubmVySFRNTCA9ICcnXG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc3Bhbi50ZXh0Q29udGVudCA9IHZhbHVlXG4gICAgLyoqXG4gICAgICogRGV2ZWxvcGVycyBhcmUgc3VwcG9zZWQgdG8gaGF2ZSB0aGUgYWJpbGl0eSB0byBicmVhayB0ZXh0XG4gICAgICogbGluZXMgbWFudWFsbHkuIFVzaW5nIGBgJm5ic3A7YGAgdG8gcmVwbGFjZSB0ZXh0IHNwYWNlIGlzXG4gICAgICogbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgYGAtd2Via2l0LWxpbmUtY2xhbXBgYC4gVGhlcmVmb3JcbiAgICAgKiB3ZSB1c2UgYGB3aGl0ZS1zcGFjZTogbm8td3JhcGBgIGluc3RlYWQgKGluc3RlYWQgb2YgdGhlXG4gICAgICogY29kZSBiZWxsb3cpLlxuXG4gICAgICBjb25zdCBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gICAgICAgIHRleHQuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKHN0cikge1xuICAgICAgICAgIGNvbnN0IHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyKVxuICAgICAgICAgIGNvbnN0IHNwYWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpXG4gICAgICAgICAgc3BhY2UuaW5uZXJIVE1MID0gJyZuYnNwOydcbiAgICAgICAgICBmcmFnLmFwcGVuZENoaWxkKHNwYWNlKVxuICAgICAgICAgIGZyYWcuYXBwZW5kQ2hpbGQodGV4dE5vZGUpXG4gICAgICAgIH0pXG4gICAgICAgIGZyYWcucmVtb3ZlQ2hpbGQoZnJhZy5maXJzdENoaWxkKVxuICAgICAgICBzcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpXG4gICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZnJhZylcbiAgICAgIH0pXG4gICAgICBzcGFuLnJlbW92ZUNoaWxkKHNwYW4uZmlyc3RDaGlsZClcbiAgICAgKi9cbiAgfVxufVxuXG5jb25zdCBzdHlsZSA9IHtcbiAgbGluZXM6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YWwgPSBwYXJzZUludCh2YWwpXG4gICAgaWYgKGlzTmFOKHZhbCkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodmFsIDw9IDApIHtcbiAgICAgIHRoaXMudGV4dE5vZGUuc3R5bGUudGV4dE92ZXJmbG93ID0gJydcbiAgICAgIHRoaXMudGV4dE5vZGUuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSdcbiAgICAgIHRoaXMudGV4dE5vZGUuc3R5bGUud2Via2l0TGluZUNsYW1wID0gJydcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZGF0YSA/IHRoaXMuZGF0YS5zdHlsZSA6IG51bGxcbiAgICAgIHRoaXMudGV4dE5vZGUuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJ1xuICAgICAgdGhpcy50ZXh0Tm9kZS5zdHlsZS50ZXh0T3ZlcmZsb3cgPSBzdHlsZVxuICAgICAgICA/IHN0eWxlLnRleHRPdmVyZmxvd1xuICAgICAgICA6IERFRkFVTFRfVEVYVF9PVkVSRkxPV1xuICAgICAgdGhpcy50ZXh0Tm9kZS5zdHlsZS53ZWJraXRMaW5lQ2xhbXAgPSB2YWxcbiAgICB9XG4gIH0sXG5cbiAgdGV4dE92ZXJmbG93OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy50ZXh0Tm9kZS5zdHlsZS50ZXh0T3ZlcmZsb3cgPSB2YWxcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG5cbiAgLy8gYXR0clxuICAvLyAgLSB2YWx1ZTogdGV4dCBjb250ZW50LlxuICAvLyBzdHlsZVxuICAvLyAgLSBsaW5lczogbWF4aW11bSBsaW5lcyBvZiB0aGUgdGV4dC5cbiAgZnVuY3Rpb24gVGV4dCAoZGF0YSkge1xuICAgIEF0b21pYy5jYWxsKHRoaXMsIGRhdGEpXG4gIH1cbiAgVGV4dC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUpXG4gIGV4dGVuZChUZXh0LnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChUZXh0LnByb3RvdHlwZSwgeyBhdHRyIH0pXG4gIGV4dGVuZChUZXh0LnByb3RvdHlwZSwge1xuICAgIHN0eWxlOiBleHRlbmQoT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlLnN0eWxlKSwgc3R5bGUpXG4gIH0pXG5cbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgndGV4dCcsIFRleHQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdGV4dC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdGV4dC5qcyIsIi8qIGdsb2JhbCBsaWIgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCAnLi9pbWFnZS5jc3MnXG5cbmNvbnN0IERFRkFVTFRfU0laRSA9IDIwMFxuY29uc3QgUkVTSVpFX01PREVTID0gWydzdHJldGNoJywgJ2NvdmVyJywgJ2NvbnRhaW4nXVxuY29uc3QgREVGQVVMVF9SRVNJWkVfTU9ERSA9ICdzdHJldGNoJ1xuXG4vKipcbiAqIHJlc2l6ZTogJ2NvdmVyJyB8ICdjb250YWluJyB8ICdzdHJldGNoJywgZGVmYXVsdCBpcyAnc3RyZXRjaCdcbiAqIHNyYzogdXJsXG4gKi9cbmNvbnN0IHByb3RvID0ge1xuICBjcmVhdGUgKCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnd2VleC1pbWcnKVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnd2VleC1lbGVtZW50JylcbiAgICByZXR1cm4gbm9kZVxuICB9LFxuXG4gIGNsZWFyQXR0ciAoKSB7XG4gICAgdGhpcy5zcmMgPSAnJ1xuICAgIHRoaXMubm9kZS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnJ1xuICB9XG59XG5cbmNvbnN0IGF0dHIgPSB7XG4gIHNyYzogZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmICghdGhpcy5zcmMpIHtcbiAgICAgIHRoaXMuc3JjID0gbGliLmltZy5kZWZhdWx0U3JjXG4gICAgICB0aGlzLm5vZGUuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgdGhpcy5zcmMgKyAnKSdcbiAgICB9XG4gICAgdGhpcy5lbmFibGVMYXp5bG9hZCh2YWwpXG4gIH0sXG5cbiAgcmVzaXplOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKFJFU0laRV9NT0RFUy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICB2YWwgPSAnc3RyZXRjaCdcbiAgICB9XG4gICAgdGhpcy5ub2RlLnN0eWxlLmJhY2tncm91bmRTaXplID0gdmFsID09PSAnc3RyZXRjaCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJzEwMCUgMTAwJSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdmFsXG4gIH1cbn1cblxuY29uc3Qgc3R5bGUgPSB7XG4gIHdpZHRoOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpICogdGhpcy5kYXRhLnNjYWxlXG4gICAgaWYgKHZhbCA8IDAgfHwgaXNOYU4odmFsKSkge1xuICAgICAgdmFsID0gREVGQVVMVF9TSVpFXG4gICAgfVxuICAgIHRoaXMubm9kZS5zdHlsZS53aWR0aCA9IHZhbCArICdweCdcbiAgfSxcblxuICBoZWlnaHQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCkgKiB0aGlzLmRhdGEuc2NhbGVcbiAgICBpZiAodmFsIDwgMCB8fCBpc05hTih2YWwpKSB7XG4gICAgICB2YWwgPSBERUZBVUxUX1NJWkVcbiAgICB9XG4gICAgdGhpcy5ub2RlLnN0eWxlLmhlaWdodCA9IHZhbCArICdweCdcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG5cbiAgZnVuY3Rpb24gSW1hZ2UgKGRhdGEpIHtcbiAgICB0aGlzLnJlc2l6ZSA9IERFRkFVTFRfUkVTSVpFX01PREVcbiAgICBBdG9taWMuY2FsbCh0aGlzLCBkYXRhKVxuICB9XG4gIEltYWdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQXRvbWljLnByb3RvdHlwZSlcbiAgZXh0ZW5kKEltYWdlLnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChJbWFnZS5wcm90b3R5cGUsIHsgYXR0ciB9KVxuICBleHRlbmQoSW1hZ2UucHJvdG90eXBlLCB7XG4gICAgc3R5bGU6IGV4dGVuZChPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUuc3R5bGUpLCBzdHlsZSlcbiAgfSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdpbWFnZScsIEltYWdlKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2ltYWdlL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbWFnZS9pbmRleC5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vaW1hZ2UuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2ltYWdlLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2ltYWdlLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvaW1hZ2UvaW1hZ2UuY3NzXG4gKiogbW9kdWxlIGlkID0gMTU1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2ltYWdlL2ltYWdlLmNzcz84ZTVkIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIud2VleC1pbWcge1xcbiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xcbiAgYmFja2dyb3VuZC1wb3NpdGlvbjogNTAlO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbWFnZS9pbWFnZS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvaW1hZ2UvaW1hZ2UuY3NzIiwiLyogZ2xvYmFsIGxpYiAqL1xuXG4ndXNlIHN0cmljdCdcblxuaW1wb3J0ICcuL2NhcnJvdXNlbCdcbmltcG9ydCAnLi9zbGlkZXIuY3NzJ1xuXG5jb25zdCBERUZBVUxUX0lOVEVSVkFMID0gMzAwMFxuXG5sZXQgZXh0ZW5kLCBDb21wb25lbnRcblxuZnVuY3Rpb24gaWRsZVdoZW5QYWdlRGlzYXBwZWFyIChzbGlkZXIpIHtcbiAgZnVuY3Rpb24gaGFuZGxlUGFnZVNob3cgKCkge1xuICAgIHNsaWRlci5pc1BhZ2VTaG93ID0gdHJ1ZVxuICAgIHNsaWRlci5hdXRvUGxheSAmJiAhc2xpZGVyLmlzRG9tUmVuZGVyaW5nICYmIHNsaWRlci5wbGF5KClcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQYWdlSGlkZSAoKSB7XG4gICAgc2xpZGVyLmlzUGFnZVNob3cgPSBmYWxzZVxuICAgIHNsaWRlci5zdG9wKClcbiAgfVxuICBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcigncGFnZXNob3cnLCBoYW5kbGVQYWdlU2hvdylcbiAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VoaWRlJywgaGFuZGxlUGFnZUhpZGUpXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Zpc2liaWxpdHljaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ3Zpc2libGUnKSB7XG4gICAgICBoYW5kbGVQYWdlU2hvdygpXG4gICAgfVxuICAgIGVsc2UgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgIGhhbmRsZVBhZ2VIaWRlKClcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIGlkbGVXaGVuRG9tUmVuZGVyaW5nIChzbGlkZXIpIHtcbiAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlcmVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICBzbGlkZXIuaXNEb21SZW5kZXJpbmcgPSBmYWxzZVxuICAgIHNsaWRlci5hdXRvUGxheSAmJiBzbGlkZXIuaXNQYWdlU2hvdyAmJiBzbGlkZXIucGxheSgpXG4gIH0pXG4gIGdsb2JhbC5hZGRFdmVudExpc3RlbmVyKCdyZW5kZXJiZWdpbicsIGZ1bmN0aW9uICgpIHtcbiAgICBzbGlkZXIuaXNEb21SZW5kZXJpbmcgPSB0cnVlXG4gICAgc2xpZGVyLnN0b3AoKVxuICB9KVxufVxuXG5mdW5jdGlvbiB1cGRhdGVJbmRpY2F0b3JzIChzbGlkZXIpIHtcbiAgc2xpZGVyLmluZGljYXRvciAmJiBzbGlkZXIuaW5kaWNhdG9yLnNldEluZGV4KHNsaWRlci5jdXJyZW50SW5kZXgpXG59XG5cbmZ1bmN0aW9uIGdldFNsaWRlckNoYW5nZUhhbmRsZXIgKHNsaWRlcikge1xuICBpZiAoIXNsaWRlci5fc2xpZGVyQ2hhbmdlSGFuZGxlcikge1xuICAgIHNsaWRlci5fc2xpZGVyQ2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBjb25zdCBpbmRleCA9IHRoaXMuY2Fycm91c2VsLml0ZW1zLmluZGV4XG4gICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4XG4gICAgICB1cGRhdGVJbmRpY2F0b3JzKHRoaXMpXG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ2NoYW5nZScsIHsgaW5kZXg6IGluZGV4IH0pXG4gICAgfS5iaW5kKHNsaWRlcilcbiAgfVxuICByZXR1cm4gc2xpZGVyLl9zbGlkZXJDaGFuZ2VIYW5kbGVyXG59XG5cbmZ1bmN0aW9uIGRvUmVuZGVyIChzbGlkZXIpIHtcbiAgc2xpZGVyLmNyZWF0ZUNoaWxkcmVuKClcbiAgc2xpZGVyLm9uQXBwZW5kKClcbn1cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdzbGlkZXInKVxuICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnXG4gICAgbm9kZS5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nXG4gICAgcmV0dXJuIG5vZGVcbiAgfSxcblxuICBjcmVhdGVDaGlsZHJlbiAoKSB7XG4gICAgY29uc3QgY29tcG9uZW50TWFuYWdlciA9IHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpXG5cbiAgICAvLyByZWNyZWF0ZSBzbGlkZXIgY29udGFpbmVyLlxuICAgIGlmICh0aGlzLnNsaWRlckNvbnRhaW5lcikge1xuICAgICAgdGhpcy5ub2RlLnJlbW92ZUNoaWxkKHRoaXMuc2xpZGVyQ29udGFpbmVyKVxuICAgIH1cbiAgICBpZiAodGhpcy5pbmRpY2F0b3IpIHtcbiAgICAgIHRoaXMuaW5kaWNhdG9yLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmluZGljYXRvci5ub2RlKVxuICAgIH1cbiAgICB0aGlzLmNoaWxkcmVuID0gW11cblxuICAgIGNvbnN0IHNsaWRlckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICBzbGlkZXJDb250YWluZXIuc3R5bGUubGlzdFN0eWxlID0gJ25vbmUnXG4gICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHNsaWRlckNvbnRhaW5lcilcbiAgICB0aGlzLnNsaWRlckNvbnRhaW5lciA9IHNsaWRlckNvbnRhaW5lclxuXG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgICBjb25zdCBzY2FsZSA9IHRoaXMuZGF0YS5zY2FsZVxuICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gICAgbGV0IGluZGljYXRvckRhdGEsIHdpZHRoLCBoZWlnaHRcbiAgICBsZXQgY2hpbGRXaWR0aCA9IDBcbiAgICBsZXQgY2hpbGRIZWlnaHQgPSAwXG5cbiAgICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjaGlsZFxuICAgICAgICBjaGlsZHJlbltpXS5zY2FsZSA9IHRoaXMuZGF0YS5zY2FsZVxuICAgICAgICBjaGlsZHJlbltpXS5pbnN0YW5jZUlkID0gdGhpcy5kYXRhLmluc3RhbmNlSWRcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnR5cGUgPT09ICdpbmRpY2F0b3InKSB7XG4gICAgICAgICAgaW5kaWNhdG9yRGF0YSA9IGV4dGVuZChjaGlsZHJlbltpXSwge1xuICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgYW1vdW50OiBjaGlsZHJlbi5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICBpbmRleDogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgY2hpbGQgPSBjb21wb25lbnRNYW5hZ2VyLmNyZWF0ZUVsZW1lbnQoY2hpbGRyZW5baV0sICdsaScpXG4gICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKVxuICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGNoaWxkLm5vZGUpXG4gICAgICAgICAgd2lkdGggPSBjaGlsZC5kYXRhLnN0eWxlLndpZHRoIHx8IDBcbiAgICAgICAgICBoZWlnaHQgPSBjaGlsZC5kYXRhLnN0eWxlLmhlaWdodCB8fCAwXG4gICAgICAgICAgd2lkdGggPiBjaGlsZFdpZHRoICYmIChjaGlsZFdpZHRoID0gd2lkdGgpXG4gICAgICAgICAgaGVpZ2h0ID4gY2hpbGRIZWlnaHQgJiYgKGNoaWxkSGVpZ2h0ID0gaGVpZ2h0KVxuICAgICAgICAgIGNoaWxkLnBhcmVudFJlZiA9IHRoaXMuZGF0YS5yZWZcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gYXBwZW5kIGluZGljYXRvclxuICAgICAgaWYgKGluZGljYXRvckRhdGEpIHtcbiAgICAgICAgaW5kaWNhdG9yRGF0YS5leHRyYS53aWR0aCA9IHRoaXMuZGF0YS5zdHlsZS53aWR0aCB8fCBjaGlsZFdpZHRoXG4gICAgICAgIGluZGljYXRvckRhdGEuZXh0cmEuaGVpZ2h0ID0gdGhpcy5kYXRhLnN0eWxlLmhlaWdodCB8fCBjaGlsZEhlaWdodFxuICAgICAgICB0aGlzLmluZGljYXRvciA9IGNvbXBvbmVudE1hbmFnZXIuY3JlYXRlRWxlbWVudChpbmRpY2F0b3JEYXRhKVxuICAgICAgICB0aGlzLmluZGljYXRvci5wYXJlbnRSZWYgPSB0aGlzLmRhdGEucmVmXG4gICAgICAgIHRoaXMuaW5kaWNhdG9yLnNsaWRlciA9IHRoaXNcbiAgICAgICAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKHRoaXMuaW5kaWNhdG9yLm5vZGUpXG4gICAgICB9XG5cbiAgICAgIHNsaWRlckNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBzY2FsZSAqIHRoaXMuZGF0YS5zdHlsZS5oZWlnaHQgKyAncHgnXG4gICAgICBzbGlkZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpXG4gICAgfVxuICB9LFxuXG4gIGFwcGVuZENoaWxkIChkYXRhKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW4gfHwgKHRoaXMuZGF0YS5jaGlsZHJlbiA9IFtdKVxuICAgIGNoaWxkcmVuLnB1c2goZGF0YSlcbiAgICBkb1JlbmRlcih0aGlzKVxuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH0sXG5cbiAgaW5zZXJ0QmVmb3JlIChjaGlsZCwgYmVmb3JlKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgICBsZXQgY2hpbGRJbmRleCA9IC0xXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChjaGlsZHJlbltpXS5yZWYgPT09IGJlZm9yZS5kYXRhLnJlZikge1xuICAgICAgICBjaGlsZEluZGV4ID0gaVxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgICBjaGlsZHJlbi5zcGxpY2UoY2hpbGRJbmRleCwgMCwgY2hpbGQuZGF0YSlcbiAgICBkb1JlbmRlcih0aGlzKVxuICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV1cbiAgICB9XG4gIH0sXG5cbiAgcmVtb3ZlQ2hpbGQgKGNoaWxkKSB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW5cbiAgICBpZiAoY2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkLmRhdGEucmVmID09PSBjaGlsZHJlbltpXS5yZWYpIHtcbiAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMSlcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGRvUmVuZGVyKHRoaXMpXG4gIH0sXG5cbiAgb25BcHBlbmQgKCkge1xuICAgIGlmICh0aGlzLmNhcnJvdXNlbCkge1xuICAgICAgdGhpcy5jYXJyb3VzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZ2V0U2xpZGVyQ2hhbmdlSGFuZGxlcih0aGlzKSlcbiAgICAgIHRoaXMuY2Fycm91c2VsLnN0b3AoKVxuICAgICAgdGhpcy5jYXJyb3VzZWwgPSBudWxsXG4gICAgfVxuICAgIGNvbnN0IENhcnJvdXNlbCA9IGxpYi5jYXJyb3VzZWxcbiAgICB0aGlzLmNhcnJvdXNlbCA9IG5ldyBDYXJyb3VzZWwodGhpcy5zbGlkZXJDb250YWluZXIsIHtcbiAgICAgIGF1dG9wbGF5OiB0aGlzLmF1dG9QbGF5LFxuICAgICAgdXNlR2VzdHVyZTogdHJ1ZVxuICAgIH0pXG5cbiAgICB0aGlzLmNhcnJvdXNlbC5wbGF5SW50ZXJ2YWwgPSB0aGlzLmludGVydmFsXG4gICAgdGhpcy5jYXJyb3VzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZ2V0U2xpZGVyQ2hhbmdlSGFuZGxlcih0aGlzKSlcbiAgICB0aGlzLmN1cnJlbnRJbmRleCA9IDBcblxuICAgIC8vIHByZWxvYWQgYWxsIGltYWdlcyBmb3Igc2xpZGVyXG4gICAgLy8gYmVjYXVzZTpcbiAgICAvLyAxLiBsaWItaW1nIGRvZXNuJ3QgbGlzdGVuIHRvIGV2ZW50IHRyYW5zaXRpb25lbmRcbiAgICAvLyAyLiBldmVuIGlmIHdlIGZpcmUgbGF6eSBsb2FkIGluIHNsaWRlcidzIGNoYW5nZSBldmVudCBoYW5kbGVyLFxuICAgIC8vICAgIHRoZSBuZXh0IGltYWdlIHN0aWxsIHdvbid0IGJlIHByZWxvYWRlZCB1dGlsbCB0aGUgbW9tZW50IGl0XG4gICAgLy8gICAgc2xpZGVzIGludG8gdGhlIHZpZXcsIHdoaWNoIGlzIHRvbyBsYXRlLlxuICAgIGlmICh0aGlzLnByZWxvYWRJbWdzVGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnByZWxvYWRJbWdzVGltZXIpXG4gICAgfVxuICAgIC8vIFRoZSB0aW1lIGp1c3QgYmVmb3JlIHRoZSBzZWNvbmQgc2xpZGUgYXBwZWFyIGFuZCBlbm91Z2hcbiAgICAvLyBmb3IgYWxsIGNoaWxkIGVsZW1lbnRzIHRvIGFwcGVuZCBpcyBvay5cbiAgICBjb25zdCBwcmVsb2FkVGltZSA9IDAuOFxuICAgIHRoaXMucHJlbG9hZEltZ3NUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgY29uc3QgaW1ncyA9IHRoaXMuY2Fycm91c2VsLmVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLndlZXgtaW1nJylcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gaW1ncy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3QgaW1nID0gaW1nc1tpXVxuICAgICAgICBjb25zdCBpTGF6eVNyYyA9IGltZy5nZXRBdHRyaWJ1dGUoJ2ktbGF6eS1zcmMnKVxuICAgICAgICBjb25zdCBpbWdTcmMgPSBpbWcuZ2V0QXR0cmlidXRlKCdpbWctc3JjJylcbiAgICAgICAgaWYgKGlMYXp5U3JjKSB7XG4gICAgICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGlMYXp5U3JjICsgJyknXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW1nU3JjKSB7XG4gICAgICAgICAgaW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIGltZ1NyYyArICcpJ1xuICAgICAgICB9XG4gICAgICAgIGltZy5yZW1vdmVBdHRyaWJ1dGUoJ2ktbGF6eS1zcmMnKVxuICAgICAgICBpbWcucmVtb3ZlQXR0cmlidXRlKCdpbWctc3JjJylcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcyksIHByZWxvYWRUaW1lICogMTAwMClcblxuICAgIC8vIGF2b2lkIHBhZ2Ugc2Nyb2xsIHdoZW4gcGFubmluZ1xuICAgIGxldCBwYW5uaW5nID0gZmFsc2VcbiAgICB0aGlzLmNhcnJvdXNlbC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BhbnN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZS5pc1ZlcnRpY2FsKSB7XG4gICAgICAgIHBhbm5pbmcgPSB0cnVlXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmNhcnJvdXNlbC5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BhbmVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWUuaXNWZXJ0aWNhbCkge1xuICAgICAgICBwYW5uaW5nID0gZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChwYW5uaW5nKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSlcblxuICAgIENvbXBvbmVudC5wcm90b3R5cGUub25BcHBlbmQuY2FsbCh0aGlzKVxuICB9LFxuXG4gIHBsYXkgKCkge1xuICAgIHRoaXMuY2Fycm91c2VsLnBsYXkoKVxuICB9LFxuXG4gIHN0b3AgKCkge1xuICAgIHRoaXMuY2Fycm91c2VsLnN0b3AoKVxuICB9LFxuXG4gIHNsaWRlVG8gKGluZGV4KSB7XG4gICAgY29uc3Qgb2Zmc2V0ID0gaW5kZXggLSB0aGlzLmN1cnJlbnRJbmRleFxuICAgIHRoaXMuY2Fycm91c2VsLml0ZW1zLnNsaWRlKG9mZnNldClcbiAgfVxufVxuXG5jb25zdCBhdHRyID0ge1xuICBpbnRlcnZhbDogZnVuY3Rpb24gKHZhbCkge1xuICAgIHRoaXMuaW50ZXJ2YWwgPSBwYXJzZUludCh2YWwpIHx8IERFRkFVTFRfSU5URVJWQUxcbiAgICBpZiAodGhpcy5jYXJyb3VzZWwpIHtcbiAgICAgIHRoaXMuY2Fycm91c2VsLnBsYXlJbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWxcbiAgICB9XG4gIH0sXG5cbiAgaW5kZXg6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXNcbiAgICBmdW5jdGlvbiBkb1NsaWRlIChpbmRleCkge1xuICAgICAgaW5kZXggPSBwYXJzZUludChpbmRleClcbiAgICAgIGlmIChpbmRleCA8IDAgfHwgaXNOYU4oaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBpbnZhbGlkIGluZGV4ICcsIGluZGV4KVxuICAgICAgfVxuICAgICAgX3RoaXMuc2xpZGVUbyhpbmRleClcbiAgICAgIGlmIChfdGhpcy5fdXBkYXRlSW5kZXgpIHtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3JlbmRlcmVuZCcsIF90aGlzLl91cGRhdGVJbmRleClcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuaXNEb21SZW5kZXJpbmcpIHtcbiAgICAgIGNvbnN0IHByZSA9ICEhdGhpcy5fdXBkYXRlSW5kZXhcbiAgICAgIHRoaXMuX3VwZGF0ZUluZGV4ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5hdXRvUGxheSAmJiBfdGhpcy5pc1BhZ2VTaG93ICYmIF90aGlzLnBsYXkoKVxuICAgICAgICBkb1NsaWRlKHZhbClcbiAgICAgIH1cbiAgICAgICFwcmUgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlcmVuZCcsIHRoaXMuX3VwZGF0ZUluZGV4KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRvU2xpZGUodmFsKVxuICAgIH1cbiAgfSxcblxuICBwbGF5c3RhdHVzOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5wbGF5c3RhdHVzID0gdmFsICYmIHZhbCAhPT0gJ2ZhbHNlJ1xuICAgIHRoaXMuYXV0b1BsYXkgPSB0aGlzLnBsYXlzdGF0dXNcbiAgICBpZiAodGhpcy5jYXJyb3VzZWwpIHtcbiAgICAgIGlmICh0aGlzLnBsYXlzdGF0dXMpIHtcbiAgICAgICAgdGhpcy5wbGF5KClcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLnN0b3AoKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvLyBzdXBwb3J0IHBsYXlzdGF0dXMnIGFsaWFzIGF1dG8tcGxheSBmb3IgY29tcGF0aWJpbGl0eVxuICBhdXRvUGxheTogZnVuY3Rpb24gKHZhbCkge1xuICAgIHRoaXMuYXR0ci5wbGF5c3RhdHVzLmNhbGwodGhpcywgdmFsKVxuICB9XG59XG5cbmNvbnN0IGV2ZW50ID0ge1xuICBjaGFuZ2U6IHtcbiAgICB1cGRhdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGluZGV4OiB0aGlzLmN1cnJlbnRJbmRleFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcbiAgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICBmdW5jdGlvbiBTbGlkZXIgKGRhdGEpIHtcbiAgICB0aGlzLmF1dG9QbGF5ID0gZmFsc2UgIC8vIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXG4gICAgdGhpcy5pbnRlcnZhbCA9IERFRkFVTFRfSU5URVJWQUxcbiAgICB0aGlzLmRpcmVjdGlvbiA9ICdyb3cnIC8vICdjb2x1bW4nIGlzIG5vdCB0ZW1wb3JhcmlseSBzdXBwb3J0ZWQuXG4gICAgdGhpcy5jaGlsZHJlbiA9IFtdXG4gICAgdGhpcy5pc1BhZ2VTaG93ID0gdHJ1ZVxuICAgIHRoaXMuaXNEb21SZW5kZXJpbmcgPSB0cnVlXG5cbiAgICAvLyBiaW5kIGV2ZW50ICdwYWdlc2hvdycsICdwYWdlaGlkZScgYW5kICd2aXNpYmlsaXR5Y2hhbmdlJyBvbiB3aW5kb3cuXG4gICAgaWRsZVdoZW5QYWdlRGlzYXBwZWFyKHRoaXMpXG4gICAgLy8gYmluZCBldmVudCAncmVuZGVyQmVnaW4nIGFuZCAncmVuZGVyRW5kJyBvbiB3aW5kb3cuXG4gICAgaWRsZVdoZW5Eb21SZW5kZXJpbmcodGhpcylcblxuICAgIENvbXBvbmVudC5jYWxsKHRoaXMsIGRhdGEpXG4gIH1cbiAgU2xpZGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSlcbiAgZXh0ZW5kKFNsaWRlci5wcm90b3R5cGUsIHByb3RvKVxuICBleHRlbmQoU2xpZGVyLnByb3RvdHlwZSwgeyBhdHRyIH0pXG4gIGV4dGVuZChTbGlkZXIucHJvdG90eXBlLCB7IGV2ZW50IH0pXG5cbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgnc2xpZGVyJywgU2xpZGVyKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL2luZGV4LmpzIiwiLyogZXNsaW50LWRpc2FibGUgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbi8vIHJlcXVpcmUoJy4vZ2VzdHVyZScpXG5yZXF1aXJlKCdjdWJpY2JlemllcicpXG5yZXF1aXJlKCdhbmltYXRpb25qcycpXG5yZXF1aXJlKCcuL2NhcnJvdXNlbC5jc3MnKVxuXG52YXIgZG9jID0gd2luZG93LmRvY3VtZW50XG52YXIgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxudmFyIEZpcmVmb3ggPSAhIXVhLm1hdGNoKC9GaXJlZm94L2kpXG52YXIgSUVNb2JpbGUgPSAhIXVhLm1hdGNoKC9JRU1vYmlsZS9pKVxudmFyIGNzc1ByZWZpeCA9IEZpcmVmb3ggPyAnLW1vei0nIDogSUVNb2JpbGUgPyAnLW1zLScgOiAnLXdlYmtpdC0nXG52YXIgc3R5bGVQcmVmaXggPSBGaXJlZm94ID8gJ01veicgOiBJRU1vYmlsZSA/ICdtcycgOiAnd2Via2l0J1xuXG52YXIgdGltZXIgPSByZXF1aXJlKCcuL3RpbWVyJylcbnZhciBzZXRUaW1lb3V0ID0gdGltZXIuc2V0VGltZW91dFxudmFyIGNsZWFyVGltZW91dCA9IHRpbWVyLmNsZWFyVGltZW91dFxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1PZmZzZXQoZWxlbWVudCkge1xuICB2YXIgb2Zmc2V0ID0geyB4OiAwLCB5OiAwIH1cbiAgdmFyIHRyYW5zZm9ybSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudClbc3R5bGVQcmVmaXggKyAnVHJhbnNmb3JtJ11cbiAgdmFyIHJlZ01hdHJpeDNkID0gbmV3IFJlZ0V4cCgnXm1hdHJpeDNkXFxcXCgoPzpbLVxcXFxkLl0rLFxcXFxzKil7MTJ9KFstXFxcXGQuXSspLCdcbiAgICArICdcXFxccyooWy1cXFxcZC5dKykoPzosXFxcXHMqWy1cXFxcZC5dKyl7Mn1cXFxcKScpXG4gIHZhciByZWdNYXRyaXggPSAvXm1hdHJpeFxcKCg/OlstXFxkLl0rLFxccyopezR9KFstXFxkLl0rKSxcXHMqKFstXFxkLl0rKVxcKSQvXG4gIHZhciBtYXRjaGVkXG5cbiAgaWYgKHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgaWYgKChtYXRjaGVkID0gdHJhbnNmb3JtLm1hdGNoKHJlZ01hdHJpeDNkKVxuICAgICAgfHwgdHJhbnNmb3JtLm1hdGNoKHJlZ01hdHJpeCkpKSB7XG4gICAgICBvZmZzZXQueCA9IHBhcnNlRmxvYXQobWF0Y2hlZFsxXSkgfHwgMFxuICAgICAgb2Zmc2V0LnkgPSBwYXJzZUZsb2F0KG1hdGNoZWRbMl0pIHx8IDBcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2Zmc2V0XG59XG5cbnZhciBDU1NNYXRyaXggPSBJRU1vYmlsZSA/ICdNU0NTU01hdHJpeCcgOiAnV2ViS2l0Q1NTTWF0cml4J1xudmFyIGhhczNkID0gISFGaXJlZm94IHx8IENTU01hdHJpeCBpbiB3aW5kb3cgJiYgJ20xMScgaW4gbmV3IHdpbmRvd1tDU1NNYXRyaXhdKClcbmZ1bmN0aW9uIGdldFRyYW5zbGF0ZSh4LCB5KSB7XG4gIHggPSBwYXJzZUZsb2F0KHgpXG4gIHkgPSBwYXJzZUZsb2F0KHkpXG5cbiAgaWYgKHggIT0gMCkge1xuICAgIHggKz0gJ3B4J1xuICB9XG5cbiAgaWYgKHkgIT0gMCkge1xuICAgIHkgKz0gJ3B4J1xuICB9XG5cbiAgaWYgKGhhczNkKSB7XG4gICAgcmV0dXJuICd0cmFuc2xhdGUzZCgnICsgeCArICcsICcgKyB5ICsgJywgMCknXG4gIH1cblxuICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknXG59XG5cbnZhciBzbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZVxuZnVuY3Rpb24gQXJyYXlGcm9tKGEpIHtcbiAgcmV0dXJuIHNsaWNlLmNhbGwoYSlcbn1cblxudmFyIGluY0lkID0gMFxuZnVuY3Rpb24gQ2Fycm91c2VsKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgdmFyIHRoYXQgPSB0aGlzXG4gIHZhciB2aWV3cyA9IFtdXG4gIHZhciBwYWdlcyA9IHt9XG4gIHZhciBpZCA9IERhdGUubm93KCkgKyAnLScgKyAoKytpbmNJZClcbiAgdmFyIHJvb3QgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KClcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiAhKGFyZ3VtZW50c1swXSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge1xuICAgIG9wdGlvbnMgPSBhcmd1bWVudHNbMF1cbiAgICBlbGVtZW50ID0gbnVsbFxuICB9XG5cbiAgaWYgKCFlbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICByb290LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cblxuICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jdHJsLW5hbWUnLCAnY2Fycm91c2VsJylcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtY3RybC1pZCcsIGlkKVxuXG4gIGZ1bmN0aW9uIGZpcmVFdmVudChuYW1lLCBleHRyYSkge1xuICAgIHZhciBldiA9IGRvYy5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpXG4gICAgZXYuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCBmYWxzZSlcbiAgICBpZiAoZXh0cmEpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBleHRyYSkge1xuICAgICAgICBldltrZXldID0gZXh0cmFba2V5XVxuICAgICAgfVxuICAgIH1cbiAgICByb290LmRpc3BhdGNoRXZlbnQoZXYpXG4gIH1cblxuICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJ1xuICBlbGVtZW50LnN0eWxlW3N0eWxlUHJlZml4ICsgJ1RyYW5zZm9ybSddID0gZ2V0VHJhbnNsYXRlKDAsIDApXG5cbiAgdmFyIHRyYW5zZm9ybU9mZnNldCA9IDBcbiAgdmFyIGl0ZW1zID0ge31cbiAgdmFyIGl0ZW1MZW5ndGggPSAwXG4gIHZhciBpdGVtU3RlcCA9IG9wdGlvbnMuc3RlcCB8fCBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoXG4gIHZhciBpdGVtSW5kZXggPSAwXG5cbiAgaXRlbXMuYWRkID0gZnVuY3Rpb24gKGh0bWwpIHtcbiAgICB2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpXG4gICAgbGkuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIGxpLnN0eWxlLmZsb2F0ID0gJ2xlZnQnXG4gICAgbGkuaW5kZXggPSBpdGVtTGVuZ3RoXG4gICAgaWYgKHR5cGVvZiBodG1sID09PSAnc3RyaW5nJykge1xuICAgICAgbGkuaW5uZXJIVE1MID0gaHRtbFxuICAgIH0gZWxzZSBpZiAoaHRtbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICBsaS5hcHBlbmRDaGlsZChodG1sKVxuICAgIH1cbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGxpKVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGl0ZW1zLCBpdGVtTGVuZ3RoICsgJycsIHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbGlcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgaXRlbUxlbmd0aCsrXG4gICAgcmV0dXJuIGxpXG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVJbmRleChpbmRleCkge1xuICAgIHdoaWxlIChpbmRleCA8IDApIHtcbiAgICAgIGluZGV4ICs9IGl0ZW1MZW5ndGhcbiAgICB9XG5cbiAgICB3aGlsZSAoaW5kZXggPj0gaXRlbUxlbmd0aCkge1xuICAgICAgaW5kZXggLT0gaXRlbUxlbmd0aFxuICAgIH1cblxuICAgIHJldHVybiBpbmRleFxuICB9XG5cbiAgaXRlbXMuZ2V0ID0gZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgcmV0dXJuIGl0ZW1zW25vcm1hbGl6ZUluZGV4KGluZGV4KV1cbiAgfVxuXG4gIGl0ZW1zLmdldENsb25lZCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgIHZhciBpbmRleCA9IG5vcm1hbGl6ZUluZGV4KGluZGV4KVxuICAgIHZhciBpdGVtID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdbY2xvbmVkPVwiY2xvbmVkLScgKyBpbmRleCArICdcIl0nKVxuICAgIHZhciBvcmlnaW5hbEl0ZW0gPSBpdGVtc1tpbmRleF1cblxuICAgIC8vIElmIHRoZXJlIGEgX2xpc3RlbmVycyBhdHRyaWJ1dGUgb24gdGhlIGRvbSBlbGVtZW50XG4gICAgLy8gdGhlbiBjbG9uZSB0aGUgX2xpc3RlbmVycyBhcyB3ZWxsIGZvciB0aGUgZXZlbnRzJyBiaW5kaW5nXG4gICAgZnVuY3Rpb24gY2xvbmVFdmVudHMob3JpZ2luLCBjbG9uZSwgZGVlcCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IG9yaWdpbi5fbGlzdGVuZXJzXG4gICAgICBpZiAobGlzdGVuZXJzKSB7XG4gICAgICAgIGNsb25lLl9saXN0ZW5lcnMgPSBsaXN0ZW5lcnNcbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBsaXN0ZW5lcnMpIHtcbiAgICAgICAgICBjbG9uZS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1t0eXBlXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRlZXAgJiYgb3JpZ2luLmNoaWxkcmVuICYmIG9yaWdpbi5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvcmlnaW4uY2hpbGRyZW4ubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgY2xvbmVFdmVudHMob3JpZ2luLmNoaWxkcmVuW2ldLCBjbG9uZS5jaGlsZHJlbltpXSwgZGVlcClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghaXRlbSkge1xuICAgICAgaXRlbSA9IG9yaWdpbmFsSXRlbS5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgIGNsb25lRXZlbnRzKG9yaWdpbmFsSXRlbSwgaXRlbSwgdHJ1ZSlcblxuICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChpdGVtKVxuICAgICAgaXRlbS5zZXRBdHRyaWJ1dGUoJ2Nsb25lZCcsICdjbG9uZWQtJyArIGluZGV4KVxuICAgICAgaXRlbS5pbmRleCA9IGluZGV4XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZW1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFjdGl2YXRlKGluZGV4KSB7XG4gICAgaWYgKGl0ZW1MZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBjdXJJdGVtID0gaXRlbXMuZ2V0KGluZGV4KVxuICAgIHZhciBwcmV2SXRlbVxuICAgIHZhciBuZXh0SXRlbVxuXG4gICAgaWYgKGl0ZW1MZW5ndGggPiAxKSB7XG4gICAgICBwcmV2SXRlbSA9IGl0ZW1zLmdldChpbmRleCAtIDEpXG5cbiAgICAgIGlmIChpdGVtTGVuZ3RoID09PSAyKSB7XG4gICAgICAgIG5leHRJdGVtID0gaXRlbXMuZ2V0Q2xvbmVkKGluZGV4ICsgMSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRJdGVtID0gaXRlbXMuZ2V0KGluZGV4ICsgMSlcbiAgICAgIH1cblxuICAgICAgY3VySXRlbS5zdHlsZS5sZWZ0ID0gLXRyYW5zZm9ybU9mZnNldCArICdweCdcbiAgICAgIHByZXZJdGVtLnN0eWxlLmxlZnQgPSAoLXRyYW5zZm9ybU9mZnNldCAtIGl0ZW1TdGVwKSArICdweCdcbiAgICAgIG5leHRJdGVtLnN0eWxlLmxlZnQgPSAoLXRyYW5zZm9ybU9mZnNldCArIGl0ZW1TdGVwKSArICdweCdcbiAgICB9XG5cbiAgICBpdGVtSW5kZXggPSBjdXJJdGVtLmluZGV4XG5cbiAgICBmaXJlRXZlbnQoJ2NoYW5nZScsIHtcbiAgICAgIHByZXZJdGVtOiBwcmV2SXRlbSxcbiAgICAgIGN1ckl0ZW06IGN1ckl0ZW0sXG4gICAgICBuZXh0SXRlbTogbmV4dEl0ZW1cbiAgICB9KVxuICB9XG5cbiAgaXRlbXMuc2xpZGUgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoaXRlbUxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGl0ZW1MZW5ndGggPT09IDEpIHtcbiAgICAgIGluZGV4ID0gMFxuICAgIH1cblxuICAgIHZhciBzdGFydE9mZnNldCA9IGdldFRyYW5zZm9ybU9mZnNldChlbGVtZW50KS54XG4gICAgdmFyIGVuZE9mZnNldCA9IHRyYW5zZm9ybU9mZnNldCArIGl0ZW1TdGVwICogKC1pbmRleClcbiAgICB2YXIgaW50ZXJPZmZzZXQgPSBlbmRPZmZzZXQgLSBzdGFydE9mZnNldFxuXG4gICAgaWYgKGludGVyT2Zmc2V0ID09PSAwKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgYW5pbSA9IG5ldyBsaWIuYW5pbWF0aW9uKFxuICAgICAgNDAwLFxuICAgICAgbGliLmN1YmljYmV6aWVyLmVhc2UsXG4gICAgICBmdW5jdGlvbiAoaTEsIGkyKSB7XG4gICAgICAgIGVsZW1lbnQuc3R5bGVbc3R5bGVQcmVmaXggKyAnVHJhbnNmb3JtJ11cbiAgICAgICAgICA9IGdldFRyYW5zbGF0ZShzdGFydE9mZnNldCArIGludGVyT2Zmc2V0ICogaTIsIDApXG4gICAgICB9KS5wbGF5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyYW5zZm9ybU9mZnNldCA9IGVuZE9mZnNldFxuICAgICAgICBlbGVtZW50LnN0eWxlW3N0eWxlUHJlZml4ICsgJ1RyYW5zZm9ybSddID0gZ2V0VHJhbnNsYXRlKGVuZE9mZnNldCwgMClcbiAgICAgICAgaW5kZXggJiYgYWN0aXZhdGUoaXRlbUluZGV4ICsgaW5kZXgpXG4gICAgICB9KVxuICB9XG5cbiAgaXRlbXMubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpdGVtcy5zbGlkZSgxKVxuICB9XG5cbiAgaXRlbXMucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpdGVtcy5zbGlkZSgtMSlcbiAgfVxuXG4gIEFycmF5RnJvbShlbGVtZW50LmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgIGVsLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgIGVsLnN0eWxlLnRvcCA9ICcwJ1xuICAgIGVsLnN0eWxlLmxlZnQgPSBpdGVtTGVuZ3RoICogaXRlbVN0ZXAgKyAncHgnXG4gICAgZWwuc3R5bGUuZmxvYXQgPSAnbGVmdCdcbiAgICBlbC5pbmRleCA9IGl0ZW1MZW5ndGhcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbXMsIGl0ZW1MZW5ndGggKyAnJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBlbFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpdGVtTGVuZ3RoKytcbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2l0ZW1zJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGl0ZW1zXG4gICAgfVxuICB9KVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtcywgJ2xlbmd0aCcsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpdGVtTGVuZ3RoXG4gICAgfVxuICB9KVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdGVtcywgJ2luZGV4Jywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGl0ZW1JbmRleFxuICAgIH1cbiAgfSlcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaXRlbXMsICdzdGVwJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGl0ZW1TdGVwXG4gICAgfSxcblxuICAgIHNldDogZnVuY3Rpb24gKHYpIHtcbiAgICAgIGl0ZW1TdGVwID0gdlxuICAgIH1cbiAgfSlcblxuICB2YXIgc3RhcnRpbmcgPSBmYWxzZVxuICB2YXIgcGxheWluZyA9IGZhbHNlXG4gIHZhciBpc1NsaWRpbmcgPSBmYWxzZVxuICB0aGlzLnBsYXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFzdGFydGluZykge1xuICAgICAgc3RhcnRpbmcgPSB0cnVlXG4gICAgICByZXR1cm4gYWN0aXZhdGUoMClcbiAgICB9XG5cbiAgICBpZiAoISFwbGF5aW5nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBwbGF5aW5nID0gc2V0VGltZW91dChmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgaXNTbGlkaW5nID0gdHJ1ZVxuICAgICAgaXRlbXMubmV4dCgpXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaXNTbGlkaW5nID0gZmFsc2VcbiAgICAgIH0sIDUwMClcbiAgICAgIHBsYXlpbmcgPSBzZXRUaW1lb3V0KHBsYXksIDQwMCArIHBsYXlJbnRlcnZhbClcbiAgICB9LCA0MDAgKyBwbGF5SW50ZXJ2YWwpXG4gIH1cblxuICB0aGlzLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFwbGF5aW5nKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHBsYXlpbmcpXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBwbGF5aW5nID0gZmFsc2VcbiAgICB9LCA1MDApXG4gIH1cblxuICB2YXIgYXV0b3BsYXkgPSBmYWxzZVxuICB2YXIgcmVhZHlUb1BsYXkgPSBmYWxzZVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2F1dG9wbGF5Jywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGF1dG9wbGF5XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uICh2KSB7XG4gICAgICBhdXRvcGxheSA9ICEhdlxuICAgICAgaWYgKHJlYWR5VG9QbGF5KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChyZWFkeVRvUGxheSlcbiAgICAgICAgcmVhZHlUb1BsYXkgPSBmYWxzZVxuICAgICAgfVxuICAgICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgIHJlYWR5VG9QbGF5ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhhdC5wbGF5KClcbiAgICAgICAgfSwgMjAwMClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoYXQuc3RvcCgpXG4gICAgICB9XG4gICAgfVxuICB9KVxuICB0aGlzLmF1dG9wbGF5ID0gISFvcHRpb25zLmF1dG9wbGF5XG5cbiAgdmFyIHBsYXlJbnRlcnZhbCA9IDE1MDBcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdwbGF5SW50ZXJ2YWwnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGxheUludGVydmFsXG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIChuKSB7XG4gICAgICBwbGF5SW50ZXJ2YWwgPSBuXG4gICAgfVxuICB9KVxuICB0aGlzLnBsYXlJbnRlcnZhbCA9ICEhb3B0aW9ucy5wbGF5SW50ZXJ2YWwgfHwgMTUwMFxuXG4gIGlmIChvcHRpb25zLnVzZUdlc3R1cmUpIHtcbiAgICB2YXIgcGFubmluZyA9IGZhbHNlXG4gICAgdmFyIGRpc3BsYWNlbWVudFxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGFuc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLmlzVmVydGljYWwgJiYgIShwYW5uaW5nICYmIGlzU2xpZGluZykpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgICAgICBpZiAoYXV0b3BsYXkpIHtcbiAgICAgICAgICB0aGF0LnN0b3AoKVxuICAgICAgICB9XG5cbiAgICAgICAgZGlzcGxhY2VtZW50ID0gMFxuICAgICAgICBwYW5uaW5nID0gdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhbm1vdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLmlzVmVydGljYWwgJiYgcGFubmluZykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICBkaXNwbGFjZW1lbnQgPSBlLmRpc3BsYWNlbWVudFhcbiAgICAgICAgZWxlbWVudC5zdHlsZVtzdHlsZVByZWZpeCArICdUcmFuc2Zvcm0nXVxuICAgICAgICAgID0gZ2V0VHJhbnNsYXRlKHRyYW5zZm9ybU9mZnNldCArIGRpc3BsYWNlbWVudCwgMClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLmlzVmVydGljYWwgJiYgcGFubmluZykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICBwYW5uaW5nID0gZmFsc2VcbiAgICAgICAgaWYgKGUuaXNTd2lwZSkge1xuICAgICAgICAgIGlmIChkaXNwbGFjZW1lbnQgPCAwKSB7XG4gICAgICAgICAgICBpdGVtcy5uZXh0KClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXRlbXMucHJldigpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChNYXRoLmFicyhkaXNwbGFjZW1lbnQpIDwgaXRlbVN0ZXAgLyAyKSB7XG4gICAgICAgICAgICBpdGVtcy5zbGlkZSgwKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtcy5zbGlkZShkaXNwbGFjZW1lbnQgPCAwPzE6LTEpXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LnBsYXkoKVxuICAgICAgICAgIH0sIDIwMDApXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBmYWxzZSlcblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3dpcGUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLmlzVmVydGljYWwpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgdGhpcy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKG5hbWUsIGhhbmRsZXIpIHtcbiAgICB0aGlzLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBoYW5kbGVyLCBmYWxzZSlcbiAgfVxuXG4gIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChuYW1lLCBoYW5kbGVyKSB7XG4gICAgdGhpcy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgaGFuZGxlciwgZmFsc2UpXG4gIH1cblxuICB0aGlzLnJvb3QgPSByb290XG4gIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbn1cblxuIWxpYiAmJiAobGliID0ge30pXG5saWIuY2Fycm91c2VsID0gQ2Fycm91c2VsXG5cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zbGlkZXIvY2Fycm91c2VsLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zbGlkZXIvY2Fycm91c2VsLmpzIiwiKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSAmJiAod2luZG93ID0ge2N0cmw6IHt9LCBsaWI6IHt9fSk7IXdpbmRvdy5jdHJsICYmICh3aW5kb3cuY3RybCA9IHt9KTshd2luZG93LmxpYiAmJiAod2luZG93LmxpYiA9IHt9KTshZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEsYixjLGQpe2Z1bmN0aW9uIGUoYSl7cmV0dXJuKDMqayphKzIqbCkqYSttfWZ1bmN0aW9uIGYoYSl7cmV0dXJuKChrKmErbCkqYSttKSphfWZ1bmN0aW9uIGcoYSl7cmV0dXJuKChuKmErbykqYStwKSphfWZ1bmN0aW9uIGgoYSl7Zm9yKHZhciBiLGMsZD1hLGc9MDs4Pmc7ZysrKXtpZihjPWYoZCktYSxNYXRoLmFicyhjKTxqKXJldHVybiBkO2lmKGI9ZShkKSxNYXRoLmFicyhiKTxqKWJyZWFrO2QtPWMvYn12YXIgaD0xLGk9MDtmb3IoZD1hO2g+aTspe2lmKGM9ZihkKS1hLE1hdGguYWJzKGMpPGopcmV0dXJuIGQ7Yz4wP2g9ZDppPWQsZD0oaCtpKS8yfXJldHVybiBkfWZ1bmN0aW9uIGkoYSl7cmV0dXJuIGcoaChhKSl9dmFyIGo9MWUtNixrPTMqYS0zKmMrMSxsPTMqYy02KmEsbT0zKmEsbj0zKmItMypkKzEsbz0zKmQtNipiLHA9MypiO3JldHVybiBpfWIuY3ViaWNiZXppZXI9YyxiLmN1YmljYmV6aWVyLmxpbmVhcj1jKDAsMCwxLDEpLGIuY3ViaWNiZXppZXIuZWFzZT1jKC4yNSwuMSwuMjUsMSksYi5jdWJpY2Jlemllci5lYXNlSW49YyguNDIsMCwxLDEpLGIuY3ViaWNiZXppZXIuZWFzZU91dD1jKDAsMCwuNTgsMSksYi5jdWJpY2Jlemllci5lYXNlSW5PdXQ9YyguNDIsMCwuNTgsMSl9KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpOzttb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5saWJbJ2N1YmljYmV6aWVyJ107XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3ViaWNiZXppZXIvYnVpbGQvY3ViaWNiZXppZXIuY29tbW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMTU5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L2N1YmljYmV6aWVyL2J1aWxkL2N1YmljYmV6aWVyLmNvbW1vbi5qcyIsIih0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgJiYgKHdpbmRvdyA9IHtjdHJsOiB7fSwgbGliOiB7fX0pOyF3aW5kb3cuY3RybCAmJiAod2luZG93LmN0cmwgPSB7fSk7IXdpbmRvdy5saWIgJiYgKHdpbmRvdy5saWIgPSB7fSk7IWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gc2V0VGltZW91dChhLGwpfWZ1bmN0aW9uIGQoYSl7Y2xlYXJUaW1lb3V0KGEpfWZ1bmN0aW9uIGUoKXt2YXIgYT17fSxiPW5ldyBtKGZ1bmN0aW9uKGIsYyl7YS5yZXNvbHZlPWIsYS5yZWplY3Q9Y30pO3JldHVybiBhLnByb21pc2U9YixhfWZ1bmN0aW9uIGYoYSxiKXtyZXR1cm5bXCJ0aGVuXCIsXCJjYXRjaFwiXS5mb3JFYWNoKGZ1bmN0aW9uKGMpe2JbY109ZnVuY3Rpb24oKXtyZXR1cm4gYVtjXS5hcHBseShhLGFyZ3VtZW50cyl9fSksYn1mdW5jdGlvbiBnKGIpe3ZhciBjLGQsaD0hMTt0aGlzLnJlcXVlc3Q9ZnVuY3Rpb24oKXtoPSExO3ZhciBnPWFyZ3VtZW50cztyZXR1cm4gYz1lKCksZihjLnByb21pc2UsdGhpcyksZD1uKGZ1bmN0aW9uKCl7aHx8YyYmYy5yZXNvbHZlKGIuYXBwbHkoYSxnKSl9KSx0aGlzfSx0aGlzLmNhbmNlbD1mdW5jdGlvbigpe3JldHVybiBkJiYoaD0hMCxvKGQpLGMmJmMucmVqZWN0KFwiQ0FOQ0VMXCIpKSx0aGlzfSx0aGlzLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBnKGIpfX1mdW5jdGlvbiBoKGEsYil7XCJmdW5jdGlvblwiPT10eXBlb2YgYiYmKGI9ezA6Yn0pO2Zvcih2YXIgYz1hL2wsZD0xL2MsZT1bXSxmPU9iamVjdC5rZXlzKGIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gcGFyc2VJbnQoYSl9KSxoPTA7Yz5oO2grKyl7dmFyIGk9ZlswXSxqPWQqaDtpZihudWxsIT1pJiYxMDAqaj49aSl7dmFyIGs9YltcIlwiK2ldO2sgaW5zdGFuY2VvZiBnfHwoaz1uZXcgZyhrKSksZS5wdXNoKGspLGYuc2hpZnQoKX1lbHNlIGUubGVuZ3RoJiZlLnB1c2goZVtlLmxlbmd0aC0xXS5jbG9uZSgpKX1yZXR1cm4gZX1mdW5jdGlvbiBpKGEpe3ZhciBjO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhfHxhIGluc3RhbmNlb2YgQXJyYXk/Yi5jdWJpY2Jlemllcj9cInN0cmluZ1wiPT10eXBlb2YgYT9iLmN1YmljYmV6aWVyW2FdJiYoYz1iLmN1YmljYmV6aWVyW2FdKTphIGluc3RhbmNlb2YgQXJyYXkmJjQ9PT1hLmxlbmd0aCYmKGM9Yi5jdWJpY2Jlemllci5hcHBseShiLmN1YmljYmV6aWVyLGEpKTpjb25zb2xlLmVycm9yKFwicmVxdWlyZSBsaWIuY3ViaWNiZXppZXJcIik6XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKGM9YSksY31mdW5jdGlvbiBqKGEsYixjKXt2YXIgZCxnPWgoYSxjKSxqPTEvKGEvbCksaz0wLG09aShiKTtpZighbSl0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4Y2VwdCB0aW1pbmcgZnVuY3Rpb25cIik7dmFyIG49ITE7dGhpcy5wbGF5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBjPWoqKGsrMSkudG9GaXhlZCgxMCksZT1nW2tdO2UucmVxdWVzdChjLnRvRml4ZWQoMTApLGIoYykudG9GaXhlZCgxMCkpLnRoZW4oZnVuY3Rpb24oKXtuJiYoaz09PWcubGVuZ3RoLTE/KG49ITEsZCYmZC5yZXNvbHZlKFwiRklOSVNIXCIpLGQ9bnVsbCk6KGsrKyxhKCkpKX0sZnVuY3Rpb24oKXt9KX1pZighbilyZXR1cm4gbj0hMCxkfHwoZD1lKCksZihkLnByb21pc2UsdGhpcykpLGEoKSx0aGlzfSx0aGlzLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gbj8obj0hMSxnW2tdJiZnW2tdLmNhbmNlbCgpLHRoaXMpOnZvaWQgMH19dmFyIGs9NjAsbD0xZTMvayxtPWEuUHJvbWlzZXx8Yi5wcm9taXNlJiZiLnByb21pc2UuRVM2UHJvbWlzZSxuPXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8YyxvPXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWV8fHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8d2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lfHxkOyhuPT09Y3x8bz09PWQpJiYobj1jLG89ZCksYi5hbmltYXRpb249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgaihhLGIsYyl9LGIuYW5pbWF0aW9uLmZyYW1lPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgZyhhKX0sYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBnKGEpO3JldHVybiBiLnJlcXVlc3QoKX19KHdpbmRvdyx3aW5kb3cubGlifHwod2luZG93LmxpYj17fSkpOzttb2R1bGUuZXhwb3J0cyA9IHdpbmRvdy5saWJbJ2FuaW1hdGlvbiddO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2FuaW1hdGlvbmpzL2J1aWxkL2FuaW1hdGlvbi5jb21tb24uanNcbiAqKiBtb2R1bGUgaWQgPSAxNjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vYW5pbWF0aW9uanMvYnVpbGQvYW5pbWF0aW9uLmNvbW1vbi5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vY2Fycm91c2VsLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jYXJyb3VzZWwuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vY2Fycm91c2VsLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL2NhcnJvdXNlbC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL2NhcnJvdXNlbC5jc3M/M2MwMSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiW2RhdGEtY3RybC1uYW1lPVxcXCJjYXJyb3VzZWxcXFwiXSB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWigxcHgpO1xcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWigxcHgpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDFweCk7XFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9jYXJyb3VzZWwuY3NzXG4gKiogbW9kdWxlIGlkID0gMTYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci9jYXJyb3VzZWwuY3NzIiwiLyogZXNsaW50LWRpc2FibGUgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnZhciBfZmFsbGJhY2sgPSBmYWxzZVxuXG52YXIgcmFmID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG5pZiAoIXJhZikge1xuICBfZmFsbGJhY2sgPSB0cnVlXG4gIHJhZiA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHJldHVybiBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxNilcbiAgfVxufVxudmFyIGNhZiA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbmlmICghY2FmICYmIF9mYWxsYmFjaykge1xuICBjYWYgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICByZXR1cm4gY2xlYXJUaW1lb3V0KGlkKVxuICB9XG59IGVsc2UgaWYgKCFjYWYpIHtcbiAgY2FmID0gZnVuY3Rpb24oKSB7fVxufVxuXG52YXIgTUFYID0gKE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIHx8IE1hdGgucG93KDIsIDUzKSAtIDEpIC0gMVxuXG52YXIgX2lkTWFwID0ge31cbnZhciBfZ2xvYmFsSWQgPSAwXG5cbmZ1bmN0aW9uIF9nZXRHbG9iYWxJZCgpIHtcbiAgX2dsb2JhbElkID0gKF9nbG9iYWxJZCArIDEpICUgTUFYXG4gIGlmIChfaWRNYXBbX2dsb2JhbElkXSkge1xuICAgIHJldHVybiBfZ2V0R2xvYmFsSWQoKVxuICB9XG4gIHJldHVybiBfZ2xvYmFsSWRcbn1cblxudmFyIHRpbWVyID0ge1xuXG4gIHNldFRpbWVvdXQ6IGZ1bmN0aW9uIChjYiwgbXMpIHtcbiAgICB2YXIgaWQgPSBfZ2V0R2xvYmFsSWQoKVxuICAgIHZhciBzdGFydCA9IERhdGUubm93KClcbiAgICBfaWRNYXBbaWRdID0gcmFmKGZ1bmN0aW9uIGxvb3AoKSB7XG4gICAgICBpZiAoIV9pZE1hcFtpZF0gJiYgX2lkTWFwW2lkXSAhPT0gMCkge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHZhciBpbmQgPSBEYXRlLm5vdygpIC0gc3RhcnRcbiAgICAgIGlmIChpbmQgPCBtcykge1xuICAgICAgICBfaWRNYXBbaWRdID0gcmFmKGxvb3ApXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgX2lkTWFwW2lkXVxuICAgICAgICBjYigpXG4gICAgICB9XG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfSxcblxuICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciB0aWQgPSBfaWRNYXBbaWRdXG4gICAgdGlkICYmIGNhZih0aWQpXG4gICAgZGVsZXRlIF9pZE1hcFtpZF1cbiAgfVxuXG59XG5cbm1vZHVsZS5leHBvcnRzID0gdGltZXJcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zbGlkZXIvdGltZXIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3NsaWRlci90aW1lci5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2xpZGVyLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zbGlkZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2xpZGVyLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlci5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2xpZGVyL3NsaWRlci5jc3M/M2Q3ZSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnNsaWRlciB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5zbGlkZXIgLmluZGljYXRvci1jb250YWluZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gIGJveC1hbGlnbjogY2VudGVyO1xcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gIGJveC1wYWNrOiBjZW50ZXI7XFxuICAtd2Via2l0LWp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBmb250LXNpemU6IDA7XFxufVxcbi5zbGlkZXIgLmluZGljYXRvci1jb250YWluZXIgLmluZGljYXRvciB7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcbi5zbGlkZXIgLmluZGljYXRvci1jb250YWluZXIucm93IHtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gIGJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbn1cXG4uc2xpZGVyIC5pbmRpY2F0b3ItY29udGFpbmVyLmNvbHVtbiB7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zbGlkZXIvc2xpZGVyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE2NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zbGlkZXIvc2xpZGVyLmNzcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgbGlzdCBmcm9tICcuL2xpc3QnXG5pbXBvcnQgc2Nyb2xsZXIgZnJvbSAnLi9zY3JvbGxlcidcbmltcG9ydCByZWZyZXNoIGZyb20gJy4vcmVmcmVzaCdcbmltcG9ydCBsb2FkaW5nIGZyb20gJy4vbG9hZGluZydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXguaW5zdGFsbChsaXN0KVxuICAgIFdlZXguaW5zdGFsbChzY3JvbGxlcilcbiAgICBXZWV4Lmluc3RhbGwocmVmcmVzaClcbiAgICBXZWV4Lmluc3RhbGwobG9hZGluZylcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvaW5kZXguanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvaW5kZXguanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IFZsaXN0IGZyb20gJy4vdmxpc3QnXG5pbXBvcnQgSGxpc3QgZnJvbSAnLi9obGlzdCdcblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBXZWV4Lmluc3RhbGwoVmxpc3QpXG4gIFdlZXguaW5zdGFsbChIbGlzdClcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xpc3QvaW5kZXguanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbGlzdC9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgbGlzdE1vZHVsZSBmcm9tICcuL2xpc3QnXG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgTGlzdCA9IGxpc3RNb2R1bGUuaW5pdChXZWV4KVxuXG4gIGZ1bmN0aW9uIFZsaXN0IChkYXRhLCBub2RlVHlwZSkge1xuICAgIGRhdGEuYXR0ci5kaXJlY3Rpb24gPSAndidcbiAgICBMaXN0LmNhbGwodGhpcywgZGF0YSwgbm9kZVR5cGUpXG4gIH1cbiAgVmxpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0LnByb3RvdHlwZSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdsaXN0JywgVmxpc3QpXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3ZsaXN0JywgVmxpc3QpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9saXN0L3ZsaXN0LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xpc3Qvdmxpc3QuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IHNjcm9sbGFibGVNb2R1bGUgZnJvbSAnLi4vc2Nyb2xsYWJsZSdcblxuY29uc3QgYXZhaWxhYmxlQ2hpbGRyZW5UeXBlcyA9IFsnY2VsbCcsICdsb2FkaW5nJywgJ3JlZnJlc2gnXVxuXG5mdW5jdGlvbiBnZXRQcm90byAoU2Nyb2xsYWJsZSkge1xuICByZXR1cm4ge1xuICAgIGNyZWF0ZSAoKSB7XG4gICAgICBjb25zdCBub2RlID0gU2Nyb2xsYWJsZS5wcm90b3R5cGUuY3JlYXRlLmNhbGwodGhpcylcbiAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnbGlzdC13cmFwJylcbiAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdsaXN0LWVsZW1lbnQnKVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9LFxuXG4gICAgY3JlYXRlQ2hpbGRyZW4gKCkge1xuICAgICAgY29uc3QgY2hpbGRyZW4gPSB0aGlzLmRhdGEuY2hpbGRyZW4gfHwgW11cbiAgICAgIGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGRhdGEudHlwZVxuICAgICAgICBpZiAoYXZhaWxhYmxlQ2hpbGRyZW5UeXBlcy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcignW2g1LXJlbmRlcl0gaW52YWxpZCBjaGlsZCB0eXBlIFwiJ1xuICAgICAgICAgIC8vICAgKyB0eXBlICsgJ1wiIGZvciBsaXN0LicpXG4gICAgICAgICAgY29uc29sZS53YXJuKCdbaDUtcmVuZGVyXSBpbnZhbGlkIGNoaWxkIHR5cGUgXCInXG4gICAgICAgICAgICArIHR5cGUgKyAnXCIgZm9yIGxpc3QuJylcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIHJldHVybiBTY3JvbGxhYmxlLnByb3RvdHlwZS5jcmVhdGVDaGlsZHJlbi5jYWxsKHRoaXMpXG4gICAgfSxcblxuICAgIGFwcGVuZENoaWxkIChkYXRhKSB7XG4gICAgICBjb25zdCB0eXBlID0gZGF0YS50eXBlXG4gICAgICBpZiAoYXZhaWxhYmxlQ2hpbGRyZW5UeXBlcy5pbmRleE9mKHR5cGUpID09PSAtMSkge1xuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ1toNS1yZW5kZXJdIGludmFsaWQgY2hpbGQgdHlwZSBcIidcbiAgICAgICAgLy8gICArIHR5cGUgKyAnXCIgZm9yIGxpc3QuJylcbiAgICAgICAgY29uc29sZS53YXJuKCdbaDUtcmVuZGVyXSBpbnZhbGlkIGNoaWxkIHR5cGUgXCInXG4gICAgICAgICAgKyB0eXBlICsgJ1wiIGZvciBsaXN0LicpXG4gICAgICB9XG4gICAgICByZXR1cm4gU2Nyb2xsYWJsZS5wcm90b3R5cGUuYXBwZW5kQ2hpbGQuY2FsbCh0aGlzLCBkYXRhKVxuICAgIH0sXG5cbiAgICBpbnNlcnRCZWZvcmUgKGNoaWxkLCBiZWZvcmUpIHtcbiAgICAgIGNvbnN0IHR5cGUgPSBjaGlsZC5kYXRhLnR5cGVcbiAgICAgIGlmIChhdmFpbGFibGVDaGlsZHJlblR5cGVzLmluZGV4T2YodHlwZSkgPT09IC0xKSB7XG4gICAgICAgIC8vIHRocm93IG5ldyBFcnJvcignW2g1LXJlbmRlcl0gaW52YWxpZCBjaGlsZCB0eXBlIFwiJ1xuICAgICAgICAvLyAgICsgdHlwZSArICdcIiBmb3IgbGlzdC4nKVxuICAgICAgICBjb25zb2xlLndhcm4oJ1toNS1yZW5kZXJdIGludmFsaWQgY2hpbGQgdHlwZSBcIidcbiAgICAgICAgICArIHR5cGUgKyAnXCIgZm9yIGxpc3QuJylcbiAgICAgIH1cbiAgICAgIHJldHVybiBTY3JvbGxhYmxlLnByb3RvdHlwZS5pbnNlcnRCZWZvcmUuY2FsbCh0aGlzLCBjaGlsZCwgYmVmb3JlKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IFNjcm9sbGFibGUgPSBzY3JvbGxhYmxlTW9kdWxlLmluaXQoV2VleClcbiAgZnVuY3Rpb24gTGlzdCAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgICBTY3JvbGxhYmxlLmNhbGwodGhpcywgZGF0YSwgbm9kZVR5cGUpXG4gIH1cbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICBMaXN0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU2Nyb2xsYWJsZS5wcm90b3R5cGUpXG4gIGV4dGVuZChMaXN0LnByb3RvdHlwZSwgZ2V0UHJvdG8oU2Nyb2xsYWJsZSkpXG5cbiAgcmV0dXJuIExpc3Rcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xpc3QvbGlzdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9saXN0L2xpc3QuanMiLCIvKiBnbG9iYWwgbGliICovXG5cbid1c2Ugc3RyaWN0J1xuXG5yZXF1aXJlKCcuL3Njcm9sbGFibGUuY3NzJylcbnJlcXVpcmUoJy4vc2Nyb2xsJylcblxuLy8gbGliLnNjcm9sbCBldmVudHM6XG4vLyAgLSBzY3JvbGxzdGFydFxuLy8gIC0gc2Nyb2xsaW5nXG4vLyAgLSBwdWxsZG93bmVuZFxuLy8gIC0gcHVsbHVwZW5kXG4vLyAgLSBwdWxsbGVmdGVuZFxuLy8gIC0gcHVsbHJpZ2h0ZW5kXG4vLyAgLSBwdWxsZG93blxuLy8gIC0gcHVsbHVwXG4vLyAgLSBwdWxsbGVmdFxuLy8gIC0gcHVsbHJpZ2h0XG4vLyAgLSBjb250ZW50cmVmcmVzaFxuXG5jb25zdCBkaXJlY3Rpb25NYXAgPSB7XG4gIGg6IFsncm93JywgJ2hvcml6b250YWwnLCAnaCcsICd4J10sXG4gIHY6IFsnY29sdW1uJywgJ3ZlcnRpY2FsJywgJ3YnLCAneSddXG59XG5cbmNvbnN0IERFRkFVTFRfRElSRUNUSU9OID0gJ2NvbHVtbidcbmNvbnN0IERFRkFVTFRfTE9BRF9NT1JFX09GRlNFVCA9IDBcblxuZnVuY3Rpb24gcmVmcmVzaFdoZW5Eb21SZW5kZXJlbmQgKGNvbXApIHtcbiAgaWYgKCFjb21wLnJlbmRlcmVuZEhhbmRsZXIpIHtcbiAgICBjb21wLnJlbmRlcmVuZEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjb21wLnNjcm9sbGVyLnJlZnJlc2goKVxuICAgIH1cbiAgfVxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVuZGVyZW5kJywgY29tcC5yZW5kZXJlbmRIYW5kbGVyKVxufVxuXG5mdW5jdGlvbiByZW1vdmVFdmVudHMgKGNvbXApIHtcbiAgaWYgKGNvbXAucmVuZGVyZW5kSGFuZGxlcikge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZW5kZXJlbmQnLCBjb21wLnJlbmRlcmVuZEhhbmRsZXIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UHJvdG8gKFdlZXgpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcblxuICBmdW5jdGlvbiBjcmVhdGUgKG5vZGVUeXBlKSB7XG4gICAgY29uc3QgU2Nyb2xsID0gbGliLnNjcm9sbFxuICAgIGNvbnN0IG5vZGUgPSBDb21wb25lbnQucHJvdG90eXBlLmNyZWF0ZS5jYWxsKHRoaXMsIG5vZGVUeXBlKVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnd2VleC1jb250YWluZXInKVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnc2Nyb2xsYWJsZS13cmFwJylcbiAgICB0aGlzLnNjcm9sbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbnRhaW5lcicpXG4gICAgdGhpcy5zY3JvbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Njcm9sbGFibGUtZWxlbWVudCcpXG4gICAgdGhpcy5zY3JvbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2Rpci0nICsgdGhpcy5kaXJlY3Rpb24pXG5cbiAgICB0aGlzLnNjcm9sbEVsZW1lbnQuc3R5bGUud2Via2l0Qm94T3JpZW50ID0gZGlyZWN0aW9uTWFwW3RoaXMuZGlyZWN0aW9uXVsxXVxuICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5zdHlsZS53ZWJraXRGbGV4RGlyZWN0aW9uID0gZGlyZWN0aW9uTWFwW3RoaXMuZGlyZWN0aW9uXVswXVxuICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gZGlyZWN0aW9uTWFwW3RoaXMuZGlyZWN0aW9uXVswXVxuXG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLnNjcm9sbEVsZW1lbnQpXG4gICAgdGhpcy5zY3JvbGxlciA9IG5ldyBTY3JvbGwoe1xuICAgICAgLy8gaWYgdGhlIGRpcmVjdGlvbiBpcyB4LCB0aGVuIHRoZSBib3VuZGluZyByZWN0IG9mIHRoZSBzY3JvbGwgZWxlbWVudFxuICAgICAgLy8gc2hvdWxkIGJlIGdvdCBieSB0aGUgJ1JhbmdlJyBBUEkgb3RoZXIgdGhhbiB0aGUgJ2dldEJvdW5kaW5nQ2xpZW50UmVjdCdcbiAgICAgIC8vIEFQSSwgYmVjYXVzZSB0aGUgd2lkdGggb3V0c2lkZSB0aGUgdmlld3BvcnQgd29uJ3QgYmUgY291bnQgaW4gYnlcbiAgICAgIC8vICdnZXRCb3VuZGluZ0NsaWVudFJlY3QnLlxuICAgICAgLy8gT3RoZXJ3aXNlIHNob3VsZCB1c2UgdGhlIGVsZW1lbnQgcmVjdCBpbiBjYXNlIHRoZXJlIGlzIGEgY2hpbGQgc2Nyb2xsZXJcbiAgICAgIC8vIG9yIGxpc3QgaW4gdGhpcyBzY3JvbGxlci4gSWYgdXNpbmcgJ1JhbmdlJywgdGhlIHdob2xlIHNjcm9sbCBlbGVtZW50XG4gICAgICAvLyBpbmNsdWRpbmcgdGhlIGhpZGluZyBwYXJ0IHdpbGwgYmUgY291bnQgaW4gdGhlIHJlY3QuXG4gICAgICB1c2VFbGVtZW50UmVjdDogdGhpcy5kaXJlY3Rpb24gPT09ICd2JyxcbiAgICAgIHNjcm9sbEVsZW1lbnQ6IHRoaXMuc2Nyb2xsRWxlbWVudCxcbiAgICAgIGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb24gPT09ICdoJyA/ICd4JyA6ICd5J1xuICAgIH0pXG4gICAgdGhpcy5zY3JvbGxlci5pbml0KClcbiAgICB0aGlzLm9mZnNldCA9IDBcbiAgICByZXR1cm4gbm9kZVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4gKCkge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5kYXRhLmNoaWxkcmVuXG4gICAgY29uc3QgcGFyZW50UmVmID0gdGhpcy5kYXRhLnJlZlxuICAgIGNvbnN0IGNvbXBvbmVudE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKVxuICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXG4gICAgICBsZXQgaXNGbGV4ID0gZmFsc2VcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hpbGRyZW5baV0uaW5zdGFuY2VJZCA9IHRoaXMuZGF0YS5pbnN0YW5jZUlkXG4gICAgICAgIGNoaWxkcmVuW2ldLnNjYWxlID0gdGhpcy5kYXRhLnNjYWxlXG4gICAgICAgIGNvbnN0IGNoaWxkID0gY29tcG9uZW50TWFuYWdlci5jcmVhdGVFbGVtZW50KGNoaWxkcmVuW2ldKVxuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChjaGlsZC5ub2RlKVxuICAgICAgICBjaGlsZC5wYXJlbnRSZWYgPSBwYXJlbnRSZWZcbiAgICAgICAgaWYgKCFpc0ZsZXhcbiAgICAgICAgICAgICYmIGNoaWxkLmRhdGEuc3R5bGVcbiAgICAgICAgICAgICYmIGNoaWxkLmRhdGEuc3R5bGUuaGFzT3duUHJvcGVydHkoJ2ZsZXgnKVxuICAgICAgICAgICkge1xuICAgICAgICAgIGlzRmxleCA9IHRydWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5zY3JvbGxFbGVtZW50LmFwcGVuZENoaWxkKGZyYWdtZW50KVxuICAgIH1cbiAgICAvLyB3YWl0IGZvciBmcmFnbWVudCB0byBhcHBlbmRlZCBvbiBzY3JvbGxFbGVtZW50IG9uIFVJIHRocmVhZC5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMuc2Nyb2xsZXIucmVmcmVzaCgpXG4gICAgfS5iaW5kKHRoaXMpLCAwKVxuICB9XG5cbiAgZnVuY3Rpb24gYXBwZW5kQ2hpbGQgKGRhdGEpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZGF0YS5jaGlsZHJlblxuICAgIGNvbnN0IGNvbXBvbmVudE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKVxuICAgIGNvbnN0IGNoaWxkID0gY29tcG9uZW50TWFuYWdlci5jcmVhdGVFbGVtZW50KGRhdGEpXG4gICAgdGhpcy5zY3JvbGxFbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkLm5vZGUpXG5cbiAgICAvLyB3YWl0IGZvciBVSSB0aHJlYWQgdG8gdXBkYXRlLlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zY3JvbGxlci5yZWZyZXNoKClcbiAgICB9LmJpbmQodGhpcyksIDApXG5cbiAgICAvLyB1cGRhdGUgdGhpcy5kYXRhLmNoaWxkcmVuXG4gICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICB0aGlzLmRhdGEuY2hpbGRyZW4gPSBbZGF0YV1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjaGlsZHJlbi5wdXNoKGRhdGEpXG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkXG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnRCZWZvcmUgKGNoaWxkLCBiZWZvcmUpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZGF0YS5jaGlsZHJlblxuICAgIGxldCBpID0gMFxuICAgIGxldCBpc0FwcGVuZCA9IGZhbHNlXG5cbiAgICAvLyB1cGRhdGUgdGhpcy5kYXRhLmNoaWxkcmVuXG4gICAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoIHx8ICFiZWZvcmUpIHtcbiAgICAgIGlzQXBwZW5kID0gdHJ1ZVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGxldCBsXG4gICAgICBmb3IgKGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnJlZiA9PT0gYmVmb3JlLmRhdGEucmVmKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGkgPT09IGwpIHtcbiAgICAgICAgaXNBcHBlbmQgPSB0cnVlXG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzQXBwZW5kKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGQubm9kZSlcbiAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQuZGF0YSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCByZWZyZXNoTG9hZGluZ1BsYWNlaG9sZGVyID0gYmVmb3JlLnJlZnJlc2hQbGFjZWhvbGRlclxuICAgICAgICB8fCBiZWZvcmUubG9hZGluZ1BsYWNlaG9sZGVyXG4gICAgICBpZiAocmVmcmVzaExvYWRpbmdQbGFjZWhvbGRlcikge1xuICAgICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLm5vZGUsIHJlZnJlc2hMb2FkaW5nUGxhY2Vob2xkZXIpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChiZWZvcmUuZml4ZWRQbGFjZWhvbGRlcikge1xuICAgICAgICB0aGlzLnNjcm9sbEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGNoaWxkLm5vZGUsIGJlZm9yZS5maXhlZFBsYWNlaG9sZGVyKVxuICAgICAgfVxuICAgICAgZWxzZSBpZiAoYmVmb3JlLnN0aWNreVBsYWNlaG9sZGVyKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQubm9kZSwgYmVmb3JlLnN0aWNreVBsYWNlaG9sZGVyKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQubm9kZSwgYmVmb3JlLm5vZGUpXG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMCwgY2hpbGQuZGF0YSlcbiAgICB9XG5cbiAgICAvLyB3YWl0IGZvciBVSSB0aHJlYWQgdG8gdXBkYXRlLlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zY3JvbGxlci5yZWZyZXNoKClcbiAgICB9LmJpbmQodGhpcyksIDApXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVDaGlsZCAoY2hpbGQpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMuZGF0YS5jaGlsZHJlblxuICAgIC8vIHJlbW92ZSBmcm9tIHRoaXMuZGF0YS5jaGlsZHJlblxuICAgIGxldCBpID0gMFxuICAgIGNvbnN0IGNvbXBvbmVudE1hbmFnZXIgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKVxuICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgIGxldCBsXG4gICAgICBmb3IgKGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnJlZiA9PT0gY2hpbGQuZGF0YS5yZWYpIHtcbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaSA8IGwpIHtcbiAgICAgICAgY2hpbGRyZW4uc3BsaWNlKGksIDEpXG4gICAgICB9XG4gICAgfVxuICAgIC8vIHJlbW92ZSBmcm9tIGNvbXBvbmVudE1hcCByZWN1cnNpdmVseVxuICAgIGNvbXBvbmVudE1hbmFnZXIucmVtb3ZlQ29tcG9uZW50KGNoaWxkLmRhdGEucmVmKVxuICAgIGNvbnN0IHJlZnJlc2hMb2FkaW5nUGxhY2Vob2xkZXIgPSBjaGlsZC5yZWZyZXNoUGxhY2Vob2xkZXJcbiAgICAgIHx8IGNoaWxkLmxvYWRpbmdQbGFjZWhvbGRlclxuICAgIGNoaWxkLnVuc2V0UG9zaXRpb24oKVxuICAgIGlmIChyZWZyZXNoTG9hZGluZ1BsYWNlaG9sZGVyKSB7XG4gICAgICB0aGlzLnNjcm9sbEVsZW1lbnQucmVtb3ZlQ2hpbGQocmVmcmVzaExvYWRpbmdQbGFjZWhvbGRlcilcbiAgICB9XG4gICAgY2hpbGQubm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkLm5vZGUpXG5cbiAgICAvLyB3YWl0IGZvciBVSSB0aHJlYWQgdG8gdXBkYXRlLlxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5zY3JvbGxlci5yZWZyZXNoKClcbiAgICB9LmJpbmQodGhpcyksIDApXG4gIH1cblxuICBmdW5jdGlvbiBiaW5kRXZlbnRzIChldnRzKSB7XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwodGhpcywgZXZ0cylcbiAgICAvLyB0byBlbmFibGUgbGF6eWxvYWQgZm9yIEltYWdlc1xuICAgIHRoaXMuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsaW5nJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNvbnN0IHNvID0gZS5zY3JvbGxPYmpcbiAgICAgIGNvbnN0IHNjcm9sbFRvcCA9IHNvLmdldFNjcm9sbFRvcCgpXG4gICAgICBjb25zdCBzY3JvbGxMZWZ0ID0gc28uZ2V0U2Nyb2xsTGVmdCgpXG4gICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmRpcmVjdGlvbiA9PT0gJ3YnID8gc2Nyb2xsVG9wIDogc2Nyb2xsTGVmdFxuICAgICAgY29uc3QgZGlmZiA9IG9mZnNldCAtIHRoaXMub2Zmc2V0XG4gICAgICBsZXQgZGlyXG4gICAgICBpZiAoZGlmZiA+PSAwKSB7XG4gICAgICAgIGRpciA9IHRoaXMuZGlyZWN0aW9uID09PSAndicgPyAndXAnIDogJ2xlZnQnXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGlyID0gdGhpcy5kaXJlY3Rpb24gPT09ICd2JyA/ICdkb3duJyA6ICdyaWdodCdcbiAgICAgIH1cbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCgnc2Nyb2xsJywge1xuICAgICAgICBvcmlnaW5hbFR5cGU6ICdzY3JvbGxpbmcnLFxuICAgICAgICBzY3JvbGxUb3A6IHNvLmdldFNjcm9sbFRvcCgpLFxuICAgICAgICBzY3JvbGxMZWZ0OiBzby5nZXRTY3JvbGxMZWZ0KCksXG4gICAgICAgIG9mZnNldDogb2Zmc2V0LFxuICAgICAgICBkaXJlY3Rpb246IGRpclxuICAgICAgfSwge1xuICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICB9KVxuICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXRcblxuICAgICAgLy8gZmlyZSBsb2FkbW9yZSBldmVudC5cbiAgICAgIGNvbnN0IGxlZnREaXN0ID0gTWF0aC5hYnMoc28ubWF4U2Nyb2xsT2Zmc2V0KSAtIHRoaXMub2Zmc2V0XG4gICAgICBpZiAobGVmdERpc3QgPD0gdGhpcy5sb2FkbW9yZW9mZnNldCAmJiB0aGlzLmlzQXZhaWxhYmxlVG9GaXJlbG9hZG1vcmUpIHtcbiAgICAgICAgdGhpcy5pc0F2YWlsYWJsZVRvRmlyZWxvYWRtb3JlID0gZmFsc2VcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KCdsb2FkbW9yZScpXG4gICAgICB9XG4gICAgICBlbHNlIGlmIChsZWZ0RGlzdCA+IHRoaXMubG9hZG1vcmVvZmZzZXQgJiYgIXRoaXMuaXNBdmFpbGFibGVUb0ZpcmVsb2FkbW9yZSkge1xuICAgICAgICB0aGlzLmlzQXZhaWxhYmxlVG9GaXJlbG9hZG1vcmUgPSB0cnVlXG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpKVxuICB9XG5cbiAgZnVuY3Rpb24gb25BcHBlbmQgKCkge1xuICAgIHJlZnJlc2hXaGVuRG9tUmVuZGVyZW5kKHRoaXMpXG4gIH1cblxuICBmdW5jdGlvbiBvblJlbW92ZSAoKSB7XG4gICAgcmVtb3ZlRXZlbnRzKHRoaXMpXG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZSxcbiAgICBjcmVhdGVDaGlsZHJlbixcbiAgICBhcHBlbmRDaGlsZCxcbiAgICBpbnNlcnRCZWZvcmUsXG4gICAgcmVtb3ZlQ2hpbGQsXG4gICAgYmluZEV2ZW50cyxcbiAgICBvbkFwcGVuZCxcbiAgICBvblJlbW92ZVxuICB9XG59XG5cbmNvbnN0IGF0dHIgPSB7XG4gIGxvYWRtb3Jlb2Zmc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpXG4gICAgaWYgKHZhbCA8IDAgfHwgaXNOYU4odmFsKSkge1xuICAgICAgY29uc29sZS53YXJuKCdbaDUtcmVuZGVyXSBpbnZhbGlkYScpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5sb2FkbW9yZW9mZnNldCA9IHZhbFxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICAvLyBhdHRyczpcbiAgLy8gIC0gbG9hZG1vcmVvZmZzZXQ6IHVwZGF0YWJsZVxuICAvLyAgLSBzY3JvbGwtZGlyZWNpdG9uOiBub25lfHZlcnRpY2FsfGhvcml6b250YWwgKGRlZmF1bHQgaXMgdmVydGljYWwpXG4gIC8vICAtIHNob3ctc2Nyb2xsYmFyOiB0cnVlfGZhbHNlIChkZWZhdWx0IGlzIHRydWUpXG4gIGZ1bmN0aW9uIFNjcm9sbGFibGUgKGRhdGEsIG5vZGVUeXBlKSB7XG4gICAgdGhpcy5sb2FkbW9yZW9mZnNldCA9IERFRkFVTFRfTE9BRF9NT1JFX09GRlNFVFxuICAgIHRoaXMuaXNBdmFpbGFibGVUb0ZpcmVsb2FkbW9yZSA9IHRydWVcbiAgICBjb25zdCBhdHRycyA9IGRhdGEuYXR0ciB8fCB7fVxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IGF0dHJzLnNjcm9sbERpcmVjdGlvblxuICAgICAgfHwgYXR0cnMuZGlyZWN0aW9uXG4gICAgICB8fCBERUZBVUxUX0RJUkVDVElPTlxuICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uTWFwLmguaW5kZXhPZihkaXJlY3Rpb24pID09PSAtMVxuICAgICAgPyAndidcbiAgICAgIDogJ2gnXG4gICAgdGhpcy5zaG93U2Nyb2xsYmFyID0gYXR0cnMuc2hvd1Njcm9sbGJhciB8fCB0cnVlXG4gICAgQ29tcG9uZW50LmNhbGwodGhpcywgZGF0YSwgbm9kZVR5cGUpXG4gIH1cbiAgU2Nyb2xsYWJsZS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpXG4gIGV4dGVuZChTY3JvbGxhYmxlLnByb3RvdHlwZSwgZ2V0UHJvdG8oV2VleCkpXG4gIGV4dGVuZChTY3JvbGxhYmxlLnByb3RvdHlwZSwgeyBhdHRyIH0pXG4gIHJldHVybiBTY3JvbGxhYmxlXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL3Njcm9sbGFibGUuanMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Njcm9sbGFibGUuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3Njcm9sbGFibGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc2Nyb2xsYWJsZS5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvc2Nyb2xsYWJsZS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmNzcz9hZmUxIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuc2Nyb2xsYWJsZS13cmFwIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLnNjcm9sbGFibGUtZWxlbWVudC5ob3Jpem9udGFsIHtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxufVxcbi5zY3JvbGxhYmxlLWVsZW1lbnQudmVydGljYWwge1xcbiAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDtcXG4gIC13ZWJraXQtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvc2Nyb2xsYWJsZS5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxhYmxlLmNzcyIsIi8qIGVzbGludC1kaXNhYmxlICovXG5cbnJlcXVpcmUoJy4vbW90aW9uJylcblxudmFyIGRvYyA9IHdpbmRvdy5kb2N1bWVudFxudmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnRcbnZhciBzY3JvbGxPYmpzID0ge31cbnZhciBwbHVnaW5zID0ge31cbnZhciBkcHIgPSB3aW5kb3cuZHByXG4gIHx8ICghIXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9pUGhvbmV8aVBhZHxpUG9kLylcbiAgICA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAvIHdpbmRvdy5zY3JlZW4uYXZhaWxXaWR0aFxuICAgIDogMSlcbnZhciBpbmVydGlhQ29lZmZpY2llbnQgPSB7XG4gIG5vcm1hbDogWzIgKiBkcHIsIDAuMDAxNSAqIGRwcl0sXG4gIHNsb3c6IFsxLjUgKiBkcHIsIDAuMDAzICogZHByXSxcbiAgdmVyeXNsb3c6IFsxLjUgKiBkcHIsIDAuMDA1ICogZHByXVxufVxudmFyIHRpbWVGdW5jdGlvbiA9IHtcbiAgZWFzZTogWy4yNSwuMSwuMjUsMV0sXG4gIGxpbmVyOiBbMCwwLDEsMV0sXG4gICdlYXNlLWluJzogWy40MiwwLDEsMV0sXG4gICdlYXNlLW91dCc6IFswLDAsLjU4LDFdLFxuICAnZWFzZS1pbi1vdXQnOiBbLjQyLDAsLjU4LDFdXG59XG52YXIgRmlyZWZveCA9ICEhdWEubWF0Y2goL0ZpcmVmb3gvaSlcbnZhciBJRU1vYmlsZSA9ICEhdWEubWF0Y2goL0lFTW9iaWxlL2kpXG52YXIgY3NzUHJlZml4ID0gRmlyZWZveCA/ICctbW96LScgOiBJRU1vYmlsZSA/ICctbXMtJyA6ICctd2Via2l0LSdcbnZhciBzdHlsZVByZWZpeCA9IEZpcmVmb3ggPyAnTW96JyA6IElFTW9iaWxlID8gJ21zJyA6ICd3ZWJraXQnXG5cbmZ1bmN0aW9uIGRlYnVnTG9nKCkge1xuICBpZiAobGliLnNjcm9sbC5vdXRwdXREZWJ1Z0xvZykge1xuICAgIGNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsIGFyZ3VtZW50cylcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpIHtcbiAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBpZiAoIXJlY3QpIHtcbiAgICByZWN0ID0ge31cbiAgICByZWN0LndpZHRoID0gZWwub2Zmc2V0V2lkdGhcbiAgICByZWN0LmhlaWdodCA9IGVsLm9mZnNldEhlaWdodFxuXG4gICAgcmVjdC5sZWZ0ID0gZWwub2Zmc2V0TGVmdFxuICAgIHJlY3QudG9wID0gZWwub2Zmc2V0VG9wXG4gICAgdmFyIHBhcmVudCA9IGVsLm9mZnNldFBhcmVudFxuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIHJlY3QubGVmdCArPSBwYXJlbnQub2Zmc2V0TGVmdFxuICAgICAgcmVjdC50b3AgKz0gcGFyZW50Lm9mZnNldFRvcFxuICAgICAgcGFyZW50ID0gcGFyZW50Lm9mZnNldFBhcmVudFxuICAgIH1cblxuICAgIHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyByZWN0LndpZHRoXG4gICAgcmVjdC5ib3R0b20gPSByZWN0LnRvcCArIHJlY3QuaGVpZ2h0XG4gIH1cbiAgcmV0dXJuIHJlY3Rcbn1cblxuZnVuY3Rpb24gZ2V0TWluU2Nyb2xsT2Zmc2V0KHNjcm9sbE9iaikge1xuICByZXR1cm4gMCAtIHNjcm9sbE9iai5vcHRpb25zW3Njcm9sbE9iai5heGlzICsgJ1BhZGRpbmdUb3AnXVxufVxuXG5mdW5jdGlvbiBnZXRNYXhTY3JvbGxPZmZzZXQoc2Nyb2xsT2JqKSB7XG4gIHZhciByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHNjcm9sbE9iai5lbGVtZW50KVxuICB2YXIgcFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3Qoc2Nyb2xsT2JqLnZpZXdwb3J0KVxuICB2YXIgbWluID0gZ2V0TWluU2Nyb2xsT2Zmc2V0KHNjcm9sbE9iailcbiAgaWYgKHNjcm9sbE9iai5heGlzID09PSAneScpIHtcbiAgICB2YXIgbWF4ID0gMCAtIHJlY3QuaGVpZ2h0ICsgcFJlY3QuaGVpZ2h0XG4gIH0gZWxzZSB7XG4gICAgdmFyIG1heCA9IDAgLSByZWN0LndpZHRoICsgcFJlY3Qud2lkdGhcbiAgfVxuICByZXR1cm4gTWF0aC5taW4oXG4gICAgbWF4ICsgc2Nyb2xsT2JqLm9wdGlvbnNbc2Nyb2xsT2JqLmF4aXMgKyAnUGFkZGluZ0JvdHRvbSddLFxuICAgIG1pblxuICApXG59XG5cbmZ1bmN0aW9uIGdldEJvdW5kYXJ5T2Zmc2V0KHNjcm9sbE9iaiwgb2Zmc2V0KSB7XG4gIGlmIChvZmZzZXQgPiBzY3JvbGxPYmoubWluU2Nyb2xsT2Zmc2V0KSB7XG4gICAgcmV0dXJuIG9mZnNldCAtIHNjcm9sbE9iai5taW5TY3JvbGxPZmZzZXRcbiAgfVxuICBpZiAob2Zmc2V0IDwgc2Nyb2xsT2JqLm1heFNjcm9sbE9mZnNldCkge1xuICAgIHJldHVybiBvZmZzZXQgLSBzY3JvbGxPYmoubWF4U2Nyb2xsT2Zmc2V0XG4gIH1cbn1cblxuZnVuY3Rpb24gdG91Y2hCb3VuZGFyeShzY3JvbGxPYmosIG9mZnNldCkge1xuICBpZiAob2Zmc2V0ID4gc2Nyb2xsT2JqLm1pblNjcm9sbE9mZnNldCkge1xuICAgIG9mZnNldCA9IHNjcm9sbE9iai5taW5TY3JvbGxPZmZzZXRcbiAgfSBlbHNlIGlmIChvZmZzZXQgPCBzY3JvbGxPYmoubWF4U2Nyb2xsT2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gc2Nyb2xsT2JqLm1heFNjcm9sbE9mZnNldFxuICB9XG4gIHJldHVybiBvZmZzZXRcbn1cblxuZnVuY3Rpb24gZmlyZUV2ZW50KHNjcm9sbE9iaiwgZXZlbnROYW1lLCBleHRyYSkge1xuICBkZWJ1Z0xvZyhzY3JvbGxPYmouZWxlbWVudC5zY3JvbGxJZCwgZXZlbnROYW1lLCBleHRyYSlcbiAgdmFyIGV2ZW50ID0gZG9jLmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJylcbiAgZXZlbnQuaW5pdEV2ZW50KGV2ZW50TmFtZSwgZmFsc2UsIHRydWUpXG4gIGV2ZW50LnNjcm9sbE9iaiA9IHNjcm9sbE9ialxuICBpZiAoZXh0cmEpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZXh0cmEpIHtcbiAgICAgIGV2ZW50W2tleV0gPSBleHRyYVtrZXldXG4gICAgfVxuICB9XG4gIHNjcm9sbE9iai5lbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpXG4gIHNjcm9sbE9iai52aWV3cG9ydC5kaXNwYXRjaEV2ZW50KGV2ZW50KVxufVxuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1PZmZzZXQoc2Nyb2xsT2JqKSB7XG4gIHZhciBvZmZzZXQgPSB7eDogMCwgeTogMH1cbiAgdmFyIHRyYW5zZm9ybSA9IGdldENvbXB1dGVkU3R5bGUoc2Nyb2xsT2JqLmVsZW1lbnQpXG4gICAgW3N0eWxlUHJlZml4ICsgJ1RyYW5zZm9ybSddXG4gIHZhciBtYXRjaGVkXG4gIHZhciByZWcxID0gbmV3IFJlZ0V4cCgnXm1hdHJpeDNkJ1xuICAgICsgJ1xcXFwoKD86Wy1cXFxcZC5dKyxcXFxccyopezEyfShbLVxcXFxkLl0rKSwnXG4gICAgKyAnXFxcXHMqKFstXFxcXGQuXSspKD86LFxcXFxzKlstXFxcXGQuXSspezJ9XFxcXCknKVxuICB2YXIgcmVnMiA9IG5ldyBSZWdFeHAoJ15tYXRyaXgnXG4gICAgKyAnXFxcXCgoPzpbLVxcXFxkLl0rLFxcXFxzKil7NH0oWy1cXFxcZC5dKyksXFxcXHMqKFstXFxcXGQuXSspXFxcXCkkJylcbiAgaWYgKHRyYW5zZm9ybSAhPT0gJ25vbmUnKSB7XG4gICAgaWYgKChtYXRjaGVkID0gdHJhbnNmb3JtLm1hdGNoKHJlZzEpIHx8XG4gICAgICAgIHRyYW5zZm9ybS5tYXRjaChyZWcyKSkpIHtcbiAgICAgIG9mZnNldC54ID0gcGFyc2VGbG9hdChtYXRjaGVkWzFdKSB8fCAwXG4gICAgICBvZmZzZXQueSA9IHBhcnNlRmxvYXQobWF0Y2hlZFsyXSkgfHwgMFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvZmZzZXRcbn1cblxudmFyIENTU01hdHJpeCA9IElFTW9iaWxlID8gJ01TQ1NTTWF0cml4JyA6ICdXZWJLaXRDU1NNYXRyaXgnXG52YXIgaGFzM2QgPSAhIUZpcmVmb3hcbiAgfHwgQ1NTTWF0cml4IGluIHdpbmRvd1xuICAmJiAnbTExJyBpbiBuZXcgd2luZG93W0NTU01hdHJpeF0oKVxuZnVuY3Rpb24gZ2V0VHJhbnNsYXRlKHgsIHkpIHtcbiAgeCA9IHBhcnNlRmxvYXQoeClcbiAgeSA9IHBhcnNlRmxvYXQoeSlcblxuICBpZiAoeCAhPSAwKSB7XG4gICAgeCArPSAncHgnXG4gIH1cblxuICBpZiAoeSAhPSAwKSB7XG4gICAgeSArPSAncHgnXG4gIH1cblxuICBpZiAoaGFzM2QpIHtcbiAgICByZXR1cm4gJ3RyYW5zbGF0ZTNkKCcgKyB4ICsgJywgJyArIHkgKyAnLCAwKSdcbiAgfVxuICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgeCArICcsICcgKyB5ICsgJyknXG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zaXRpb25TdHlsZShzY3JvbGxPYmosIGR1cmF0aW9uLCB0aW1pbmdGdW5jdGlvbikge1xuICBpZiAoZHVyYXRpb24gPT09ICcnICYmIHRpbWluZ0Z1bmN0aW9uID09PSAnJykge1xuICAgIHNjcm9sbE9iai5lbGVtZW50LnN0eWxlW3N0eWxlUHJlZml4ICsgJ1RyYW5zaXRpb24nXSA9ICcnXG4gIH0gZWxzZSB7XG4gICAgc2Nyb2xsT2JqLmVsZW1lbnQuc3R5bGVbc3R5bGVQcmVmaXggKyAnVHJhbnNpdGlvbiddXG4gICAgICA9IGNzc1ByZWZpeCArICd0cmFuc2Zvcm0gJyArIGR1cmF0aW9uICsgJyAnICsgdGltaW5nRnVuY3Rpb24gKyAnIDBzJ1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldFRyYW5zZm9ybVN0eWxlKHNjcm9sbE9iaiwgb2Zmc2V0KSB7XG4gIHZhciB4ID0gMFxuICB2YXIgeSA9IDBcbiAgaWYgKHR5cGVvZiBvZmZzZXQgPT09ICdvYmplY3QnKSB7XG4gICAgeCA9IG9mZnNldC54XG4gICAgeSA9IG9mZnNldC55XG4gIH0gZWxzZSB7XG4gICAgaWYgKHNjcm9sbE9iai5heGlzID09PSAneScpIHtcbiAgICAgIHkgPSBvZmZzZXRcbiAgICB9IGVsc2Uge1xuICAgICAgeCA9IG9mZnNldFxuICAgIH1cbiAgfVxuICBzY3JvbGxPYmouZWxlbWVudC5zdHlsZVtzdHlsZVByZWZpeCArICdUcmFuc2Zvcm0nXSA9IGdldFRyYW5zbGF0ZSh4LCB5KVxufVxuXG52YXIgcGFubmluZyA9IGZhbHNlXG5kb2MuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgaWYgKHBhbm5pbmcpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICByZXR1cm4gdHJ1ZVxufSwgZmFsc2UpXG5cbmZ1bmN0aW9uIFNjcm9sbChlbGVtZW50LCBvcHRpb25zKSB7XG4gIHZhciB0aGF0ID0gdGhpc1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIG9wdGlvbnMubm9Cb3VuY2UgPSAhIW9wdGlvbnMubm9Cb3VuY2VcbiAgb3B0aW9ucy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nIHx8IHt9XG5cbiAgaWYgKG9wdGlvbnMuaXNQcmV2ZW50ID09IG51bGwpIHtcbiAgICBvcHRpb25zLmlzUHJldmVudCA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmlzUHJldmVudCA9ICEhb3B0aW9ucy5pc1ByZXZlbnRcbiAgfVxuXG4gIGlmIChvcHRpb25zLmlzRml4U2Nyb2xsZW5kQ2xpY2sgPT0gbnVsbCkge1xuICAgIG9wdGlvbnMuaXNGaXhTY3JvbGxlbmRDbGljayA9IHRydWVcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLmlzRml4U2Nyb2xsZW5kQ2xpY2sgPSAhIW9wdGlvbnMuaXNGaXhTY3JvbGxlbmRDbGlja1xuICB9XG5cbiAgaWYgKG9wdGlvbnMucGFkZGluZykge1xuICAgIG9wdGlvbnMueVBhZGRpbmdUb3AgPSAtb3B0aW9ucy5wYWRkaW5nLnRvcCB8fCAwXG4gICAgb3B0aW9ucy55UGFkZGluZ0JvdHRvbSA9IC1vcHRpb25zLnBhZGRpbmcuYm90dG9tIHx8IDBcbiAgICBvcHRpb25zLnhQYWRkaW5nVG9wID0gLW9wdGlvbnMucGFkZGluZy5sZWZ0IHx8IDBcbiAgICBvcHRpb25zLnhQYWRkaW5nQm90dG9tID0gLW9wdGlvbnMucGFkZGluZy5yaWdodCB8fCAwXG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucy55UGFkZGluZ1RvcCA9IDBcbiAgICBvcHRpb25zLnlQYWRkaW5nQm90dG9tID0gMFxuICAgIG9wdGlvbnMueFBhZGRpbmdUb3AgPSAwXG4gICAgb3B0aW9ucy54UGFkZGluZ0JvdHRvbSA9IDBcbiAgfVxuXG4gIG9wdGlvbnMuZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24gfHwgJ3knXG4gIG9wdGlvbnMuaW5lcnRpYSA9IG9wdGlvbnMuaW5lcnRpYSB8fCAnbm9ybWFsJ1xuXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgdGhhdC5heGlzID0gb3B0aW9ucy5kaXJlY3Rpb25cbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICB0aGlzLnZpZXdwb3J0ID0gZWxlbWVudC5wYXJlbnROb2RlXG4gIHRoaXMucGx1Z2lucyA9IHt9XG5cbiAgdGhpcy5lbGVtZW50LnNjcm9sbElkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgc2Nyb2xsT2Jqc1t0aGF0LmVsZW1lbnQuc2Nyb2xsSWQgKyAnJ10gPSB0aGF0XG4gIH0sIDEpXG5cbiAgdGhpcy52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdG91Y2hzdGFydEhhbmRsZXIsIGZhbHNlKVxuICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdG91Y2hlbmRIYW5kbGVyLCBmYWxzZSlcbiAgdGhpcy52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHRvdWNoZW5kSGFuZGxlciwgZmFsc2UpXG4gIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcigncGFuc3RhcnQnLCBwYW5zdGFydEhhbmRsZXIsIGZhbHNlKVxuICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3Bhbm1vdmUnLCBwYW5IYW5kbGVyLCBmYWxzZSlcbiAgdGhpcy52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdwYW5lbmQnLCBwYW5lbmRIYW5kbGVyLCBmYWxzZSlcblxuICBpZiAob3B0aW9ucy5pc1ByZXZlbnQpIHtcbiAgICB0aGlzLnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgcGFubmluZyA9IHRydWVcbiAgICB9LCBmYWxzZSlcbiAgICB0aGF0LnZpZXdwb3J0LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHBhbm5pbmcgPSBmYWxzZVxuICAgIH0sIGZhbHNlKVxuICB9XG5cbiAgLy8gaWYgKG9wdGlvbnMuaXNQcmV2ZW50KSB7XG4gIC8vICAgdmFyIGQgPSB0aGlzLmF4aXMgPT09ICd5Jz8ndmVydGljYWwnOidob3Jpem9udGFsJ1xuICAvLyAgIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihkICsgJ3BhbnN0YXJ0JywgZnVuY3Rpb24gKGUpIHtcbiAgLy8gICAgIHBhbm5pbmcgPSB0cnVlXG4gIC8vICAgfSwgZmFsc2UpXG4gIC8vICAgdGhhdC52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdwYW5lbmQnLCBmdW5jdGlvbiAoZSkge1xuICAvLyAgICAgcGFubmluZyA9IGZhbHNlXG4gIC8vICAgfSwgZmFsc2UpXG4gIC8vIH1cblxuICBpZiAob3B0aW9ucy5pc0ZpeFNjcm9sbGVuZENsaWNrKSB7XG4gICAgdmFyIHByZXZlbnRTY3JvbGxlbmRDbGlja1xuICAgIHZhciBmaXhTY3JvbGxlbmRDbGlja1RpbWVvdXRJZFxuXG4gICAgdGhpcy52aWV3cG9ydC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGxpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBwcmV2ZW50U2Nyb2xsZW5kQ2xpY2sgPSB0cnVlXG4gICAgICBmaXhTY3JvbGxlbmRDbGlja1RpbWVvdXRJZCAmJiBjbGVhclRpbWVvdXQoZml4U2Nyb2xsZW5kQ2xpY2tUaW1lb3V0SWQpXG4gICAgICBmaXhTY3JvbGxlbmRDbGlja1RpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcHJldmVudFNjcm9sbGVuZENsaWNrID0gZmFsc2VcbiAgICAgIH0sIDQwMClcbiAgICB9LCBmYWxzZSlcblxuICAgIGZ1bmN0aW9uIHByZXZlbnRTY3JvbGxlbmRDbGlja0hhbmRsZXIoZSkge1xuICAgICAgaWYgKHByZXZlbnRTY3JvbGxlbmRDbGljayB8fCBpc1Njcm9sbGluZykge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmlyZU5pY2VUYXBFdmVudEhhbmRsZXIoZSkge1xuICAgICAgaWYgKCFwcmV2ZW50U2Nyb2xsZW5kQ2xpY2sgJiYgIWlzU2Nyb2xsaW5nKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBuaWNlVGFwRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpXG4gICAgICAgICAgbmljZVRhcEV2ZW50LmluaXRFdmVudCgnbmljZWNsaWNrJywgdHJ1ZSwgdHJ1ZSlcbiAgICAgICAgICBlLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5pY2VUYXBFdmVudClcbiAgICAgICAgfSwgMzAwKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwcmV2ZW50U2Nyb2xsZW5kQ2xpY2tIYW5kbGVyKVxuICAgIHRoaXMudmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcigndGFwJywgZmlyZU5pY2VUYXBFdmVudEhhbmRsZXIpXG4gIH1cblxuICBmdW5jdGlvbiBzZXRUcmFuc2l0aW9uRW5kSGFuZGxlcihoLCB0KSB7XG4gICAgaWYgKG9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IG51bGxcbiAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvbkVuZFRpbWVvdXRJZClcblxuICAgIHRyYW5zaXRpb25FbmRUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0cmFuc2l0aW9uRW5kSGFuZGxlcikge1xuICAgICAgICB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IG51bGxcbiAgICAgICAgbGliLmFuaW1hdGlvbi5yZXF1ZXN0RnJhbWUoaClcbiAgICAgIH1cbiAgICB9LCAodCB8fCA0MDApKVxuXG4gICAgdHJhbnNpdGlvbkVuZEhhbmRsZXIgPSBoXG4gIH1cblxuICBpZiAob3B0aW9ucy51c2VGcmFtZUFuaW1hdGlvbikge1xuICAgIHZhciBzY3JvbGxBbmltYXRpb25cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYW5pbWF0aW9uJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzY3JvbGxBbmltYXRpb25cbiAgICAgIH1cbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHZhciB0cmFuc2l0aW9uRW5kSGFuZGxlclxuICAgIHZhciB0cmFuc2l0aW9uRW5kVGltZW91dElkID0gMFxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICBGaXJlZm94XG4gICAgICAgICAgPyAndHJhbnNpdGlvbmVuZCdcbiAgICAgICAgICA6IChzdHlsZVByZWZpeCArICdUcmFuc2l0aW9uRW5kJyksIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAodHJhbnNpdGlvbkVuZEhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSB0cmFuc2l0aW9uRW5kSGFuZGxlclxuXG4gICAgICAgIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gbnVsbFxuICAgICAgICBjbGVhclRpbWVvdXQodHJhbnNpdGlvbkVuZFRpbWVvdXRJZClcblxuICAgICAgICBsaWIuYW5pbWF0aW9uLnJlcXVlc3RGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaGFuZGxlcihlKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH0sIGZhbHNlKVxuICB9XG5cbiAgdmFyIHBhbkZpeFJhdGlvXG4gIHZhciBpc1Njcm9sbGluZ1xuICB2YXIgaXNGbGlja1Njcm9sbGluZ1xuICB2YXIgY2FuY2VsU2Nyb2xsRW5kXG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpc1Njcm9sbGluZycsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiAhIWlzU2Nyb2xsaW5nXG4gICAgfVxuICB9KVxuXG4gIGZ1bmN0aW9uIGlzRW5hYmxlZChlKSB7XG4gICAgaWYgKCF0aGF0LmVuYWJsZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZS5pc1ZlcnRpY2FsICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAodGhhdC5heGlzID09PSAneScgJiYgZS5pc1ZlcnRpY2FsXG4gICAgICAgICAgfHwgdGhhdC5heGlzID09PSAneCcgJiYgIWUuaXNWZXJ0aWNhbCkge1xuICAgICAgICAvLyBnZXN0dXJlIGluIHNhbWUgZGlyZWN0aW9uLCBzdG9wIGJ1YmJsaW5nIHVwXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGdlc3R1cmUgaW4gZGlmZmVyZW50IGRpcmVjdGlvbiwgYnViYmxpbmcgdXBcbiAgICAgICAgLy8gdG8gdGhlIHRvcCwgd2l0aG91dCBhbnkgb3RoZXIgcHJvY2Vzc1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gdG91Y2hzdGFydEhhbmRsZXIoZSkge1xuICAgIGlmICghaXNFbmFibGVkKGUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoaXNTY3JvbGxpbmcpIHtcbiAgICAgIHNjcm9sbEVuZCgpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgIHNjcm9sbEFuaW1hdGlvbiAmJiBzY3JvbGxBbmltYXRpb24uc3RvcCgpXG4gICAgICBzY3JvbGxBbmltYXRpb24gPSBudWxsXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSBnZXRUcmFuc2Zvcm1PZmZzZXQodGhhdClcbiAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIHRyYW5zZm9ybSlcbiAgICAgIHNldFRyYW5zaXRpb25TdHlsZSh0aGF0LCAnJywgJycpXG4gICAgICB0cmFuc2l0aW9uRW5kSGFuZGxlciA9IG51bGxcbiAgICAgIGNsZWFyVGltZW91dCh0cmFuc2l0aW9uRW5kVGltZW91dElkKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoZW5kSGFuZGxlcihlKSB7XG4gICAgaWYgKCFpc0VuYWJsZWQoZSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBzMCA9IGdldFRyYW5zZm9ybU9mZnNldCh0aGF0KVt0aGF0LmF4aXNdXG4gICAgdmFyIGJvdW5kYXJ5T2Zmc2V0ID0gZ2V0Qm91bmRhcnlPZmZzZXQodGhhdCwgczApXG5cbiAgICBpZiAoYm91bmRhcnlPZmZzZXQpIHtcbiAgICAgIC8vIGRyYWdnaW5nIG91dCBvZiBib3VuZHJheSwgYm91bmNlIGlzIG5lZWRlZFxuICAgICAgdmFyIHMxID0gdG91Y2hCb3VuZGFyeSh0aGF0LCBzMClcblxuICAgICAgaWYgKG9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgLy8gZnJhbWVcbiAgICAgICAgdmFyIF9zID0gczEgLSBzMFxuICAgICAgICBzY3JvbGxBbmltYXRpb24gPSBuZXcgbGliLmFuaW1hdGlvbihcbiAgICAgICAgICAgIDQwMCxcbiAgICAgICAgICAgIGxpYi5jdWJpY2Jlemllci5lYXNlLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpMSwgaTIpIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0ID0gKHMwICsgX3MgKiBpMikudG9GaXhlZCgyKVxuICAgICAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIG9mZnNldClcbiAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycpXG4gICAgICAgIH0pXG4gICAgICAgIHNjcm9sbEFuaW1hdGlvbi5vbmVuZChzY3JvbGxFbmQpXG4gICAgICAgIHNjcm9sbEFuaW1hdGlvbi5wbGF5KClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGNzc1xuICAgICAgICB2YXIgb2Zmc2V0ID0gIHMxLnRvRml4ZWQoMClcbiAgICAgICAgc2V0VHJhbnNpdGlvbkVuZEhhbmRsZXIoc2Nyb2xsRW5kLCA0MDApXG4gICAgICAgIHNldFRyYW5zaXRpb25TdHlsZSh0aGF0LCAnMC40cycsICdlYXNlJylcbiAgICAgICAgc2V0VHJhbnNmb3JtU3R5bGUodGhhdCwgb2Zmc2V0KVxuXG4gICAgICAgIGxpYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lKGZ1bmN0aW9uIGRvU2Nyb2xsKCkge1xuICAgICAgICAgIGlmIChpc1Njcm9sbGluZyAmJiB0aGF0LmVuYWJsZWQpIHtcbiAgICAgICAgICAgIGZpcmVFdmVudCh0aGF0LCAnc2Nyb2xsaW5nJylcbiAgICAgICAgICAgIGxpYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lKGRvU2Nyb2xsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGJvdW5kYXJ5T2Zmc2V0ID4gMCkge1xuICAgICAgICBmaXJlRXZlbnQodGhhdCwgdGhhdC5heGlzID09PSAneScgPyAncHVsbGRvd25lbmQnIDogJ3B1bGxyaWdodGVuZCcpXG4gICAgICB9IGVsc2UgaWYgKGJvdW5kYXJ5T2Zmc2V0IDwgMCkge1xuICAgICAgICBmaXJlRXZlbnQodGhhdCwgdGhhdC5heGlzID09PSAneScgPyAncHVsbHVwZW5kJyA6ICdwdWxsbGVmdGVuZCcpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1Njcm9sbGluZykge1xuICAgICAgLy8gd2l0aG91dCBleGNlZWRpbmcgdGhlIGJvdW5kYXJ5LCBqdXN0IGVuZCBpdFxuICAgICAgc2Nyb2xsRW5kKClcbiAgICB9XG4gIH1cblxuICB2YXIgbGFzdERpc3BsYWNlbWVudFxuICBmdW5jdGlvbiBwYW5zdGFydEhhbmRsZXIoZSkge1xuICAgIGlmICghaXNFbmFibGVkKGUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB0aGF0LnRyYW5zZm9ybU9mZnNldCA9IGdldFRyYW5zZm9ybU9mZnNldCh0aGF0KVxuICAgIHRoYXQubWluU2Nyb2xsT2Zmc2V0ID0gZ2V0TWluU2Nyb2xsT2Zmc2V0KHRoYXQpXG4gICAgdGhhdC5tYXhTY3JvbGxPZmZzZXQgPSBnZXRNYXhTY3JvbGxPZmZzZXQodGhhdClcbiAgICBwYW5GaXhSYXRpbyA9IDIuNVxuICAgIGNhbmNlbFNjcm9sbEVuZCA9IHRydWVcbiAgICBpc1Njcm9sbGluZyA9IHRydWVcbiAgICBpc0ZsaWNrU2Nyb2xsaW5nID0gZmFsc2VcbiAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbHN0YXJ0JylcblxuICAgIGxhc3REaXNwbGFjZW1lbnQgPSBlWydkaXNwbGFjZW1lbnQnICsgdGhhdC5heGlzLnRvVXBwZXJDYXNlKCldXG4gIH1cblxuXG4gIGZ1bmN0aW9uIHBhbkhhbmRsZXIoZSkge1xuICAgIGlmICghaXNFbmFibGVkKGUpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICAvLyBmaW5nZXIgbW92ZSBsZXNzIHRoYW4gNSBweC4ganVzdCBpZ25vcmUgdGhhdC5cbiAgICB2YXIgZGlzcGxhY2VtZW50ID0gZVsnZGlzcGxhY2VtZW50JyArIHRoYXQuYXhpcy50b1VwcGVyQ2FzZSgpXVxuICAgIGlmIChNYXRoLmFicyhkaXNwbGFjZW1lbnQgLSBsYXN0RGlzcGxhY2VtZW50KSA8IDUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBsYXN0RGlzcGxhY2VtZW50ID0gZGlzcGxhY2VtZW50XG5cbiAgICB2YXIgb2Zmc2V0ID0gdGhhdC50cmFuc2Zvcm1PZmZzZXRbdGhhdC5heGlzXSArIGRpc3BsYWNlbWVudFxuICAgIGlmIChvZmZzZXQgPiB0aGF0Lm1pblNjcm9sbE9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gdGhhdC5taW5TY3JvbGxPZmZzZXRcbiAgICAgICAgKyAob2Zmc2V0IC0gdGhhdC5taW5TY3JvbGxPZmZzZXQpIC8gcGFuRml4UmF0aW9cbiAgICAgIHBhbkZpeFJhdGlvICo9IDEuMDAzXG4gICAgfSBlbHNlIGlmIChvZmZzZXQgPCB0aGF0Lm1heFNjcm9sbE9mZnNldCkge1xuICAgICAgb2Zmc2V0ID0gdGhhdC5tYXhTY3JvbGxPZmZzZXRcbiAgICAgICAgLSAodGhhdC5tYXhTY3JvbGxPZmZzZXQgLSBvZmZzZXQpIC8gcGFuRml4UmF0aW9cbiAgICAgIHBhbkZpeFJhdGlvICo9IDEuMDAzXG4gICAgfVxuICAgIGlmIChwYW5GaXhSYXRpbyA+IDQpIHtcbiAgICAgIHBhbkZpeFJhdGlvID0gNFxuICAgIH1cblxuICAgIC8vIHRlbGwgd2hldGhlciBvciBub3QgcmVhY2ggdGhlIGZyaW5nZVxuICAgIHZhciBib3VuZGFyeU9mZnNldCA9IGdldEJvdW5kYXJ5T2Zmc2V0KHRoYXQsIG9mZnNldClcbiAgICBpZiAoYm91bmRhcnlPZmZzZXQpIHtcbiAgICAgIGZpcmVFdmVudChcbiAgICAgICAgICB0aGF0LFxuICAgICAgICAgIGJvdW5kYXJ5T2Zmc2V0ID4gMFxuICAgICAgICAgID8gKHRoYXQuYXhpcyA9PT0gJ3knID8gJ3B1bGxkb3duJyA6ICdwdWxscmlnaHQnKVxuICAgICAgICAgIDogKHRoYXQuYXhpcyA9PT0gJ3knID8gJ3B1bGx1cCcgOiAncHVsbGxlZnQnKSwge1xuICAgICAgICBib3VuZGFyeU9mZnNldDogTWF0aC5hYnMoYm91bmRhcnlPZmZzZXQpXG4gICAgICB9KVxuICAgICAgaWYgKHRoYXQub3B0aW9ucy5ub0JvdW5jZSkge1xuICAgICAgICBvZmZzZXQgPSB0b3VjaEJvdW5kYXJ5KHRoYXQsIG9mZnNldClcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQudG9GaXhlZCgyKSlcbiAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycpXG4gIH1cblxuICBmdW5jdGlvbiBwYW5lbmRIYW5kbGVyKGUpIHtcbiAgICBpZiAoIWlzRW5hYmxlZChlKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGUuaXNTd2lwZSkge1xuICAgICAgZmxpY2tIYW5kbGVyKGUpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmxpY2tIYW5kbGVyKGUpIHtcbiAgICBjYW5jZWxTY3JvbGxFbmQgPSB0cnVlXG5cbiAgICB2YXIgdjAsIGEwLCB0MCwgczAsIHMsIG1vdGlvbjBcbiAgICB2YXIgdjEsIGExLCB0MSwgczEsIG1vdGlvbjEsc2lnblxuICAgIHZhciB2MiwgYTIsIHQyLCBzMiwgbW90aW9uMiwgZnRcblxuICAgIHMwID0gZ2V0VHJhbnNmb3JtT2Zmc2V0KHRoYXQpW3RoYXQuYXhpc11cbiAgICB2YXIgYm91bmRhcnlPZmZzZXQwID0gZ2V0Qm91bmRhcnlPZmZzZXQodGhhdCwgczApXG4gICAgaWYgKCFib3VuZGFyeU9mZnNldDApIHtcbiAgICAgIC8vIHdoZW4gZmluZ2VycyBsZWZ0IHRoZSByYW5nZSBvZiBzY3JlZW4sIGxldCB0b3VjaCBlbmQgaGFuZGxlclxuICAgICAgLy8gdG8gZGVhbCB3aXRoIGl0LlxuICAgICAgLy8gd2hlbiBmaW5nZXJzIGxlZnQgdGhlIHNjcmVlbiwgYnV0IHN0aWxsIGluIHRoZSByYW5nZSBvZlxuICAgICAgLy8gc2NyZWVuLCBjYWxjdWxhdGUgdGhlIGludGVydGlhLlxuICAgICAgdjAgPSBlWyd2ZWxvY2l0eScgKyB0aGF0LmF4aXMudG9VcHBlckNhc2UoKV1cblxuICAgICAgdmFyIG1heFYgPSAyXG4gICAgICB2YXIgZnJpY3Rpb24gPSAwLjAwMTVcbiAgICAgIGlmIChvcHRpb25zLmluZXJ0aWEgJiYgaW5lcnRpYUNvZWZmaWNpZW50W29wdGlvbnMuaW5lcnRpYV0pIHtcbiAgICAgICAgbWF4ViA9IGluZXJ0aWFDb2VmZmljaWVudFtvcHRpb25zLmluZXJ0aWFdWzBdXG4gICAgICAgIGZyaWN0aW9uID0gaW5lcnRpYUNvZWZmaWNpZW50W29wdGlvbnMuaW5lcnRpYV1bMV1cbiAgICAgIH1cblxuICAgICAgaWYgKHYwID4gbWF4Vikge1xuICAgICAgICB2MCA9IG1heFZcbiAgICAgIH1cbiAgICAgIGlmICh2MCA8IC1tYXhWKSB7XG4gICAgICAgIHYwID0gLW1heFZcbiAgICAgIH1cbiAgICAgIGEwID0gZnJpY3Rpb24gKiAodjAgLyBNYXRoLmFicyh2MCkpXG4gICAgICBtb3Rpb24wID0gbmV3IGxpYi5tb3Rpb24oe1xuICAgICAgICB2OiB2MCxcbiAgICAgICAgYTogLWEwXG4gICAgICB9KVxuICAgICAgdDAgPSBtb3Rpb24wLnRcbiAgICAgIHMgPSBzMCArIG1vdGlvbjAuc1xuXG4gICAgICB2YXIgYm91bmRhcnlPZmZzZXQxID0gZ2V0Qm91bmRhcnlPZmZzZXQodGhhdCwgcylcbiAgICAgIGlmIChib3VuZGFyeU9mZnNldDEpIHtcbiAgICAgICAgZGVidWdMb2coJ2luZXJ0aWFsIGNhbGN1bGF0aW9uIGhhcyBleGNlZWRlZCB0aGUgYm91bmRhcnknLFxuICAgICAgICAgIGJvdW5kYXJ5T2Zmc2V0MSlcblxuICAgICAgICB2MSA9IHYwXG4gICAgICAgIGExID0gYTBcbiAgICAgICAgaWYgKGJvdW5kYXJ5T2Zmc2V0MSA+IDApIHtcbiAgICAgICAgICBzMSA9IHRoYXQubWluU2Nyb2xsT2Zmc2V0XG4gICAgICAgICAgc2lnbiA9IDFcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzMSA9IHRoYXQubWF4U2Nyb2xsT2Zmc2V0XG4gICAgICAgICAgc2lnbiA9IC0xXG4gICAgICAgIH1cbiAgICAgICAgbW90aW9uMSA9IG5ldyBsaWIubW90aW9uKHtcbiAgICAgICAgICB2OiBzaWduICogdjEsXG4gICAgICAgICAgYTogLXNpZ24gKiBhMSxcbiAgICAgICAgICBzOiBNYXRoLmFicyhzMSAtIHMwKVxuICAgICAgICB9KVxuICAgICAgICB0MSA9IG1vdGlvbjEudFxuICAgICAgICB2YXIgdGltZUZ1bmN0aW9uMSA9IG1vdGlvbjEuZ2VuZXJhdGVDdWJpY0JlemllcigpXG5cbiAgICAgICAgdjIgPSB2MSAtIGExICogdDFcbiAgICAgICAgYTIgPSAwLjAzICogKHYyIC8gTWF0aC5hYnModjIpKVxuICAgICAgICBtb3Rpb24yID0gbmV3IGxpYi5tb3Rpb24oe1xuICAgICAgICAgIHY6IHYyLFxuICAgICAgICAgIGE6IC1hMlxuICAgICAgICB9KVxuICAgICAgICB0MiA9IG1vdGlvbjIudFxuICAgICAgICBzMiA9IHMxICsgbW90aW9uMi5zXG4gICAgICAgIHZhciB0aW1lRnVuY3Rpb24yID0gbW90aW9uMi5nZW5lcmF0ZUN1YmljQmV6aWVyKClcblxuICAgICAgICBpZiAob3B0aW9ucy5ub0JvdW5jZSkge1xuICAgICAgICAgIGRlYnVnTG9nKCdubyBib3VuY2UgZWZmZWN0JylcblxuICAgICAgICAgIGlmIChzMCAhPT0gczEpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnVzZUZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICAgIC8vIGZyYW1lXG4gICAgICAgICAgICAgIHZhciBfcyA9IHMxIC0gczBcbiAgICAgICAgICAgICAgdmFyIGJlemllciA9IGxpYi5jdWJpY2JlemllcihcbiAgICAgICAgICAgICAgICB0aW1lRnVuY3Rpb24xWzBdWzBdLFxuICAgICAgICAgICAgICAgIHRpbWVGdW5jdGlvbjFbMF1bMV0sXG4gICAgICAgICAgICAgICAgdGltZUZ1bmN0aW9uMVsxXVswXSxcbiAgICAgICAgICAgICAgICB0aW1lRnVuY3Rpb24xWzFdWzFdXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0aW9uID0gbmV3IGxpYi5hbmltYXRpb24oXG4gICAgICAgICAgICAgICAgICB0MS50b0ZpeGVkKDApLFxuICAgICAgICAgICAgICAgICAgYmV6aWVyLFxuICAgICAgICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChpMSwgaTIpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKHMwICsgX3MgKiBpMilcbiAgICAgICAgICAgICAgICBnZXRUcmFuc2Zvcm1PZmZzZXQodGhhdCwgb2Zmc2V0LnRvRml4ZWQoMikpXG4gICAgICAgICAgICAgICAgZmlyZUV2ZW50KHRoYXQsICdzY3JvbGxpbmcnLCB7XG4gICAgICAgICAgICAgICAgICBhZnRlckZsaWNrOiB0cnVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRpb24ub25lbmQoc2Nyb2xsRW5kKVxuXG4gICAgICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbi5wbGF5KClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIGNzc1xuICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gczEudG9GaXhlZCgwKVxuICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uRW5kSGFuZGxlcihcbiAgICAgICAgICAgICAgICBzY3JvbGxFbmQsXG4gICAgICAgICAgICAgICAgKHQxIC8gMTAwMCkudG9GaXhlZCgyKSAqIDEwMDBcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uU3R5bGUoXG4gICAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgICAodDEgLyAxMDAwKS50b0ZpeGVkKDIpICsgJ3MnLFxuICAgICAgICAgICAgICAgICdjdWJpYy1iZXppZXIoJyArIHRpbWVGdW5jdGlvbjEgKyAnKSdcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNjcm9sbEVuZCgpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHMwICE9PSBzMikge1xuICAgICAgICAgIGRlYnVnTG9nKFxuICAgICAgICAgICAgJ3Njcm9sbCBmb3IgaW5lcnRpYScsXG4gICAgICAgICAgICAncz0nICsgczIudG9GaXhlZCgwKSxcbiAgICAgICAgICAgICd0PScgKyAoKHQxICsgdDIpIC8gMTAwMCkudG9GaXhlZCgyKVxuICAgICAgICAgIClcblxuICAgICAgICAgIGlmIChvcHRpb25zLnVzZUZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgICAgICB2YXIgX3MgPSBzMiAtIHMwXG4gICAgICAgICAgICB2YXIgYmV6aWVyID0gbGliLmN1YmljYmV6aWVyLmVhc2VPdXRcbiAgICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbiA9IG5ldyBsaWIuYW5pbWF0aW9uKFxuICAgICAgICAgICAgICAgICh0MSArIHQyKS50b0ZpeGVkKDApLFxuICAgICAgICAgICAgICAgIGJlemllcixcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChpMSwgaTIpIHtcbiAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IHMwICsgX3MgKiBpMlxuICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQudG9GaXhlZCgyKSlcbiAgICAgICAgICAgICAgZmlyZUV2ZW50KHRoYXQsICdzY3JvbGxpbmcnLHtcbiAgICAgICAgICAgICAgICBhZnRlckZsaWNrOiB0cnVlXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY3JvbGxBbmltYXRpb24ub25lbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBpZiAoIXRoYXQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIF9zID0gczEgLSBzMlxuICAgICAgICAgICAgICB2YXIgYmV6aWVyID0gbGliLmN1YmljYmV6aWVyLmVhc2VcbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0aW9uID0gbmV3IGxpYi5hbmltYXRpb24oXG4gICAgICAgICAgICAgICAgICA0MDAsXG4gICAgICAgICAgICAgICAgICBiZXppZXIsXG4gICAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGkxLCBpMikge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzMiArIF9zICogaTJcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQudG9GaXhlZCgyKSlcbiAgICAgICAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycse1xuICAgICAgICAgICAgICAgICAgYWZ0ZXJGbGljazogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgc2Nyb2xsQW5pbWF0aW9uLm9uZW5kKHNjcm9sbEVuZClcblxuICAgICAgICAgICAgICBzY3JvbGxBbmltYXRpb24ucGxheSgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBzY3JvbGxBbmltYXRpb24ucGxheSgpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzMi50b0ZpeGVkKDApXG4gICAgICAgICAgICBzZXRUcmFuc2l0aW9uRW5kSGFuZGxlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICBpZiAoIXRoYXQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVidWdMb2coJ2luZXJ0aWFsIGJvdW5jZScsXG4gICAgICAgICAgICAgICAgJ3M9JyArIHMxLnRvRml4ZWQoMCksXG4gICAgICAgICAgICAgICAgJ3Q9NDAwJ1xuICAgICAgICAgICAgICApXG5cbiAgICAgICAgICAgICAgaWYgKHMyICE9PSBzMSkge1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBzMS50b0ZpeGVkKDApXG4gICAgICAgICAgICAgICAgc2V0VHJhbnNpdGlvblN0eWxlKHRoYXQsICcwLjRzJywgJ2Vhc2UnKVxuICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIG9mZnNldClcbiAgICAgICAgICAgICAgICBzZXRUcmFuc2l0aW9uRW5kSGFuZGxlcihzY3JvbGxFbmQsIDQwMClcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxFbmQoKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCAoKHQxICsgdDIpIC8gMTAwMCkudG9GaXhlZCgyKSAqIDEwMDApXG5cbiAgICAgICAgICAgIHNldFRyYW5zaXRpb25TdHlsZShcbiAgICAgICAgICAgICAgdGhhdCxcbiAgICAgICAgICAgICAgKCh0MSArIHQyKSAvIDEwMDApLnRvRml4ZWQoMikgKyAncycsXG4gICAgICAgICAgICAgICdlYXNlLW91dCdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIG9mZnNldClcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2Nyb2xsRW5kKClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVidWdMb2coJ2luZXJ0aWFsIGNhbGN1bGF0aW9uIGhhc25cXCd0IGV4Y2VlZGVkIHRoZSBib3VuZGFyeScpXG4gICAgICAgIHZhciB0aW1lRnVuY3Rpb24gPSBtb3Rpb24wLmdlbmVyYXRlQ3ViaWNCZXppZXIoKVxuXG4gICAgICAgIGlmIChvcHRpb25zLnVzZUZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgICAgLy8gZnJhbWVcbiAgICAgICAgICB2YXIgX3MgPSBzIC0gczBcbiAgICAgICAgICB2YXIgYmV6aWVyID0gbGliLmN1YmljYmV6aWVyKFxuICAgICAgICAgICAgdGltZUZ1bmN0aW9uWzBdWzBdLFxuICAgICAgICAgICAgdGltZUZ1bmN0aW9uWzBdWzFdLFxuICAgICAgICAgICAgdGltZUZ1bmN0aW9uWzFdWzBdLFxuICAgICAgICAgICAgdGltZUZ1bmN0aW9uWzFdWzFdXG4gICAgICAgICAgKVxuICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbiA9IG5ldyBsaWIuYW5pbWF0aW9uKFxuICAgICAgICAgICAgICB0MC50b0ZpeGVkKDApLFxuICAgICAgICAgICAgICBiZXppZXIsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChpMSwgaTIpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoczAgKyBfcyAqIGkyKS50b0ZpeGVkKDIpXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQpXG4gICAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycse1xuICAgICAgICAgICAgICBhZnRlckZsaWNrOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pXG5cbiAgICAgICAgICBzY3JvbGxBbmltYXRpb24ub25lbmQoc2Nyb2xsRW5kKVxuXG4gICAgICAgICAgc2Nyb2xsQW5pbWF0aW9uLnBsYXkoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNzc1xuICAgICAgICAgIHZhciBvZmZzZXQgPSBzLnRvRml4ZWQoMClcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uRW5kSGFuZGxlcihzY3JvbGxFbmQsICh0MCAvIDEwMDApLnRvRml4ZWQoMikgKiAxMDAwKVxuICAgICAgICAgIHNldFRyYW5zaXRpb25TdHlsZShcbiAgICAgICAgICAgIHRoYXQsXG4gICAgICAgICAgICAodDAgLyAxMDAwKS50b0ZpeGVkKDIpICsgJ3MnLFxuICAgICAgICAgICAgJ2N1YmljLWJlemllcignICsgdGltZUZ1bmN0aW9uICsgJyknXG4gICAgICAgICAgKVxuICAgICAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIG9mZnNldClcbiAgICAgICAgfVxuICAgICAgfVxuXG5cbiAgICAgIGlzRmxpY2tTY3JvbGxpbmcgPSB0cnVlXG4gICAgICBpZiAoIW9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgbGliLmFuaW1hdGlvbi5yZXF1ZXN0RnJhbWUoZnVuY3Rpb24gZG9TY3JvbGwoKSB7XG4gICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nICYmIGlzRmxpY2tTY3JvbGxpbmcgJiYgdGhhdC5lbmFibGVkKSB7XG4gICAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycsIHtcbiAgICAgICAgICAgICAgYWZ0ZXJGbGljazogdHJ1ZVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxpYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lKGRvU2Nyb2xsKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxFbmQoKSB7XG4gICAgaWYgKCF0aGF0LmVuYWJsZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNhbmNlbFNjcm9sbEVuZCA9IGZhbHNlXG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghY2FuY2VsU2Nyb2xsRW5kICYmIGlzU2Nyb2xsaW5nKSB7XG4gICAgICAgIGlzU2Nyb2xsaW5nID0gZmFsc2VcbiAgICAgICAgaXNGbGlja1Njcm9sbGluZyA9IGZhbHNlXG5cbiAgICAgICAgaWYgKG9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgICBzY3JvbGxBbmltYXRpb24gJiYgc2Nyb2xsQW5pbWF0aW9uLnN0b3AoKVxuICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbiA9IG51bGxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uU3R5bGUodGhhdCwgJycsICcnKVxuICAgICAgICB9XG4gICAgICAgIGZpcmVFdmVudCh0aGF0LCAnc2Nyb2xsZW5kJylcbiAgICAgIH1cbiAgICB9LCA1MClcbiAgfVxuXG4gIHZhciBwcm90byA9IHtcbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVuYWJsZSgpXG4gICAgICB0aGlzLnJlZnJlc2goKVxuICAgICAgdGhpcy5zY3JvbGxUbygwKVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgZW5hYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBkaXNhYmxlOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzLmVsZW1lbnRcbiAgICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgc2Nyb2xsQW5pbWF0aW9uICYmIHNjcm9sbEFuaW1hdGlvbi5zdG9wKClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxpYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZVtzdHlsZVByZWZpeCArICdUcmFuc2Zvcm0nXVxuICAgICAgICAgICAgPSBnZXRDb21wdXRlZFN0eWxlKGVsKVtzdHlsZVByZWZpeCArICdUcmFuc2Zvcm0nXVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBnZXRTY3JvbGxXaWR0aDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmVsZW1lbnQpLndpZHRoXG4gICAgfSxcblxuICAgIGdldFNjcm9sbEhlaWdodDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGdldEJvdW5kaW5nQ2xpZW50UmVjdCh0aGlzLmVsZW1lbnQpLmhlaWdodFxuICAgIH0sXG5cbiAgICBnZXRTY3JvbGxMZWZ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gLWdldFRyYW5zZm9ybU9mZnNldCh0aGlzKS54IC0gdGhpcy5vcHRpb25zLnhQYWRkaW5nVG9wXG4gICAgfSxcblxuICAgIGdldFNjcm9sbFRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC1nZXRUcmFuc2Zvcm1PZmZzZXQodGhpcykueSAtIHRoaXMub3B0aW9ucy55UGFkZGluZ1RvcFxuICAgIH0sXG5cbiAgICBnZXRNYXhTY3JvbGxMZWZ0OiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gLXRoYXQubWF4U2Nyb2xsT2Zmc2V0IC0gdGhpcy5vcHRpb25zLnhQYWRkaW5nVG9wXG4gICAgfSxcblxuICAgIGdldE1heFNjcm9sbFRvcDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIC10aGF0Lm1heFNjcm9sbE9mZnNldCAtIHRoaXMub3B0aW9ucy55UGFkZGluZ1RvcFxuICAgIH0sXG5cbiAgICBnZXRCb3VuZGFyeU9mZnNldDogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKFxuICAgICAgICBnZXRCb3VuZGFyeU9mZnNldCh0aGlzLCBnZXRUcmFuc2Zvcm1PZmZzZXQodGhpcylbdGhpcy5heGlzXSkgfHwgMFxuICAgICAgKVxuICAgIH0sXG5cbiAgICByZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgZWwgPSB0aGlzLmVsZW1lbnRcbiAgICAgIHZhciBpc1ZlcnRpY2FsID0gKHRoaXMuYXhpcyA9PT0gJ3knKVxuICAgICAgdmFyIHR5cGUgPSBpc1ZlcnRpY2FsID8gJ2hlaWdodCcgOiAnd2lkdGgnXG4gICAgICB2YXIgc2l6ZSwgcmVjdCwgZXh0cmFTaXplXG5cbiAgICAgIGZ1bmN0aW9uIGdldEV4dHJhU2l6ZShlbCwgaXNWZXJ0aWNhbCkge1xuICAgICAgICB2YXIgZXh0cmFUeXBlID0gaXNWZXJ0aWNhbCA/IFsndG9wJywgJ2JvdHRvbSddIDogWydsZWZ0JywgJ3JpZ2h0J11cbiAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoXG4gICAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShlbC5maXJzdEVsZW1lbnRDaGlsZClbJ21hcmdpbi0nICsgZXh0cmFUeXBlWzBdXVxuICAgICAgICApICsgcGFyc2VGbG9hdChcbiAgICAgICAgICBnZXRDb21wdXRlZFN0eWxlKGVsLmxhc3RFbGVtZW50Q2hpbGQpWydtYXJnaW4tJyArIGV4dHJhVHlwZVsxXV1cbiAgICAgICAgKVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zW3R5cGVdICE9IG51bGwpIHtcbiAgICAgICAgLy8gdXNlIG9wdGlvbnNcbiAgICAgICAgc2l6ZSA9IHRoaXMub3B0aW9uc1t0eXBlXVxuICAgICAgfSBlbHNlIGlmIChlbC5jaGlsZEVsZW1lbnRDb3VudCA8PSAwKSB7XG4gICAgICAgIGVsLnN0eWxlW3R5cGVdID0gJ2F1dG8nXG4gICAgICAgIHNpemUgPSBudWxsXG4gICAgICB9IGVsc2UgaWYgKCEhdGhpcy5vcHRpb25zLnVzZUVsZW1lbnRSZWN0KSB7XG4gICAgICAgIGVsLnN0eWxlW3R5cGVdID0gJ2F1dG8nXG4gICAgICAgIHJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoZWwpXG4gICAgICAgIHNpemUgPSByZWN0W3R5cGVdXG4gICAgICAgIHNpemUgKz0gZ2V0RXh0cmFTaXplKGVsLCBpc1ZlcnRpY2FsKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJhbmdlLCByZWN0XG4gICAgICAgIHZhciBmaXJzdEVsID0gZWwuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgICAgdmFyIGxhc3RFbCA9IGVsLmxhc3RFbGVtZW50Q2hpbGRcblxuICAgICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlUmFuZ2UgJiYgIXRoaXMub3B0aW9ucy5pZ25vcmVPdmVyZmxvdykge1xuICAgICAgICAgIC8vIHVzZSByYW5nZVxuICAgICAgICAgIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKVxuICAgICAgICAgIHJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbClcbiAgICAgICAgICByZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHJhbmdlKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlY3QpIHtcbiAgICAgICAgICBzaXplID0gcmVjdFt0eXBlXVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIHVzZSBjaGlsZCBvZmZzZXRzXG4gICAgICAgICAgd2hpbGUgKGZpcnN0RWwpIHtcbiAgICAgICAgICAgIGlmIChnZXRCb3VuZGluZ0NsaWVudFJlY3QoZmlyc3RFbClbdHlwZV0gPT09IDBcbiAgICAgICAgICAgICAgICAmJiBmaXJzdEVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgICAgICAgICAgICBmaXJzdEVsID0gZmlyc3RFbC5uZXh0RWxlbWVudFNpYmxpbmdcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgd2hpbGUgKGxhc3RFbCAmJiBsYXN0RWwgIT09IGZpcnN0RWwpIHtcbiAgICAgICAgICAgIGlmIChnZXRCb3VuZGluZ0NsaWVudFJlY3QobGFzdEVsKVt0eXBlXSA9PT0gMFxuICAgICAgICAgICAgICAgICYmIGxhc3RFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgIGxhc3RFbCA9IGxhc3RFbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHNpemUgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QobGFzdEVsKVtcbiAgICAgICAgICAgICAgaXNWZXJ0aWNhbCA/ICdib3R0b20nIDogJ3JpZ2h0J11cbiAgICAgICAgICAgIC0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KGZpcnN0RWwpW1xuICAgICAgICAgICAgICBpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCddXG4gICAgICAgIH1cblxuICAgICAgICBzaXplICs9IGdldEV4dHJhU2l6ZShlbCwgaXNWZXJ0aWNhbClcblxuICAgICAgfVxuXG4gICAgICBlbC5zdHlsZVt0eXBlXSA9IHNpemUgPyBzaXplICsgJ3B4JyA6ICdhdXRvJ1xuXG4gICAgICB0aGlzLnRyYW5zZm9ybU9mZnNldCA9IGdldFRyYW5zZm9ybU9mZnNldCh0aGlzKVxuICAgICAgdGhpcy5taW5TY3JvbGxPZmZzZXQgPSBnZXRNaW5TY3JvbGxPZmZzZXQodGhpcylcbiAgICAgIHRoaXMubWF4U2Nyb2xsT2Zmc2V0ID0gZ2V0TWF4U2Nyb2xsT2Zmc2V0KHRoaXMpXG5cbiAgICAgIHRoaXMuc2Nyb2xsVG8oXG4gICAgICAgIC10aGlzLnRyYW5zZm9ybU9mZnNldFt0aGlzLmF4aXNdXG4gICAgICAgIC0gdGhpcy5vcHRpb25zW3RoaXMuYXhpcyArICdQYWRkaW5nVG9wJ11cbiAgICAgIClcbiAgICAgIGZpcmVFdmVudCh0aGlzLCAnY29udGVudHJlZnJlc2gnKVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBvZmZzZXQ6IGZ1bmN0aW9uIChjaGlsZEVsKSB7XG4gICAgICB2YXIgZWxSZWN0ID0gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMuZWxlbWVudClcbiAgICAgIHZhciBjaGlsZFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRFbClcbiAgICAgIGlmICh0aGlzLmF4aXMgPT09ICd5Jykge1xuICAgICAgICB2YXIgb2Zmc2V0UmVjdCA9IHtcbiAgICAgICAgICB0b3A6IGNoaWxkUmVjdC50b3AgLSBlbFJlY3QudG9wIC0gdGhpcy5vcHRpb25zLnlQYWRkaW5nVG9wLFxuICAgICAgICAgIGxlZnQ6IGNoaWxkUmVjdC5sZWZ0IC0gZWxSZWN0LmxlZnQsXG4gICAgICAgICAgcmlnaHQ6IGVsUmVjdC5yaWdodCAtIGNoaWxkUmVjdC5yaWdodCxcbiAgICAgICAgICB3aWR0aDogY2hpbGRSZWN0LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2hpbGRSZWN0LmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0UmVjdC5ib3R0b20gPSBvZmZzZXRSZWN0LnRvcCArIG9mZnNldFJlY3QuaGVpZ2h0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2Zmc2V0UmVjdCA9IHtcbiAgICAgICAgICB0b3A6IGNoaWxkUmVjdC50b3AgLSBlbFJlY3QudG9wLFxuICAgICAgICAgIGJvdHRvbTogZWxSZWN0LmJvdHRvbSAtIGNoaWxkUmVjdC5ib3R0b20sXG4gICAgICAgICAgbGVmdDogY2hpbGRSZWN0LmxlZnQgLSBlbFJlY3QubGVmdCAtIHRoaXMub3B0aW9ucy54UGFkZGluZ1RvcCxcbiAgICAgICAgICB3aWR0aDogY2hpbGRSZWN0LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2hpbGRSZWN0LmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0UmVjdC5yaWdodCA9IG9mZnNldFJlY3QubGVmdCArIG9mZnNldFJlY3Qud2lkdGhcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXRSZWN0XG4gICAgfSxcblxuICAgIGdldFJlY3Q6IGZ1bmN0aW9uIChjaGlsZEVsKSB7XG4gICAgICB2YXIgdmlld1JlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGhpcy52aWV3cG9ydClcbiAgICAgIHZhciBjaGlsZFJlY3QgPSBnZXRCb3VuZGluZ0NsaWVudFJlY3QoY2hpbGRFbClcbiAgICAgIGlmICh0aGlzLmF4aXMgPT09ICd5Jykge1xuICAgICAgICB2YXIgb2Zmc2V0UmVjdCA9IHtcbiAgICAgICAgICB0b3A6IGNoaWxkUmVjdC50b3AgLSB2aWV3UmVjdC50b3AsXG4gICAgICAgICAgbGVmdDogY2hpbGRSZWN0LmxlZnQgLSB2aWV3UmVjdC5sZWZ0LFxuICAgICAgICAgIHJpZ2h0OiB2aWV3UmVjdC5yaWdodCAtIGNoaWxkUmVjdC5yaWdodCxcbiAgICAgICAgICB3aWR0aDogY2hpbGRSZWN0LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2hpbGRSZWN0LmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0UmVjdC5ib3R0b20gPSBvZmZzZXRSZWN0LnRvcCArIG9mZnNldFJlY3QuaGVpZ2h0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2Zmc2V0UmVjdCA9IHtcbiAgICAgICAgICB0b3A6IGNoaWxkUmVjdC50b3AgLSB2aWV3UmVjdC50b3AsXG4gICAgICAgICAgYm90dG9tOiB2aWV3UmVjdC5ib3R0b20gLSBjaGlsZFJlY3QuYm90dG9tLFxuICAgICAgICAgIGxlZnQ6IGNoaWxkUmVjdC5sZWZ0IC0gdmlld1JlY3QubGVmdCxcbiAgICAgICAgICB3aWR0aDogY2hpbGRSZWN0LndpZHRoLFxuICAgICAgICAgIGhlaWdodDogY2hpbGRSZWN0LmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0UmVjdC5yaWdodCA9IG9mZnNldFJlY3QubGVmdCArIG9mZnNldFJlY3Qud2lkdGhcbiAgICAgIH1cbiAgICAgIHJldHVybiBvZmZzZXRSZWN0XG4gICAgfSxcblxuICAgIGlzSW5WaWV3OiBmdW5jdGlvbiAoY2hpbGRFbCkge1xuICAgICAgdmFyIHZpZXdSZWN0ID0gdGhpcy5nZXRSZWN0KHRoaXMudmlld3BvcnQpXG4gICAgICB2YXIgY2hpbGRSZWN0ID0gdGhpcy5nZXRSZWN0KGNoaWxkRWwpXG4gICAgICBpZiAodGhpcy5heGlzID09PSAneScpIHtcbiAgICAgICAgcmV0dXJuIHZpZXdSZWN0LnRvcCA8IGNoaWxkUmVjdC5ib3R0b21cbiAgICAgICAgICAmJiB2aWV3UmVjdC5ib3R0b20gPiBjaGlsZFJlY3QudG9wXG4gICAgICB9XG4gICAgICByZXR1cm4gdmlld1JlY3QubGVmdCA8IGNoaWxkUmVjdC5yaWdodFxuICAgICAgICAmJiB2aWV3UmVjdC5yaWdodCA+IGNoaWxkUmVjdC5sZWZ0XG4gICAgfSxcblxuICAgIHNjcm9sbFRvOiBmdW5jdGlvbiAob2Zmc2V0LCBpc1Ntb290aCkge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudFxuXG4gICAgICBvZmZzZXQgPSAtb2Zmc2V0IC0gdGhpcy5vcHRpb25zW3RoaXMuYXhpcyArICdQYWRkaW5nVG9wJ11cbiAgICAgIG9mZnNldCA9IHRvdWNoQm91bmRhcnkodGhpcywgb2Zmc2V0KVxuXG4gICAgICBpc1Njcm9sbGluZyA9IHRydWVcbiAgICAgIGlmIChpc1Ntb290aCA9PT0gdHJ1ZSkge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnVzZUZyYW1lQW5pbWF0aW9uKSB7XG4gICAgICAgICAgdmFyIHMwID0gZ2V0VHJhbnNmb3JtT2Zmc2V0KHRoYXQpW3RoaXMuYXhpc11cbiAgICAgICAgICB2YXIgX3MgPSBvZmZzZXQgLSBzMFxuICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbiA9IG5ldyBsaWIuYW5pbWF0aW9uKFxuICAgICAgICAgICAgICA0MDAsXG4gICAgICAgICAgICAgIGxpYi5jdWJpY2Jlemllci5lYXNlSW5PdXQsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChpMSwgaTIpIHtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoczAgKyBfcyAqIGkyKS50b0ZpeGVkKDIpXG4gICAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQpXG4gICAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIHNjcm9sbEFuaW1hdGlvbi5vbmVuZChzY3JvbGxFbmQpXG5cbiAgICAgICAgICBzY3JvbGxBbmltYXRpb24ucGxheSgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0VHJhbnNpdGlvbkVuZEhhbmRsZXIoc2Nyb2xsRW5kLCA0MDApXG4gICAgICAgICAgc2V0VHJhbnNpdGlvblN0eWxlKHRoYXQsICcwLjRzJywgJ2Vhc2UtaW4tb3V0JylcbiAgICAgICAgICBzZXRUcmFuc2Zvcm1TdHlsZSh0aGF0LCBvZmZzZXQpXG5cbiAgICAgICAgICBmdW5jdGlvbiBfY2FuY2VsU2Nyb2xsKCkge1xuICAgICAgICAgICAgaWYgKGlzU2Nyb2xsaW5nICYmIHRoYXQuZW5hYmxlZCkge1xuICAgICAgICAgICAgICBmaXJlRXZlbnQodGhhdCwgJ3Njcm9sbGluZycpXG4gICAgICAgICAgICAgIGxpYi5hbmltYXRpb24ucmVxdWVzdEZyYW1lKF9jYW5jZWxTY3JvbGwpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbGliLmFuaW1hdGlvbi5yZXF1ZXN0RnJhbWUoX2NhbmNlbFNjcm9sbClcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudXNlRnJhbWVBbmltYXRpb24pIHtcbiAgICAgICAgICBzZXRUcmFuc2l0aW9uU3R5bGUodGhhdCwgJycsICcnKVxuICAgICAgICB9XG4gICAgICAgIHNldFRyYW5zZm9ybVN0eWxlKHRoYXQsIG9mZnNldClcbiAgICAgICAgc2Nyb2xsRW5kKClcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgc2Nyb2xsVG9FbGVtZW50OiBmdW5jdGlvbiAoY2hpbGRFbCwgaXNTbW9vdGgsIHRvcE9mZnNldCkge1xuICAgICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0KGNoaWxkRWwpXG4gICAgICBvZmZzZXQgPSBvZmZzZXRbdGhpcy5heGlzID09PSAneSc/J3RvcCc6J2xlZnQnXVxuICAgICAgdG9wT2Zmc2V0ICYmIChvZmZzZXQgKz0gdG9wT2Zmc2V0KVxuICAgICAgcmV0dXJuIHRoaXMuc2Nyb2xsVG8ob2Zmc2V0LCBpc1Ntb290aClcbiAgICB9LFxuXG4gICAgZ2V0Vmlld1dpZHRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0Qm91bmRpbmdDbGllbnRSZWN0KHRoaXMudmlld3BvcnQpLndpZHRoXG4gICAgfSxcblxuICAgIGdldFZpZXdIZWlnaHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBnZXRCb3VuZGluZ0NsaWVudFJlY3QodGhpcy52aWV3cG9ydCkuaGVpZ2h0XG4gICAgfSxcblxuICAgIGFkZFB1bGxkb3duSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3B1bGxkb3duZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhhdC5kaXNhYmxlKClcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoYXQsIGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGF0LnNjcm9sbFRvKDAsIHRydWUpXG4gICAgICAgICAgdGhhdC5yZWZyZXNoKClcbiAgICAgICAgICB0aGF0LmVuYWJsZSgpXG4gICAgICAgIH0pXG4gICAgICB9LCBmYWxzZSlcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgYWRkUHVsbHVwSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncHVsbHVwZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhhdC5kaXNhYmxlKClcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoYXQsIGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGF0LnNjcm9sbFRvKHRoYXQuZ2V0U2Nyb2xsSGVpZ2h0KCksIHRydWUpXG4gICAgICAgICAgdGhhdC5yZWZyZXNoKClcbiAgICAgICAgICB0aGF0LmVuYWJsZSgpXG4gICAgICAgIH0pXG4gICAgICB9LCBmYWxzZSlcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgYWRkU2Nyb2xsc3RhcnRIYW5kbGVyOiBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsc3RhcnQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBoYW5kbGVyLmNhbGwodGhhdCwgZSlcbiAgICAgIH0sIGZhbHNlKVxuXG4gICAgICByZXR1cm4gdGhpc1xuICAgIH0sXG5cbiAgICBhZGRTY3JvbGxpbmdIYW5kbGVyOiBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsaW5nJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaGFuZGxlci5jYWxsKHRoYXQsIGUpXG4gICAgICB9LCBmYWxzZSlcblxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9LFxuXG4gICAgYWRkU2Nyb2xsZW5kSGFuZGxlcjogZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbGVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGF0LCBlKVxuICAgICAgfSwgZmFsc2UpXG5cbiAgICAgIHJldHVybiB0aGlzXG4gICAgfSxcblxuICAgIGFkZENvbnRlbnRyZW5mcmVzaEhhbmRsZXI6IGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZW50cmVmcmVzaCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGF0LCBlKVxuICAgICAgfSwgZmFsc2UpXG4gICAgfSxcblxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChuYW1lLCBoYW5kbGVyLCB1c2VDYXB0dXJlKSB7XG4gICAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGF0LCBlKVxuICAgICAgfSwgISF1c2VDYXB0dXJlKVxuICAgIH0sXG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAobmFtZSwgaGFuZGxlcikge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBoYW5kbGVyLmNhbGwodGhhdCwgZSlcbiAgICAgIH0pXG4gICAgfSxcblxuICAgIGVuYWJsZVBsdWdpbjogZnVuY3Rpb24gKG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwbHVnaW4gPSBwbHVnaW5zW25hbWVdXG4gICAgICBpZiAocGx1Z2luICYmICF0aGlzLnBsdWdpbnNbbmFtZV0pIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zW25hbWVdID0gdHJ1ZVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICAgICAgICBwbHVnaW4uY2FsbCh0aGlzLCBuYW1lLCBvcHRpb25zKVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBrIGluIHByb3RvKSB7XG4gICAgdGhpc1trXSA9IHByb3RvW2tdXG4gIH1cbiAgLy8gZGVsZXRlIHByb3RvXG59XG5cbmxpYi5zY3JvbGwgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgIShhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHtcbiAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdXG4gICAgaWYgKG9wdGlvbnMuc2Nyb2xsRWxlbWVudCkge1xuICAgICAgZWwgPSBvcHRpb25zLnNjcm9sbEVsZW1lbnRcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuc2Nyb2xsV3JhcCkge1xuICAgICAgZWwgPSBvcHRpb25zLnNjcm9sbFdyYXAuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBzY3JvbGwgZWxlbWVudCcpXG4gICAgfVxuICB9XG5cbiAgaWYgKCFlbC5wYXJlbnROb2RlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBkb20gdHJlZScpXG4gIH1cbiAgaWYgKG9wdGlvbnNcbiAgICAgICYmIG9wdGlvbnMuZGlyZWN0aW9uXG4gICAgICAmJiBbJ3gnLCAneSddLmluZGV4T2Yob3B0aW9ucy5kaXJlY3Rpb24pIDwgMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgZGlyZWN0aW9uJylcbiAgfVxuXG4gIHZhciBzY3JvbGxcbiAgaWYgKG9wdGlvbnMuZG93bmdyYWRlID09PSB0cnVlXG4gICAgICAmJiBsaWIuc2Nyb2xsLmRvd25ncmFkZSkge1xuICAgIHNjcm9sbCA9IGxpYi5zY3JvbGwuZG93bmdyYWRlKGVsLCBvcHRpb25zKVxuICB9IGVsc2Uge1xuICAgIGlmIChlbC5zY3JvbGxJZCkge1xuICAgICAgc2Nyb2xsID0gc2Nyb2xsT2Jqc1tlbC5zY3JvbGxJZF1cbiAgICB9IGVsc2Uge1xuICAgICAgc2Nyb2xsID0gbmV3IFNjcm9sbChlbCwgb3B0aW9ucylcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNjcm9sbFxufVxuXG5saWIuc2Nyb2xsLnBsdWdpbiA9IGZ1bmN0aW9uIChuYW1lLCBjb25zdHJ1Y3Rvcikge1xuICBpZiAoY29uc3RydWN0b3IpIHtcbiAgICBuYW1lID0gbmFtZS5zcGxpdCgnLCcpXG4gICAgbmFtZS5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICBwbHVnaW5zW25dID0gY29uc3RydWN0b3JcbiAgICB9KVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBwbHVnaW5zW25hbWVdXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL3Njcm9sbC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGwuanMiLCIvKiBnbG9iYWwgbGliOiB0cnVlICovXG5cbid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIHRyYW5zZmVyIFF1YWRyYXRpYyBCZXppZXIgQ3VydmUgdG8gQ3ViaWMgQmV6aWVyIEN1cnZlXG4gKlxuICogQHBhcmFtICB7bnVtYmVyfSBhIGFic2Npc3NhIG9mIHAxXG4gKiBAcGFyYW0gIHtudW1iZXJ9IGIgb3JkaW5hdGUgb2YgcDFcbiAqIEByZXR1cm4ge0FycmF5fSBwYXJhbWV0ZXIgbWF0cml4IGZvciBjdWJpYyBiZXppZXIgY3VydmVcbiAqICAgbGlrZSBbW3AxeCwgcDF5XSwgW3AyeCwgcDJ5XV1cbiAqL1xuZnVuY3Rpb24gcXVhZHJhdGljMmN1YmljQmV6aWVyIChhLCBiKSB7XG4gIHJldHVybiBbXG4gICAgW1xuICAgICAgKGEgLyAzICsgKGEgKyBiKSAvIDMgLSBhKSAvIChiIC0gYSksXG4gICAgICAoYSAqIGEgLyAzICsgYSAqIGIgKiAyIC8gMyAtIGEgKiBhKSAvIChiICogYiAtIGEgKiBhKVxuICAgIF0sIFtcbiAgICAgIChiIC8gMyArIChhICsgYikgLyAzIC0gYSkgLyAoYiAtIGEpLFxuICAgICAgKGIgKiBiIC8gMyArIGEgKiBiICogMiAvIDMgLSBhICogYSkgLyAoYiAqIGIgLSBhICogYSlcbiAgICBdXG4gIF1cbn1cblxuLyoqXG4gKiBkZXJpdmUgcG9zaXRpb24gZGF0YSBmcm9tIGtub3dpbmcgbW90aW9uIHBhcmFtZXRlcnNcbiAqIGJhc2Ugb24gTmV3dG9uJ3Mgc2Vjb25kIGxhdzogcyA9IHZ0ICsgYXReMi8yXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBvYmplY3Qgb2YgeyB2LCBhLCBzLCB0IH1cbiAqICAgLSB2OiBpbml0aWFsIHZlbG9jaXR5XG4gKiAgIC0gYTogYWNjZWxlcmF0ZSBzcGVlZFxuICogICAtIHQ6IHRpbWVcbiAqICAgLSBzOiBzaGlmdGluZ1xuICovXG5mdW5jdGlvbiBNb3Rpb24gKGNvbmZpZykge1xuICB0aGlzLnYgPSBjb25maWcudiB8fCAwXG4gIHRoaXMuYSA9IGNvbmZpZy5hIHx8IDBcblxuICBpZiAodHlwZW9mIGNvbmZpZy50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMudCA9IGNvbmZpZy50XG4gIH1cblxuICBpZiAodHlwZW9mIGNvbmZpZy5zICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRoaXMucyA9IGNvbmZpZy5zXG4gIH1cblxuICAvLyBkZXJpdmUgdGltZSBmcm9tIHNoaWZ0aW5nXG4gIGlmICh0eXBlb2YgdGhpcy50ID09PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgdGhpcy5zID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhpcy50ID0gLXRoaXMudiAvIHRoaXMuYVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IHQxID0gKE1hdGguc3FydCh0aGlzLnYgKiB0aGlzLnYgKyAyICogdGhpcy5hICogdGhpcy5zKSAtIHRoaXMudilcbiAgICAgICAgLyB0aGlzLmFcbiAgICAgIGNvbnN0IHQyID0gKC1NYXRoLnNxcnQodGhpcy52ICogdGhpcy52ICsgMiAqIHRoaXMuYSAqIHRoaXMucykgLSB0aGlzLnYpXG4gICAgICAgIC8gdGhpcy5hXG4gICAgICB0aGlzLnQgPSBNYXRoLm1pbih0MSwgdDIpXG4gICAgfVxuICB9XG5cbiAgLy8gZGVyaXZlIHNoaWZ0aW5nIGZyb20gdGltZVxuICBpZiAodHlwZW9mIHRoaXMucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aGlzLnMgPSB0aGlzLmEgKiB0aGlzLnQgKiB0aGlzLnQgLyAyICsgdGhpcy52ICogdGhpcy50XG4gIH1cbn1cblxuLyoqXG4gKiBkZXJpdmUgY3ViaWMgYmV6aWVyIHBhcmFtZXRlcnMgZnJvbSBtb3Rpb24gcGFyYW1ldGVyc1xuICogQHJldHVybiB7QXJyYXl9IHBhcmFtZXRlciBtYXRyaXggZm9yIGN1YmljIGJlemllciBjdXJ2ZVxuICogICBsaWtlIFtbcDF4LCBwMXldLCBbcDJ4LCBwMnldXVxuICovXG5Nb3Rpb24ucHJvdG90eXBlLmdlbmVyYXRlQ3ViaWNCZXppZXIgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBxdWFkcmF0aWMyY3ViaWNCZXppZXIoXG4gICAgdGhpcy52IC8gdGhpcy5hLCB0aGlzLnQgKyB0aGlzLnYgLyB0aGlzLmFcbiAgKVxufVxuXG4hbGliICYmIChsaWIgPSB7fSlcbmxpYi5tb3Rpb24gPSBNb3Rpb25cblxubW9kdWxlLmV4cG9ydHMgPSBNb3Rpb25cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL21vdGlvbi5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9tb3Rpb24uanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IGxpc3RNb2R1bGUgZnJvbSAnLi9saXN0J1xuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IExpc3QgPSBsaXN0TW9kdWxlLmluaXQoV2VleClcblxuICBmdW5jdGlvbiBIbGlzdCAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgICBkYXRhLmF0dHIuZGlyZWN0aW9uID0gJ2gnXG4gICAgTGlzdC5jYWxsKHRoaXMsIGRhdGEsIG5vZGVUeXBlKVxuICB9XG5cbiAgSGxpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShMaXN0LnByb3RvdHlwZSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdobGlzdCcsIEhsaXN0KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbGlzdC9obGlzdC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9saXN0L2hsaXN0LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBzY3JvbGxhYmxlTW9kdWxlIGZyb20gJy4uL3Njcm9sbGFibGUnXG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgU2Nyb2xsYWJsZSA9IHNjcm9sbGFibGVNb2R1bGUuaW5pdChXZWV4KVxuICBmdW5jdGlvbiBTY3JvbGxlciAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgICBTY3JvbGxhYmxlLmNhbGwodGhpcywgZGF0YSwgbm9kZVR5cGUpXG4gIH1cbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICBTY3JvbGxlci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFNjcm9sbGFibGUucHJvdG90eXBlKVxuICBleHRlbmQoU2Nyb2xsZXIucHJvdG90eXBlLCB7XG4gICAgY3JlYXRlICgpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBTY3JvbGxhYmxlLnByb3RvdHlwZS5jcmVhdGUuY2FsbCh0aGlzKVxuICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdzY3JvbGxlci13cmFwJylcbiAgICAgIHRoaXMuc2Nyb2xsRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzY3JvbGxlci1lbGVtZW50JylcbiAgICAgIHJldHVybiBub2RlXG4gICAgfVxuICB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3Njcm9sbGVyJywgU2Nyb2xsZXIpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxlci9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9zY3JvbGxlci9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgJy4vcmVmcmVzaC5jc3MnXG5cbmNvbnN0IHBhcmVudHMgPSBbJ3Njcm9sbGVyJywgJ2xpc3QnLCAndmxpc3QnXVxuXG4vLyBPbmx5IGlmIHB1bGxkb3duIG9mZnNldCBpcyBsYXJnZXIgdGhhbiB0aGlzIHZhbHVlIGNhbiB0aGlzXG4vLyBjb21wb25lbnQgdHJpZ2dlciB0aGUgJ3JlZnJlc2gnIGV2ZW50LCBvdGhlcndpc2UganVzdCByZWNvdmVyXG4vLyB0byB0aGUgc3RhcnQgcG9pbnQuXG5jb25zdCBERUZBVUxUX0NMQU1QID0gMTMwXG5jb25zdCBERUZBVUxUX0FMSUdOX0lURU1TID0gJ2NlbnRlcidcbmNvbnN0IERFRkFVTFRfSlVTVElGWV9DT05URU5UID0gJ2NlbnRlcidcblxuZnVuY3Rpb24gYWRqdXN0SGVpZ2h0IChyZWZyZXNoLCB2YWwpIHtcbiAgcmVmcmVzaC5ub2RlLnN0eWxlLmhlaWdodCA9IHZhbCArICdweCdcbn1cblxuLy8gZnVuY3Rpb24gYWRKdXN0UG9zaXRpb24gKHJlZnJlc2gsIHZhbCkge1xuLy8gICByZWZyZXNoLm5vZGUuc3R5bGUudG9wID0gLXZhbCArICdweCdcbi8vIH1cblxuZnVuY3Rpb24gaGFuZGxlUmVmcmVzaCAocmVmcmVzaCwgZSkge1xuICByZWZyZXNoLm5vZGUuc3R5bGUuaGVpZ2h0ID0gcmVmcmVzaC5jbGFtcCArICdweCdcbiAgcmVmcmVzaC5kaXNwYXRjaEV2ZW50KCdyZWZyZXNoJylcbiAgcmVmcmVzaC5pc1JlZnJlc2hpbmcgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIHNob3cgKHJlZnJlc2gpIHtcbiAgcmVmcmVzaC5kaXNwbGF5ID0gdHJ1ZVxuICByZWZyZXNoLm5vZGUuc3R5bGUuZGlzcGxheSA9ICctd2Via2l0LWJveCdcbiAgcmVmcmVzaC5ub2RlLnN0eWxlLmRpc3BsYXkgPSAnLXdlYmtpdC1mbGV4J1xuICByZWZyZXNoLm5vZGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xufVxuXG5mdW5jdGlvbiBoaWRlIChyZWZyZXNoKSB7XG4gIHJlZnJlc2guZGlzcGxheSA9IGZhbHNlXG4gIHJlZnJlc2gubm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIHJlZnJlc2guaXNSZWZyZXNoaW5nID0gZmFsc2Vcbn1cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbnRhaW5lcicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LXJlZnJlc2gnKVxuICAgIHJldHVybiBub2RlXG4gIH0sXG5cbiAgb25BcHBlbmQgKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgIGlmIChwYXJlbnRzLmluZGV4T2YocGFyZW50LmRhdGEudHlwZSkgPT09IC0xKSB7XG4gICAgICAvLyBub3QgaW4gYSBzY3JvbGxlciBvciBhIGxpc3RcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB0aGlzLnJlZnJlc2hQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdGhpcy5yZWZyZXNoUGxhY2Vob2xkZXIuY2xhc3NMaXN0LmFkZCgnd2VleC1yZWZyZXNoLXBsYWNlaG9sZGVyJylcbiAgICB0aGlzLnJlZnJlc2hQbGFjZWhvbGRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gICAgdGhpcy5yZWZyZXNoUGxhY2Vob2xkZXIuc3R5bGUud2lkdGggPSAnMHB4J1xuICAgIHRoaXMucmVmcmVzaFBsYWNlaG9sZGVyLnN0eWxlLmhlaWdodCA9ICcwcHgnXG4gICAgY29uc3Qgc2Nyb2xsRWxlbWVudCA9IHBhcmVudC5zY3JvbGxFbGVtZW50IHx8IHBhcmVudC5saXN0RWxlbWVudFxuICAgIHNjcm9sbEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMucmVmcmVzaFBsYWNlaG9sZGVyLCB0aGlzLm5vZGUpXG4gICAgcGFyZW50Lm5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKVxuICAgIHBhcmVudC5zY3JvbGxlci5hZGRFdmVudExpc3RlbmVyKCdwdWxsZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoc2VsZi5pc1JlZnJlc2hpbmcpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBhZGp1c3RIZWlnaHQoc2VsZiwgTWF0aC5hYnMoZS5zY3JvbGxPYmouZ2V0U2Nyb2xsVG9wKCkpKVxuICAgICAgaWYgKCFzZWxmLmRpc3BsYXkpIHtcbiAgICAgICAgc2hvdyhzZWxmKVxuICAgICAgfVxuICAgIH0pXG4gICAgcGFyZW50LnNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3B1bGxkb3duZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChzZWxmLmlzUmVmcmVzaGluZykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IHRvcCA9IE1hdGguYWJzKGUuc2Nyb2xsT2JqLmdldFNjcm9sbFRvcCgpKVxuICAgICAgaWYgKHRvcCA+IHNlbGYuY2xhbXApIHtcbiAgICAgICAgaGFuZGxlUmVmcmVzaChzZWxmLCBlKVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGhpZGUoc2VsZilcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG5cbmNvbnN0IGF0dHIgPSB7XG4gIGRpc3BsYXk6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAodmFsID09PSAnc2hvdycpIHtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG93KHRoaXMpXG4gICAgICB9LmJpbmQodGhpcyksIDApXG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbCA9PT0gJ2hpZGUnKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaGlkZSh0aGlzKVxuICAgICAgfS5iaW5kKHRoaXMpLCAwKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIGF0dHIgXFwnZGlzcGxheVxcJyBvZiA8cmVmcmVzaD5cXCc6IHZhbHVlICdcbiAgICAgICAgKyB2YWxcbiAgICAgICAgKyAnIGlzIGludmFsaWQuIFNob3VsZCBiZSBcXCdzaG93XFwnIG9yIFxcJ2hpZGVcXCcnKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBzdHlsZSA9IHtcbiAgaGVpZ2h0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpXG4gICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsIDwgMCkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUud2FybignW2g1LXJlbmRlcl0gPHJlZnJlc2g+XFwncyBoZWlnaHQgKCcgKyB2YWwgKyAnKSBpcyBpbnZhbGlkLicpXG4gICAgfVxuICAgIHRoaXMuY2xhbXAgPSB2YWwgKiB0aGlzLmRhdGEuc2NhbGVcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IENvbXBvbmVudCA9IFdlZXguQ29tcG9uZW50XG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG5cbiAgZnVuY3Rpb24gUmVmcmVzaCAoZGF0YSkge1xuICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gZmFsc2VcbiAgICB0aGlzLmNsYW1wID0gKGRhdGEuc3R5bGUuaGVpZ2h0IHx8IERFRkFVTFRfQ0xBTVApICogZGF0YS5zY2FsZVxuICAgICFkYXRhLnN0eWxlLmFsaWduSXRlbXMgJiYgKGRhdGEuc3R5bGUuYWxpZ25JdGVtcyA9IERFRkFVTFRfQUxJR05fSVRFTVMpXG4gICAgIWRhdGEuc3R5bGUuanVzdGlmeUNvbnRlbnRcbiAgICAgICYmIChkYXRhLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gREVGQVVMVF9KVVNUSUZZX0NPTlRFTlQpXG4gICAgQ29tcG9uZW50LmNhbGwodGhpcywgZGF0YSlcbiAgfVxuICBSZWZyZXNoLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSlcbiAgZXh0ZW5kKFJlZnJlc2gucHJvdG90eXBlLCBwcm90bylcbiAgZXh0ZW5kKFJlZnJlc2gucHJvdG90eXBlLCB7IGF0dHIgfSlcbiAgZXh0ZW5kKFJlZnJlc2gucHJvdG90eXBlLCB7XG4gICAgc3R5bGU6IGV4dGVuZChPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUuc3R5bGUpLCBzdHlsZSlcbiAgfSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdyZWZyZXNoJywgUmVmcmVzaClcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvcmVmcmVzaC9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWZyZXNoL2luZGV4LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9yZWZyZXNoLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9yZWZyZXNoLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3JlZnJlc2guY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL3JlZnJlc2gvcmVmcmVzaC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWZyZXNoL3JlZnJlc2guY3NzPzUxNjQiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi53ZWV4LXJlZnJlc2gge1xcbiAgLy8gLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gIC8vIC13ZWJraXQtYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIC8vIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAvLyAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAvLyAtd2Via2l0LWp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgLy8ganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAwO1xcbiAgei1pbmRleDogOTk5OTk5O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzY2NjtcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9yZWZyZXNoL3JlZnJlc2guY3NzXG4gKiogbW9kdWxlIGlkID0gMTc5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvcmVmcmVzaC9yZWZyZXNoLmNzcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgJy4vbG9hZGluZy5jc3MnXG5cbmNvbnN0IHBhcmVudHMgPSBbJ3Njcm9sbGVyJywgJ2xpc3QnLCAndmxpc3QnXVxuXG5jb25zdCBERUZBVUxUX0NMQU1QID0gMTMwXG5jb25zdCBERUZBVUxUX0FMSUdOX0lURU1TID0gJ2NlbnRlcidcbmNvbnN0IERFRkFVTFRfSlVTVElGWV9DT05URU5UID0gJ2NlbnRlcidcblxuZnVuY3Rpb24gYWRqdXN0SGVpZ2h0IChsb2FkaW5nLCB2YWwpIHtcbiAgbG9hZGluZy5ub2RlLnN0eWxlLmhlaWdodCA9IHZhbCArICdweCdcbn1cblxuZnVuY3Rpb24gaGFuZGxlTG9hZGluZyAobG9hZGluZywgZSkge1xuICBsb2FkaW5nLm5vZGUuc3R5bGUuaGVpZ2h0ID0gbG9hZGluZy5jbGFtcCArICdweCdcbiAgbG9hZGluZy5kaXNwYXRjaEV2ZW50KCdsb2FkaW5nJylcbiAgbG9hZGluZy5pc0xvYWRpbmcgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIHNob3cgKGxvYWRpbmcpIHtcbiAgbG9hZGluZy5kaXNwbGF5ID0gdHJ1ZVxuICBsb2FkaW5nLm5vZGUuc3R5bGUuZGlzcGxheSA9ICctd2Via2l0LWJveCdcbiAgbG9hZGluZy5ub2RlLnN0eWxlLmRpc3BsYXkgPSAnLXdlYmtpdC1mbGV4J1xuICBsb2FkaW5nLm5vZGUuc3R5bGUuZGlzcGxheSA9ICdmbGV4J1xufVxuXG5mdW5jdGlvbiBoaWRlIChsb2FkaW5nKSB7XG4gIGxvYWRpbmcuZGlzcGxheSA9IGZhbHNlXG4gIGxvYWRpbmcubm9kZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnXG4gIGxvYWRpbmcuaXNMb2FkaW5nID0gZmFsc2Vcbn1cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbnRhaW5lcicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWxvYWRpbmcnKVxuICAgIHJldHVybiBub2RlXG4gIH0sXG5cbiAgb25BcHBlbmQgKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KClcbiAgICBjb25zdCBzZWxmID0gdGhpc1xuICAgIGNvbnN0IHNjcm9sbFdyYXBIZWlnaHQgPSBwYXJlbnQubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHRcbiAgICBpZiAocGFyZW50cy5pbmRleE9mKHBhcmVudC5kYXRhLnR5cGUpID09PSAtMSkge1xuICAgICAgLy8gbm90IGluIGEgc2Nyb2xsZXIgb3IgYSBsaXN0XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy5sb2FkaW5nUGxhY2Vob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMubG9hZGluZ1BsYWNlaG9sZGVyLmNsYXNzTGlzdC5hZGQoJ3dlZXgtbG9hZGluZy1wbGFjZWhvbGRlcicpXG4gICAgdGhpcy5sb2FkaW5nUGxhY2Vob2xkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJ1xuICAgIHRoaXMubG9hZGluZ1BsYWNlaG9sZGVyLnN0eWxlLndpZHRoID0gJzBweCdcbiAgICB0aGlzLmxvYWRpbmdQbGFjZWhvbGRlci5zdHlsZS5oZWlnaHQgPSAnMHB4J1xuICAgIGNvbnN0IHNjcm9sbEVsZW1lbnQgPSBwYXJlbnQuc2Nyb2xsRWxlbWVudCB8fCBwYXJlbnQubGlzdEVsZW1lbnRcbiAgICBzY3JvbGxFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmxvYWRpbmdQbGFjZWhvbGRlciwgdGhpcy5ub2RlKVxuICAgIHBhcmVudC5ub2RlLmFwcGVuZENoaWxkKHRoaXMubm9kZSlcbiAgICBwYXJlbnQuc2Nyb2xsZXIuYWRkRXZlbnRMaXN0ZW5lcigncHVsbHVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChzZWxmLmlzTG9hZGluZykge1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNvbnN0IG9iaiA9IGUuc2Nyb2xsT2JqXG4gICAgICBhZGp1c3RIZWlnaHQoc2VsZiwgTWF0aC5hYnMoXG4gICAgICAgIG9iai5nZXRTY3JvbGxIZWlnaHQoKSAtIG9iai5nZXRTY3JvbGxUb3AoKSAtIHNjcm9sbFdyYXBIZWlnaHQpKVxuICAgICAgaWYgKCFzZWxmLmRpc3BsYXkpIHtcbiAgICAgICAgc2hvdyhzZWxmKVxuICAgICAgfVxuICAgIH0pXG4gICAgcGFyZW50LnNjcm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoJ3B1bGx1cGVuZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoc2VsZi5pc0xvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBoYW5kbGVMb2FkaW5nKHNlbGYsIGUpXG4gICAgfSlcbiAgfVxufVxuXG5jb25zdCBhdHRyID0ge1xuICBkaXNwbGF5OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKHZhbCA9PT0gJ3Nob3cnKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2hvdyh0aGlzKVxuICAgICAgfS5iaW5kKHRoaXMpLCAwKVxuICAgIH1cbiAgICBlbHNlIGlmICh2YWwgPT09ICdoaWRlJykge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGhpZGUodGhpcylcbiAgICAgIH0uYmluZCh0aGlzKSwgMClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBhdHRyIFxcJ2Rpc3BsYXlcXCcgb2YgPHJlZnJlc2g+XFwnOiB2YWx1ZSAnXG4gICAgICAgICsgdmFsXG4gICAgICAgICsgJyBpcyBpbnZhbGlkLiBTaG91bGQgYmUgXFwnc2hvd1xcJyBvciBcXCdoaWRlXFwnJylcbiAgICB9XG4gIH1cbn1cblxuY29uc3Qgc3R5bGUgPSB7XG4gIGhlaWdodDogZnVuY3Rpb24gKHZhbCkge1xuICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgIGlmIChOdW1iZXIuaXNOYU4odmFsKSB8fCB2YWwgPCAwKSB7XG4gICAgICByZXR1cm4gY29uc29sZS53YXJuKCdbaDUtcmVuZGVyXSA8bG9hZGluZz5cXCdzIGhlaWdodCAoJyArIHZhbCArICcpIGlzIGludmFsaWQuJylcbiAgICB9XG4gICAgdGhpcy5jbGFtcCA9IHZhbCAqIHRoaXMuZGF0YS5zY2FsZVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICBmdW5jdGlvbiBMb2FkaW5nIChkYXRhKSB7XG4gICAgdGhpcy5jbGFtcCA9IChkYXRhLnN0eWxlLmhlaWdodCB8fCBERUZBVUxUX0NMQU1QKSAqIGRhdGEuc2NhbGVcbiAgICAhZGF0YS5zdHlsZS5hbGlnbkl0ZW1zICYmIChkYXRhLnN0eWxlLmFsaWduSXRlbXMgPSBERUZBVUxUX0FMSUdOX0lURU1TKVxuICAgICFkYXRhLnN0eWxlLmp1c3RpZnlDb250ZW50XG4gICAgICAmJiAoZGF0YS5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IERFRkFVTFRfSlVTVElGWV9DT05URU5UKVxuICAgIENvbXBvbmVudC5jYWxsKHRoaXMsIGRhdGEpXG4gIH1cbiAgTG9hZGluZy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUpXG4gIGV4dGVuZChMb2FkaW5nLnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChMb2FkaW5nLnByb3RvdHlwZSwgeyBhdHRyIH0pXG4gIGV4dGVuZChMb2FkaW5nLnByb3RvdHlwZSwge1xuICAgIHN0eWxlOiBleHRlbmQoT2JqZWN0LmNyZWF0ZShDb21wb25lbnQucHJvdG90eXBlLnN0eWxlKSwgc3R5bGUpXG4gIH0pXG5cbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgnbG9hZGluZycsIExvYWRpbmcpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9sb2FkaW5nL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcvaW5kZXguanMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2xvYWRpbmcuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2xvYWRpbmcuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbG9hZGluZy5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3Njcm9sbGFibGUvbG9hZGluZy9sb2FkaW5nLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcvbG9hZGluZy5jc3M/MzhhMSIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLndlZXgtbG9hZGluZyB7XFxuICAvLyAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgLy8gLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgLy8gYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIC8vIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gIC8vIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICAvLyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBib3R0b206IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDA7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjNjY2O1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zY3JvbGxhYmxlL2xvYWRpbmcvbG9hZGluZy5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc2Nyb2xsYWJsZS9sb2FkaW5nL2xvYWRpbmcuY3NzIiwiJ3VzZSBzdHJpY3QnXG5cbnJlcXVpcmUoJy4vaW5kaWNhdG9yLmNzcycpXG5cbmNvbnN0IERFRkFVTFRfSVRFTV9DT0xPUiA9ICcjOTk5J1xuY29uc3QgREVGQVVMVF9JVEVNX1NFTEVDVEVEX0NPTE9SID0gJyMwMDAwZmYnXG5jb25zdCBERUZBVUxUX0lURU1fU0laRSA9IDIwXG5jb25zdCBERUZBVUxUX01BUkdJTl9TSVpFID0gMTBcblxuZnVuY3Rpb24gcmVzZXRDb2xvciAoaW5kaWNhdG9yKSB7XG4gIGNvbnN0IGxlbiA9IGluZGljYXRvci5pdGVtcy5sZW5ndGhcbiAgaWYgKHR5cGVvZiBpbmRpY2F0b3IuaW5kZXggIT09ICd1bmRlZmluZWQnICYmIGxlbiA+IGluZGljYXRvci5pbmRleCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBpbmRpY2F0b3IuaXRlbXNbaV1cbiAgICAgIGlmIChpbmRpY2F0b3IuaW5kZXggPT09IGkpIHtcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgICAgICBpdGVtLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGluZGljYXRvci5pdGVtU2VsZWN0ZWRDb2xvclxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gaW5kaWNhdG9yLml0ZW1Db2xvclxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVDbGljayAoaW5kaWNhdG9yLCBpZHgsIGUpIHtcbiAgaW5kaWNhdG9yLnNsaWRlci5zbGlkZVRvKGlkeCwgdHJ1ZSlcbn1cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWluZGljYXRvcnMnKVxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCgnd2VleC1lbGVtZW50JylcbiAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJ1xuICAgIHRoaXMubm9kZSA9IG5vZGVcbiAgICB0aGlzLnN0eWxlLml0ZW1TaXplLmNhbGwodGhpcywgMClcbiAgICB0aGlzLnVwZGF0ZVN0eWxlKHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBpdGVtU2l6ZTogMFxuICAgIH0pXG4gICAgcmV0dXJuIG5vZGVcbiAgfSxcblxuICBjcmVhdGVDaGlsZHJlbiAoKSB7XG4gICAgY29uc3Qgcm9vdCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hbW91bnQ7IGkrKykge1xuICAgICAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgIGluZGljYXRvci5jbGFzc0xpc3QuYWRkKCd3ZWV4LWluZGljYXRvcicpXG4gICAgICBpbmRpY2F0b3Iuc3R5bGUuYm94U2l6aW5nID0gJ2JvcmRlci1ib3gnXG4gICAgICBpbmRpY2F0b3Iuc3R5bGUubWFyZ2luID0gJzAgJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAoREVGQVVMVF9NQVJHSU5fU0laRSAqIHRoaXMuZGF0YS5zY2FsZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgJ3B4J1xuICAgICAgaW5kaWNhdG9yLnN0eWxlLndpZHRoID0gdGhpcy5pdGVtU2l6ZSArICdweCdcbiAgICAgIGluZGljYXRvci5zdHlsZS5oZWlnaHQgPSB0aGlzLml0ZW1TaXplICsgJ3B4J1xuICAgICAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnaW5kZXgnLCBpKVxuICAgICAgaWYgKHRoaXMuaW5kZXggPT09IGkpIHtcbiAgICAgICAgaW5kaWNhdG9yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpXG4gICAgICAgIGluZGljYXRvci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLml0ZW1TZWxlY3RlZENvbG9yXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaW5kaWNhdG9yLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuaXRlbUNvbG9yXG4gICAgICB9XG4gICAgICBpbmRpY2F0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljay5iaW5kKG51bGwsIHRoaXMsIGkpKVxuICAgICAgdGhpcy5pdGVtc1tpXSA9IGluZGljYXRvclxuICAgICAgcm9vdC5hcHBlbmRDaGlsZChpbmRpY2F0b3IpXG4gICAgfVxuICAgIHRoaXMubm9kZS5hcHBlbmRDaGlsZChyb290KVxuICB9LFxuXG4gIHNldEluZGV4IChpZHgpIHtcbiAgICBpZiAoaWR4ID49IHRoaXMuYW1vdW50KSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3QgcHJldiA9IHRoaXMuaXRlbXNbdGhpcy5pbmRleF1cbiAgICBjb25zdCBjdXIgPSB0aGlzLml0ZW1zW2lkeF1cbiAgICBwcmV2LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpXG4gICAgcHJldi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLml0ZW1Db2xvclxuICAgIGN1ci5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxuICAgIGN1ci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLml0ZW1TZWxlY3RlZENvbG9yXG4gICAgdGhpcy5pbmRleCA9IGlkeFxuICB9XG59XG5cbmNvbnN0IHN0eWxlID0ge1xuICBpdGVtQ29sb3IgKHZhbCkge1xuICAgIHRoaXMuaXRlbUNvbG9yID0gdmFsIHx8IERFRkFVTFRfSVRFTV9DT0xPUlxuICAgIHJlc2V0Q29sb3IodGhpcylcbiAgfSxcblxuICBpdGVtU2VsZWN0ZWRDb2xvciAodmFsKSB7XG4gICAgdGhpcy5pdGVtU2VsZWN0ZWRDb2xvciA9IHZhbCB8fCBERUZBVUxUX0lURU1fU0VMRUNURURfQ09MT1JcbiAgICByZXNldENvbG9yKHRoaXMpXG4gIH0sXG5cbiAgaXRlbVNpemUgKHZhbCkge1xuICAgIHZhbCA9IHBhcnNlSW50KHZhbCkgKiB0aGlzLmRhdGEuc2NhbGVcbiAgICAgICAgICB8fCBERUZBVUxUX0lURU1fU0laRSAqIHRoaXMuZGF0YS5zY2FsZVxuICAgIHRoaXMuaXRlbVNpemUgPSB2YWxcbiAgICB0aGlzLm5vZGUuc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4J1xuICAgIGZvciAobGV0IGkgPSAwLCBsID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHRoaXMuaXRlbXNbaV0uc3R5bGUud2lkdGggPSB2YWwgKyAncHgnXG4gICAgICB0aGlzLml0ZW1zW2ldLnN0eWxlLmhlaWdodCA9IHZhbCArICdweCdcbiAgICB9XG4gIH0sXG5cbiAgd2lkdGggKHZhbCkge1xuICAgIHZhbCA9IHBhcnNlSW50KHZhbCkgKiB0aGlzLmRhdGEuc2NhbGUgfHwgcGFyc2VJbnQodGhpcy5zbGlkZXJXaWR0aClcbiAgICB0aGlzLnZpcnR1YWxXcmFwcGVyV2lkdGggPSB2YWxcbiAgfSxcblxuICBoZWlnaHQgKHZhbCkge1xuICAgIHZhbCA9IHBhcnNlSW50KHZhbCkgKiB0aGlzLmRhdGEuc2NhbGUgfHwgcGFyc2VJbnQodGhpcy5zbGlkZXJIZWlnaHQpXG4gICAgdGhpcy52aXJ0dWFsV3JhcHBlckhlaWdodCA9IHZhbFxuICB9LFxuXG4gIHRvcCAodmFsKSB7XG4gICAgdmFsID0gdGhpcy52aXJ0dWFsV3JhcHBlckhlaWdodCAvIDIgLSB0aGlzLml0ZW1TaXplIC8gMlxuICAgICAgICArIHZhbCAqIHRoaXMuZGF0YS5zY2FsZVxuICAgIHRoaXMubm9kZS5zdHlsZS5ib3R0b20gPSAnJ1xuICAgIHRoaXMubm9kZS5zdHlsZS50b3AgPSB2YWwgKyAncHgnXG4gIH0sXG5cbiAgYm90dG9tICh2YWwpIHtcbiAgICB2YWwgPSB0aGlzLnZpcnR1YWxXcmFwcGVySGVpZ2h0IC8gMiAtIHRoaXMuaXRlbVNpemUgLyAyXG4gICAgICAgICsgdmFsICogdGhpcy5kYXRhLnNjYWxlXG4gICAgdGhpcy5ub2RlLnN0eWxlLnRvcCA9ICcnXG4gICAgdGhpcy5ub2RlLnN0eWxlLmJvdHRvbSA9IHZhbCArICdweCdcbiAgfSxcblxuICBsZWZ0ICh2YWwpIHtcbiAgICB2YWwgPSB0aGlzLnZpcnR1YWxXcmFwcGVyV2lkdGggLyAyXG4gICAgICAgICAgLSAodGhpcy5pdGVtU2l6ZSArIDIgKiBERUZBVUxUX01BUkdJTl9TSVpFICogdGhpcy5kYXRhLnNjYWxlKVxuICAgICAgICAgICAgICAqIHRoaXMuYW1vdW50IC8gMlxuICAgICAgICAgICsgdmFsICogdGhpcy5kYXRhLnNjYWxlXG4gICAgdGhpcy5ub2RlLnN0eWxlLnJpZ2h0ID0gJydcbiAgICB0aGlzLm5vZGUuc3R5bGUubGVmdCA9IHZhbCArICdweCdcbiAgfSxcblxuICByaWdodCAodmFsKSB7XG4gICAgdmFsID0gdGhpcy52aXJ0dWFsV3JhcHBlcldpZHRoIC8gMlxuICAgICAgICAgIC0gKHRoaXMuaXRlbVNpemUgKyAyICogREVGQVVMVF9NQVJHSU5fU0laRSAqIHRoaXMuZGF0YS5zY2FsZSlcbiAgICAgICAgICAgICAgKiB0aGlzLmFtb3VudCAvIDJcbiAgICAgICAgICArIHZhbCAqIHRoaXMuZGF0YS5zY2FsZVxuICAgIHRoaXMubm9kZS5zdHlsZS5sZWZ0ID0gJydcbiAgICB0aGlzLm5vZGUuc3R5bGUucmlnaHQgPSB2YWwgKyAncHgnXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBBdG9taWMgPSBXZWV4LkF0b21pY1xuICBjb25zdCBleHRlbmQgPSBXZWV4LnV0aWxzLmV4dGVuZFxuXG4gIC8vIFN0eWxlIHN1cHBvcnRlZDpcbiAgLy8gICBwb3NpdGlvbjogKGRlZmF1bHQgLSBhYnNvbHV0ZSlcbiAgLy8gICBpdGVtQ29sb3I6IGNvbG9yIG9mIGluZGljYXRvciBkb3RzXG4gIC8vICAgaXRlbVNlbGVjdGVkQ29sb3I6IGNvbG9yIG9mIHRoZSBzZWxlY3RlZCBpbmRpY2F0b3IgZG90XG4gIC8vICAgaXRlbVNpemU6IHNpemUgb2YgaW5kaWNhdG9yc1xuICAvLyAgIG90aGVyIGxheW91dCBzdHlsZXNcbiAgZnVuY3Rpb24gSW5kaWNhdG9yIChkYXRhKSB7XG4gICAgdGhpcy5kaXJlY3Rpb24gPSAncm93JyAvLyAnY29sdW1uJyBpcyBub3QgdGVtcG9yYXJpbHkgc3VwcG9ydGVkLlxuICAgIHRoaXMuYW1vdW50ID0gZGF0YS5leHRyYS5hbW91bnRcbiAgICB0aGlzLmluZGV4ID0gZGF0YS5leHRyYS5pbmRleFxuICAgIHRoaXMuc2xpZGVyV2lkdGggPSBkYXRhLmV4dHJhLndpZHRoXG4gICAgdGhpcy5zbGlkZXJIZWlnaHQgPSBkYXRhLmV4dHJhLmhlaWdodFxuICAgIGNvbnN0IHN0eWxlcyA9IGRhdGEuc3R5bGUgfHwge31cbiAgICB0aGlzLmRhdGEgPSBkYXRhXG4gICAgdGhpcy5zdHlsZS53aWR0aC5jYWxsKHRoaXMsIHN0eWxlcy53aWR0aClcbiAgICB0aGlzLnN0eWxlLmhlaWdodC5jYWxsKHRoaXMsIHN0eWxlcy5oZWlnaHQpXG4gICAgdGhpcy5pdGVtQ29sb3IgPSBzdHlsZXMuaXRlbUNvbG9yIHx8IERFRkFVTFRfSVRFTV9DT0xPUlxuICAgIHRoaXMuaXRlbVNlbGVjdGVkQ29sb3IgPSBzdHlsZXMuaXRlbVNlbGVjdGVkQ29sb3JcbiAgICAgIHx8IERFRkFVTFRfSVRFTV9TRUxFQ1RFRF9DT0xPUlxuICAgIHRoaXMuaXRlbXMgPSBbXVxuICAgIEF0b21pYy5jYWxsKHRoaXMsIGRhdGEpXG4gIH1cbiAgSW5kaWNhdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQXRvbWljLnByb3RvdHlwZSlcbiAgZXh0ZW5kKEluZGljYXRvci5wcm90b3R5cGUsIHByb3RvKVxuICBleHRlbmQoSW5kaWNhdG9yLnByb3RvdHlwZSwge1xuICAgIHN0eWxlOiBleHRlbmQoT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlLnN0eWxlKSwgc3R5bGUpXG4gIH0pXG5cbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgnaW5kaWNhdG9yJywgSW5kaWNhdG9yKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2luZGljYXRvci9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvaW5kaWNhdG9yL2luZGV4LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRpY2F0b3IuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2luZGljYXRvci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9pbmRpY2F0b3IuY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbmRpY2F0b3IvaW5kaWNhdG9yLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbmRpY2F0b3IvaW5kaWNhdG9yLmNzcz8xMjk0IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIud2VleC1pbmRpY2F0b3JzIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICB6LWluZGV4OiA5OTk7XFxufVxcbi53ZWV4LWluZGljYXRvcnMgLndlZXgtaW5kaWNhdG9yIHtcXG4gIGZsb2F0OiBsZWZ0O1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbmRpY2F0b3IvaW5kaWNhdG9yLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9pbmRpY2F0b3IvaW5kaWNhdG9yLmNzcyIsIid1c2Ugc3RyaWN0J1xuXG4vLyBUT0RPOiByZWZhY3RvciB0aGlzIHNjc3MgY29kZSBzaW5jZSB0aGlzIGlzIHN0cm9uZ2x5XG4vLyBkZXBlbmRlbnQgb24gbGliLmZsZXhpYmxlIG90aGVyIHRoYW4gdGhlIHZhbHVlIG9mXG4vLyBzY2FsZS5cbnJlcXVpcmUoJy4vdGFiaGVhZGVyLmNzcycpXG5cbmZ1bmN0aW9uIGluaXRGb2xkQnRuICh0YWJoZWFkZXIpIHtcbiAgY29uc3Qgbm9kZSA9IHRhYmhlYWRlci5ub2RlXG4gIGNvbnN0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKVxuICBidG4uY2xhc3NOYW1lID0gJ2ZvbGQtdG9nZ2xlIGljb25mb250J1xuICBidG4uaW5uZXJIVE1MID0gJyYjeGU2NjE7J1xuICBub2RlLmFwcGVuZENoaWxkKGJ0bilcblxuICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRhYmhlYWRlci51bmZvbGRpbmcpIHtcbiAgICAgIGZvbGRpbmcodGFiaGVhZGVyKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHVuZm9sZGluZyh0YWJoZWFkZXIpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiBpbml0TWFzayAodGFiaGVhZGVyKSB7XG4gIGNvbnN0IG1hc2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBtYXNrLmNsYXNzTmFtZSA9ICd0YWJoZWFkZXItbWFzaydcbiAgdGFiaGVhZGVyLm1hc2sgPSBtYXNrXG4gIC8vIHN0b3AgZGVmYXVsdCBiZWhhdmlvcjogcGFnZSBtb3ZpbmcuXG4gIG1hc2suYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gIH0pXG4gIC8vIGNsaWNrIHRvIHVuZm9sZC5cbiAgbWFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBmb2xkaW5nKHRhYmhlYWRlcilcbiAgfSlcblxuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG1hc2spXG59XG5cbmZ1bmN0aW9uIHVuZm9sZGluZyAodGFiaGVhZGVyKSB7XG4gIC8vIG1hcmsgdGhlIGluaXRpYWwgcG9zaWl0b24gb2YgdGFiaGVhZGVyXG4gIGlmICghdGFiaGVhZGVyLmZsYWcpIHtcbiAgICBjb25zdCBmbGFnID0gZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgndGFiaGVhZGVyJylcbiAgICB0YWJoZWFkZXIuZmxhZyA9IGZsYWdcbiAgICB0YWJoZWFkZXIubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShmbGFnLCB0YWJoZWFkZXIubm9kZSlcbiAgfVxuICBpZiAoIXRhYmhlYWRlci5tYXNrKSB7XG4gICAgaW5pdE1hc2sodGFiaGVhZGVyKVxuICB9XG5cbiAgLy8gcmVjb3JkIHRoZSBzY3JvbGwgcG9zaXRpb24uXG4gIHRhYmhlYWRlci5fc2Nyb2xsVmFsID0gdGFiaGVhZGVyLl9ib2R5LnNjcm9sbExlZnRcbiAgLy8gcmVjb3JkIHRoZSBwb3NpdGlvbiBpbiBkb2N1bWVudC5cbiAgdGFiaGVhZGVyLl90b3BWYWwgPSB0YWJoZWFkZXIubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3BcbiAgdGFiaGVhZGVyLl9zdHlsZVRvcCA9IHRhYmhlYWRlci5ub2RlLnN0eWxlLnRvcFxuXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGFiaGVhZGVyLm5vZGUpXG4gIHRhYmhlYWRlci5ub2RlLmNsYXNzTGlzdC5hZGQoJ3VuZm9sZC1oZWFkZXInKVxuICB0YWJoZWFkZXIubm9kZS5zdHlsZS5oZWlnaHQgPSAnYXV0bydcbiAgLy8gcmVjYWxjIHRoZSBwb3NpdGlvbiB3aGVuIGl0IGlzIHVuZm9sZGVkLlxuICBjb25zdCB0aEhlaWdodCA9IHRhYmhlYWRlci5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodFxuICBpZiAodGhIZWlnaHQgKyB0YWJoZWFkZXIuX3RvcFZhbCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgIHRhYmhlYWRlci5fdG9wVmFsID0gdGFiaGVhZGVyLl90b3BWYWxcbiAgICAgICAgKyAod2luZG93LmlubmVySGVpZ2h0IC0gdGhIZWlnaHQgLSB0YWJoZWFkZXIuX3RvcFZhbClcbiAgfVxuXG4gIHRhYmhlYWRlci5ub2RlLnN0eWxlLnRvcCA9IHRhYmhlYWRlci5fdG9wVmFsICsgJ3B4J1xuICAvLyBwcm9jZXNzIG1hc2sgc3R5bGVcbiAgdGFiaGVhZGVyLm1hc2suY2xhc3NMaXN0LmFkZCgndW5mb2xkLWhlYWRlcicpXG4gIHRhYmhlYWRlci5tYXNrLnN0eWxlLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCArICdweCdcbiAgdGFiaGVhZGVyLnVuZm9sZGluZyA9IHRydWVcbn1cblxuZnVuY3Rpb24gZm9sZGluZyAodGFiaGVhZGVyKSB7XG4gIGlmICh0YWJoZWFkZXIudW5mb2xkaW5nICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB0YWJoZWFkZXIubWFzay5jbGFzc0xpc3QucmVtb3ZlKCd1bmZvbGQtaGVhZGVyJylcbiAgdGFiaGVhZGVyLm5vZGUuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2xkLWhlYWRlcicpXG5cbiAgdGFiaGVhZGVyLm5vZGUuc3R5bGUuaGVpZ2h0ID0gJydcbiAgdGFiaGVhZGVyLm5vZGUuc3R5bGUudG9wID0gdGFiaGVhZGVyLl9zdHlsZVRvcFxuXG4gIC8vIHJlY292ZXIgdGhlIHBvc2l0aW9uIG9mIHRhYmhlYWRlci5cbiAgdGFiaGVhZGVyLmZsYWcucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGFiaGVhZGVyLm5vZGUsIHRhYmhlYWRlci5mbGFnKVxuICAvLyByZWNvdmVyIHRoZSBwb3NpdGlvbiBvZiBzY29sbGVyLlxuICB0YWJoZWFkZXIuX2JvZHkuc2Nyb2xsTGVmdCA9IHRhYmhlYWRlci5fc2Nyb2xsVmFsXG5cbiAgc2Nyb2xsVG9WaWV3KHRhYmhlYWRlcilcbiAgdGFiaGVhZGVyLnVuZm9sZGluZyA9IGZhbHNlXG59XG5cbmZ1bmN0aW9uIGluaXRFdmVudCAodGFiaGVhZGVyKSB7XG4gIGluaXRDbGlja0V2ZW50KHRhYmhlYWRlcilcbiAgaW5pdFNlbGVjdEV2ZW50KHRhYmhlYWRlcilcbn1cblxuLy8gaW5pdCBldmVudHMuXG5mdW5jdGlvbiBpbml0Q2xpY2tFdmVudCAodGFiaGVhZGVyKSB7XG4gIGNvbnN0IGJveCA9IHRhYmhlYWRlci5ib3hcblxuICBib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgbGV0IHRhcmdldCA9IGV2dC50YXJnZXRcbiAgICBpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnVUwnKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAodGFyZ2V0LnBhcmVudE5vZGUubm9kZU5hbWUgPT09ICdMSScpIHtcbiAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlXG4gICAgfVxuXG4gICAgY29uc3QgZmxvb3IgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhLWZsb29yJylcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBlcWVxZXEgKi9cbiAgICBpZiAodGFiaGVhZGVyLmRhdGEuYXR0ci5zZWxlY3RlZEluZGV4ID09IGZsb29yKSB7XG4gICAgICAvLyBEdXBsaWNhdGVkIGNsaWNraW5nLCBub3QgdG8gdHJpZ2dlciBzZWxlY3QgZXZlbnQuXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblxuICAgIGZpcmVFdmVudCh0YXJnZXQsICdzZWxlY3QnLCB7IGluZGV4OiBmbG9vciB9KVxuICB9KVxufVxuXG5mdW5jdGlvbiBpbml0U2VsZWN0RXZlbnQgKHRhYmhlYWRlcikge1xuICBjb25zdCBub2RlID0gdGFiaGVhZGVyLm5vZGVcbiAgbm9kZS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3QnLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgbGV0IGluZGV4XG4gICAgaWYgKGV2dC5pbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbmRleCA9IGV2dC5pbmRleFxuICAgIH1cbiAgICBlbHNlIGlmIChldnQuZGF0YSAmJiBldnQuZGF0YS5pbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpbmRleCA9IGV2dC5kYXRhLmluZGV4XG4gICAgfVxuXG4gICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHRhYmhlYWRlci5hdHRyLnNlbGVjdGVkSW5kZXguY2FsbCh0YWJoZWFkZXIsIGluZGV4KVxuICB9KVxufVxuXG5mdW5jdGlvbiBzY3JvbGxUb1ZpZXcgKHRhYmhlYWRlciwgbm9kZSkge1xuICBpZiAoIW5vZGUpIHtcbiAgICBjb25zdCBhdHRyID0gdGFiaGVhZGVyLmRhdGEuYXR0clxuICAgIG5vZGUgPSB0YWJoZWFkZXIubm9kZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1mbG9vcj1cIicgKyBhdHRyLnNlbGVjdGVkSW5kZXggKyAnXCJdJylcbiAgfVxuICBpZiAoIW5vZGUpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIGNvbnN0IGRlZmF1bHRWYWwgPSB0YWJoZWFkZXIuX2JvZHkuc2Nyb2xsTGVmdFxuICAvLyBjb25zdCBsZWZ0VmFsID0gZGVmYXVsdFZhbCAtIG5vZGUub2Zmc2V0TGVmdCArIDMwMFxuXG4gIGNvbnN0IHNjcm9sbFZhbCA9IGdldFNjcm9sbFZhbCh0YWJoZWFkZXIuX2JvZHkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG5vZGUpXG4gIGRvU2Nyb2xsKHRhYmhlYWRlci5fYm9keSwgc2Nyb2xsVmFsKVxufVxuXG4vLyBzY3JvbGwgdGhlIHRhYmhlYWRlci5cbi8vIHBvc2l0aXZlIHZhbCBtZWFucyB0byBzY3JvbGwgcmlnaHQuXG4vLyBuZWdhdGl2ZSB2YWwgbWVhbnMgdG8gc2Nyb2xsIGxlZnQuXG5mdW5jdGlvbiBkb1Njcm9sbCAobm9kZSwgdmFsLCBmaW5pc2gpIHtcbiAgaWYgKCF2YWwpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoZmluaXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBmaW5pc2ggPSBNYXRoLmFicyh2YWwpXG4gIH1cblxuICBpZiAoZmluaXNoIDw9IDApIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICBub2RlLnNjcm9sbExlZnQgKz0gMlxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5vZGUuc2Nyb2xsTGVmdCAtPSAyXG4gICAgfVxuICAgIGZpbmlzaCAtPSAyXG5cbiAgICBkb1Njcm9sbChub2RlLCB2YWwsIGZpbmlzaClcbiAgfSlcbn1cblxuLy8gZ2V0IHNjcm9sbCBkaXN0YW5jZS5cbmZ1bmN0aW9uIGdldFNjcm9sbFZhbCAocmVjdCwgbm9kZSkge1xuICBjb25zdCBsZWZ0ID0gbm9kZS5wcmV2aW91c1NpYmxpbmdcbiAgY29uc3QgcmlnaHQgPSBub2RlLm5leHRTaWJsaW5nXG4gIGxldCBzY3JvbGxWYWxcblxuICAvLyBwcm9jZXNzIGxlZnQtc2lkZSBlbGVtZW50IGZpcnN0LlxuICBpZiAobGVmdCkge1xuICAgIGNvbnN0IGxlZnRSZWN0ID0gbGVmdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIC8vIG9ubHkgbmVlZCB0byBjb21wYXJlIHRoZSB2YWx1ZSBvZiBsZWZ0LlxuICAgIGlmIChsZWZ0UmVjdC5sZWZ0IDwgcmVjdC5sZWZ0KSB7XG4gICAgICBzY3JvbGxWYWwgPSBsZWZ0UmVjdC5sZWZ0XG4gICAgICByZXR1cm4gc2Nyb2xsVmFsXG4gICAgfVxuICB9XG5cbiAgaWYgKHJpZ2h0KSB7XG4gICAgY29uc3QgcmlnaHRSZWN0ID0gcmlnaHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAvLyBjb21wYXJlIHRoZSB2YWx1ZSBvZiByaWdodC5cbiAgICBpZiAocmlnaHRSZWN0LnJpZ2h0ID4gcmVjdC5yaWdodCkge1xuICAgICAgc2Nyb2xsVmFsID0gcmlnaHRSZWN0LnJpZ2h0IC0gcmVjdC5yaWdodFxuICAgICAgcmV0dXJuIHNjcm9sbFZhbFxuICAgIH1cbiAgfVxuXG4gIC8vIHByb2Nlc3MgY3VycmVudCBub2RlLCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gIGNvbnN0IG5vZGVSZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICBpZiAobm9kZVJlY3QubGVmdCA8IHJlY3QubGVmdCkge1xuICAgIHNjcm9sbFZhbCA9IG5vZGVSZWN0LmxlZnRcbiAgfVxuICBlbHNlIGlmIChub2RlUmVjdC5yaWdodCA+IHJlY3QucmlnaHQpIHtcbiAgICBzY3JvbGxWYWwgPSBub2RlUmVjdC5yaWdodCAtIHJlY3QucmlnaHRcbiAgfVxuXG4gIHJldHVybiBzY3JvbGxWYWxcbn1cblxuLy8gdHJpZ2dlciBhbmQgYnJvYWRjYXN0IGV2ZW50cy5cbmZ1bmN0aW9uIGZpcmVFdmVudCAoZWxlbWVudCwgdHlwZSwgZGF0YSkge1xuICBjb25zdCBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKVxuICBldnQuZGF0YSA9IGRhdGFcbiAgZm9yIChjb25zdCBrIGluIGRhdGEpIHtcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgZXZ0W2tdID0gZGF0YVtrXVxuICAgIH1cbiAgfVxuICAvLyBuZWVkIGJ1YmJsZS5cbiAgZXZ0LmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKVxuXG4gIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldnQpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhpZ2hsaWdodEljb24gKGNvZGUpIHtcbiAgY29uc3QgaHRtbCA9ICc8aSBjbGFzcz1cImhsLWljb24gaWNvbmZvbnRcIj4nICsgJyYjeGU2NTAnICsgJzwvaT4nXG4gIHJldHVybiBodG1sXG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRDb2xvciAoY29sb3IpIHtcbiAgaWYgKCFjb2xvcikge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgaWYgKGNvbG9yLmNoYXJBdCgwKSAhPT0gJyMnKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBpZiAoY29sb3IubGVuZ3RoICE9PSA3KSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICByZXR1cm4gdHJ1ZVxufVxuXG5jb25zdCBwcm90byA9IHtcbiAgY3JlYXRlICgpIHtcbiAgICAvLyBvdXRzaWRlIGNvbnRhaW5lci5cbiAgICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBub2RlLmNsYXNzTmFtZSA9ICd0YWItaGVhZGVyJ1xuICAgIC8vIHRpcCBvbiB0aGUgdG9wLlxuICAgIGNvbnN0IGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgYmFyLmNsYXNzTmFtZSA9ICdoZWFkZXItYmFyJ1xuICAgIGJhci50ZXh0Q29udGVudCA9ICdDSEFOR0UgRkxPT1InXG4gICAgLy8gbWlkZGxlIGxheWVyLlxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIGJvZHkuY2xhc3NOYW1lID0gJ2hlYWRlci1ib2R5J1xuICAgIGNvbnN0IGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJylcbiAgICBib3guY2xhc3NOYW1lID0gJ3RhYmhlYWRlcidcblxuICAgIGJvZHkuYXBwZW5kQ2hpbGQoYm94KVxuICAgIG5vZGUuYXBwZW5kQ2hpbGQoYmFyKVxuICAgIG5vZGUuYXBwZW5kQ2hpbGQoYm9keSlcbiAgICB0aGlzLl9iYXIgPSBiYXJcbiAgICB0aGlzLl9ib2R5ID0gYm9keVxuICAgIHRoaXMuYm94ID0gYm94XG4gICAgdGhpcy5ub2RlID0gbm9kZVxuICAgIC8vIGluaXQgZXZlbnRzLlxuICAgIGluaXRGb2xkQnRuKHRoaXMpXG4gICAgaW5pdEV2ZW50KHRoaXMpXG4gICAgcmV0dXJuIG5vZGVcbiAgfVxufVxuXG5jb25zdCBhdHRyID0ge1xuICBoaWdobGlnaHRJY29uICgpIHtcbiAgICByZXR1cm4gY3JlYXRlSGlnaGxpZ2h0SWNvbigpXG4gIH0sXG5cbiAgZGF0YSAoKSB7XG4gICAgY29uc3QgYXR0ciA9IHRoaXMuZGF0YS5hdHRyXG4gICAgLy8gRW5zdXJlIHRoZXJlIGlzIGEgZGVmYXVsdCBzZWxlY3RlZCB2YWx1ZS5cbiAgICBpZiAoYXR0ci5zZWxlY3RlZEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGF0dHIuc2VsZWN0ZWRJbmRleCA9IDBcbiAgICB9XG5cbiAgICBjb25zdCBsaXN0ID0gYXR0ci5kYXRhIHx8IFtdXG4gICAgY29uc3QgY3VySXRlbSA9IGF0dHIuc2VsZWN0ZWRJbmRleFxuXG4gICAgY29uc3QgcmV0ID0gW11cbiAgICBjb25zdCBpdGVtVG1wbCA9ICc8bGkgY2xhc3M9XCJ0aC1pdGVtXCIgZGF0YS1mbG9vcj1cInt7Zmxvb3J9fVwiPidcbiAgICAgICAgKyAne3tobEljb259fXt7Zmxvb3JOYW1lfX08L2xpPidcblxuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaWR4KSB7XG4gICAgICBsZXQgaHRtbCA9IGl0ZW1UbXBsLnJlcGxhY2UoJ3t7Zmxvb3J9fScsIGlkeClcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIGVxZXFlcSAqL1xuICAgICAgaWYgKGN1ckl0ZW0gPT0gaWR4KSB7XG4gICAgICAgIGh0bWwgPSBodG1sLnJlcGxhY2UoJ3t7aGxJY29ufX0nLCBjcmVhdGVIaWdobGlnaHRJY29uKCkpXG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgne3tobEljb259fScsICcnKVxuICAgICAgfVxuICAgICAgLyogZXNsaW50LWVuYWJsZSBlcWVxZXEgKi9cblxuICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgne3tmbG9vck5hbWV9fScsIGl0ZW0pXG5cbiAgICAgIHJldC5wdXNoKGh0bWwpXG4gICAgfSwgdGhpcylcblxuICAgIHRoaXMuYm94LmlubmVySFRNTCA9IHJldC5qb2luKCcnKVxuICB9LFxuXG4gIHNlbGVjdGVkSW5kZXggKHZhbCkge1xuICAgIGNvbnN0IGF0dHIgPSB0aGlzLmRhdGEuYXR0clxuXG4gICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWwgPSAwXG4gICAgfVxuXG4gICAgLy8gaWYgKHZhbCA9PSBhdHRyLnNlbGVjdGVkSW5kZXgpIHtcbiAgICAvLyAgIHJldHVyblxuICAgIC8vIH1cblxuICAgIGF0dHIuc2VsZWN0ZWRJbmRleCA9IHZhbFxuXG4gICAgdGhpcy5hdHRyLmRhdGEuY2FsbCh0aGlzKVxuXG4gICAgZm9sZGluZyh0aGlzKVxuICAgIHRoaXMuc3R5bGUudGV4dEhpZ2hsaWdodENvbG9yLmNhbGwodGhpcywgdGhpcy50ZXh0SGlnaGxpZ2h0Q29sb3IpXG4gIH1cbn1cblxuY29uc3Qgc3R5bGUgPSB7XG4gIG9wYWNpdHkgKHZhbCkge1xuICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCB8fCB2YWwgPCAwIHx8IHZhbCA+IDEpIHtcbiAgICAgIHZhbCA9IDFcbiAgICB9XG5cbiAgICB0aGlzLm5vZGUuc3R5bGUub3BhY2l0eSA9IHZhbFxuICB9LFxuXG4gIHRleHRDb2xvciAodmFsKSB7XG4gICAgaWYgKCFpc1ZhbGlkQ29sb3IodmFsKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdGhpcy5ub2RlLnN0eWxlLmNvbG9yID0gdmFsXG4gIH0sXG5cbiAgdGV4dEhpZ2hsaWdodENvbG9yICh2YWwpIHtcbiAgICBpZiAoIWlzVmFsaWRDb2xvcih2YWwpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdGhpcy50ZXh0SGlnaGxpZ2h0Q29sb3IgPSB2YWxcbiAgICBjb25zdCBhdHRyID0gdGhpcy5kYXRhLmF0dHJcblxuICAgIGNvbnN0IG5vZGUgPSB0aGlzLm5vZGUucXVlcnlTZWxlY3RvcignW2RhdGEtZmxvb3I9XCInXG4gICAgICAgICsgYXR0ci5zZWxlY3RlZEluZGV4ICsgJ1wiXScpXG4gICAgaWYgKG5vZGUpIHtcbiAgICAgIG5vZGUuc3R5bGUuY29sb3IgPSB2YWxcbiAgICAgIHNjcm9sbFRvVmlldyh0aGlzLCBub2RlKVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG5cbiAgZnVuY3Rpb24gVGFiSGVhZGVyIChkYXRhKSB7XG4gICAgQXRvbWljLmNhbGwodGhpcywgZGF0YSlcbiAgfVxuICBUYWJIZWFkZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlKVxuICBleHRlbmQoVGFiSGVhZGVyLnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChUYWJIZWFkZXIucHJvdG90eXBlLCB7IGF0dHIgfSlcbiAgZXh0ZW5kKFRhYkhlYWRlci5wcm90b3R5cGUsIHtcbiAgICBzdHlsZTogZXh0ZW5kKE9iamVjdC5jcmVhdGUoQXRvbWljLnByb3RvdHlwZS5zdHlsZSksIHN0eWxlKVxuICB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3RhYmhlYWRlcicsIFRhYkhlYWRlcilcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90YWJoZWFkZXIvaW5kZXguanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3RhYmhlYWRlci9pbmRleC5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdGFiaGVhZGVyLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi90YWJoZWFkZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdGFiaGVhZGVyLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdGFiaGVhZGVyL3RhYmhlYWRlci5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxODdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdGFiaGVhZGVyL3RhYmhlYWRlci5jc3M/YTIwZCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRhYi1oZWFkZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgd2lkdGg6IDEwcmVtO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgY29sb3I6ICMzMzM7XFxufVxcbi50YWItaGVhZGVyIC5oZWFkZXItYmFyIHtcXG4gIGhlaWdodDogMS4xN3JlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjE3cmVtO1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIGNvbG9yOiAjOTk5O1xcbiAgcGFkZGluZy1sZWZ0OiAwLjRyZW07XFxufVxcbi50YWItaGVhZGVyIC5oZWFkZXItYm9keSB7XFxuICBtYXJnaW4tcmlnaHQ6IDEuMDdyZW07XFxuICBvdmVyZmxvdy14OiBhdXRvO1xcbiAgb3ZlcmZsb3cteTogaGlkZGVuO1xcbn1cXG4udGFiLWhlYWRlciAuaGVhZGVyLWJvZHk6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuLnRhYi1oZWFkZXIgLmZvbGQtdG9nZ2xlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMC41OXJlbTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgcmlnaHQ6IDAuMjlyZW07XFxuICB3aWR0aDogMC40OHJlbTtcXG4gIGhlaWdodDogMC40OHJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAwLjQ4cmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgei1pbmRleDogOTk7XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcbi50YWItaGVhZGVyLnVuZm9sZC1oZWFkZXIge1xcbiAgcG9zaXRpb246IGZpeGVkICFpbXBvcnRhbnQ7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG59XFxuXFxuLnRhYmhlYWRlciB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG4gIGhlaWdodDogMS4xN3JlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjE3cmVtO1xcbn1cXG4udGFiaGVhZGVyIC50aC1pdGVtIHtcXG4gIHBhZGRpbmctbGVmdDogMC43MnJlbTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG59XFxuLnRhYmhlYWRlciAuaGwtaWNvbiB7XFxuICB3aWR0aDogMC40cmVtO1xcbiAgaGVpZ2h0OiAwLjRyZW07XFxuICBsaW5lLWhlaWdodDogMC40cmVtO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gIGxlZnQ6IDAuMjRyZW07XFxuICBmb250LXNpemU6IDE0cHg7XFxufVxcblxcbi51bmZvbGQtaGVhZGVyIC5oZWFkZXItYmFyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4udW5mb2xkLWhlYWRlciAuZm9sZC10b2dnbGUge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDE4MGRlZyk7XFxufVxcbi51bmZvbGQtaGVhZGVyIC5oZWFkZXItYm9keSB7XFxuICBtYXJnaW4tcmlnaHQ6IDA7XFxuICBwYWRkaW5nOiAwLjI0cmVtO1xcbn1cXG4udW5mb2xkLWhlYWRlciAudGFiaGVhZGVyIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG4udW5mb2xkLWhlYWRlciAudGgtaXRlbSB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICB3aWR0aDogMzMuMzMzMyU7XFxuICBoZWlnaHQ6IDEuMDFyZW07XFxuICBsaW5lLWhlaWdodDogMS4wMXJlbTtcXG59XFxuLnVuZm9sZC1oZWFkZXIgLmhsLWljb24ge1xcbiAgbWFyZ2luLXJpZ2h0OiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4udW5mb2xkLWhlYWRlci50YWJoZWFkZXItbWFzayB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjYpO1xcbn1cXG5cXG4udGFiaGVhZGVyLW1hc2sge1xcbiAgZGlzcGxheTogbm9uZTtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDA7XFxuICB0b3A6IDA7XFxufVxcblxcbkBmb250LWZhY2Uge1xcbiAgZm9udC1mYW1pbHk6IFxcXCJpY29uZm9udFxcXCI7XFxuICBzcmM6IHVybChcXFwiZGF0YTphcHBsaWNhdGlvbi94LWZvbnQtdHRmO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LEFBRUFBQUFQQUlBQUF3QndSa1pVVFhCRDk4VUFBQUQ4QUFBQUhFOVRMekpYTDF6SUFBQUJHQUFBQUdCamJXRndzNklIYmdBQUFYZ0FBQUZhWTNaMElBeVYvc3dBQUFwUUFBQUFKR1p3WjIwdzk1NlZBQUFLZEFBQUNaWm5ZWE53QUFBQUVBQUFDa2dBQUFBSVoyeDVadXhvUEZJQUFBTFVBQUFFV0dobFlXUUhBNWgzQUFBSExBQUFBRFpvYUdWaEJ6SURjZ0FBQjJRQUFBQWthRzEwZUFzMkFXMEFBQWVJQUFBQUdHeHZZMkVEY0FRZUFBQUhvQUFBQUJCdFlYaHdBU2tLS3dBQUI3QUFBQUFnYm1GdFpRbC8zaGdBQUFmUUFBQUNMbkJ2YzNUbTdmMGJBQUFLQUFBQUFFaHdjbVZ3cGJtK1pnQUFGQXdBQUFDVkFBQUFBUUFBQUFETVBhTFBBQUFBQU5JREtub0FBQUFBMGdNcWV3QUVBL29COUFBRkFBQUNtUUxNQUFBQWp3S1pBc3dBQUFIckFETUJDUUFBQWdBR0F3QUFBQUFBQUFBQUFBRVFBQUFBQUFBQUFBQUFBQUJRWmtWa0FNQUFlT2JlQXl6L0xBQmNBeGdBbEFBQUFBRUFBQUFBQXhnQUFBQUFBQ0FBQVFBQUFBTUFBQUFEQUFBQUhBQUJBQUFBQUFCVUFBTUFBUUFBQUJ3QUJBQTRBQUFBQ2dBSUFBSUFBZ0I0NWxEbVllYmUvLzhBQUFCNDVsRG1ZZWJlLy8vL2l4bTBHYVFaS0FBQkFBQUFBQUFBQUFBQUFBQUFBUVlBQUFFQUFBQUFBQUFBQVFJQUFBQUNBQUFBQUFBQUFBQUFBQUFBQUFBQUFRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBTUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFDQUNJQUFBRXlBcW9BQXdBSEFDbEFKZ0FBQUFNQ0FBTlhBQUlCQVFKTEFBSUNBVThFQVFFQ0FVTUFBQWNHQlFRQUF3QURFUVVQS3pNUklSRW5NeEVqSWdFUTdzek1BcXI5VmlJQ1pnQUFBQVVBTFAvaEE3d0RHQUFXQURBQU9nQlNBRjRCZDB1d0UxQllRRW9DQVFBTkRnMEFEbVlBQXc0QkRnTmVBQUVJQ0FGY0VBRUpDQW9HQ1Y0UkFRd0dCQVlNWGdBTEJBdHBEd0VJQUFZTUNBWllBQW9IQlFJRUN3b0VXUklCRGc0TlVRQU5EUW9PUWh0THNCZFFXRUJMQWdFQURRNE5BQTVtQUFNT0FRNERYZ0FCQ0FnQlhCQUJDUWdLQ0FrS1poRUJEQVlFQmd4ZUFBc0VDMmtQQVFnQUJnd0lCbGdBQ2djRkFnUUxDZ1JaRWdFT0RnMVJBQTBOQ2c1Q0cwdXdHRkJZUUV3Q0FRQU5EZzBBRG1ZQUF3NEJEZ05lQUFFSUNBRmNFQUVKQ0FvSUNRcG1FUUVNQmdRR0RBUm1BQXNFQzJrUEFRZ0FCZ3dJQmxnQUNnY0ZBZ1FMQ2dSWkVnRU9EZzFSQUEwTkNnNUNHMEJPQWdFQURRNE5BQTVtQUFNT0FRNERBV1lBQVFnT0FRaGtFQUVKQ0FvSUNRcG1FUUVNQmdRR0RBUm1BQXNFQzJrUEFRZ0FCZ3dJQmxnQUNnY0ZBZ1FMQ2dSWkVnRU9EZzFSQUEwTkNnNUNXVmxaUUNoVFV6czdNakVYRjFOZVUxNWJXRHRTTzFKTFF6YzFNVG95T2hjd0Z6QlJFVEVZRVNnVlFCTVdLd0VHS3dFaURnSWRBU0UxTkNZMU5DNENLd0VWSVFVVkZCWVVEZ0lqQmlZckFTY2hCeXNCSWljaUxnSTlBUmNpQmhRV016STJOQ1lYQmdjT0F4NEJPd1l5TmljdUFTY21Kd0UxTkQ0Q093RXlGaDBCQVJrYkdsTVNKUndTQTVBQkNoZ25Ib1grU2dLaUFSVWZJdzRPSHc0Z0xmNUpMQjBpRkJrWklCTUlkd3dTRWd3TkVoS01DQVlGQ3dRQ0JBOE9KVU5SVUVBa0Z4WUpCUWtGQlFiK3BBVVBHaFc4SHlrQ0h3RU1HU2NhVENrUUhBUU5JQnNTWVlnMEZ6bzZKUmNKQVFHQWdBRVRHeUFPcHo4UkdoRVJHaEY4R2hZVEpBNFFEUWdZR2cwakVSTVVBWGZrQ3hnVERCMG00d0FBQWdDZy8yd0RZQUxzQUJJQUdnQWhRQjRBQUFBREFnQURXUUFDQVFFQ1RRQUNBZ0ZSQUFFQ0FVVVRGamtRQkJJckFDQUdGUlFlQXhjV093RXlQd0VTTlRRQUlpWTBOaklXRkFLUy90ek9SRlZ2TVJBSkRnRU9DVzNiL3VLRVhsNkVYZ0xzenBJMWxYeUpOaEVLQzMwQkRJeVMvczVlaEY1ZWhBQUFBQUVBZ2dCSkE0UUI2QUFkQUJ0QUdCSVJBZ0VBQVVBRkFRQStBQUFCQUdnQUFRRmZFeDhDRUNzQkpnY0dCd2tCTGdFR0J3WVVGd0V3TXhjVkZqSTNBVDRETGdJRGVoRVdBd1ArdVA2MEJoRVFCZ29LQVdFQkFRb2FDUUZlQXdRQ0FRRUNCQUhoRWcwREF2NjFBVWtIQkFVR0NSc0ovcUlCQVFrSkFXSUNCd1lIQ0FZR0FBRUFmd0NMQTRFQ0p3QWhBQjFBR2hZUEFnRUFBVUFGQVFBK0FBQUJBR2dDQVFFQlh5UXVFd01SS3lVQk1DY2pOU1lIQmdjQkRnRVVGaGNlQWpNeU53a0JGak15TmpjK0FpNEJBM2YrbndFQkVoVUVBdjZpQlFVRkJRTUhDQVFPQ1FGSUFVd0tEUVlNQlFNRkFRRUZ3d0ZlQVFFUkRRSUQvcDhGREF3TUJBTUVBZ2tCUy82MkNRVUZBd29KQ2drQUFBRUFBQUFCQUFBTEl5bm9Ydzg4OVFBTEJBQUFBQUFBMGdNcWV3QUFBQURTQXlwN0FDTC9iQU84QXhnQUFBQUlBQUlBQUFBQUFBQUFBUUFBQXhqL2JBQmNCQUFBQUFBQUE3d0FBUUFBQUFBQUFBQUFBQUFBQUFBQUFBVUJkZ0FpQUFBQUFBRlZBQUFENlFBc0JBQUFvQUNDQUg4QUFBQW9BQ2dBS0FGa0FhSUI1QUlzQUFFQUFBQUhBRjhBQlFBQUFBQUFBZ0FtQURRQWJBQUFBSW9KbGdBQUFBQUFBQUFNQUpZQUFRQUFBQUFBQVFBSUFBQUFBUUFBQUFBQUFnQUdBQWdBQVFBQUFBQUFBd0FrQUE0QUFRQUFBQUFBQkFBSUFESUFBUUFBQUFBQUJRQkdBRG9BQVFBQUFBQUFCZ0FJQUlBQUF3QUJCQWtBQVFBUUFJZ0FBd0FCQkFrQUFnQU1BSmdBQXdBQkJBa0FBd0JJQUtRQUF3QUJCQWtBQkFBUUFPd0FBd0FCQkFrQUJRQ01BUHdBQXdBQkJBa0FCZ0FRQVlocFkyOXVabTl1ZEUxbFpHbDFiVVp2Ym5SR2IzSm5aU0F5TGpBZ09pQnBZMjl1Wm05dWRDQTZJREkyTFRndE1qQXhOV2xqYjI1bWIyNTBWbVZ5YzJsdmJpQXhMakFnT3lCMGRHWmhkWFJ2YUdsdWRDQW9kakF1T1RRcElDMXNJRGdnTFhJZ05UQWdMVWNnTWpBd0lDMTRJREUwSUMxM0lDSkhJaUF0WmlBdGMybGpiMjVtYjI1MEFHa0FZd0J2QUc0QVpnQnZBRzRBZEFCTkFHVUFaQUJwQUhVQWJRQkdBRzhBYmdCMEFFWUFid0J5QUdjQVpRQWdBRElBTGdBd0FDQUFPZ0FnQUdrQVl3QnZBRzRBWmdCdkFHNEFkQUFnQURvQUlBQXlBRFlBTFFBNEFDMEFNZ0F3QURFQU5RQnBBR01BYndCdUFHWUFid0J1QUhRQVZnQmxBSElBY3dCcEFHOEFiZ0FnQURFQUxnQXdBQ0FBT3dBZ0FIUUFkQUJtQUdFQWRRQjBBRzhBYUFCcEFHNEFkQUFnQUNnQWRnQXdBQzRBT1FBMEFDa0FJQUF0QUd3QUlBQTRBQ0FBTFFCeUFDQUFOUUF3QUNBQUxRQkhBQ0FBTWdBd0FEQUFJQUF0QUhnQUlBQXhBRFFBSUFBdEFIY0FJQUFpQUVjQUlnQWdBQzBBWmdBZ0FDMEFjd0JwQUdNQWJ3QnVBR1lBYndCdUFIUUFBQUFDQUFBQUFBQUEvNE1BTWdBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBY0FBQUFCQUFJQVd3RUNBUU1CQkFkMWJtbEZOalV3QjNWdWFVVTJOakVIZFc1cFJUWkVSUUFCQUFILy93QVBBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQXlBRElER1AvaEF4ai9iQU1ZLytFREdQOXNzQUFzc0NCZ1ppMndBU3dnWkNDd3dGQ3dCQ1phc0FSRlcxZ2hJeUViaWxnZ3NGQlFXQ0d3UUZrYklMQTRVRmdoc0RoWldTQ3dDa1ZoWkxBb1VGZ2hzQXBGSUxBd1VGZ2hzREJaR3lDd3dGQllJR1lnaW9waElMQUtVRmhnR3lDd0lGQllJYkFLWUJzZ3NEWlFXQ0d3Tm1BYllGbFpXUnV3QUN0WldTT3dBRkJZWlZsWkxiQUNMQ0JGSUxBRUpXRmtJTEFGUTFCWXNBVWpRckFHSTBJYklTRlpzQUZnTGJBRExDTWhJeUVnWkxFRllrSWdzQVlqUXJJS0FBSXFJU0N3QmtNZ2lpQ0tzQUFyc1RBRkpZcFJXR0JRRzJGU1dWZ2pXU0Vnc0VCVFdMQUFLeHNoc0VCWkk3QUFVRmhsV1Myd0JDeXdDQ05Dc0FjalFyQUFJMEt3QUVPd0IwTlJXTEFJUXl1eUFBRUFRMkJDc0JabEhGa3RzQVVzc0FCRElFVWdzQUpGWTdBQlJXSmdSQzJ3Qml5d0FFTWdSU0N3QUNzanNRUUVKV0FnUllvallTQmtJTEFnVUZnaHNBQWJzREJRV0xBZ0c3QkFXVmtqc0FCUVdHVlpzQU1sSTJGRVJDMndCeXl4QlFWRnNBRmhSQzJ3Q0N5d0FXQWdJTEFLUTBxd0FGQllJTEFLSTBKWnNBdERTckFBVWxnZ3NBc2pRbGt0c0Frc0lMZ0VBR0lndUFRQVk0b2pZYkFNUTJBZ2ltQWdzQXdqUWlNdHNBb3NTMVJZc1FjQlJGa2tzQTFsSTNndHNBc3NTMUZZUzFOWXNRY0JSRmtiSVZra3NCTmxJM2d0c0F3c3NRQU5RMVZZc1EwTlE3QUJZVUt3Q1N0WnNBQkRzQUlsUXJJQUFRQkRZRUt4Q2dJbFFyRUxBaVZDc0FFV0l5Q3dBeVZRV0xBQVE3QUVKVUtLaWlDS0kyR3dDQ29oSTdBQllTQ0tJMkd3Q0NvaEc3QUFRN0FDSlVLd0FpVmhzQWdxSVZtd0NrTkhzQXREUjJDd2dHSWdzQUpGWTdBQlJXSmdzUUFBRXlORXNBRkRzQUErc2dFQkFVTmdRaTJ3RFN5eEFBVkZWRmdBc0EwalFpQmdzQUZodFE0T0FRQU1BRUpDaW1DeERBUXJzR3NyR3lKWkxiQU9MTEVBRFNzdHNBOHNzUUVOS3kyd0VDeXhBZzByTGJBUkxMRUREU3N0c0JJc3NRUU5LeTJ3RXl5eEJRMHJMYkFVTExFR0RTc3RzQlVzc1FjTkt5MndGaXl4Q0EwckxiQVhMTEVKRFNzdHNCZ3NzQWNyc1FBRlJWUllBTEFOSTBJZ1lMQUJZYlVPRGdFQURBQkNRb3Bnc1F3RUs3QnJLeHNpV1Myd0dTeXhBQmdyTGJBYUxMRUJHQ3N0c0Jzc3NRSVlLeTJ3SEN5eEF4Z3JMYkFkTExFRUdDc3RzQjRzc1FVWUt5MndIeXl4QmhnckxiQWdMTEVIR0NzdHNDRXNzUWdZS3kyd0lpeXhDUmdyTGJBakxDQmdzQTVnSUVNanNBRmdRN0FDSmJBQ0pWRllJeUE4c0FGZ0k3QVNaUndiSVNGWkxiQWtMTEFqSzdBaktpMndKU3dnSUVjZ0lMQUNSV093QVVWaVlDTmhPQ01naWxWWUlFY2dJTEFDUldPd0FVVmlZQ05oT0JzaFdTMndKaXl4QUFWRlZGZ0FzQUVXc0NVcXNBRVZNQnNpV1Myd0p5eXdCeXV4QUFWRlZGZ0FzQUVXc0NVcXNBRVZNQnNpV1Myd0tDd2dOYkFCWUMyd0tTd0FzQU5GWTdBQlJXS3dBQ3V3QWtWanNBRkZZckFBSzdBQUZyUUFBQUFBQUVRK0l6aXhLQUVWS2kyd0tpd2dQQ0JISUxBQ1JXT3dBVVZpWUxBQVEyRTRMYkFyTEM0WFBDMndMQ3dnUENCSElMQUNSV093QVVWaVlMQUFRMkd3QVVOak9DMndMU3l4QWdBV0pTQXVJRWV3QUNOQ3NBSWxTWXFLUnlOSEkyRWdXR0liSVZtd0FTTkNzaXdCQVJVVUtpMndMaXl3QUJhd0JDV3dCQ1ZISTBjalliQUdSU3RsaWk0aklDQThpamd0c0M4c3NBQVdzQVFsc0FRbElDNUhJMGNqWVNDd0JDTkNzQVpGS3lDd1lGQllJTEJBVVZpekFpQURJQnV6QWlZREdsbENRaU1nc0FsRElJb2pSeU5ISTJFalJtQ3dCRU93Z0dKZ0lMQUFLeUNLaW1FZ3NBSkRZR1Fqc0FORFlXUlFXTEFDUTJFYnNBTkRZRm13QXlXd2dHSmhJeUFnc0FRbUkwWmhPQnNqc0FsRFJyQUNKYkFKUTBjalJ5TmhZQ0N3QkVPd2dHSmdJeUN3QUNzanNBUkRZTEFBSzdBRkpXR3dCU1d3Z0dLd0JDWmhJTEFFSldCa0k3QURKV0JrVUZnaEd5TWhXU01nSUxBRUppTkdZVGhaTGJBd0xMQUFGaUFnSUxBRkppQXVSeU5ISTJFalBEZ3RzREVzc0FBV0lMQUpJMElnSUNCR0kwZXdBQ3NqWVRndHNESXNzQUFXc0FNbHNBSWxSeU5ISTJHd0FGUllMaUE4SXlFYnNBSWxzQUlsUnlOSEkyRWdzQVVsc0FRbFJ5TkhJMkd3QmlXd0JTVkpzQUlsWWJBQlJXTWpJRmhpR3lGWlk3QUJSV0pnSXk0aklDQThpamdqSVZrdHNETXNzQUFXSUxBSlF5QXVSeU5ISTJFZ1lMQWdZR2F3Z0dJaklDQThpamd0c0RRc0l5QXVSckFDSlVaU1dDQThXUzZ4SkFFVUt5MndOU3dqSUM1R3NBSWxSbEJZSUR4WkxyRWtBUlFyTGJBMkxDTWdMa2F3QWlWR1VsZ2dQRmtqSUM1R3NBSWxSbEJZSUR4WkxyRWtBUlFyTGJBM0xMQXVLeU1nTGthd0FpVkdVbGdnUEZrdXNTUUJGQ3N0c0Rnc3NDOHJpaUFnUExBRUkwS0tPQ01nTGthd0FpVkdVbGdnUEZrdXNTUUJGQ3V3QkVNdXNDUXJMYkE1TExBQUZyQUVKYkFFSmlBdVJ5TkhJMkd3QmtVckl5QThJQzRqT0xFa0FSUXJMYkE2TExFSkJDVkNzQUFXc0FRbHNBUWxJQzVISTBjallTQ3dCQ05Dc0FaRkt5Q3dZRkJZSUxCQVVWaXpBaUFESUJ1ekFpWURHbGxDUWlNZ1I3QUVRN0NBWW1BZ3NBQXJJSXFLWVNDd0FrTmdaQ093QTBOaFpGQllzQUpEWVJ1d0EwTmdXYkFESmJDQVltR3dBaVZHWVRnaklEd2pPQnNoSUNCR0kwZXdBQ3NqWVRnaFdiRWtBUlFyTGJBN0xMQXVLeTZ4SkFFVUt5MndQQ3l3THlzaEl5QWdQTEFFSTBJak9MRWtBUlFyc0FSRExyQWtLeTJ3UFN5d0FCVWdSN0FBSTBLeUFBRUJGUlFUTHJBcUtpMndQaXl3QUJVZ1I3QUFJMEt5QUFFQkZSUVRMckFxS2kyd1B5eXhBQUVVRTdBcktpMndRQ3l3TFNvdHNFRXNzQUFXUlNNZ0xpQkdpaU5oT0xFa0FSUXJMYkJDTExBSkkwS3dRU3N0c0VNc3NnQUFPaXN0c0VRc3NnQUJPaXN0c0VVc3NnRUFPaXN0c0VZc3NnRUJPaXN0c0Vjc3NnQUFPeXN0c0Vnc3NnQUJPeXN0c0Vrc3NnRUFPeXN0c0Vvc3NnRUJPeXN0c0Vzc3NnQUFOeXN0c0V3c3NnQUJOeXN0c0Uwc3NnRUFOeXN0c0U0c3NnRUJOeXN0c0U4c3NnQUFPU3N0c0ZBc3NnQUJPU3N0c0ZFc3NnRUFPU3N0c0ZJc3NnRUJPU3N0c0ZNc3NnQUFQQ3N0c0ZRc3NnQUJQQ3N0c0ZVc3NnRUFQQ3N0c0ZZc3NnRUJQQ3N0c0Zjc3NnQUFPQ3N0c0Znc3NnQUJPQ3N0c0Zrc3NnRUFPQ3N0c0Zvc3NnRUJPQ3N0c0Zzc3NEQXJMckVrQVJRckxiQmNMTEF3SzdBMEt5MndYU3l3TUN1d05Tc3RzRjRzc0FBV3NEQXJzRFlyTGJCZkxMQXhLeTZ4SkFFVUt5MndZQ3l3TVN1d05Dc3RzR0Vzc0RFcnNEVXJMYkJpTExBeEs3QTJLeTJ3WXl5d01pc3VzU1FCRkNzdHNHUXNzRElyc0RRckxiQmxMTEF5SzdBMUt5MndaaXl3TWl1d05pc3RzR2Nzc0RNckxyRWtBUlFyTGJCb0xMQXpLN0EwS3kyd2FTeXdNeXV3TlNzdHNHb3NzRE1yc0RZckxiQnJMQ3V3Q0dXd0F5UlFlTEFCRlRBdEFBQkx1QURJVWxpeEFRR09XYmtJQUFnQVl5Q3dBU05FSUxBREkzQ3dEa1VnSUV1NEFBNVJTN0FHVTFwWXNEUWJzQ2haWUdZZ2lsVllzQUlsWWJBQlJXTWpZckFDSTBTekNna0ZCQ3V6Q2dzRkJDdXpEZzhGQkN0WnNnUW9DVVZTUkxNS0RRWUVLN0VHQVVTeEpBR0lVVml3UUloWXNRWURSTEVtQVloUldMZ0VBSWhZc1FZQlJGbFpXVm00QWYrRnNBU05zUVVBUkFBQUFBPT1cXFwiKSBmb3JtYXQoXFxcInRydWV0eXBlXFxcIik7XFxufVxcbi5pY29uZm9udCB7XFxuICBmb250LWZhbWlseTogaWNvbmZvbnQgIWltcG9ydGFudDtcXG4gIGZvbnQtc2l6ZTogMTZweDtcXG4gIGZvbnQtc3R5bGU6IG5vcm1hbDtcXG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcbiAgLXdlYmtpdC10ZXh0LXN0cm9rZS13aWR0aDogMC4ycHg7XFxuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xcbn1cXG5cXG5bZGF0YS1kcHI9XFxcIjJcXFwiXSAudGFiLWhlYWRlciB7XFxuICBmb250LXNpemU6IDI4cHg7XFxufVxcblxcbltkYXRhLWRwcj1cXFwiM1xcXCJdIC50YWItaGVhZGVyIHtcXG4gIGZvbnQtc2l6ZTogNDJweDtcXG59XFxuXFxuW2RhdGEtZHByPVxcXCIyXFxcIl0gLnRhYmhlYWRlciAuaGwtaWNvbiB7XFxuICBmb250LXNpemU6IDI4cHg7XFxufVxcblxcbltkYXRhLWRwcj1cXFwiM1xcXCJdIC50YWJoZWFkZXIgLmhsLWljb24ge1xcbiAgZm9udC1zaXplOiA0MnB4O1xcbn1cXG5cXG5bZGF0YS1kcHI9XFxcIjJcXFwiXSAudGFiLWhlYWRlciAuZm9sZC10b2dnbGUge1xcbiAgZm9udC1zaXplOiAyOHB4O1xcbn1cXG5cXG5bZGF0YS1kcHI9XFxcIjNcXFwiXSAudGFiLWhlYWRlciAuZm9sZC10b2dnbGUge1xcbiAgZm9udC1zaXplOiA0MnB4O1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90YWJoZWFkZXIvdGFiaGVhZGVyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90YWJoZWFkZXIvdGFiaGVhZGVyLmNzcyIsIid1c2Ugc3RyaWN0J1xuXG5sZXQgYXBwZW5kU3R5bGVcblxuY29uc3QgYXZhaWxhYmxlVHlwZXMgPSBbJ3RleHQnLCAncGFzc3dvcmQnLCAndGVsJywgJ2VtYWlsJywgJ3VybCddXG5jb25zdCBERUZBVUxUX1RZUEUgPSAndGV4dCdcblxuZnVuY3Rpb24gc2V0UGxhY2Vob2xkZXJDb2xvciAoaW5wdXQsIHBsYWNlaG9sZGVyQ29sb3IpIHtcbiAgaWYgKCFwbGFjZWhvbGRlckNvbG9yKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3QgdmVuZG9ycyA9IFtcbiAgICAnOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyJyxcbiAgICAnOi1tb3otcGxhY2Vob2xkZXInLFxuICAgICc6Oi1tb3otcGxhY2Vob2xkZXInLFxuICAgICc6LW1zLWlucHV0LXBsYWNlaG9sZGVyJyxcbiAgICAnOnBsYWNlaG9sZGVyLXNob3duJ1xuICBdXG4gIGxldCBjc3MgPSAnJ1xuICBjb25zdCBjc3NSdWxlID0gJ2NvbG9yOiAnICsgcGxhY2Vob2xkZXJDb2xvciArICc7J1xuICBmb3IgKGxldCBpID0gMCwgbCA9IHZlbmRvcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY3NzICs9ICcuJyArIGlucHV0LmNsYXNzTmFtZSArIHZlbmRvcnNbaV0gKyAneydcbiAgICAgICAgICAgKyBjc3NSdWxlICsgJ30nXG4gIH1cbiAgYXBwZW5kU3R5bGUoY3NzLCBpbnB1dC5zdHlsZUlkLCB0cnVlKVxufVxuXG5jb25zdCBwcm90byA9IHtcbiAgY3JlYXRlICgpIHtcbiAgICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgIGNvbnN0IHV1aWQgPSBNYXRoLmZsb29yKDEwMDAwMDAwMDAwMDAwICogTWF0aC5yYW5kb20oKSkgKyBEYXRlLm5vdygpXG4gICAgdGhpcy5jbGFzc05hbWUgPSAnd2VleC1pcHQtJyArIHV1aWRcbiAgICB0aGlzLnN0eWxlSWQgPSAnd2VleC1zdHlsZS0nICsgdXVpZFxuICAgIG5vZGUuY2xhc3NMaXN0LmFkZCh0aGlzLmNsYXNzTmFtZSlcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtZWxlbWVudCcpXG4gICAgdGhpcy5wbGFjZWhvbGRlciAmJiAobm9kZS5wbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXIpXG4gICAgcmV0dXJuIG5vZGVcbiAgfVxufVxuXG4vLyB1cGRhdGFibGUgYXR0cmlidXRlc1xuY29uc3QgYXR0ciA9IHtcbiAgZGlzYWJsZWQgKHZhbCkge1xuICAgIHRoaXMubm9kZS5kaXNhYmxlZCA9ICEhdmFsXG4gIH0sXG5cbiAgcGxhY2Vob2xkZXIgKHZhbCkge1xuICAgIHRoaXMubm9kZS5wbGFjZWhvbGRlciA9IHZhbCB8fCAnJ1xuICB9LFxuXG4gIHZhbHVlICh2YWwpIHtcbiAgICB0aGlzLm5vZGUudmFsdWUgPSB2YWwgfHwgJydcbiAgfSxcblxuICBhdXRvZm9jdXMgKHZhbCkge1xuICAgIHRoaXMubm9kZS5hdXRvZm9jdXMgPSAhIXZhbFxuICB9LFxuXG4gIHR5cGUgKHZhbCkge1xuICAgIHRoaXMubm9kZS50eXBlID0gYXZhaWxhYmxlVHlwZXMuaW5kZXhPZih2YWwpICE9PSAtMVxuICAgICAgPyB2YWxcbiAgICAgIDogREVGQVVMVF9UWVBFXG4gIH1cbn1cblxuLy8gdXBkYXRhYmxlIHN0eWxlc1xuY29uc3Qgc3R5bGUgPSB7XG4gIHBsYWNlaG9sZGVyQ29sb3I6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBzZXRQbGFjZWhvbGRlckNvbG9yKHRoaXMsIHZhbClcbiAgfVxufVxuXG4vLyBldmVudHMgY29uZmlndXJhdGlvbnNcbmNvbnN0IGV2ZW50ID0ge1xuICBpbnB1dDoge1xuICAgIHVwZGF0b3IgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB2YWx1ZTogdGhpcy5ub2RlLnZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV4dHJhICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLm5vZGUudmFsdWUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjaGFuZ2U6IHtcbiAgICB1cGRhdG9yOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHZhbHVlOiB0aGlzLm5vZGUudmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZXh0cmE6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLm5vZGUudmFsdWUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG4gIGFwcGVuZFN0eWxlID0gV2VleC51dGlscy5hcHBlbmRTdHlsZVxuXG4gIC8vIGF0dHJzOlxuICAvLyAgIC0gdHlwZTogdGV4dHxwYXNzd29yZHx0ZWx8ZW1haWx8dXJsXG4gIC8vICAgLSB2YWx1ZVxuICAvLyAgIC0gcGxhY2Vob2xkZXJcbiAgLy8gICAtIGRpc2FibGVkXG4gIC8vICAgLSBhdXRvZm9jdXNcbiAgZnVuY3Rpb24gSW5wdXQgKGRhdGEpIHtcbiAgICBBdG9taWMuY2FsbCh0aGlzLCBkYXRhKVxuICB9XG4gIElucHV0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQXRvbWljLnByb3RvdHlwZSlcbiAgZXh0ZW5kKElucHV0LnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChJbnB1dC5wcm90b3R5cGUsIHsgYXR0ciB9KVxuICBleHRlbmQoSW5wdXQucHJvdG90eXBlLCB7XG4gICAgc3R5bGU6IGV4dGVuZChPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUuc3R5bGUpLCBzdHlsZSlcbiAgfSlcbiAgZXh0ZW5kKElucHV0LnByb3RvdHlwZSwgeyBldmVudCB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ2lucHV0JywgSW5wdXQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvaW5wdXQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2lucHV0LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IERFRkFVTFRfUk9XUyA9IDJcblxuLyoqXG4gKiBhdHRyOlxuICogcm93czogZGVmYXVsdCBpcyAyLlxuICogZGlzYWJsZWRcbiAqIHBsYWNlaG9sZGVyXG4gKi9cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RleHRhcmVhJylcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtZWxlbWVudCcpXG4gICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LXRleHRhcmVhJylcbiAgICByZXR1cm4gbm9kZVxuICB9XG59XG5cbi8vIHVwZGF0YWJsZSBhdHRyaWJ1dGVzXG5jb25zdCBhdHRyID0ge1xuICByb3dzICh2YWwpIHtcbiAgICB0aGlzLm5vZGUucm93cyA9IHZhbCB8fCBERUZBVUxUX1JPV1NcbiAgfSxcbiAgZGlzYWJsZWQgKHZhbCkge1xuICAgIHRoaXMubm9kZS5kaXNhYmxlZCA9ICEhdmFsXG4gIH0sXG4gIHBsYWNlaG9sZGVyICh2YWwpIHtcbiAgICB0aGlzLm5vZGUucGxhY2Vob2xkZXIgPSB2YWwgfHwgJydcbiAgfSxcbiAgdmFsdWUgKHZhbCkge1xuICAgIHRoaXMubm9kZS52YWx1ZSA9IHZhbCB8fCAnJ1xuICB9LFxuICBhdXRvZm9jdXMgKHZhbCkge1xuICAgIHRoaXMubm9kZS5hdXRvZm9jdXMgPSAhIXZhbFxuICB9XG59XG5cbi8vIGV2ZW50cyBjb25maWd1cmF0aW9uc1xuY29uc3QgZXZlbnQgPSB7XG4gIGlucHV0OiB7XG4gICAgdXBkYXRvciAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHZhbHVlOiB0aGlzLm5vZGUudmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZXh0cmEgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHRoaXMubm9kZS52YWx1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIGNoYW5nZToge1xuICAgIHVwZGF0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdmFsdWU6IHRoaXMubm9kZS52YWx1ZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBleHRyYTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHRoaXMubm9kZS52YWx1ZSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgQXRvbWljID0gV2VleC5BdG9taWNcbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcblxuICAvLyBhdHRyczpcbiAgLy8gICAtIHJvd3NcbiAgLy8gICAtIGRpc2FibGVkXG4gIC8vICAgLSBwbGFjZWhvbGRlclxuICBmdW5jdGlvbiBUZXh0YXJlYSAoZGF0YSkge1xuICAgIEF0b21pYy5jYWxsKHRoaXMsIGRhdGEpXG4gIH1cbiAgVGV4dGFyZWEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlKVxuICBleHRlbmQoVGV4dGFyZWEucHJvdG90eXBlLCBwcm90bylcbiAgZXh0ZW5kKFRleHRhcmVhLnByb3RvdHlwZSwgeyBhdHRyIH0pXG4gIGV4dGVuZChUZXh0YXJlYS5wcm90b3R5cGUsIHsgZXZlbnQgfSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCd0ZXh0YXJlYScsIFRleHRhcmVhKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3RleHRhcmVhLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy90ZXh0YXJlYS5qcyIsIid1c2Ugc3RyaWN0J1xuXG5yZXF1aXJlKCcuL3ZpZGVvLmNzcycpXG5cbmZ1bmN0aW9uIGdldFByb3RvIChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIHJldHVybiB7XG4gICAgY3JlYXRlICgpIHtcbiAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpXG4gICAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtdmlkZW8nKVxuICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWVsZW1lbnQnKVxuICAgICAgbm9kZS5jb250cm9scyA9IHRydWVcbiAgICAgIG5vZGUuYXV0b3BsYXkgPSB0aGlzLmF1dG9QbGF5XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZSgncGxheS1zdGF0dXMnLCB0aGlzLnBsYXlTdGF0dXMpXG4gICAgICB0aGlzLm5vZGUgPSBub2RlXG4gICAgICBpZiAodGhpcy5hdXRvUGxheSAmJiB0aGlzLnBsYXlTdGF0dXMgPT09ICdwbGF5Jykge1xuICAgICAgICB0aGlzLnBsYXkoKVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9LFxuXG4gICAgYmluZEV2ZW50cyAoZXZ0cykge1xuICAgICAgQXRvbWljLnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwodGhpcywgZXZ0cylcblxuICAgICAgLy8gY29udmVydCB3M2MtdmlkZW8gZXZlbnRzIHRvIHdlZXgtdmlkZW8gZXZlbnRzLlxuICAgICAgY29uc3QgZXZ0c01hcCA9IHtcbiAgICAgICAgc3RhcnQ6ICdwbGF5JyxcbiAgICAgICAgZmluaXNoOiAnZW5kZWQnLFxuICAgICAgICBmYWlsOiAnZXJyb3InXG4gICAgICB9XG4gICAgICBmb3IgKGNvbnN0IGV2dE5hbWUgaW4gZXZ0c01hcCkge1xuICAgICAgICB0aGlzLm5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldnRzTWFwW2V2dE5hbWVdLCBmdW5jdGlvbiAodHlwZSwgZSkge1xuICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh0eXBlLCBlLmRhdGEpXG4gICAgICAgIH0uYmluZCh0aGlzLCBldnROYW1lKSlcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcGxheSAoKSB7XG4gICAgICBsZXQgc3JjID0gdGhpcy5ub2RlLmdldEF0dHJpYnV0ZSgnc3JjJylcbiAgICAgIGlmICghc3JjKSB7XG4gICAgICAgIHNyYyA9IHRoaXMubm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJylcbiAgICAgICAgc3JjICYmIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYylcbiAgICAgIH1cbiAgICAgIHRoaXMubm9kZS5wbGF5KClcbiAgICB9LFxuXG4gICAgcGF1c2UgKCkge1xuICAgICAgdGhpcy5ub2RlLnBhdXNlKClcbiAgICB9LFxuXG4gICAgc3RvcCAoKSB7XG4gICAgICB0aGlzLm5vZGUucGF1c2UoKVxuICAgICAgdGhpcy5ub2RlLmF1dG9wbGF5ID0gZmFsc2VcbiAgICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc3JjJywgdGhpcy5ub2RlLnNyYylcbiAgICAgIHRoaXMubm9kZS5zcmMgPSAnJ1xuICAgIH1cbiAgfVxufVxuXG5jb25zdCBhdHRyID0ge1xuICBwbGF5U3RhdHVzICh2YWwpIHtcbiAgICBpZiAodmFsICE9PSAncGxheScgJiYgdmFsICE9PSAnc3RvcCcgJiYgdmFsICE9PSAncGF1c2UnKSB7XG4gICAgICB2YWwgPSAncGF1c2UnXG4gICAgfVxuICAgIGlmICh0aGlzLnBsYXlTdGF0dXMgPT09IHZhbCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHRoaXMucGxheVN0YXR1cyA9IHZhbFxuICAgIHRoaXMubm9kZS5zZXRBdHRyaWJ1dGUoJ3BsYXktc3RhdHVzJywgdmFsKVxuICAgIHRoaXNbdGhpcy5wbGF5U3RhdHVzXSgpXG4gIH0sXG5cbiAgYXV0b1BsYXkgKHZhbCkge1xuICAgIC8vIERPIE5PVEhJTkdcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0IChXZWV4KSB7XG4gIGNvbnN0IEF0b21pYyA9IFdlZXguQXRvbWljXG4gIGNvbnN0IGV4dGVuZCA9IFdlZXgudXRpbHMuZXh0ZW5kXG5cbiAgLy8gYXR0cnM6XG4gIC8vICAgLSBhdXRvUGxheTogdHJ1ZSB8IGZhbHNlIChkZWZhdWx0OiBmYWxzZSlcbiAgLy8gICAtIHBsYXlTdGF0dXM6IHBsYXkgfCBwYXVzZSB8IHN0b3BcbiAgLy8gICAtIHNyYzoge3N0cmluZ31cbiAgLy8gICAtIHBvc3Rlcjoge3N0cmluZ31cbiAgLy8gICAtIGxvb3A6IHRydWUgfCBmYWxzZSAoZGVmYXVsdDogZmFsc2UpXG4gIC8vICAgLSBtdXRlZDogdHJ1ZSB8IGZhbHNlIChkZWZhdWx0OiBmYWxzZSlcbiAgLy8gZXZlbnRzOlxuICAvLyAgIC0gc3RhcnRcbiAgLy8gICAtIHBhdXNlXG4gIC8vICAgLSBmaW5pc2hcbiAgLy8gICAtIGZhaWxcbiAgZnVuY3Rpb24gVmlkZW8gKGRhdGEpIHtcbiAgICBjb25zdCBhdXRvUGxheSA9IGRhdGEuYXR0ci5hdXRvUGxheVxuICAgIGNvbnN0IHBsYXlTdGF0dXMgPSBkYXRhLmF0dHIucGxheVN0YXR1c1xuICAgIHRoaXMuYXV0b1BsYXkgPSBhdXRvUGxheSA9PT0gdHJ1ZSB8fCBhdXRvUGxheSA9PT0gJ3RydWUnXG4gICAgaWYgKHBsYXlTdGF0dXMgIT09ICdwbGF5J1xuICAgICAgICAmJiBwbGF5U3RhdHVzICE9PSAnc3RvcCdcbiAgICAgICAgJiYgcGxheVN0YXR1cyAhPT0gJ3BhdXNlJykge1xuICAgICAgdGhpcy5wbGF5U3RhdHVzID0gJ3BhdXNlJ1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMucGxheVN0YXR1cyA9IHBsYXlTdGF0dXNcbiAgICB9XG4gICAgQXRvbWljLmNhbGwodGhpcywgZGF0YSlcbiAgfVxuICBWaWRlby5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUpXG4gIGV4dGVuZChWaWRlby5wcm90b3R5cGUsIGdldFByb3RvKFdlZXgpKVxuICBleHRlbmQoVmlkZW8ucHJvdG90eXBlLCB7IGF0dHIgfSlcblxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCd2aWRlbycsIFZpZGVvKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdmlkZW8vaW5kZXguanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3ZpZGVvL2luZGV4LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi92aWRlby5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdmlkZW8uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdmlkZW8uY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy92aWRlby92aWRlby5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxOTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdmlkZW8vdmlkZW8uY3NzPzkyNTYiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi53ZWV4LXZpZGVvIHtcXG5cXHRiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbn1cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy92aWRlby92aWRlby5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxOTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvdmlkZW8vdmlkZW8uY3NzIiwiJ3VzZSBzdHJpY3QnXG5cbnJlcXVpcmUoJy4vc3dpdGNoLmNzcycpXG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBjb2xvcjogJyM2NGJkNjMnLFxuICBzZWNvbmRhcnlDb2xvcjogJyNkZmRmZGYnLFxuICBqYWNrQ29sb3I6ICcjZmZmJyxcbiAgamFja1NlY29uZGFyeUNvbG9yOiBudWxsLFxuICBjbGFzc05hbWU6ICd3ZWV4LXN3aXRjaCcsXG4gIGRpc2FibGVkT3BhY2l0eTogMC41LFxuICBzcGVlZDogJzAuNHMnLFxuICB3aWR0aDogMTAwLFxuICBoZWlnaHQ6IDYwLFxuICAvLyBpcyB3aWR0aCBhbmQgaGVpZ2h0IHNjYWxhYmxlID9cbiAgc2NhbGFibGU6IGZhbHNlXG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25pemUgKGVsZW1lbnQsIHByb3BzKSB7XG4gIGNvbnN0IHRyYW5zaXRpb25zID0gW11cbiAgZm9yIChjb25zdCBrZXkgaW4gcHJvcHMpIHtcbiAgICB0cmFuc2l0aW9ucy5wdXNoKGtleSArICcgJyArIHByb3BzW2tleV0pXG4gIH1cbiAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbnMuam9pbignLCAnKVxuICBlbGVtZW50LnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSB0cmFuc2l0aW9ucy5qb2luKCcsICcpXG59XG5cbmZ1bmN0aW9uIHNldFNpemUgKGNvbXApIHtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oY29tcC53aWR0aCwgY29tcC5oZWlnaHQpXG4gIGNvbnN0IG1heCA9IE1hdGgubWF4KGNvbXAud2lkdGgsIGNvbXAuaGVpZ2h0KVxuICBjb21wLm5vZGUuc3R5bGUud2lkdGggPSBtYXggKyAncHgnXG4gIGNvbXAubm9kZS5zdHlsZS5oZWlnaHQgPSBtaW4gKyAncHgnXG4gIGNvbXAubm9kZS5zdHlsZS5ib3JkZXJSYWRpdXMgPSBtaW4gLyAyICsgJ3B4J1xuICBjb21wLmphY2suc3R5bGUud2lkdGhcbiAgICAgID0gY29tcC5qYWNrLnN0eWxlLmhlaWdodFxuICAgICAgPSBtaW4gKyAncHgnXG59XG5cbmZ1bmN0aW9uIHNldFBvc2l0aW9uIChjb21wLCBjbGlja2VkKSB7XG4gIGxldCBjaGVja2VkID0gY29tcC5jaGVja2VkXG4gIGNvbnN0IG5vZGUgPSBjb21wLm5vZGVcbiAgY29uc3QgamFjayA9IGNvbXAuamFja1xuXG4gIGlmIChjbGlja2VkICYmIGNoZWNrZWQpIHtcbiAgICBjaGVja2VkID0gZmFsc2VcbiAgfVxuICBlbHNlIGlmIChjbGlja2VkICYmICFjaGVja2VkKSB7XG4gICAgY2hlY2tlZCA9IHRydWVcbiAgfVxuXG4gIGlmIChjaGVja2VkID09PSB0cnVlKSB7XG4gICAgY29tcC5jaGVja2VkID0gdHJ1ZVxuXG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICBqYWNrLnN0eWxlLmxlZnQgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS53aWR0aClcbiAgICAgICAgICAgICAgICAgICAgICAgIC0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoamFjaykud2lkdGgpICsgJ3B4J1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGphY2suc3R5bGUubGVmdCA9IHBhcnNlSW50KG5vZGUuY3VycmVudFN0eWxlWyd3aWR0aCddKVxuICAgICAgICAgICAgICAgICAgICAgICAgLSBwYXJzZUludChqYWNrLmN1cnJlbnRTdHlsZVsnd2lkdGgnXSkgKyAncHgnXG4gICAgfVxuXG4gICAgY29tcC5vcHRpb25zLmNvbG9yICYmIGNvbG9yaXplKGNvbXApXG4gICAgc2V0U3BlZWQoY29tcClcbiAgfVxuICBlbHNlIHtcbiAgICBjb21wLmNoZWNrZWQgPSBmYWxzZVxuICAgIGphY2suc3R5bGUubGVmdCA9IDBcbiAgICBub2RlLnN0eWxlLmJveFNoYWRvdyA9ICdpbnNldCAwIDAgMCAwICcgKyBjb21wLm9wdGlvbnMuc2Vjb25kYXJ5Q29sb3JcbiAgICBub2RlLnN0eWxlLmJvcmRlckNvbG9yID0gY29tcC5vcHRpb25zLnNlY29uZGFyeUNvbG9yXG4gICAgbm9kZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgPSAoY29tcC5vcHRpb25zLnNlY29uZGFyeUNvbG9yICE9PSBkZWZhdWx0cy5zZWNvbmRhcnlDb2xvcilcbiAgICAgICAgICA/IGNvbXAub3B0aW9ucy5zZWNvbmRhcnlDb2xvclxuICAgICAgICAgIDogJyNmZmYnXG4gICAgamFjay5zdHlsZS5iYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgPSAoY29tcC5vcHRpb25zLmphY2tTZWNvbmRhcnlDb2xvciAhPT0gY29tcC5vcHRpb25zLmphY2tDb2xvcilcbiAgICAgICAgICA/IGNvbXAub3B0aW9ucy5qYWNrU2Vjb25kYXJ5Q29sb3JcbiAgICAgICAgICA6IGNvbXAub3B0aW9ucy5qYWNrQ29sb3JcbiAgICBzZXRTcGVlZChjb21wKVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldFNwZWVkIChjb21wKSB7XG4gIGxldCBzd2l0Y2hlclByb3AgPSB7fVxuICBjb25zdCBqYWNrUHJvcCA9IHtcbiAgICAnYmFja2dyb3VuZC1jb2xvcic6IGNvbXAub3B0aW9ucy5zcGVlZCxcbiAgICBsZWZ0OiBjb21wLm9wdGlvbnMuc3BlZWQucmVwbGFjZSgvW2Etel0vLCAnJykgLyAyICsgJ3MnXG4gIH1cblxuICBpZiAoY29tcC5jaGVja2VkKSB7XG4gICAgc3dpdGNoZXJQcm9wID0ge1xuICAgICAgYm9yZGVyOiBjb21wLm9wdGlvbnMuc3BlZWQsXG4gICAgICAnYm94LXNoYWRvdyc6IGNvbXAub3B0aW9ucy5zcGVlZCxcbiAgICAgICdiYWNrZ3JvdW5kLWNvbG9yJzogY29tcC5vcHRpb25zLnNwZWVkLnJlcGxhY2UoL1thLXpdLywgJycpICogMyArICdzJ1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBzd2l0Y2hlclByb3AgPSB7XG4gICAgICBib3JkZXI6IGNvbXAub3B0aW9ucy5zcGVlZCxcbiAgICAgICdib3gtc2hhZG93JzogY29tcC5vcHRpb25zLnNwZWVkXG4gICAgfVxuICB9XG5cbiAgdHJhbnNpdGlvbml6ZShjb21wLm5vZGUsIHN3aXRjaGVyUHJvcClcbiAgdHJhbnNpdGlvbml6ZShjb21wLmphY2ssIGphY2tQcm9wKVxufVxuXG5mdW5jdGlvbiBjb2xvcml6ZSAoY29tcCkge1xuICBjb25zdCBub2RlSGVpZ2h0ID0gY29tcC5ub2RlLm9mZnNldEhlaWdodCAvIDJcblxuICBjb21wLm5vZGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gY29tcC5vcHRpb25zLmNvbG9yXG4gIGNvbXAubm9kZS5zdHlsZS5ib3JkZXJDb2xvciA9IGNvbXAub3B0aW9ucy5jb2xvclxuICBjb21wLm5vZGUuc3R5bGUuYm94U2hhZG93ID0gJ2luc2V0IDAgMCAwICdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgbm9kZUhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAncHggJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBjb21wLm9wdGlvbnMuY29sb3JcbiAgY29tcC5qYWNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGNvbXAub3B0aW9ucy5qYWNrQ29sb3Jcbn1cblxuZnVuY3Rpb24gZ2V0Q2xpY2tIYW5kbGVyIChjb21wKSB7XG4gIGlmICghY29tcC5fY2xpY2tIYW5kbGVyKSB7XG4gICAgY29tcC5fY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0UG9zaXRpb24oY29tcCwgdHJ1ZSlcbiAgICAgIGNvbXAuZGlzcGF0Y2hFdmVudCgnY2hhbmdlJywge1xuICAgICAgICB2YWx1ZTogY29tcC5jaGVja2VkXG4gICAgICB9KVxuICAgIH1cbiAgfVxuICByZXR1cm4gY29tcC5fY2xpY2tIYW5kbGVyXG59XG5cbmNvbnN0IHByb3RvID0ge1xuICBjcmVhdGUgKCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICB0aGlzLmphY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzbWFsbCcpXG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLmphY2spXG4gICAgbm9kZS5jbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lXG4gICAgdGhpcy5ub2RlID0gbm9kZVxuICAgIHRoaXMuYXR0ci5kaXNhYmxlZC5jYWxsKHRoaXMsIHRoaXMuZGF0YS5hdHRyLmRpc2FibGVkKVxuICAgIHJldHVybiBub2RlXG4gIH0sXG5cbiAgb25BcHBlbmQgKCkge1xuICAgIHNldFNpemUodGhpcylcbiAgICBzZXRQb3NpdGlvbih0aGlzKVxuICB9LFxuXG4gIGVuYWJsZSAoKSB7XG4gICAgdGhpcy5kaXNhYmxlZCAmJiAodGhpcy5kaXNhYmxlZCA9IGZhbHNlKVxuICAgIHRoaXMubm9kZS5zdHlsZS5vcGFjaXR5ID0gMVxuICAgIHRoaXMubm9kZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldENsaWNrSGFuZGxlcih0aGlzKSlcbiAgfSxcblxuICBkaXNhYmxlICgpIHtcbiAgICAhdGhpcy5kaXNhYmxlZCAmJiAodGhpcy5kaXNhYmxlZCA9IHRydWUpXG4gICAgdGhpcy5ub2RlLnN0eWxlLm9wYWNpdHkgPSBkZWZhdWx0cy5kaXNhYmxlZE9wYWNpdHlcbiAgICB0aGlzLm5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRDbGlja0hhbmRsZXIodGhpcykpXG4gIH1cbn1cblxuY29uc3QgYXR0ciA9IHtcbiAgZGlzYWJsZWQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICB0aGlzLmRpc2FibGVkID0gdmFsICYmIHZhbCAhPT0gJ2ZhbHNlJ1xuICAgIHRoaXMuZGlzYWJsZWQgPyB0aGlzLmRpc2FibGUoKSA6IHRoaXMuZW5hYmxlKClcbiAgfVxufVxuXG5jb25zdCBzdHlsZSA9IHtcbiAgd2lkdGg6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA8IDApIHtcbiAgICAgIHZhbCA9IHRoaXMub3B0aW9ucy53aWR0aFxuICAgIH1cbiAgICB0aGlzLndpZHRoID0gdmFsICogdGhpcy5kYXRhLnNjYWxlXG4gICAgdGhpcy5zZXRTaXplKClcbiAgfSxcblxuICBoZWlnaHQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5zY2FsYWJsZSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHZhbCA9IHBhcnNlRmxvYXQodmFsKVxuICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA8IDApIHtcbiAgICAgIHZhbCA9IHRoaXMub3B0aW9ucy5oZWlnaHRcbiAgICB9XG4gICAgdGhpcy5oZWlnaHQgPSB2YWwgKiB0aGlzLmRhdGEuc2NhbGVcbiAgICB0aGlzLnNldFNpemUoKVxuICB9XG59XG5cbmNvbnN0IGV2ZW50ID0ge1xuICBjaGFuZ2U6IHtcbiAgICB1cGRhdG9yICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2hlY2tlZDogdGhpcy5jaGVja2VkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV4dHJhICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB0aGlzLmNoZWNrZWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBBdG9taWMgPSBXZWV4LkF0b21pY1xuICBjb25zdCBleHRlbmQgPSBXZWV4LnV0aWxzLmV4dGVuZFxuXG4gIC8vIGF0dHJzOlxuICAvLyAgIC0gY2hlY2tlZDogaWYgaXMgY2hlY2tlZC5cbiAgLy8gICAtIGRpc2FibGVkOiBpZiB0cnVlLCB0aGlzIGNvbXBvbmVudCBpcyBub3QgYXZhaWxhYmxlIGZvciBpbnRlcmFjdGlvbi5cbiAgZnVuY3Rpb24gU3dpdGNoIChkYXRhKSB7XG4gICAgdGhpcy5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0cylcbiAgICB0aGlzLmNoZWNrZWQgPSBkYXRhLmF0dHIuY2hlY2tlZFxuICAgICAgICAmJiBkYXRhLmF0dHIuY2hlY2tlZCAhPT0gJ2ZhbHNlJ1xuICAgIHRoaXMuZGF0YSA9IGRhdGFcbiAgICB0aGlzLndpZHRoID0gdGhpcy5vcHRpb25zLndpZHRoICogZGF0YS5zY2FsZVxuICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5vcHRpb25zLmhlaWdodCAqIGRhdGEuc2NhbGVcbiAgICBBdG9taWMuY2FsbCh0aGlzLCBkYXRhKVxuICB9XG4gIFN3aXRjaC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUpXG4gIGV4dGVuZChTd2l0Y2gucHJvdG90eXBlLCBwcm90bylcbiAgZXh0ZW5kKFN3aXRjaC5wcm90b3R5cGUsIHsgYXR0ciB9KVxuICBleHRlbmQoU3dpdGNoLnByb3RvdHlwZSwge1xuICAgIHN0eWxlOiBleHRlbmQoT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlLnN0eWxlKSwgc3R5bGUpXG4gIH0pXG4gIGV4dGVuZChTd2l0Y2gucHJvdG90eXBlLCB7IGV2ZW50IH0pXG5cbiAgV2VleC5yZWdpc3RlckNvbXBvbmVudCgnc3dpdGNoJywgU3dpdGNoKVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IGluaXQgfVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3N3aXRjaC9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3dpdGNoL2luZGV4LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zd2l0Y2guY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3N3aXRjaC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zd2l0Y2guY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zd2l0Y2gvc3dpdGNoLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zd2l0Y2gvc3dpdGNoLmNzcz8zNGQ0IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiBzd2l0Y2ggZGVmYXVsdHMuICovXFxuLndlZXgtc3dpdGNoIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XFxuICBib3JkZXI6IDFweCBzb2xpZCAjZGZkZmRmO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAta2h0bWwtdXNlci1zZWxlY3Q6IG5vbmU7XFxuICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lO1xcbiAgLW1zLXVzZXItc2VsZWN0OiBub25lO1xcbiAgdXNlci1zZWxlY3Q6IG5vbmU7XFxuICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gIGJhY2tncm91bmQtY2xpcDogY29udGVudC1ib3g7XFxufVxcblxcbi53ZWV4LXN3aXRjaCA+IHNtYWxsIHtcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxuICBib3JkZXItcmFkaXVzOiAxMDAlO1xcbiAgYm94LXNoYWRvdzogMCAxcHggM3B4IHJnYmEoMCwgMCwgMCwgMC40KTtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3dpdGNoL3N3aXRjaC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAxOTZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3dpdGNoL3N3aXRjaC5jc3MiLCIndXNlIHN0cmljdCdcblxuY29uc3QgSURfUFJFRklYID0gJ3dlZXhfZW1iZWRfJ1xuXG5sZXQgZ2V0UmFuZG9tXG5cbmZ1bmN0aW9uIF9nZW5lcmF0ZUlkICgpIHtcbiAgcmV0dXJuIElEX1BSRUZJWCArIGdldFJhbmRvbSgxMClcbn1cblxuY29uc3QgcHJvdG8gPSB7XG4gIGNyZWF0ZSAoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbm9kZS5pZCA9IHRoaXMuaWRcbiAgICBub2RlLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCdcbiAgICByZXR1cm4gbm9kZVxuICB9LFxuXG4gIGluaXRXZWV4ICgpIHtcbiAgICB0aGlzLmlkID0gX2dlbmVyYXRlSWQoKVxuICAgIHRoaXMubm9kZS5pZCA9IHRoaXMuaWRcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICBhcHBJZDogdGhpcy5pZCxcbiAgICAgIHNvdXJjZTogdGhpcy5zb3VyY2UsXG4gICAgICBidW5kbGVVcmw6IHRoaXMuc291cmNlLFxuICAgICAgbG9hZGVyOiB0aGlzLmxvYWRlcixcbiAgICAgIGpzb25wQ2FsbGJhY2s6IHRoaXMuanNvbnBDYWxsYmFjayxcbiAgICAgIHdpZHRoOiB0aGlzLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgsXG4gICAgICByb290SWQ6IHRoaXMuaWQsXG4gICAgICBlbWJlZDogdHJ1ZVxuICAgIH1cbiAgICB3aW5kb3cud2VleC5pbml0KGNvbmZpZylcbiAgfSxcblxuICBkZXN0cm95V2VleCAoKSB7XG4gICAgdGhpcy5pZCAmJiB3aW5kb3cuZGVzdHJveUluc3RhbmNlKHRoaXMuaWQpXG4gICAgLy8gVE9ETzogdW5iaW5kIGV2ZW50cyBhbmQgY2xlYXIgZG9tcy5cbiAgICB0aGlzLm5vZGUuaW5uZXJIVE1MID0gJydcbiAgfSxcblxuICByZWxvYWRXZWV4ICgpIHtcbiAgICBpZiAodGhpcy5pZCkge1xuICAgICAgdGhpcy5kZXN0cm95V2VleCgpXG4gICAgICB0aGlzLmlkID0gbnVsbFxuICAgICAgdGhpcy5ub2RlLmlkID0gbnVsbFxuICAgICAgdGhpcy5ub2RlLmlubmVySFRNTCA9ICcnXG4gICAgfVxuICAgIHRoaXMuaW5pdFdlZXgoKVxuICB9XG59XG5cbi8vIG5vdCByZWNvbW1lbmRlZCwgYmVjYXVzZSBvZiB0aGUgbGVhayBvZiBtZW1vcnkuXG5jb25zdCBhdHRyID0ge1xuICBzcmM6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHRoaXMuc291cmNlID0gdmFsdWVcbiAgICB0aGlzLnJlbG9hZFdlZXgoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGluaXQgKFdlZXgpIHtcbiAgY29uc3QgQ29tcG9uZW50ID0gV2VleC5Db21wb25lbnRcbiAgY29uc3QgZXh0ZW5kID0gV2VleC51dGlscy5leHRlbmRcbiAgZ2V0UmFuZG9tID0gV2VleC51dGlscy5nZXRSYW5kb21cblxuICBmdW5jdGlvbiBFbWJlZCAoZGF0YSwgbm9kZVR5cGUpIHtcbiAgICBjb25zdCBhdHRyID0gZGF0YS5hdHRyXG4gICAgaWYgKGF0dHIpIHtcbiAgICAgIHRoaXMuc291cmNlID0gYXR0ci5zcmNcbiAgICAgIHRoaXMubG9hZGVyID0gYXR0ci5sb2FkZXIgfHwgJ3hocidcbiAgICAgIHRoaXMuanNvbnBDYWxsYmFjayA9IGF0dHIuanNvbnBDYWxsYmFja1xuICAgIH1cbiAgICBDb21wb25lbnQuY2FsbCh0aGlzLCBkYXRhLCBub2RlVHlwZSlcbiAgfVxuXG4gIEVtYmVkLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSlcbiAgZXh0ZW5kKEVtYmVkLnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChFbWJlZC5wcm90b3R5cGUsIHsgYXR0ciB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ2VtYmVkJywgRW1iZWQpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvZW1iZWQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL2VtYmVkLmpzIiwiLyogZ2xvYmFsIENTU1J1bGUgKi9cblxuJ3VzZSBzdHJpY3QnXG5cbnJlcXVpcmUoJy4vc3Bpbm5lci5jc3MnKVxuXG5sZXQgbG9vcEFycmF5LCBnZXRSZ2JcblxuZnVuY3Rpb24gZ2V0U3R5bGVTaGVldCAoc3Bpbm5lcikge1xuICBpZiAoc3Bpbm5lci5zdHlsZVNoZWV0KSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgc3R5bGVzID0gZG9jdW1lbnQuc3R5bGVTaGVldHNcbiAgbGV0IGksIGwsIGosIG1cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tbGFiZWxzICovXG4gIG91dGVyOiBmb3IgKGkgPSAwLCBsID0gc3R5bGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNvbnN0IHJ1bGVzID0gc3R5bGVzW2ldLnJ1bGVzXG4gICAgaWYgKCFydWxlcykge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgZm9yIChqID0gMCwgbSA9IHJ1bGVzLmxlbmd0aDsgaiA8IG07IGorKykge1xuICAgICAgY29uc3QgaXRlbSA9IHJ1bGVzLml0ZW0oailcbiAgICAgIGlmIChcbiAgICAgICAgKGl0ZW0udHlwZSA9PT0gQ1NTUnVsZS5LRVlGUkFNRVNfUlVMRVxuICAgICAgICAgIHx8IGl0ZW0udHlwZSA9PT0gQ1NTUnVsZS5XRUJLSVRfS0VZRlJBTUVTX1JVTEUpXG4gICAgICAgICYmIGl0ZW0ubmFtZSA9PT0gJ3dlZXgtc3Bpbm5lcicpIHtcbiAgICAgICAgYnJlYWsgb3V0ZXJcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1sYWJlbHMgKi9cbiAgc3Bpbm5lci5zdHlsZVNoZWV0ID0gc3R5bGVzW2ldXG59XG5cbmZ1bmN0aW9uIHNldEtleWZyYW1lQ29sb3IgKHNwaW5uZXIsIHZhbCkge1xuICBnZXRTdHlsZVNoZWV0KHNwaW5uZXIpXG4gIGNvbnN0IGtleWZyYW1lUnVsZXMgPSBjb21wdXRlS2V5RnJhbWVSdWxlcyh2YWwpXG4gIGNvbnN0IHJ1bGVzID0gc3Bpbm5lci5zdHlsZVNoZWV0LnJ1bGVzXG4gIGZvciAobGV0IGkgPSAwLCBsID0gcnVsZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgY29uc3QgaXRlbSA9IHJ1bGVzLml0ZW0oaSlcbiAgICBpZiAoKGl0ZW0udHlwZSA9PT0gQ1NTUnVsZS5LRVlGUkFNRVNfUlVMRVxuICAgICAgICAgIHx8IGl0ZW0udHlwZSA9PT0gQ1NTUnVsZS5XRUJLSVRfS0VZRlJBTUVTX1JVTEUpXG4gICAgICAgICYmIGl0ZW0ubmFtZSA9PT0gJ3dlZXgtc3Bpbm5lcicpIHtcbiAgICAgIGNvbnN0IGNzc1J1bGVzID0gaXRlbS5jc3NSdWxlc1xuICAgICAgZm9yIChsZXQgaiA9IDAsIG0gPSBjc3NSdWxlcy5sZW5ndGg7IGogPCBtOyBqKyspIHtcbiAgICAgICAgY29uc3Qga2V5ZnJhbWUgPSBjc3NSdWxlc1tqXVxuICAgICAgICBpZiAoa2V5ZnJhbWUudHlwZSA9PT0gQ1NTUnVsZS5LRVlGUkFNRV9SVUxFXG4gICAgICAgICAgfHwga2V5ZnJhbWUudHlwZSA9PT0gQ1NTUnVsZS5XRUJLSVRfS0VZRlJBTUVfUlVMRSkge1xuICAgICAgICAgIGtleWZyYW1lLnN0eWxlLmJveFNoYWRvdyA9IGtleWZyYW1lUnVsZXNbal1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjb21wdXRlS2V5RnJhbWVSdWxlcyAocmdiKSB7XG4gIGlmICghcmdiKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgY29uc3Qgc2NhbGVBcnIgPSBbXG4gICAgJzBlbSAtMi42ZW0gMGVtIDBlbScsXG4gICAgJzEuOGVtIC0xLjhlbSAwIDBlbScsXG4gICAgJzIuNWVtIDBlbSAwIDBlbScsXG4gICAgJzEuNzVlbSAxLjc1ZW0gMCAwZW0nLFxuICAgICcwZW0gMi41ZW0gMCAwZW0nLFxuICAgICctMS44ZW0gMS44ZW0gMCAwZW0nLFxuICAgICctMi42ZW0gMGVtIDAgMGVtJyxcbiAgICAnLTEuOGVtIC0xLjhlbSAwIDBlbSddXG4gIGNvbnN0IGNvbG9yQXJyID0gW1xuICAgICcxJyxcbiAgICAnMC4yJyxcbiAgICAnMC4yJyxcbiAgICAnMC4yJyxcbiAgICAnMC4yJyxcbiAgICAnMC4yJyxcbiAgICAnMC41JyxcbiAgICAnMC43J10ubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICByZXR1cm4gJ3JnYmEoJyArIHJnYi5yICsgJywnICsgcmdiLmcgKyAnLCcgKyByZ2IuYiArICcsJyArIGUgKyAnKSdcbiAgICB9KVxuICBjb25zdCBydWxlcyA9IFtdXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc2NhbGVBcnIubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB0bXBDb2xvckFyciA9IGxvb3BBcnJheShjb2xvckFyciwgaSwgJ3InKVxuICAgIHJ1bGVzLnB1c2goc2NhbGVBcnIubWFwKGZ1bmN0aW9uIChzY2FsZVN0ciwgaSkge1xuICAgICAgcmV0dXJuIHNjYWxlU3RyICsgJyAnICsgdG1wQ29sb3JBcnJbaV1cbiAgICB9KS5qb2luKCcsICcpKVxuICB9XG4gIHJldHVybiBydWxlc1xufVxuXG5jb25zdCBwcm90byA9IHtcbiAgY3JlYXRlICgpIHtcbiAgICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtY29udGFpbmVyJylcbiAgICBub2RlLmNsYXNzTGlzdC5hZGQoJ3dlZXgtc3Bpbm5lci13cmFwJylcbiAgICB0aGlzLnNwaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCd3ZWV4LWVsZW1lbnQnKVxuICAgIHRoaXMuc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCd3ZWV4LXNwaW5uZXInKVxuICAgIG5vZGUuYXBwZW5kQ2hpbGQodGhpcy5zcGlubmVyKVxuICAgIHJldHVybiBub2RlXG4gIH1cbn1cblxuY29uc3Qgc3R5bGUgPSB7XG4gIGNvbG9yOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgY29uc3QgcmdiID0gZ2V0UmdiKHZhbClcbiAgICBpZiAoIXJnYikge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1t3ZWItcmVuZGVyXSBpbnZhbGlkIGNvbG9yIHZhbHVlOicsIHZhbClcbiAgICB9XG4gICAgc2V0S2V5ZnJhbWVDb2xvcih0aGlzLCByZ2IpXG4gIH1cbn1cblxuLy8gU3Bpbm5lci5wcm90b3R5cGUudXBkYXRlU3R5bGUgPSBmdW5jdGlvbiAoc3R5bGUpIHtcbi8vICAgQXRvbWljLnByb3RvdHlwZS51cGRhdGVTdHlsZS5jYWxsKHRoaXMsIHN0eWxlKVxuLy8gICBpZiAoc3R5bGUgJiYgc3R5bGUuY29sb3IpIHtcbi8vICAgICB0aGlzLnNldEtleWZyYW1lQ29sb3IoZ2xvYmFsLndlZXgudXRpbHMuZ2V0UmdiKHRoaXMubm9kZS5zdHlsZS5jb2xvcikpXG4vLyAgIH1cbi8vIH1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBBdG9taWMgPSBXZWV4LkF0b21pY1xuICBjb25zdCBleHRlbmQgPSBXZWV4LnV0aWxzLmV4dGVuZFxuICBnZXRSZ2IgPSBXZWV4LnV0aWxzLmdldFJnYlxuICBsb29wQXJyYXkgPSBXZWV4LnV0aWxzLmxvb3BBcnJheVxuXG4gIGZ1bmN0aW9uIFNwaW5uZXIgKGRhdGEpIHtcbiAgICBBdG9taWMuY2FsbCh0aGlzLCBkYXRhKVxuICB9XG4gIFNwaW5uZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShBdG9taWMucHJvdG90eXBlKVxuICBleHRlbmQoU3Bpbm5lci5wcm90b3R5cGUsIHByb3RvKVxuICBleHRlbmQoU3Bpbm5lci5wcm90b3R5cGUsIHtcbiAgICBzdHlsZTogZXh0ZW5kKE9iamVjdC5jcmVhdGUoQXRvbWljLnByb3RvdHlwZS5zdHlsZSksIHN0eWxlKVxuICB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3NwaW5uZXInLCBTcGlubmVyKVxuICBXZWV4LnJlZ2lzdGVyQ29tcG9uZW50KCdsb2FkaW5nLWluZGljYXRvcicsIFNwaW5uZXIpXG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgaW5pdCB9XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9pbmRleC5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9pbmRleC5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3Bpbm5lci5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vc3Bpbm5lci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9zcGlubmVyLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9zcGlubmVyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDE5OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zcGlubmVyL3NwaW5uZXIuY3NzPzFkZTIiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi53ZWV4LXNwaW5uZXItd3JhcCB7XFxuICB3aWR0aDogMS4wMTMzMzNyZW07IC8qIDc2cHggKi9cXG4gIGhlaWdodDogMS4wMTMzMzNyZW07XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgLXdlYmtpdC1hbGlnbi1pdGVtczogY2VudGVyO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gIC13ZWJraXQtanVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIG92ZXJmbG93OiB2aXNpYmxlO1xcbn1cXG5cXG4ud2VleC1zcGlubmVyIHtcXG4gIGZvbnQtc2l6ZTogMC4xNnJlbTsgLyogMTJweCAqL1xcbiAgd2lkdGg6IDFlbTtcXG4gIGhlaWdodDogMWVtO1xcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgdGV4dC1pbmRlbnQ6IC05OTk5ZW07XFxuICAtd2Via2l0LWFuaW1hdGlvbjogd2VleC1zcGlubmVyIDEuMXMgaW5maW5pdGUgZWFzZTtcXG4gIGFuaW1hdGlvbjogd2VleC1zcGlubmVyIDEuMXMgaW5maW5pdGUgZWFzZTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG59XFxuQC13ZWJraXQta2V5ZnJhbWVzIHdlZXgtc3Bpbm5lciB7XFxuICAwJSxcXG4gIDEwMCUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gI2ZmZmZmZiwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KTtcXG4gIH1cXG4gIDEyLjUlIHtcXG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMS44ZW0gLTEuOGVtIDAgMGVtICNmZmZmZmYsIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMi41ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSk7XFxuICB9XFxuICAyNSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAyLjVlbSAwZW0gMCAwZW0gI2ZmZmZmZiwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIH1cXG4gIDM3LjUlIHtcXG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMS43NWVtIDEuNzVlbSAwIDBlbSAjZmZmZmZmLCAwZW0gMi41ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxuICB9XFxuICA1MCUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgMGVtIDIuNWVtIDAgMGVtICNmZmZmZmYsIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIH1cXG4gIDYyLjUlIHtcXG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIC0xLjhlbSAxLjhlbSAwIDBlbSAjZmZmZmZmLCAtMi42ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMik7XFxuICB9XFxuICA3NSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgLTIuNmVtIDBlbSAwIDBlbSAjZmZmZmZmLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIH1cXG4gIDg3LjUlIHtcXG4gICAgYm94LXNoYWRvdzogMGVtIC0yLjZlbSAwZW0gMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAtMS44ZW0gLTEuOGVtIDAgMGVtICNmZmZmZmY7XFxuICB9XFxufVxcbkBrZXlmcmFtZXMgd2VleC1zcGlubmVyIHtcXG4gIDAlLFxcbiAgMTAwJSB7XFxuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSAjZmZmZmZmLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpO1xcbiAgfVxcbiAgMTIuNSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAxLjhlbSAtMS44ZW0gMCAwZW0gI2ZmZmZmZiwgMi41ZW0gMGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMS43NWVtIDEuNzVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KTtcXG4gIH1cXG4gIDI1JSB7XFxuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIDIuNWVtIDBlbSAwIDBlbSAjZmZmZmZmLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgfVxcbiAgMzcuNSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAxLjc1ZW0gMS43NWVtIDAgMGVtICNmZmZmZmYsIDBlbSAyLjVlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAxLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIH1cXG4gIDUwJSB7XFxuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNSksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAwZW0gMi41ZW0gMCAwZW0gI2ZmZmZmZiwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgfVxcbiAgNjIuNSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC43KSwgLTEuOGVtIDEuOGVtIDAgMGVtICNmZmZmZmYsIC0yLjZlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAtMS44ZW0gLTEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKTtcXG4gIH1cXG4gIDc1JSB7XFxuICAgIGJveC1zaGFkb3c6IDBlbSAtMi42ZW0gMGVtIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuOGVtIC0xLjhlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDIuNWVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMiksIDEuNzVlbSAxLjc1ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAwZW0gMi41ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjUpLCAtMS44ZW0gMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjcpLCAtMi42ZW0gMGVtIDAgMGVtICNmZmZmZmYsIC0xLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpO1xcbiAgfVxcbiAgODcuNSUge1xcbiAgICBib3gtc2hhZG93OiAwZW0gLTIuNmVtIDBlbSAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjhlbSAtMS44ZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAyLjVlbSAwZW0gMCAwZW0gcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpLCAxLjc1ZW0gMS43NWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgMGVtIDIuNWVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKSwgLTEuOGVtIDEuOGVtIDAgMGVtIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC41KSwgLTIuNmVtIDBlbSAwIDBlbSByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNyksIC0xLjhlbSAtMS44ZW0gMCAwZW0gI2ZmZmZmZjtcXG4gIH1cXG59XFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vY3NzLWxvYWRlciEuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2NvbXBvbmVudHMvc3Bpbm5lci9zcGlubmVyLmNzc1xuICoqIG1vZHVsZSBpZCA9IDIwMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy9zcGlubmVyL3NwaW5uZXIuY3NzIiwiJ3VzZSBzdHJpY3QnXG5cbmxldCBpc0FycmF5XG5cbmZ1bmN0aW9uIGhhbmRsZU1zZyAod2ViLCBldnQpIHtcbiAgbGV0IG1zZyA9IGV2dC5kYXRhXG4gIGlmICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykge1xuICAgIHRyeSB7XG4gICAgICBtc2cgPSBKU09OLnBhcnNlKG1zZylcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHt9XG4gIH1cbiAgaWYgKCFtc2cpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAobXNnLnR5cGUgPT09ICd3ZWV4Jykge1xuICAgIGlmICghaXNBcnJheShtc2cuY29udGVudCkpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSB3ZWV4IG1zZyByZWNlaXZlZCBieSB3ZWIgY29tcG9uZW50LidcbiAgICAgICAgKyAnIG1zZy5jb250ZW50IHNob3VsZCBiZSBhIGFycmF5OicsIG1zZy5jb250ZW50KVxuICAgIH1cbiAgICBjYWxsTmF0aXZlKHdlYi5nZXRDb21wb25lbnRNYW5hZ2VyKCkuaW5zdGFuY2VJZCwgbXNnLmNvbnRlbnQpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UHJvdG8gKFdlZXgpIHtcbiAgY29uc3QgQXRvbWljID0gV2VleC5BdG9taWNcbiAgcmV0dXJuIHtcbiAgICBjcmVhdGUgKCkge1xuICAgICAgLy8gSWZyYW1lJ3MgZGVmZWN0OiBjYW4ndCB1c2UgcG9zaXRpb246YWJzb2x1dGUgYW5kIHRvcCwgbGVmdCwgcmlnaHQsXG4gICAgICAvLyBib3R0b20gYWxsIHNldHRpbmcgdG8gemVybyBhbmQgdXNlIG1hcmdpbiB0byBsZWF2ZSBzcGVjaWZpZWRcbiAgICAgIC8vIGhlaWdodCBmb3IgYSBibGFuayBhcmVhLCBhbmQgaGF2ZSB0byB1c2UgMTAwJSB0byBmaWxsIHRoZSBwYXJlbnRcbiAgICAgIC8vIGNvbnRhaW5lciwgb3RoZXJ3aXNlIGl0IHdpbGwgdXNlIGEgdW53YW50ZWQgZGVmYXVsdCBzaXplIGluc3RlYWQuXG4gICAgICAvLyBUaGVyZWZvcmUgYSBkaXYgYXMgYSBpZnJhbWUgd3JhcHBlciBpcyBuZWVkZWQgaGVyZS5cbiAgICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCd3ZWV4LWNvbnRhaW5lcicpXG4gICAgICB0aGlzLndlYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lmcmFtZScpXG4gICAgICBub2RlLmFwcGVuZENoaWxkKHRoaXMud2ViKVxuICAgICAgdGhpcy53ZWIuY2xhc3NMaXN0LmFkZCgnd2VleC1lbGVtZW50JylcbiAgICAgIHRoaXMud2ViLnN0eWxlLndpZHRoID0gJzEwMCUnXG4gICAgICB0aGlzLndlYi5zdHlsZS5oZWlnaHQgPSAnMTAwJSdcbiAgICAgIHRoaXMud2ViLnN0eWxlLmJvcmRlciA9ICdub25lJ1xuICAgICAgcmV0dXJuIG5vZGVcbiAgICB9LFxuXG4gICAgYmluZEV2ZW50cyAoZXZ0cykge1xuICAgICAgQXRvbWljLnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwodGhpcywgZXZ0cylcbiAgICAgIGNvbnN0IHRoYXQgPSB0aGlzXG4gICAgICB0aGlzLndlYi5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhhdC5kaXNwYXRjaEV2ZW50KCdwYWdlZmluaXNoJywge1xuICAgICAgICAgIHVybDogdGhhdC53ZWIuc3JjXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGVNc2cuYmluZChudWxsLCB0aGlzKSlcbiAgICB9LFxuXG4gICAgZ29CYWNrICgpIHtcbiAgICAgIHRoaXMud2ViLmNvbnRlbnRXaW5kb3cuaGlzdG9yeS5iYWNrKClcbiAgICB9LFxuXG4gICAgZ29Gb3J3YXJkICgpIHtcbiAgICAgIHRoaXMud2ViLmNvbnRlbnRXaW5kb3cuaGlzdG9yeS5mb3J3YXJkKClcbiAgICB9LFxuXG4gICAgcmVsb2FkICgpIHtcbiAgICAgIHRoaXMud2ViLmNvbnRlbnRXaW5kb3cubG9jYXRpb24ucmVsb2FkKClcbiAgICB9XG4gIH1cbn1cblxuY29uc3QgYXR0ciA9IHtcbiAgc3JjOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy53ZWIuc3JjID0gdmFsXG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoJ3BhZ2VzdGFydCcsIHsgdXJsOiB2YWwgfSlcbiAgICB9LmJpbmQodGhpcyksIDApXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBBdG9taWMgPSBXZWV4LkF0b21pY1xuICBjb25zdCBleHRlbmQgPSBXZWV4LnV0aWxzLmV4dGVuZFxuICBpc0FycmF5ID0gV2VleC51dGlscy5pc0FycmF5XG5cbiAgLy8gQSBjb21wb25lbnQgdG8gaW1wb3J0IHdlYiBwYWdlcywgd2hpY2ggd29ya3MgbGlrZVxuICAvLyBhIGlmcmFtZSBlbGVtZW50IG9yIGEgd2Vidmlldy5cbiAgLy8gYXR0cnM6XG4gIC8vICAgLSBzcmNcbiAgLy8gZXZlbnRzOlxuICAvLyAgIC0gcGFnZXN0YXJ0XG4gIC8vICAgLSBwYWdlZmluaXNoXG4gIC8vICAgLSBlcnJvclxuICBmdW5jdGlvbiBXZWIgKGRhdGEpIHtcbiAgICBBdG9taWMuY2FsbCh0aGlzLCBkYXRhKVxuICB9XG4gIFdlYi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEF0b21pYy5wcm90b3R5cGUpXG4gIGV4dGVuZChXZWIucHJvdG90eXBlLCBnZXRQcm90byhXZWV4KSlcbiAgZXh0ZW5kKFdlYi5wcm90b3R5cGUsIHsgYXR0ciB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3dlYicsIFdlYilcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvY29tcG9uZW50cy93ZWIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9jb21wb25lbnRzL3dlYi5qcyIsIid1c2Ugc3RyaWN0J1xuXG5pbXBvcnQgeyB0cmFuc2l0aW9uT25jZSB9IGZyb20gJy4vbGliJ1xuXG5jb25zdCBfZGF0YSA9IHt9XG5cbmNvbnN0IGFuaW1hdGlvbiA9IHtcblxuICAvKipcbiAgICogdHJhbnNpdGlvblxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IHJlZiAgICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtvYmp9IGNvbmZpZyAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNhbGxiYWNrSWQgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgdHJhbnNpdGlvbjogZnVuY3Rpb24gKHJlZiwgY29uZmlnLCBjYWxsYmFja0lkKSB7XG4gICAgbGV0IHJlZkRhdGEgPSBfZGF0YVtyZWZdXG4gICAgY29uc3Qgc3R5bGVzS2V5ID0gSlNPTi5zdHJpbmdpZnkoY29uZmlnLnN0eWxlcylcbiAgICBjb25zdCB3ZWV4SW5zdGFuY2UgPSB0aGlzXG4gICAgLy8gSWYgdGhlIHNhbWUgY29tcG9uZW50IHBlcmZvcm0gYSBhbmltYXRpb24gd2l0aCBleGFjdGx5IHRoZSBzYW1lXG4gICAgLy8gc3R5bGVzIGluIGEgc2VxdWVuY2Ugd2l0aCBzbyBzaG9ydCBpbnRlcnZhbCB0aGF0IHRoZSBwcmV2IGFuaW1hdGlvblxuICAgIC8vIGlzIHN0aWxsIGluIHBsYXlpbmcsIHRoZW4gdGhlIG5leHQgYW5pbWF0aW9uIHNob3VsZCBiZSBpZ25vcmVkLlxuICAgIGlmIChyZWZEYXRhICYmIHJlZkRhdGFbc3R5bGVzS2V5XSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGlmICghcmVmRGF0YSkge1xuICAgICAgcmVmRGF0YSA9IF9kYXRhW3JlZl0gPSB7fVxuICAgIH1cbiAgICByZWZEYXRhW3N0eWxlc0tleV0gPSB0cnVlXG5cbiAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKS5nZXRDb21wb25lbnQocmVmKVxuICAgIHJldHVybiB0cmFuc2l0aW9uT25jZShjb21wb25lbnQsIGNvbmZpZywgZnVuY3Rpb24gKCkge1xuICAgICAgLy8gUmVtb3ZlIHRoZSBzdHlsZXNLZXkgaW4gcmVmRGF0YSBzbyB0aGF0IHRoZSBzYW1lIGFuaW1hdGlvblxuICAgICAgLy8gY2FuIGJlIHBsYXllZCBhZ2FpbiBhZnRlciBjdXJyZW50IGFuaW1hdGlvbiBpcyBhbHJlYWR5IGZpbmlzaGVkLlxuICAgICAgZGVsZXRlIHJlZkRhdGFbc3R5bGVzS2V5XVxuICAgICAgd2VleEluc3RhbmNlLnNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZClcbiAgICB9KVxuICB9XG59XG5cbmNvbnN0IG1ldGEgPSB7XG4gIGFuaW1hdGlvbjogW3tcbiAgICBuYW1lOiAndHJhbnNpdGlvbicsXG4gICAgYXJnczogWydzdHJpbmcnLCAnb2JqZWN0JywgJ2Z1bmN0aW9uJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXgucmVnaXN0ZXJBcGlNb2R1bGUoJ2FuaW1hdGlvbicsIGFuaW1hdGlvbiwgbWV0YSlcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvYW5pbWF0aW9uL2luZGV4LmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL2FuaW1hdGlvbi9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcblxuICAvKipcbiAgICogY29uZmlnOlxuICAgKiAgIC0gc3R5bGVzXG4gICAqICAgLSBkdXJhdGlvbiBbTnVtYmVyXSBtaWxsaXNlY29uZHMobXMpXG4gICAqICAgLSB0aW1pbmdGdW5jdGlvbiBbc3RyaW5nXVxuICAgKiAgIC0gZGVhbHkgW051bWJlcl0gbWlsbGlzZWNvbmRzKG1zKVxuICAgKi9cbiAgdHJhbnNpdGlvbk9uY2U6IGZ1bmN0aW9uIChjb21wLCBjb25maWcsIGNhbGxiYWNrKSB7XG4gICAgY29uc3Qgc3R5bGVzID0gY29uZmlnLnN0eWxlcyB8fCB7fVxuICAgIGNvbnN0IGR1cmF0aW9uID0gY29uZmlnLmR1cmF0aW9uIHx8IDEwMDAgLy8gbXNcbiAgICBjb25zdCB0aW1pbmdGdW5jdGlvbiA9IGNvbmZpZy50aW1pbmdGdW5jdGlvbiB8fCAnZWFzZSdcbiAgICBjb25zdCBkZWxheSA9IGNvbmZpZy5kZWxheSB8fCAwICAvLyBtc1xuICAgIGNvbnN0IHRyYW5zaXRpb25WYWx1ZSA9ICdhbGwgJyArIGR1cmF0aW9uICsgJ21zICdcbiAgICAgICAgKyB0aW1pbmdGdW5jdGlvbiArICcgJyArIGRlbGF5ICsgJ21zJ1xuICAgIGNvbnN0IGRvbSA9IGNvbXAubm9kZVxuICAgIGNvbnN0IHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgIGRvbS5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgdHJhbnNpdGlvbkVuZEhhbmRsZXIpXG4gICAgICBkb20ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRyYW5zaXRpb25FbmRIYW5kbGVyKVxuICAgICAgZG9tLnN0eWxlLnRyYW5zaXRpb24gPSAnJ1xuICAgICAgZG9tLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSAnJ1xuICAgICAgY2FsbGJhY2soKVxuICAgIH1cbiAgICBkb20uc3R5bGUudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25WYWx1ZVxuICAgIGRvbS5zdHlsZS53ZWJraXRUcmFuc2l0aW9uID0gdHJhbnNpdGlvblZhbHVlXG4gICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCB0cmFuc2l0aW9uRW5kSGFuZGxlcilcbiAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHRyYW5zaXRpb25FbmRIYW5kbGVyKVxuICAgIGNvbXAudXBkYXRlU3R5bGUoc3R5bGVzKVxuICB9XG5cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL2FuaW1hdGlvbi9saWIuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvYW5pbWF0aW9uL2xpYi5qcyIsIid1c2Ugc3RyaWN0J1xuXG4vKipcblxuQVVDVElPTjpcbnRhc2tRdWV1ZVxuQ2xpcGJvYXJkLnNldFN0cmluZygpICBOT1cgbm90IHdvcmtzLCBmYWNpbmcgdG8gdXNlci1hY3QgbG9zZSBvZiB0YXNrUXVldWUuXG5cbndvcmtzIGluIENocm9tZSBGaXJlZm94IE9wZXJhLiBidXQgbm90IGluIFNhZmFyaS5cbkBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RvY3VtZW50L2V4ZWNDb21tYW5kI0Jyb3dzZXJfY29tcGF0aWJpbGl0eVxuXG5DbGlwYm9hcmQuZ2V0U3RyaW5nKCkgdW5pbXBsZW1lbnRlZC4gVGhlcmUgaXMgbm8gZWFzeSB3YXkgdG8gZG8gcGFzdGUgZnJvbSBjbGlwYm9hcmQgdG8ganMgdmFyaWFibGUuXG5cblNvIGxvb2sgb3V0IHlvdXIgYXBwIGJlaGF2aW9yLCB3aGVuIGRvd25ncmFkZSB0byBodG1sNSByZW5kZXIuXG5BbnkgaWRlYSBpcyB3ZWxjb21lLlxuKiovXG5cbmNvbnN0IFdFRVhfQ0xJUEJPQVJEX0lEID0gJ19fd2VleF9jbGlwYm9hcmRfaWRfXydcblxuY29uc3QgY2xpcGJvYXJkID0ge1xuXG4gIGdldFN0cmluZzogZnVuY3Rpb24gKGNhbGxiYWNrSWQpIHtcbiAgICAvLyBub3Qgc3VwcG9ydGVkIGluIGh0bWw1XG4gICAgY29uc29sZS5sb2coJ2NsaXBib2FyZC5nZXRTdHJpbmcoKSBpcyBub3Qgc3VwcG9ydGVkIG5vdy4nKVxuICB9LFxuXG4gIHNldFN0cmluZzogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAvLyBub3Qgc3VwcG9ydCBzYWZhcmlcbiAgICBpZiAodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnICYmIHRleHQgIT09ICcnICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKSB7XG4gICAgICBjb25zdCB0ZW1wSW5wdXQgPSBlbGVtZW50KClcbiAgICAgIHRlbXBJbnB1dC52YWx1ZSA9IHRleHRcblxuICAgICAgdGVtcElucHV0LnNlbGVjdCgpXG4gICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCgnY29weScpXG4gICAgICAvLyB2YXIgb3V0ID0gZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiZXhlY0NvbW1hbmQgb3V0IGlzIFwiICsgb3V0KTtcbiAgICAgIHRlbXBJbnB1dC52YWx1ZSA9ICcnXG4gICAgICB0ZW1wSW5wdXQuYmx1cigpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coJ29ubHkgc3VwcG9ydCBzdHJpbmcgaW5wdXQgbm93JylcbiAgICB9XG4gIH1cblxufVxuXG5mdW5jdGlvbiBlbGVtZW50ICgpIHtcbiAgbGV0IHRlbXBJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFdFRVhfQ0xJUEJPQVJEX0lEKVxuICBpZiAodGVtcElucHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0ZW1wSW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpXG4gICAgdGVtcElucHV0LnNldEF0dHJpYnV0ZSgnaWQnLCBXRUVYX0NMSVBCT0FSRF9JRClcbiAgICB0ZW1wSW5wdXQuc3R5bGUuY3NzVGV4dCA9ICdoZWlnaHQ6MXB4O3dpZHRoOjFweDtib3JkZXI6bm9uZTsnXG4gICAgLy8gdGVtcElucHV0LnN0eWxlLmNzc1RleHQgPSBcImhlaWdodDo0MHB4O3dpZHRoOjMwMHB4O2JvcmRlcjpzb2xpZDtcIlxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcElucHV0KVxuICB9XG4gIHJldHVybiB0ZW1wSW5wdXRcbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgY2xpcGJvYXJkOiBbe1xuICAgIG5hbWU6ICdnZXRTdHJpbmcnLFxuICAgIGFyZ3M6IFsnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ3NldFN0cmluZycsXG4gICAgYXJnczogWydzdHJpbmcnXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnY2xpcGJvYXJkJywgY2xpcGJvYXJkLCBtZXRhKVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9jbGlwYm9hcmQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvY2xpcGJvYXJkLmpzIiwiJ3VzZSBzdHJpY3QnXG5cbmltcG9ydCBzY3JvbGwgZnJvbSAnc2Nyb2xsLXRvJ1xuXG5sZXQgY2FtZWxUb0tlYmFiLCBhcHBlbmRTdHlsZVxuXG5jb25zdCBkb20gPSB7XG4gIC8qKlxuICAgKiBzY3JvbGxUb0VsZW1lbnRcbiAgICogQHBhcmFtICB7c3RyaW5nfSByZWZcbiAgICogQHBhcmFtICB7b2JqfSBvcHRpb25zIHtvZmZzZXQ6TnVtYmVyfVxuICAgKiAgIHBzOiBzY3JvbGwtdG8gaGFzICdlYXNlJyBhbmQgJ2R1cmF0aW9uJyhtcykgYXMgb3B0aW9ucy5cbiAgICovXG4gIHNjcm9sbFRvRWxlbWVudDogZnVuY3Rpb24gKHJlZiwgb3B0aW9ucykge1xuICAgICFvcHRpb25zICYmIChvcHRpb25zID0ge30pXG4gICAgY29uc3Qgb2Zmc2V0ID0gKE51bWJlcihvcHRpb25zLm9mZnNldCkgfHwgMCkgKiB0aGlzLnNjYWxlXG4gICAgY29uc3QgZWxlbSA9IHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpLmdldENvbXBvbmVudChyZWYpXG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcihgW2g1LXJlbmRlcl0gY29tcG9uZW50IG9mIHJlZiAke3JlZn0gZG9lc25cXCd0IGV4aXN0LmApXG4gICAgfVxuICAgIGNvbnN0IHBhcmVudFNjcm9sbGVyID0gZWxlbS5nZXRQYXJlbnRTY3JvbGxlcigpXG4gICAgaWYgKHBhcmVudFNjcm9sbGVyKSB7XG4gICAgICBwYXJlbnRTY3JvbGxlci5zY3JvbGxlci5zY3JvbGxUb0VsZW1lbnQoZWxlbS5ub2RlLCB0cnVlLCBvZmZzZXQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3Qgb2Zmc2V0VG9wID0gZWxlbS5ub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcFxuICAgICAgICAgICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3BcbiAgICAgIGNvbnN0IHR3ZWVuID0gc2Nyb2xsKDAsIG9mZnNldFRvcCArIG9mZnNldCwgb3B0aW9ucylcbiAgICAgIHR3ZWVuLm9uKCdlbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdzY3JvbGwgZW5kLicpXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogZm9yIGFkZGluZyBmb250RmFjZVxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IGZvbnRGYWNlXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZXMgcnVsZXNcbiAgICovXG4gIGFkZFJ1bGU6IGZ1bmN0aW9uIChrZXksIHN0eWxlcykge1xuICAgIGtleSA9IGNhbWVsVG9LZWJhYihrZXkpXG4gICAgbGV0IHN0eWxlc1RleHQgPSAnJ1xuICAgIGZvciAoY29uc3QgayBpbiBzdHlsZXMpIHtcbiAgICAgIGlmIChzdHlsZXMuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgc3R5bGVzVGV4dCArPSBjYW1lbFRvS2ViYWIoaykgKyAnOicgKyBzdHlsZXNba10gKyAnOydcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3Qgc3R5bGVUZXh0ID0gYEAke2tleX17JHtzdHlsZXNUZXh0fX1gXG4gICAgYXBwZW5kU3R5bGUoc3R5bGVUZXh0LCAnZG9tLWFkZGVkLXJ1bGVzJylcbiAgfVxufVxuXG5jb25zdCBtZXRhID0ge1xuICBkb206IFt7XG4gICAgbmFtZTogJ3Njcm9sbFRvRWxlbWVudCcsXG4gICAgYXJnczogWydzdHJpbmcnLCAnb2JqZWN0J11cbiAgfSwge1xuICAgIG5hbWU6ICdhZGRSdWxlJyxcbiAgICBhcmdzOiBbJ3N0cmluZycsICdvYmplY3QnXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgY2FtZWxUb0tlYmFiID0gV2VleC51dGlscy5jYW1lbFRvS2ViYWJcbiAgICBhcHBlbmRTdHlsZSA9IFdlZXgudXRpbHMuYXBwZW5kU3R5bGVcbiAgICBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlKCdkb20nLCBkb20sIG1ldGEpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL2RvbS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9kb20uanMiLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFR3ZWVuID0gcmVxdWlyZSgndHdlZW4nKTtcbnZhciByYWYgPSByZXF1aXJlKCdyYWYnKTtcblxuLyoqXG4gKiBFeHBvc2UgYHNjcm9sbFRvYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IHNjcm9sbFRvO1xuXG4vKipcbiAqIFNjcm9sbCB0byBgKHgsIHkpYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0geFxuICogQHBhcmFtIHtOdW1iZXJ9IHlcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gc2Nyb2xsVG8oeCwgeSwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAvLyBzdGFydCBwb3NpdGlvblxuICB2YXIgc3RhcnQgPSBzY3JvbGwoKTtcblxuICAvLyBzZXR1cCB0d2VlblxuICB2YXIgdHdlZW4gPSBUd2VlbihzdGFydClcbiAgICAuZWFzZShvcHRpb25zLmVhc2UgfHwgJ291dC1jaXJjJylcbiAgICAudG8oeyB0b3A6IHksIGxlZnQ6IHggfSlcbiAgICAuZHVyYXRpb24ob3B0aW9ucy5kdXJhdGlvbiB8fCAxMDAwKTtcblxuICAvLyBzY3JvbGxcbiAgdHdlZW4udXBkYXRlKGZ1bmN0aW9uKG8pe1xuICAgIHdpbmRvdy5zY3JvbGxUbyhvLmxlZnQgfCAwLCBvLnRvcCB8IDApO1xuICB9KTtcblxuICAvLyBoYW5kbGUgZW5kXG4gIHR3ZWVuLm9uKCdlbmQnLCBmdW5jdGlvbigpe1xuICAgIGFuaW1hdGUgPSBmdW5jdGlvbigpe307XG4gIH0pO1xuXG4gIC8vIGFuaW1hdGVcbiAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICByYWYoYW5pbWF0ZSk7XG4gICAgdHdlZW4udXBkYXRlKCk7XG4gIH1cblxuICBhbmltYXRlKCk7XG4gIFxuICByZXR1cm4gdHdlZW47XG59XG5cbi8qKlxuICogUmV0dXJuIHNjcm9sbCBwb3NpdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBzY3JvbGwoKSB7XG4gIHZhciB5ID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gIHZhciB4ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xuICByZXR1cm4geyB0b3A6IHksIGxlZnQ6IHggfTtcbn1cblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Njcm9sbC10by9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDIwNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9zY3JvbGwtdG8vaW5kZXguanMiLCJcbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2VtaXR0ZXInKTtcbnZhciBjbG9uZSA9IHJlcXVpcmUoJ2Nsb25lJyk7XG52YXIgdHlwZSA9IHJlcXVpcmUoJ3R5cGUnKTtcbnZhciBlYXNlID0gcmVxdWlyZSgnZWFzZScpO1xuXG4vKipcbiAqIEV4cG9zZSBgVHdlZW5gLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gVHdlZW47XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgVHdlZW5gIHdpdGggYG9iamAuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9ialxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBUd2VlbihvYmopIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFR3ZWVuKSkgcmV0dXJuIG5ldyBUd2VlbihvYmopO1xuICB0aGlzLl9mcm9tID0gb2JqO1xuICB0aGlzLmVhc2UoJ2xpbmVhcicpO1xuICB0aGlzLmR1cmF0aW9uKDUwMCk7XG59XG5cbi8qKlxuICogTWl4aW4gZW1pdHRlci5cbiAqL1xuXG5FbWl0dGVyKFR3ZWVuLnByb3RvdHlwZSk7XG5cbi8qKlxuICogUmVzZXQgdGhlIHR3ZWVuLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuVHdlZW4ucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5pc0FycmF5ID0gJ2FycmF5JyA9PT0gdHlwZSh0aGlzLl9mcm9tKTtcbiAgdGhpcy5fY3VyciA9IGNsb25lKHRoaXMuX2Zyb20pO1xuICB0aGlzLl9kb25lID0gZmFsc2U7XG4gIHRoaXMuX3N0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFR3ZWVuIHRvIGBvYmpgIGFuZCByZXNldCBpbnRlcm5hbCBzdGF0ZS5cbiAqXG4gKiAgICB0d2Vlbi50byh7IHg6IDUwLCB5OiAxMDAgfSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqXG4gKiBAcmV0dXJuIHtUd2Vlbn0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Ud2Vlbi5wcm90b3R5cGUudG8gPSBmdW5jdGlvbihvYmope1xuICB0aGlzLnJlc2V0KCk7XG4gIHRoaXMuX3RvID0gb2JqO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGR1cmF0aW9uIHRvIGBtc2AgWzUwMF0uXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtUd2Vlbn0gc2VsZlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Ud2Vlbi5wcm90b3R5cGUuZHVyYXRpb24gPSBmdW5jdGlvbihtcyl7XG4gIHRoaXMuX2R1cmF0aW9uID0gbXM7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgZWFzaW5nIGZ1bmN0aW9uIHRvIGBmbmAuXG4gKlxuICogICAgdHdlZW4uZWFzZSgnaW4tb3V0LXNpbmUnKVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfEZ1bmN0aW9ufSBmblxuICogQHJldHVybiB7VHdlZW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblR3ZWVuLnByb3RvdHlwZS5lYXNlID0gZnVuY3Rpb24oZm4pe1xuICBmbiA9ICdmdW5jdGlvbicgPT0gdHlwZW9mIGZuID8gZm4gOiBlYXNlW2ZuXTtcbiAgaWYgKCFmbikgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBlYXNpbmcgZnVuY3Rpb24nKTtcbiAgdGhpcy5fZWFzZSA9IGZuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU3RvcCB0aGUgdHdlZW4gYW5kIGltbWVkaWF0ZWx5IGVtaXQgXCJzdG9wXCIgYW5kIFwiZW5kXCIuXG4gKlxuICogQHJldHVybiB7VHdlZW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblR3ZWVuLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgdGhpcy5fZG9uZSA9IHRydWU7XG4gIHRoaXMuZW1pdCgnc3RvcCcpO1xuICB0aGlzLmVtaXQoJ2VuZCcpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUGVyZm9ybSBhIHN0ZXAuXG4gKlxuICogQHJldHVybiB7VHdlZW59IHNlbGZcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cblR3ZWVuLnByb3RvdHlwZS5zdGVwID0gZnVuY3Rpb24oKXtcbiAgaWYgKHRoaXMuX2RvbmUpIHJldHVybjtcblxuICAvLyBkdXJhdGlvblxuICB2YXIgZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbjtcbiAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gIHZhciBkZWx0YSA9IG5vdyAtIHRoaXMuX3N0YXJ0O1xuICB2YXIgZG9uZSA9IGRlbHRhID49IGR1cmF0aW9uO1xuXG4gIC8vIGNvbXBsZXRlXG4gIGlmIChkb25lKSB7XG4gICAgdGhpcy5fZnJvbSA9IHRoaXMuX3RvO1xuICAgIHRoaXMuX3VwZGF0ZSh0aGlzLl90byk7XG4gICAgdGhpcy5fZG9uZSA9IHRydWU7XG4gICAgdGhpcy5lbWl0KCdlbmQnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHR3ZWVuXG4gIHZhciBmcm9tID0gdGhpcy5fZnJvbTtcbiAgdmFyIHRvID0gdGhpcy5fdG87XG4gIHZhciBjdXJyID0gdGhpcy5fY3VycjtcbiAgdmFyIGZuID0gdGhpcy5fZWFzZTtcbiAgdmFyIHAgPSAobm93IC0gdGhpcy5fc3RhcnQpIC8gZHVyYXRpb247XG4gIHZhciBuID0gZm4ocCk7XG5cbiAgLy8gYXJyYXlcbiAgaWYgKHRoaXMuaXNBcnJheSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnJvbS5sZW5ndGg7ICsraSkge1xuICAgICAgY3VycltpXSA9IGZyb21baV0gKyAodG9baV0gLSBmcm9tW2ldKSAqIG47XG4gICAgfVxuXG4gICAgdGhpcy5fdXBkYXRlKGN1cnIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gb2JqZWNoXG4gIGZvciAodmFyIGsgaW4gZnJvbSkge1xuICAgIGN1cnJba10gPSBmcm9tW2tdICsgKHRvW2tdIC0gZnJvbVtrXSkgKiBuO1xuICB9XG5cbiAgdGhpcy5fdXBkYXRlKGN1cnIpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHVwZGF0ZSBmdW5jdGlvbiB0byBgZm5gIG9yXG4gKiB3aGVuIG5vIGFyZ3VtZW50IGlzIGdpdmVuIHRoaXMgcGVyZm9ybXNcbiAqIGEgXCJzdGVwXCIuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge1R3ZWVufSBzZWxmXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cblR3ZWVuLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihmbil7XG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aGlzLnN0ZXAoKTtcbiAgdGhpcy5fdXBkYXRlID0gZm47XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zY3JvbGwtdG8vfi9jb21wb25lbnQtdHdlZW4vaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyMDdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL2luZGV4LmpzIiwiXG4vKipcbiAqIEV4cG9zZSBgRW1pdHRlcmAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBFbWl0dGVyO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59O1xuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgKHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gPSB0aGlzLl9jYWxsYmFja3NbJyQnICsgZXZlbnRdIHx8IFtdKVxuICAgIC5wdXNoKGZuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuKXtcbiAgZnVuY3Rpb24gb24oKSB7XG4gICAgdGhpcy5vZmYoZXZlbnQsIG9uKTtcbiAgICBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcbiAgdGhpcy5vbihldmVudCwgb24pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBjYWxsYmFjayBmb3IgYGV2ZW50YCBvciBhbGxcbiAqIHJlZ2lzdGVyZWQgY2FsbGJhY2tzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLm9mZiA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG5FbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbil7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICAvLyBhbGxcbiAgaWYgKDAgPT0gYXJndW1lbnRzLmxlbmd0aCkge1xuICAgIHRoaXMuX2NhbGxiYWNrcyA9IHt9O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLy8gc3BlY2lmaWMgZXZlbnRcbiAgdmFyIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF07XG4gIGlmICghY2FsbGJhY2tzKSByZXR1cm4gdGhpcztcblxuICAvLyByZW1vdmUgYWxsIGhhbmRsZXJzXG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBkZWxldGUgdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHJlbW92ZSBzcGVjaWZpYyBoYW5kbGVyXG4gIHZhciBjYjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICBjYiA9IGNhbGxiYWNrc1tpXTtcbiAgICBpZiAoY2IgPT09IGZuIHx8IGNiLmZuID09PSBmbikge1xuICAgICAgY2FsbGJhY2tzLnNwbGljZShpLCAxKTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRW1pdCBgZXZlbnRgIHdpdGggdGhlIGdpdmVuIGFyZ3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge01peGVkfSAuLi5cbiAqIEByZXR1cm4ge0VtaXR0ZXJ9XG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICB2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKVxuICAgICwgY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzWyckJyArIGV2ZW50XTtcblxuICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgY2FsbGJhY2tzID0gY2FsbGJhY2tzLnNsaWNlKDApO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjYWxsYmFja3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGNhbGxiYWNrc1tpXS5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFycmF5IG9mIGNhbGxiYWNrcyBmb3IgYGV2ZW50YC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgcmV0dXJuIHRoaXMuX2NhbGxiYWNrc1snJCcgKyBldmVudF0gfHwgW107XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIHRoaXMgZW1pdHRlciBoYXMgYGV2ZW50YCBoYW5kbGVycy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmhhc0xpc3RlbmVycyA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcmV0dXJuICEhIHRoaXMubGlzdGVuZXJzKGV2ZW50KS5sZW5ndGg7XG59O1xuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL34vY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyMDhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL34vY29tcG9uZW50LWVtaXR0ZXIvaW5kZXguanMiLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIHR5cGU7XG50cnkge1xuICB0eXBlID0gcmVxdWlyZSgnY29tcG9uZW50LXR5cGUnKTtcbn0gY2F0Y2ggKF8pIHtcbiAgdHlwZSA9IHJlcXVpcmUoJ3R5cGUnKTtcbn1cblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsb25lO1xuXG4vKipcbiAqIENsb25lcyBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IGFueSBvYmplY3RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY2xvbmUob2JqKXtcbiAgc3dpdGNoICh0eXBlKG9iaikpIHtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIGNvcHkgPSB7fTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29weVtrZXldID0gY2xvbmUob2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY29weTtcblxuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHZhciBjb3B5ID0gbmV3IEFycmF5KG9iai5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIGNvcHlbaV0gPSBjbG9uZShvYmpbaV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvcHk7XG5cbiAgICBjYXNlICdyZWdleHAnOlxuICAgICAgLy8gZnJvbSBtaWxsZXJtZWRlaXJvcy9hbWQtdXRpbHMgLSBNSVRcbiAgICAgIHZhciBmbGFncyA9ICcnO1xuICAgICAgZmxhZ3MgKz0gb2JqLm11bHRpbGluZSA/ICdtJyA6ICcnO1xuICAgICAgZmxhZ3MgKz0gb2JqLmdsb2JhbCA/ICdnJyA6ICcnO1xuICAgICAgZmxhZ3MgKz0gb2JqLmlnbm9yZUNhc2UgPyAnaScgOiAnJztcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKG9iai5zb3VyY2UsIGZsYWdzKTtcblxuICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgcmV0dXJuIG5ldyBEYXRlKG9iai5nZXRUaW1lKCkpO1xuXG4gICAgZGVmYXVsdDogLy8gc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIOKAplxuICAgICAgcmV0dXJuIG9iajtcbiAgfVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXR3ZWVuL34vY29tcG9uZW50LWNsb25lL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjA5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L3Njcm9sbC10by9+L2NvbXBvbmVudC10d2Vlbi9+L2NvbXBvbmVudC1jbG9uZS9pbmRleC5qcyIsIi8qKlxuICogdG9TdHJpbmcgcmVmLlxuICovXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogUmV0dXJuIHRoZSB0eXBlIG9mIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCl7XG4gIHN3aXRjaCAodG9TdHJpbmcuY2FsbCh2YWwpKSB7XG4gICAgY2FzZSAnW29iamVjdCBEYXRlXSc6IHJldHVybiAnZGF0ZSc7XG4gICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzogcmV0dXJuICdyZWdleHAnO1xuICAgIGNhc2UgJ1tvYmplY3QgQXJndW1lbnRzXSc6IHJldHVybiAnYXJndW1lbnRzJztcbiAgICBjYXNlICdbb2JqZWN0IEFycmF5XSc6IHJldHVybiAnYXJyYXknO1xuICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzogcmV0dXJuICdlcnJvcic7XG4gIH1cblxuICBpZiAodmFsID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xuICBpZiAodmFsID09PSB1bmRlZmluZWQpIHJldHVybiAndW5kZWZpbmVkJztcbiAgaWYgKHZhbCAhPT0gdmFsKSByZXR1cm4gJ25hbic7XG4gIGlmICh2YWwgJiYgdmFsLm5vZGVUeXBlID09PSAxKSByZXR1cm4gJ2VsZW1lbnQnO1xuXG4gIHZhbCA9IHZhbC52YWx1ZU9mXG4gICAgPyB2YWwudmFsdWVPZigpXG4gICAgOiBPYmplY3QucHJvdG90eXBlLnZhbHVlT2YuYXBwbHkodmFsKVxuXG4gIHJldHVybiB0eXBlb2YgdmFsO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Njcm9sbC10by9+L2NvbXBvbmVudC10d2Vlbi9+L2NvbXBvbmVudC10eXBlL2luZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMjEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L3Njcm9sbC10by9+L2NvbXBvbmVudC10d2Vlbi9+L2NvbXBvbmVudC10eXBlL2luZGV4LmpzIiwiXG4vLyBlYXNpbmcgZnVuY3Rpb25zIGZyb20gXCJUd2Vlbi5qc1wiXG5cbmV4cG9ydHMubGluZWFyID0gZnVuY3Rpb24obil7XG4gIHJldHVybiBuO1xufTtcblxuZXhwb3J0cy5pblF1YWQgPSBmdW5jdGlvbihuKXtcbiAgcmV0dXJuIG4gKiBuO1xufTtcblxuZXhwb3J0cy5vdXRRdWFkID0gZnVuY3Rpb24obil7XG4gIHJldHVybiBuICogKDIgLSBuKTtcbn07XG5cbmV4cG9ydHMuaW5PdXRRdWFkID0gZnVuY3Rpb24obil7XG4gIG4gKj0gMjtcbiAgaWYgKG4gPCAxKSByZXR1cm4gMC41ICogbiAqIG47XG4gIHJldHVybiAtIDAuNSAqICgtLW4gKiAobiAtIDIpIC0gMSk7XG59O1xuXG5leHBvcnRzLmluQ3ViZSA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gbiAqIG4gKiBuO1xufTtcblxuZXhwb3J0cy5vdXRDdWJlID0gZnVuY3Rpb24obil7XG4gIHJldHVybiAtLW4gKiBuICogbiArIDE7XG59O1xuXG5leHBvcnRzLmluT3V0Q3ViZSA9IGZ1bmN0aW9uKG4pe1xuICBuICo9IDI7XG4gIGlmIChuIDwgMSkgcmV0dXJuIDAuNSAqIG4gKiBuICogbjtcbiAgcmV0dXJuIDAuNSAqICgobiAtPSAyICkgKiBuICogbiArIDIpO1xufTtcblxuZXhwb3J0cy5pblF1YXJ0ID0gZnVuY3Rpb24obil7XG4gIHJldHVybiBuICogbiAqIG4gKiBuO1xufTtcblxuZXhwb3J0cy5vdXRRdWFydCA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gMSAtICgtLW4gKiBuICogbiAqIG4pO1xufTtcblxuZXhwb3J0cy5pbk91dFF1YXJ0ID0gZnVuY3Rpb24obil7XG4gIG4gKj0gMjtcbiAgaWYgKG4gPCAxKSByZXR1cm4gMC41ICogbiAqIG4gKiBuICogbjtcbiAgcmV0dXJuIC0wLjUgKiAoKG4gLT0gMikgKiBuICogbiAqIG4gLSAyKTtcbn07XG5cbmV4cG9ydHMuaW5RdWludCA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gbiAqIG4gKiBuICogbiAqIG47XG59XG5cbmV4cG9ydHMub3V0UXVpbnQgPSBmdW5jdGlvbihuKXtcbiAgcmV0dXJuIC0tbiAqIG4gKiBuICogbiAqIG4gKyAxO1xufVxuXG5leHBvcnRzLmluT3V0UXVpbnQgPSBmdW5jdGlvbihuKXtcbiAgbiAqPSAyO1xuICBpZiAobiA8IDEpIHJldHVybiAwLjUgKiBuICogbiAqIG4gKiBuICogbjtcbiAgcmV0dXJuIDAuNSAqICgobiAtPSAyKSAqIG4gKiBuICogbiAqIG4gKyAyKTtcbn07XG5cbmV4cG9ydHMuaW5TaW5lID0gZnVuY3Rpb24obil7XG4gIHJldHVybiAxIC0gTWF0aC5jb3MobiAqIE1hdGguUEkgLyAyICk7XG59O1xuXG5leHBvcnRzLm91dFNpbmUgPSBmdW5jdGlvbihuKXtcbiAgcmV0dXJuIE1hdGguc2luKG4gKiBNYXRoLlBJIC8gMik7XG59O1xuXG5leHBvcnRzLmluT3V0U2luZSA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gLjUgKiAoMSAtIE1hdGguY29zKE1hdGguUEkgKiBuKSk7XG59O1xuXG5leHBvcnRzLmluRXhwbyA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gMCA9PSBuID8gMCA6IE1hdGgucG93KDEwMjQsIG4gLSAxKTtcbn07XG5cbmV4cG9ydHMub3V0RXhwbyA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gMSA9PSBuID8gbiA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiBuKTtcbn07XG5cbmV4cG9ydHMuaW5PdXRFeHBvID0gZnVuY3Rpb24obil7XG4gIGlmICgwID09IG4pIHJldHVybiAwO1xuICBpZiAoMSA9PSBuKSByZXR1cm4gMTtcbiAgaWYgKChuICo9IDIpIDwgMSkgcmV0dXJuIC41ICogTWF0aC5wb3coMTAyNCwgbiAtIDEpO1xuICByZXR1cm4gLjUgKiAoLU1hdGgucG93KDIsIC0xMCAqIChuIC0gMSkpICsgMik7XG59O1xuXG5leHBvcnRzLmluQ2lyYyA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gMSAtIE1hdGguc3FydCgxIC0gbiAqIG4pO1xufTtcblxuZXhwb3J0cy5vdXRDaXJjID0gZnVuY3Rpb24obil7XG4gIHJldHVybiBNYXRoLnNxcnQoMSAtICgtLW4gKiBuKSk7XG59O1xuXG5leHBvcnRzLmluT3V0Q2lyYyA9IGZ1bmN0aW9uKG4pe1xuICBuICo9IDJcbiAgaWYgKG4gPCAxKSByZXR1cm4gLTAuNSAqIChNYXRoLnNxcnQoMSAtIG4gKiBuKSAtIDEpO1xuICByZXR1cm4gMC41ICogKE1hdGguc3FydCgxIC0gKG4gLT0gMikgKiBuKSArIDEpO1xufTtcblxuZXhwb3J0cy5pbkJhY2sgPSBmdW5jdGlvbihuKXtcbiAgdmFyIHMgPSAxLjcwMTU4O1xuICByZXR1cm4gbiAqIG4gKiAoKCBzICsgMSApICogbiAtIHMpO1xufTtcblxuZXhwb3J0cy5vdXRCYWNrID0gZnVuY3Rpb24obil7XG4gIHZhciBzID0gMS43MDE1ODtcbiAgcmV0dXJuIC0tbiAqIG4gKiAoKHMgKyAxKSAqIG4gKyBzKSArIDE7XG59O1xuXG5leHBvcnRzLmluT3V0QmFjayA9IGZ1bmN0aW9uKG4pe1xuICB2YXIgcyA9IDEuNzAxNTggKiAxLjUyNTtcbiAgaWYgKCAoIG4gKj0gMiApIDwgMSApIHJldHVybiAwLjUgKiAoIG4gKiBuICogKCAoIHMgKyAxICkgKiBuIC0gcyApICk7XG4gIHJldHVybiAwLjUgKiAoICggbiAtPSAyICkgKiBuICogKCAoIHMgKyAxICkgKiBuICsgcyApICsgMiApO1xufTtcblxuZXhwb3J0cy5pbkJvdW5jZSA9IGZ1bmN0aW9uKG4pe1xuICByZXR1cm4gMSAtIGV4cG9ydHMub3V0Qm91bmNlKDEgLSBuKTtcbn07XG5cbmV4cG9ydHMub3V0Qm91bmNlID0gZnVuY3Rpb24obil7XG4gIGlmICggbiA8ICggMSAvIDIuNzUgKSApIHtcbiAgICByZXR1cm4gNy41NjI1ICogbiAqIG47XG4gIH0gZWxzZSBpZiAoIG4gPCAoIDIgLyAyLjc1ICkgKSB7XG4gICAgcmV0dXJuIDcuNTYyNSAqICggbiAtPSAoIDEuNSAvIDIuNzUgKSApICogbiArIDAuNzU7XG4gIH0gZWxzZSBpZiAoIG4gPCAoIDIuNSAvIDIuNzUgKSApIHtcbiAgICByZXR1cm4gNy41NjI1ICogKCBuIC09ICggMi4yNSAvIDIuNzUgKSApICogbiArIDAuOTM3NTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gNy41NjI1ICogKCBuIC09ICggMi42MjUgLyAyLjc1ICkgKSAqIG4gKyAwLjk4NDM3NTtcbiAgfVxufTtcblxuZXhwb3J0cy5pbk91dEJvdW5jZSA9IGZ1bmN0aW9uKG4pe1xuICBpZiAobiA8IC41KSByZXR1cm4gZXhwb3J0cy5pbkJvdW5jZShuICogMikgKiAuNTtcbiAgcmV0dXJuIGV4cG9ydHMub3V0Qm91bmNlKG4gKiAyIC0gMSkgKiAuNSArIC41O1xufTtcblxuLy8gYWxpYXNlc1xuXG5leHBvcnRzWydpbi1xdWFkJ10gPSBleHBvcnRzLmluUXVhZDtcbmV4cG9ydHNbJ291dC1xdWFkJ10gPSBleHBvcnRzLm91dFF1YWQ7XG5leHBvcnRzWydpbi1vdXQtcXVhZCddID0gZXhwb3J0cy5pbk91dFF1YWQ7XG5leHBvcnRzWydpbi1jdWJlJ10gPSBleHBvcnRzLmluQ3ViZTtcbmV4cG9ydHNbJ291dC1jdWJlJ10gPSBleHBvcnRzLm91dEN1YmU7XG5leHBvcnRzWydpbi1vdXQtY3ViZSddID0gZXhwb3J0cy5pbk91dEN1YmU7XG5leHBvcnRzWydpbi1xdWFydCddID0gZXhwb3J0cy5pblF1YXJ0O1xuZXhwb3J0c1snb3V0LXF1YXJ0J10gPSBleHBvcnRzLm91dFF1YXJ0O1xuZXhwb3J0c1snaW4tb3V0LXF1YXJ0J10gPSBleHBvcnRzLmluT3V0UXVhcnQ7XG5leHBvcnRzWydpbi1xdWludCddID0gZXhwb3J0cy5pblF1aW50O1xuZXhwb3J0c1snb3V0LXF1aW50J10gPSBleHBvcnRzLm91dFF1aW50O1xuZXhwb3J0c1snaW4tb3V0LXF1aW50J10gPSBleHBvcnRzLmluT3V0UXVpbnQ7XG5leHBvcnRzWydpbi1zaW5lJ10gPSBleHBvcnRzLmluU2luZTtcbmV4cG9ydHNbJ291dC1zaW5lJ10gPSBleHBvcnRzLm91dFNpbmU7XG5leHBvcnRzWydpbi1vdXQtc2luZSddID0gZXhwb3J0cy5pbk91dFNpbmU7XG5leHBvcnRzWydpbi1leHBvJ10gPSBleHBvcnRzLmluRXhwbztcbmV4cG9ydHNbJ291dC1leHBvJ10gPSBleHBvcnRzLm91dEV4cG87XG5leHBvcnRzWydpbi1vdXQtZXhwbyddID0gZXhwb3J0cy5pbk91dEV4cG87XG5leHBvcnRzWydpbi1jaXJjJ10gPSBleHBvcnRzLmluQ2lyYztcbmV4cG9ydHNbJ291dC1jaXJjJ10gPSBleHBvcnRzLm91dENpcmM7XG5leHBvcnRzWydpbi1vdXQtY2lyYyddID0gZXhwb3J0cy5pbk91dENpcmM7XG5leHBvcnRzWydpbi1iYWNrJ10gPSBleHBvcnRzLmluQmFjaztcbmV4cG9ydHNbJ291dC1iYWNrJ10gPSBleHBvcnRzLm91dEJhY2s7XG5leHBvcnRzWydpbi1vdXQtYmFjayddID0gZXhwb3J0cy5pbk91dEJhY2s7XG5leHBvcnRzWydpbi1ib3VuY2UnXSA9IGV4cG9ydHMuaW5Cb3VuY2U7XG5leHBvcnRzWydvdXQtYm91bmNlJ10gPSBleHBvcnRzLm91dEJvdW5jZTtcbmV4cG9ydHNbJ2luLW91dC1ib3VuY2UnXSA9IGV4cG9ydHMuaW5PdXRCb3VuY2U7XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9zY3JvbGwtdG8vfi9jb21wb25lbnQtdHdlZW4vfi9lYXNlLWNvbXBvbmVudC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9zY3JvbGwtdG8vfi9jb21wb25lbnQtdHdlZW4vfi9lYXNlLWNvbXBvbmVudC9pbmRleC5qcyIsIi8qKlxuICogRXhwb3NlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKWAuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZmFsbGJhY2s7XG5cbi8qKlxuICogRmFsbGJhY2sgaW1wbGVtZW50YXRpb24uXG4gKi9cblxudmFyIHByZXYgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbmZ1bmN0aW9uIGZhbGxiYWNrKGZuKSB7XG4gIHZhciBjdXJyID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIHZhciBtcyA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnIgLSBwcmV2KSk7XG4gIHZhciByZXEgPSBzZXRUaW1lb3V0KGZuLCBtcyk7XG4gIHByZXYgPSBjdXJyO1xuICByZXR1cm4gcmVxO1xufVxuXG4vKipcbiAqIENhbmNlbC5cbiAqL1xuXG52YXIgY2FuY2VsID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCB3aW5kb3cubW96Q2FuY2VsQW5pbWF0aW9uRnJhbWVcbiAgfHwgd2luZG93LmNsZWFyVGltZW91dDtcblxuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbihpZCl7XG4gIGNhbmNlbC5jYWxsKHdpbmRvdywgaWQpO1xufTtcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L3Njcm9sbC10by9+L2NvbXBvbmVudC1yYWYvaW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSAyMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vc2Nyb2xsLXRvL34vY29tcG9uZW50LXJhZi9pbmRleC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBldmVudCA9IHtcbiAgLyoqXG4gICAqIG9wZW5VcmxcbiAgICogQHBhcmFtICB7c3RyaW5nfSB1cmxcbiAgICovXG4gIG9wZW5VUkw6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICBsb2NhdGlvbi5ocmVmID0gdXJsXG4gIH1cblxufVxuXG5jb25zdCBtZXRhID0ge1xuICBldmVudDogW3tcbiAgICBuYW1lOiAnb3BlblVSTCcsXG4gICAgYXJnczogWydzdHJpbmcnXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnZXZlbnQnLCBldmVudCwgbWV0YSlcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZXZlbnQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZXZlbnQuanMiLCIndXNlIHN0cmljdCdcblxuY29uc3Qgc3VwcG9ydEdlb2xvY2F0aW9uID0gJ2dlb2xvY2F0aW9uJyBpbiBuYXZpZ2F0b3JcbmNvbnN0IGVycm9yTXNnID0gYFtoNS1yZW5kZXJdOiBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBnZW9sb2NhdGlvbi5gXG5cbmNvbnN0IGdlb2xvY2F0aW9uID0ge1xuICAvLyBvcHRpb25zOlxuICAvLyAgIC0gZW5hYmxlSGlnaEFjY3VyYWN5IG9wdGlvbmFsLCB2YWx1ZSBpcyB0cnVlIG9yIGZhbHNlLCBmYWxzZSBieSBkZWZhdWx0LlxuICAvLyAgIC0gdGltZW91dCBbbm9uZS1uYXRpdmVdIG9wdGlvbmFsLCB2YWx1ZSBpcyBhIG51bWJlciAobWlsbGlzZWNvbmRzKSwgZGVmYXVsdCB2YXVsZSBpcyBGSU5GSU5JVFkuXG4gIC8vICAgLSBtYXhpbXVtQWdlIFtub25lLW5hdGl2ZV0gb3B0aW9uYWwsIHZhbHVlIGlzIGEgbnVtYmVyIChtaWxsaXNlY29uZHMpLCBkZWZhdWx0IHZhbHVlIGlzIDAuXG4gIGdldEN1cnJlbnRQb3NpdGlvbiAoc3VjY2Vzc0NiSWQsIGVycm9yQ2JJZCwgb3B0aW9ucykge1xuICAgIGNvbnN0IHN1Y2Nlc3NDYiA9IHBvcyA9PiB0aGlzLnNlbmRlci5wZXJmb3JtQ2FsbGJhY2soc3VjY2Vzc0NiSWQsIHBvcylcbiAgICBjb25zdCBlcnJvckNiID0gZXJyID0+IHRoaXMuc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhlcnJvckNiSWQsIGVycilcbiAgICBpZiAoc3VwcG9ydEdlb2xvY2F0aW9uKSB7XG4gICAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHN1Y2Nlc3NDYiwgZXJyb3JDYiwgb3B0aW9ucylcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oZXJyb3JNc2cpXG4gICAgICBlcnJvckNiKG5ldyBFcnJvcihlcnJvck1zZykpXG4gICAgfVxuICB9LFxuXG4gIC8vIG9wdGlvbnM6IHRoZSBzYW1lIHdpdGggYGdldEN1cnJlbnRQb3NpdGlvbmAuXG4gIHdhdGNoUG9zaXRpb24gKHN1Y2Nlc3NDYklkLCBlcnJvckNiSWQsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdWNjZXNzQ2IgPSBwb3MgPT4gdGhpcy5zZW5kZXIucGVyZm9ybUNhbGxiYWNrKHN1Y2Nlc3NDYklkLCBwb3MsIHRydWUpXG4gICAgY29uc3QgZXJyb3JDYiA9IGVyciA9PiB0aGlzLnNlbmRlci5wZXJmb3JtQ2FsbGJhY2soZXJyb3JDYklkLCBlcnIpXG4gICAgaWYgKHN1cHBvcnRHZW9sb2NhdGlvbikge1xuICAgICAgY29uc3QgaWQgPSBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24ud2F0Y2hQb3NpdGlvbihwb3MgPT4ge1xuICAgICAgICBwb3Mud2F0Y2hJZCA9IGlkXG4gICAgICAgIHN1Y2Nlc3NDYihwb3MpXG4gICAgICB9LCBlcnJvckNiLCBvcHRpb25zKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihlcnJvck1zZylcbiAgICAgIGVycm9yQ2IobmV3IEVycm9yKGVycm9yTXNnKSlcbiAgICB9XG4gIH0sXG5cbiAgY2xlYXJXYXRjaCAod2F0Y2hJZCkge1xuICAgIGlmIChzdXBwb3J0R2VvbG9jYXRpb24pIHtcbiAgICAgIG5hdmlnYXRvci5nZW9sb2NhdGlvbi5jbGVhcldhdGNoKHdhdGNoSWQpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKGVycm9yTXNnKVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBtZXRhID0ge1xuICBnZW9sb2NhdGlvbjogW3tcbiAgICBuYW1lOiAnZ2V0Q3VycmVudFBvc2l0aW9uJyxcbiAgICBhcmdzOiBbJ2Z1bmN0aW9uJywgJ2Z1bmN0aW9uJywgJ29iamVjdCddXG4gIH0sIHtcbiAgICBuYW1lOiAnd2F0Y2hQb3NpdGlvbicsXG4gICAgYXJnczogWydmdW5jdGlvbicsICdmdW5jdGlvbicsICdvYmplY3QnXVxuICB9LCB7XG4gICAgbmFtZTogJ2NsZWFyV2F0Y2gnLFxuICAgIGFyZ3M6IFsnc3RyaW5nJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0IChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnZ2VvbG9jYXRpb24nLCBnZW9sb2NhdGlvbiwgbWV0YSlcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZ2VvbG9jYXRpb24uanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZ2VvbG9jYXRpb24uanMiLCIndXNlIHN0cmljdCdcblxuLy8gdHJhY2sgdmFyaWVzIGtpbmRzIG9mIGV2ZW50cyBhbmQgbGlzdGVuZXJzLlxuY29uc3QgaGFuZGxlclRyYWtlciA9IHt9XG5cbmNvbnN0IGdsb2JhbEV2ZW50ID0ge1xuXG4gIC8qKlxuICAgKiBhZGRFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldnQgLSB0aGUgZXZlbnQgbmFtZSB0byBhZGQgYSBsaXN0ZW5lciBvbi5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIgKGV2dCwgY2FsbGJhY2tJZCkge1xuICAgIGNvbnN0IGNiID0gZSA9PiB0aGlzLnNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwgZSlcbiAgICBpZiAoIWhhbmRsZXJUcmFrZXJbZXZ0XSkge1xuICAgICAgaGFuZGxlclRyYWtlcltldnRdID0gW2NiXVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGhhbmRsZXJUcmFrZXIucHVzaChjYilcbiAgICB9XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnQsIGNiKVxuICB9LFxuXG4gIC8qKlxuICAgKiByZW1vdmVFdmVudExpc3RlbmVyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldnQgLSB0aGUgZXZlbnQgbmFtZSB0byByZW1vdmUgYSBsaXN0ZW5lciBmcm9tLlxuICAgKi9cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lciAoZXZ0KSB7XG4gICAgaGFuZGxlclRyYWtlcltldnRdLmZvckVhY2goY2IgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldnQsIGNiKSlcbiAgfVxufVxuXG5jb25zdCBtZXRhID0ge1xuICBnbG9iYWxFdmVudDogW3tcbiAgICBuYW1lOiAnYWRkRXZlbnRMaXN0ZW5lcicsXG4gICAgYXJnczogWydzdHJpbmcnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ3JlbW92ZUV2ZW50TGlzdGVuZXInLFxuICAgIGFyZ3M6IFsnc3RyaW5nJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0IChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnZ2xvYmFsRXZlbnQnLCBnbG9iYWxFdmVudCwgbWV0YSlcbiAgfVxufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZ2xvYmFsRXZlbnQuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvZ2xvYmFsRXZlbnQuanMiLCIndXNlIHN0cmljdCdcblxuaW1wb3J0IG1vZGFsIGZyb20gJ21vZGFscydcblxuY29uc3QgbXNnID0ge1xuXG4gIC8vIGR1cmF0aW9uOiBkZWZhdWx0IGlzIDAuOCBzZWNvbmRzLlxuICB0b2FzdDogZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIG1vZGFsLnRvYXN0KGNvbmZpZy5tZXNzYWdlLCBjb25maWcuZHVyYXRpb24pXG4gIH0sXG5cbiAgLy8gY29uZmlnOlxuICAvLyAgLSBtZXNzYWdlOiBzdHJpbmdcbiAgLy8gIC0gb2tUaXRsZTogdGl0bGUgb2Ygb2sgYnV0dG9uXG4gIC8vICAtIGNhbGxiYWNrXG4gIGFsZXJ0OiBmdW5jdGlvbiAoY29uZmlnLCBjYWxsYmFja0lkKSB7XG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBjb25maWcuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQpXG4gICAgfVxuICAgIG1vZGFsLmFsZXJ0KGNvbmZpZylcbiAgfSxcblxuICAvLyBjb25maWc6XG4gIC8vICAtIG1lc3NhZ2U6IHN0cmluZ1xuICAvLyAgLSBva1RpdGxlOiB0aXRsZSBvZiBvayBidXR0b25cbiAgLy8gIC0gY2FuY2VsVGl0bGU6IHRpdGxlIG9mIGNhbmNlbCBidXR0b25cbiAgLy8gIC0gY2FsbGJhY2tcbiAgY29uZmlybTogZnVuY3Rpb24gKGNvbmZpZywgY2FsbGJhY2tJZCkge1xuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG4gICAgY29uZmlnLmNhbGxiYWNrID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB2YWwpXG4gICAgfVxuICAgIG1vZGFsLmNvbmZpcm0oY29uZmlnKVxuICB9LFxuXG4gIC8vIGNvbmZpZzpcbiAgLy8gIC0gbWVzc2FnZTogc3RyaW5nXG4gIC8vICAtIG9rVGl0bGU6IHRpdGxlIG9mIG9rIGJ1dHRvblxuICAvLyAgLSBjYW5jZWxUaXRsZTogdGl0bGUgb2YgY2FuY2VsIGJ1dHRvblxuICAvLyAgLSBjYWxsYmFja1xuICBwcm9tcHQ6IGZ1bmN0aW9uIChjb25maWcsIGNhbGxiYWNrSWQpIHtcbiAgICBjb25zdCBzZW5kZXIgPSB0aGlzLnNlbmRlclxuICAgIGNvbmZpZy5jYWxsYmFjayA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwgdmFsKVxuICAgIH1cbiAgICBtb2RhbC5wcm9tcHQoY29uZmlnKVxuICB9XG59XG5cbmNvbnN0IG1ldGEgPSB7XG4gIG1vZGFsOiBbe1xuICAgIG5hbWU6ICd0b2FzdCcsXG4gICAgYXJnczogWydvYmplY3QnXVxuICB9LCB7XG4gICAgbmFtZTogJ2FsZXJ0JyxcbiAgICBhcmdzOiBbJ29iamVjdCcsICdmdW5jdGlvbiddXG4gIH0sIHtcbiAgICBuYW1lOiAnY29uZmlybScsXG4gICAgYXJnczogWydvYmplY3QnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ3Byb21wdCcsXG4gICAgYXJnczogWydvYmplY3QnLCAnZnVuY3Rpb24nXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnbW9kYWwnLCBtc2csIG1ldGEpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL21vZGFsLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL21vZGFsLmpzIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBBbGVydCA9IHJlcXVpcmUoJy4vYWxlcnQnKVxudmFyIENvbmZpcm0gPSByZXF1aXJlKCcuL2NvbmZpcm0nKVxudmFyIFByb21wdCA9IHJlcXVpcmUoJy4vcHJvbXB0JylcbnZhciB0b2FzdCA9IHJlcXVpcmUoJy4vdG9hc3QnKVxuXG52YXIgbW9kYWwgPSB7XG5cbiAgdG9hc3Q6IGZ1bmN0aW9uIChtc2csIGR1cmF0aW9uKSB7XG4gICAgdG9hc3QucHVzaChtc2csIGR1cmF0aW9uKVxuICB9LFxuXG4gIGFsZXJ0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgbmV3IEFsZXJ0KGNvbmZpZykuc2hvdygpXG4gIH0sXG5cbiAgcHJvbXB0OiBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgbmV3IFByb21wdChjb25maWcpLnNob3coKVxuICB9LFxuXG4gIGNvbmZpcm06IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICBuZXcgQ29uZmlybShjb25maWcpLnNob3coKVxuICB9XG5cbn1cblxuIXdpbmRvdy5saWIgJiYgKHdpbmRvdy5saWIgPSB7fSlcbndpbmRvdy5saWIubW9kYWwgPSBtb2RhbFxuXG5tb2R1bGUuZXhwb3J0cyA9IG1vZGFsXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9kYWxzL3NyYy9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDIxN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9tb2RhbHMvc3JjL2luZGV4LmpzIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBNb2RhbCA9IHJlcXVpcmUoJy4vbW9kYWwnKVxucmVxdWlyZSgnLi4vc3R5bGVzL2FsZXJ0LmNzcycpXG5cbnZhciBDT05URU5UX0NMQVNTID0gJ2NvbnRlbnQnXG52YXIgTVNHX0NMQVNTID0gJ2NvbnRlbnQtbXNnJ1xudmFyIEJVVFRPTl9HUk9VUF9DTEFTUyA9ICdidG4tZ3JvdXAnXG52YXIgQlVUVE9OX0NMQVNTID0gJ2J0bidcblxuZnVuY3Rpb24gQWxlcnQoY29uZmlnKSB7XG4gIHRoaXMubXNnID0gY29uZmlnLm1lc3NhZ2UgfHwgJydcbiAgdGhpcy5jYWxsYmFjayA9IGNvbmZpZy5jYWxsYmFja1xuICB0aGlzLm9rVGl0bGUgPSBjb25maWcub2tUaXRsZSB8fCAnT0snXG4gIE1vZGFsLmNhbGwodGhpcylcbiAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoJ2FtZmUtYWxlcnQnKVxufVxuXG5BbGVydC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1vZGFsLnByb3RvdHlwZSlcblxuQWxlcnQucHJvdG90eXBlLmNyZWF0ZU5vZGVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDT05URU5UX0NMQVNTKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoY29udGVudClcblxuICB2YXIgbXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbXNnLmNsYXNzTGlzdC5hZGQoTVNHX0NMQVNTKVxuICBtc2cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5tc2cpKVxuICBjb250ZW50LmFwcGVuZENoaWxkKG1zZylcblxuICB2YXIgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidXR0b25Hcm91cC5jbGFzc0xpc3QuYWRkKEJVVFRPTl9HUk9VUF9DTEFTUylcbiAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKVxuICB2YXIgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoQlVUVE9OX0NMQVNTLCAnYWxlcnQtb2snKVxuICBidXR0b24uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5va1RpdGxlKSlcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnV0dG9uKVxufVxuXG5BbGVydC5wcm90b3R5cGUuYmluZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgTW9kYWwucHJvdG90eXBlLmJpbmRFdmVudHMuY2FsbCh0aGlzKVxuICB2YXIgYnV0dG9uID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTKVxuICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kZXN0cm95KClcbiAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soKVxuICB9LmJpbmQodGhpcykpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQWxlcnRcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vZGFscy9zcmMvYWxlcnQuanNcbiAqKiBtb2R1bGUgaWQgPSAyMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vbW9kYWxzL3NyYy9hbGVydC5qcyIsIid1c2Ugc3RyaWN0J1xuXG5yZXF1aXJlKCcuLi9zdHlsZXMvbW9kYWwuY3NzJylcblxuLy8gdGhlcmUgd2lsbCBiZSBvbmx5IG9uZSBpbnN0YW5jZSBvZiBtb2RhbC5cbnZhciBNT0RBTF9XUkFQX0NMQVNTID0gJ2FtZmUtbW9kYWwtd3JhcCdcbnZhciBNT0RBTF9OT0RFX0NMQVNTID0gJ2FtZmUtbW9kYWwtbm9kZSdcblxuZnVuY3Rpb24gTW9kYWwoKSB7XG4gIHRoaXMud3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoTU9EQUxfV1JBUF9DTEFTUylcbiAgdGhpcy5ub2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihNT0RBTF9OT0RFX0NMQVNTKVxuICBpZiAoIXRoaXMud3JhcCkge1xuICAgIHRoaXMuY3JlYXRlV3JhcCgpXG4gIH1cbiAgaWYgKCF0aGlzLm5vZGUpIHtcbiAgICB0aGlzLmNyZWF0ZU5vZGUoKVxuICB9XG4gIHRoaXMuY2xlYXJOb2RlKClcbiAgdGhpcy5jcmVhdGVOb2RlQ29udGVudCgpXG4gIHRoaXMuYmluZEV2ZW50cygpXG59XG5cbk1vZGFsLnByb3RvdHlwZSA9IHtcblxuICBzaG93OiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy53cmFwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKVxuICB9LFxuXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMud3JhcClcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHRoaXMubm9kZSlcbiAgICB0aGlzLndyYXAgPSBudWxsXG4gICAgdGhpcy5ub2RlID0gbnVsbFxuICB9LFxuXG4gIGNyZWF0ZVdyYXA6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLndyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMud3JhcC5jbGFzc05hbWUgPSBNT0RBTF9XUkFQX0NMQVNTXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLndyYXApXG4gIH0sXG5cbiAgY3JlYXRlTm9kZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoTU9EQUxfTk9ERV9DTEFTUywgJ2hpZGUnKVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKVxuICB9LFxuXG4gIGNsZWFyTm9kZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMubm9kZS5pbm5lckhUTUwgPSAnJ1xuICB9LFxuXG4gIGNyZWF0ZU5vZGVDb250ZW50OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBkbyBub3RoaW5nLlxuICAgIC8vIGNoaWxkIGNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgbWV0aG9kLlxuICB9LFxuXG4gIGJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLndyYXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gICAgfSlcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vZGFsXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9tb2RhbHMvc3JjL21vZGFsLmpzXG4gKiogbW9kdWxlIGlkID0gMjE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zcmMvbW9kYWwuanMiLCIvLyBzdHlsZS1sb2FkZXI6IEFkZHMgc29tZSBjc3MgdG8gdGhlIERPTSBieSBhZGRpbmcgYSA8c3R5bGU+IHRhZ1xuXG4vLyBsb2FkIHRoZSBzdHlsZXNcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbW9kYWwuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4vLyBhZGQgdGhlIHN0eWxlcyB0byB0aGUgRE9NXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLy4uLy4uL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tb2RhbC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL21vZGFsLmNzc1wiKTtcblx0XHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXHRcdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHRcdH0pO1xuXHR9XG5cdC8vIFdoZW4gdGhlIG1vZHVsZSBpcyBkaXNwb3NlZCwgcmVtb3ZlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9kYWxzL3N0eWxlcy9tb2RhbC5jc3NcbiAqKiBtb2R1bGUgaWQgPSAyMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL34vbW9kYWxzL3N0eWxlcy9tb2RhbC5jc3M/NmM2ZCIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYW1mZS1tb2RhbC13cmFwIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB6LWluZGV4OiA5OTk5OTk5OTk7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAwO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbiAgb3BhY2l0eTogMC41O1xcbn1cXG5cXG4uYW1mZS1tb2RhbC1ub2RlIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIHotaW5kZXg6IDk5OTk5OTk5OTk7XFxuICB0b3A6IDUwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHdpZHRoOiA2LjY2NjY2N3JlbTtcXG4gIG1pbi1oZWlnaHQ6IDIuNjY2NjY3cmVtO1xcbiAgYm9yZGVyLXJhZGl1czogMC4wNjY2NjdyZW07XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xcbn1cXG4uYW1mZS1tb2RhbC1ub2RlLmhpZGUge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLmFtZmUtbW9kYWwtbm9kZSAuY29udGVudCB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LWFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xcbiAgLXdlYmtpdC1qdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBtaW4taGVpZ2h0OiAxLjg2NjY2N3JlbTtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmb250LXNpemU6IDAuMzJyZW07XFxuICBsaW5lLWhlaWdodDogMC40MjY2NjdyZW07XFxuICBwYWRkaW5nOiAwLjIxMzMzM3JlbTtcXG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xcbn1cXG4uYW1mZS1tb2RhbC1ub2RlIC5idG4tZ3JvdXAge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDAuOHJlbTtcXG4gIGZvbnQtc2l6ZTogMC4zNzMzMzNyZW07XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbiAgYm9yZGVyOiBub25lO1xcbn1cXG4uYW1mZS1tb2RhbC1ub2RlIC5idG4tZ3JvdXAgLmJ0biB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgaGVpZ2h0OiAwLjhyZW07XFxuICBsaW5lLWhlaWdodDogMC44cmVtO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG4gIGJvcmRlcjogbm9uZTtcXG4gIGJhY2tncm91bmQ6IG5vbmU7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L21vZGFscy9zdHlsZXMvbW9kYWwuY3NzXG4gKiogbW9kdWxlIGlkID0gMjIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvbW9kYWwuY3NzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2FsZXJ0LmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vYWxlcnQuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9hbGVydC5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vZGFscy9zdHlsZXMvYWxlcnQuY3NzXG4gKiogbW9kdWxlIGlkID0gMjIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvYWxlcnQuY3NzP2JlYWYiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmFtZmUtYWxlcnQgLmFtZmUtYWxlcnQtb2sge1xcbiAgd2lkdGg6IDEwMCU7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L21vZGFscy9zdHlsZXMvYWxlcnQuY3NzXG4gKiogbW9kdWxlIGlkID0gMjIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvYWxlcnQuY3NzIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBNb2RhbCA9IHJlcXVpcmUoJy4vbW9kYWwnKVxucmVxdWlyZSgnLi4vc3R5bGVzL2NvbmZpcm0uY3NzJylcblxudmFyIENPTlRFTlRfQ0xBU1MgPSAnY29udGVudCdcbnZhciBNU0dfQ0xBU1MgPSAnY29udGVudC1tc2cnXG52YXIgQlVUVE9OX0dST1VQX0NMQVNTID0gJ2J0bi1ncm91cCdcbnZhciBCVVRUT05fQ0xBU1MgPSAnYnRuJ1xuXG5mdW5jdGlvbiBDb25maXJtKGNvbmZpZykge1xuICB0aGlzLm1zZyA9IGNvbmZpZy5tZXNzYWdlIHx8ICcnXG4gIHRoaXMuY2FsbGJhY2sgPSBjb25maWcuY2FsbGJhY2tcbiAgdGhpcy5va1RpdGxlID0gY29uZmlnLm9rVGl0bGUgfHwgJ09LJ1xuICB0aGlzLmNhbmNlbFRpdGxlID0gY29uZmlnLmNhbmNlbFRpdGxlIHx8ICdDYW5jZWwnXG4gIE1vZGFsLmNhbGwodGhpcylcbiAgdGhpcy5ub2RlLmNsYXNzTGlzdC5hZGQoJ2FtZmUtY29uZmlybScpXG59XG5cbkNvbmZpcm0ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShNb2RhbC5wcm90b3R5cGUpXG5cbkNvbmZpcm0ucHJvdG90eXBlLmNyZWF0ZU5vZGVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDT05URU5UX0NMQVNTKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoY29udGVudClcblxuICB2YXIgbXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbXNnLmNsYXNzTGlzdC5hZGQoTVNHX0NMQVNTKVxuICBtc2cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5tc2cpKVxuICBjb250ZW50LmFwcGVuZENoaWxkKG1zZylcblxuICB2YXIgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidXR0b25Hcm91cC5jbGFzc0xpc3QuYWRkKEJVVFRPTl9HUk9VUF9DTEFTUylcbiAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKVxuICB2YXIgYnRuT2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidG5Pay5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLm9rVGl0bGUpKVxuICBidG5Pay5jbGFzc0xpc3QuYWRkKCdidG4tb2snLCBCVVRUT05fQ0xBU1MpXG4gIHZhciBidG5DYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidG5DYW5jZWwuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5jYW5jZWxUaXRsZSkpXG4gIGJ0bkNhbmNlbC5jbGFzc0xpc3QuYWRkKCdidG4tY2FuY2VsJywgQlVUVE9OX0NMQVNTKVxuICBidXR0b25Hcm91cC5hcHBlbmRDaGlsZChidG5PaylcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuQ2FuY2VsKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoYnV0dG9uR3JvdXApXG59XG5cbkNvbmZpcm0ucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIE1vZGFsLnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwodGhpcylcbiAgdmFyIGJ0bk9rID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tb2snKVxuICB2YXIgYnRuQ2FuY2VsID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tY2FuY2VsJylcbiAgYnRuT2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5kZXN0cm95KClcbiAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2sodGhpcy5va1RpdGxlKVxuICB9LmJpbmQodGhpcykpXG4gIGJ0bkNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmRlc3Ryb3koKVxuICAgIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjayh0aGlzLmNhbmNlbFRpdGxlKVxuICB9LmJpbmQodGhpcykpXG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29uZmlybVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9kYWxzL3NyYy9jb25maXJtLmpzXG4gKiogbW9kdWxlIGlkID0gMjI0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zcmMvY29uZmlybS5qcyIsIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9jb25maXJtLmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vY29uZmlybS5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL2NvbmZpcm0uY3NzXCIpO1xuXHRcdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cdFx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdFx0fSk7XG5cdH1cblx0Ly8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn1cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9tb2RhbHMvc3R5bGVzL2NvbmZpcm0uY3NzXG4gKiogbW9kdWxlIGlkID0gMjI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvY29uZmlybS5jc3M/MGM5MiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYW1mZS1jb25maXJtIC5idG4tZ3JvdXAgLmJ0biB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHdpZHRoOiA1MCU7XFxufVxcbi5hbWZlLWNvbmZpcm0gLmJ0bi1ncm91cCAuYnRuLmJ0bi1vayB7XFxuICBib3JkZXItcmlnaHQ6IDFweCBzb2xpZCAjZGRkO1xcbn1cXG5cIiwgXCJcIl0pO1xuXG4vLyBleHBvcnRzXG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9jc3MtbG9hZGVyIS4vfi9tb2RhbHMvc3R5bGVzL2NvbmZpcm0uY3NzXG4gKiogbW9kdWxlIGlkID0gMjI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvY29uZmlybS5jc3MiLCIndXNlIHN0cmljdCdcblxudmFyIE1vZGFsID0gcmVxdWlyZSgnLi9tb2RhbCcpXG5yZXF1aXJlKCcuLi9zdHlsZXMvcHJvbXB0LmNzcycpXG5cbnZhciBDT05URU5UX0NMQVNTID0gJ2NvbnRlbnQnXG52YXIgTVNHX0NMQVNTID0gJ2NvbnRlbnQtbXNnJ1xudmFyIEJVVFRPTl9HUk9VUF9DTEFTUyA9ICdidG4tZ3JvdXAnXG52YXIgQlVUVE9OX0NMQVNTID0gJ2J0bidcbnZhciBJTlBVVF9XUkFQX0NMQVNTID0gJ2lucHV0LXdyYXAnXG52YXIgSU5QVVRfQ0xBU1MgPSAnaW5wdXQnXG5cbmZ1bmN0aW9uIFByb21wdChjb25maWcpIHtcbiAgdGhpcy5tc2cgPSBjb25maWcubWVzc2FnZSB8fCAnJ1xuICB0aGlzLmRlZmF1bHRNc2cgPSBjb25maWcuZGVmYXVsdCB8fCAnJ1xuICB0aGlzLmNhbGxiYWNrID0gY29uZmlnLmNhbGxiYWNrXG4gIHRoaXMub2tUaXRsZSA9IGNvbmZpZy5va1RpdGxlIHx8ICdPSydcbiAgdGhpcy5jYW5jZWxUaXRsZSA9IGNvbmZpZy5jYW5jZWxUaXRsZSB8fCAnQ2FuY2VsJ1xuICBNb2RhbC5jYWxsKHRoaXMpXG4gIHRoaXMubm9kZS5jbGFzc0xpc3QuYWRkKCdhbWZlLXByb21wdCcpXG59XG5cblByb21wdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKE1vZGFsLnByb3RvdHlwZSlcblxuUHJvbXB0LnByb3RvdHlwZS5jcmVhdGVOb2RlQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcblxuICB2YXIgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDT05URU5UX0NMQVNTKVxuICB0aGlzLm5vZGUuYXBwZW5kQ2hpbGQoY29udGVudClcblxuICB2YXIgbXNnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgbXNnLmNsYXNzTGlzdC5hZGQoTVNHX0NMQVNTKVxuICBtc2cuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5tc2cpKVxuICBjb250ZW50LmFwcGVuZENoaWxkKG1zZylcblxuICB2YXIgaW5wdXRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgaW5wdXRXcmFwLmNsYXNzTGlzdC5hZGQoSU5QVVRfV1JBUF9DTEFTUylcbiAgY29udGVudC5hcHBlbmRDaGlsZChpbnB1dFdyYXApXG4gIHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgaW5wdXQuY2xhc3NMaXN0LmFkZChJTlBVVF9DTEFTUylcbiAgaW5wdXQudHlwZSA9ICd0ZXh0J1xuICBpbnB1dC5hdXRvZm9jdXMgPSB0cnVlXG4gIGlucHV0LnBsYWNlaG9sZGVyID0gdGhpcy5kZWZhdWx0TXNnXG4gIGlucHV0V3JhcC5hcHBlbmRDaGlsZChpbnB1dClcblxuICB2YXIgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICBidXR0b25Hcm91cC5jbGFzc0xpc3QuYWRkKEJVVFRPTl9HUk9VUF9DTEFTUylcbiAgdmFyIGJ0bk9rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnRuT2suYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGhpcy5va1RpdGxlKSlcbiAgYnRuT2suY2xhc3NMaXN0LmFkZCgnYnRuLW9rJywgQlVUVE9OX0NMQVNTKVxuICB2YXIgYnRuQ2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgYnRuQ2FuY2VsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRoaXMuY2FuY2VsVGl0bGUpKVxuICBidG5DYW5jZWwuY2xhc3NMaXN0LmFkZCgnYnRuLWNhbmNlbCcsIEJVVFRPTl9DTEFTUylcbiAgYnV0dG9uR3JvdXAuYXBwZW5kQ2hpbGQoYnRuT2spXG4gIGJ1dHRvbkdyb3VwLmFwcGVuZENoaWxkKGJ0bkNhbmNlbClcbiAgdGhpcy5ub2RlLmFwcGVuZENoaWxkKGJ1dHRvbkdyb3VwKVxufVxuXG5Qcm9tcHQucHJvdG90eXBlLmJpbmRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIE1vZGFsLnByb3RvdHlwZS5iaW5kRXZlbnRzLmNhbGwodGhpcylcbiAgdmFyIGJ0bk9rID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tb2snKVxuICB2YXIgYnRuQ2FuY2VsID0gdGhpcy5ub2RlLnF1ZXJ5U2VsZWN0b3IoJy4nICsgQlVUVE9OX0NMQVNTICsgJy5idG4tY2FuY2VsJylcbiAgdmFyIHRoYXQgPSB0aGlzXG4gIGJ0bk9rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlXG4gICAgdGhpcy5kZXN0cm95KClcbiAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soe1xuICAgICAgcmVzdWx0OiB0aGF0Lm9rVGl0bGUsXG4gICAgICBkYXRhOiB2YWxcbiAgICB9KVxuICB9LmJpbmQodGhpcykpXG4gIGJ0bkNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZVxuICAgIHRoaXMuZGVzdHJveSgpXG4gICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKHtcbiAgICAgIHJlc3VsdDogdGhhdC5jYW5jZWxUaXRsZSxcbiAgICAgIGRhdGE6IHZhbFxuICAgIH0pXG4gIH0uYmluZCh0aGlzKSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9tcHRcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vZGFscy9zcmMvcHJvbXB0LmpzXG4gKiogbW9kdWxlIGlkID0gMjI3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zcmMvcHJvbXB0LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3Byb21wdC5jc3NcIik7XG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vLi4vLi4vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCB7fSk7XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIEhvdCBNb2R1bGUgUmVwbGFjZW1lbnRcbmlmKG1vZHVsZS5ob3QpIHtcblx0Ly8gV2hlbiB0aGUgc3R5bGVzIGNoYW5nZSwgdXBkYXRlIHRoZSA8c3R5bGU+IHRhZ3Ncblx0aWYoIWNvbnRlbnQubG9jYWxzKSB7XG5cdFx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3Byb21wdC5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3Byb21wdC5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vZGFscy9zdHlsZXMvcHJvbXB0LmNzc1xuICoqIG1vZHVsZSBpZCA9IDIyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9tb2RhbHMvc3R5bGVzL3Byb21wdC5jc3M/ZDE1YyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLy4uLy4uL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKCk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYW1mZS1wcm9tcHQgLmlucHV0LXdyYXAge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgbWFyZ2luLXRvcDogMC4xMzMzMzNyZW07XFxuICAvLyBwYWRkaW5nOiAwLjI0cmVtIDAuMjEzMzMzcmVtIDAuMjEzMzMzcmVtO1xcbiAgaGVpZ2h0OiAwLjk2cmVtO1xcbn1cXG4uYW1mZS1wcm9tcHQgLmlucHV0LXdyYXAgLmlucHV0IHtcXG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMC41NnJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAwLjU2cmVtO1xcbiAgZm9udC1zaXplOiAwLjMycmVtO1xcbiAgYm9yZGVyOiAxcHggc29saWQgIzk5OTtcXG59XFxuLmFtZmUtcHJvbXB0IC5idG4tZ3JvdXAgLmJ0biB7XFxuICBmbG9hdDogbGVmdDtcXG4gIHdpZHRoOiA1MCU7XFxufVxcbi5hbWZlLXByb21wdCAuYnRuLWdyb3VwIC5idG4uYnRuLW9rIHtcXG4gIGJvcmRlci1yaWdodDogMXB4IHNvbGlkICNkZGQ7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L21vZGFscy9zdHlsZXMvcHJvbXB0LmNzc1xuICoqIG1vZHVsZSBpZCA9IDIyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9tb2RhbHMvc3R5bGVzL3Byb21wdC5jc3MiLCIndXNlIHN0cmljdCdcblxucmVxdWlyZSgnLi4vc3R5bGVzL3RvYXN0LmNzcycpXG5cbnZhciBxdWV1ZSA9IFtdXG52YXIgdGltZXJcbnZhciBpc1Byb2Nlc3NpbmcgPSBmYWxzZVxudmFyIHRvYXN0V2luXG52YXIgVE9BU1RfV0lOX0NMQVNTX05BTUUgPSAnYW1mZS10b2FzdCdcblxudmFyIERFRkFVTFRfRFVSQVRJT04gPSAwLjhcbnZhciBUUkFOU0lUSU9OX1RJTUUgPSAwLjRcblxuZnVuY3Rpb24gc2hvd1RvYXN0V2luZG93KG1zZywgY2FsbGJhY2spIHtcbiAgdmFyIGhhbmRsZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdG9hc3RXaW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpXG4gICAgdG9hc3RXaW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpXG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICB9XG4gIGlmICghdG9hc3RXaW4pIHtcbiAgICB0b2FzdFdpbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgdG9hc3RXaW4uY2xhc3NMaXN0LmFkZChUT0FTVF9XSU5fQ0xBU1NfTkFNRSwgJ2hpZGUnKVxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodG9hc3RXaW4pXG4gIH1cbiAgdG9hc3RXaW4uaW5uZXJIVE1MID0gbXNnXG4gIHRvYXN0V2luLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKVxuICB0b2FzdFdpbi5hZGRFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgaGFuZGxlVHJhbnNpdGlvbkVuZClcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgdG9hc3RXaW4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZScpXG4gIH0sIDApXG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgfSwgVFJBTlNJVElPTl9USU1FICogMTAwMClcbn1cblxuZnVuY3Rpb24gaGlkZVRvYXN0V2luZG93KGNhbGxiYWNrKSB7XG4gIHZhciBoYW5kbGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gKCkge1xuICAgIHRvYXN0V2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKVxuICAgIHRvYXN0V2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKVxuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgfVxuICBpZiAoIXRvYXN0V2luKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdG9hc3RXaW4uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGhhbmRsZVRyYW5zaXRpb25FbmQpXG4gIHRvYXN0V2luLmFkZEV2ZW50TGlzdGVuZXIoJ3dlYmtpdFRyYW5zaXRpb25FbmQnLCBoYW5kbGVUcmFuc2l0aW9uRW5kKVxuICB0b2FzdFdpbi5jbGFzc0xpc3QuYWRkKCdoaWRlJylcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICB9LCBUUkFOU0lUSU9OX1RJTUUgKiAxMDAwKVxufVxuXG52YXIgdG9hc3QgPSB7XG5cbiAgcHVzaDogZnVuY3Rpb24gKG1zZywgZHVyYXRpb24pIHtcbiAgICBxdWV1ZS5wdXNoKHtcbiAgICAgIG1zZzogbXNnLFxuICAgICAgZHVyYXRpb246IGR1cmF0aW9uIHx8IERFRkFVTFRfRFVSQVRJT05cbiAgICB9KVxuICAgIHRoaXMuc2hvdygpXG4gIH0sXG5cbiAgc2hvdzogZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgLy8gQWxsIG1lc3NhZ2VzIGhhZCBiZWVuIHRvYXN0ZWQgYWxyZWFkeSwgc28gcmVtb3ZlIHRoZSB0b2FzdCB3aW5kb3csXG4gICAgaWYgKCFxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHRvYXN0V2luICYmIHRvYXN0V2luLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodG9hc3RXaW4pXG4gICAgICB0b2FzdFdpbiA9IG51bGxcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHRoZSBwcmV2aW91cyB0b2FzdCBpcyBub3QgZW5kZWQgeWV0LlxuICAgIGlmIChpc1Byb2Nlc3NpbmcpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpc1Byb2Nlc3NpbmcgPSB0cnVlXG5cbiAgICB2YXIgdG9hc3RJbmZvID0gcXVldWUuc2hpZnQoKVxuICAgIHNob3dUb2FzdFdpbmRvdyh0b2FzdEluZm8ubXNnLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aW1lciA9IG51bGxcbiAgICAgICAgaGlkZVRvYXN0V2luZG93KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpc1Byb2Nlc3NpbmcgPSBmYWxzZVxuICAgICAgICAgIHRoYXQuc2hvdygpXG4gICAgICAgIH0pXG4gICAgICB9LCB0b2FzdEluZm8uZHVyYXRpb24gKiAxMDAwKVxuICAgIH0pXG4gIH1cblxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcHVzaDogdG9hc3QucHVzaC5iaW5kKHRvYXN0KVxufVxuXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vbW9kYWxzL3NyYy90b2FzdC5qc1xuICoqIG1vZHVsZSBpZCA9IDIzMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vfi9tb2RhbHMvc3JjL3RvYXN0LmpzIiwiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vLi4vLi4vY3NzLWxvYWRlci9pbmRleC5qcyEuL3RvYXN0LmNzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi8uLi8uLi9zdHlsZS1sb2FkZXIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIHt9KTtcbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuXHQvLyBXaGVuIHRoZSBzdHlsZXMgY2hhbmdlLCB1cGRhdGUgdGhlIDxzdHlsZT4gdGFnc1xuXHRpZighY29udGVudC5sb2NhbHMpIHtcblx0XHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi8uLi8uLi9jc3MtbG9hZGVyL2luZGV4LmpzIS4vdG9hc3QuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLy4uLy4uL2Nzcy1sb2FkZXIvaW5kZXguanMhLi90b2FzdC5jc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L21vZGFscy9zdHlsZXMvdG9hc3QuY3NzXG4gKiogbW9kdWxlIGlkID0gMjMxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvdG9hc3QuY3NzP2UxMmYiLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi8uLi8uLi9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKSgpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmFtZmUtdG9hc3Qge1xcbiAgZm9udC1zaXplOiAwLjMycmVtO1xcbiAgbGluZS1oZWlnaHQ6IDAuNDI2NjY3cmVtO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG1heC13aWR0aDogODAlO1xcbiAgYm90dG9tOiAyLjY2NjY2N3JlbTtcXG4gIGxlZnQ6IDUwJTtcXG4gIHBhZGRpbmc6IDAuMjEzMzMzcmVtO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcXG4gIGNvbG9yOiAjZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgb3BhY2l0eTogMC42O1xcbiAgdHJhbnNpdGlvbjogYWxsIDAuNHMgZWFzZS1pbi1vdXQ7XFxuICBib3JkZXItcmFkaXVzOiAwLjA2NjY2N3JlbTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG5cXG4uYW1mZS10b2FzdC5oaWRlIHtcXG4gIG9wYWNpdHk6IDA7XFxufVxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcblxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2Nzcy1sb2FkZXIhLi9+L21vZGFscy9zdHlsZXMvdG9hc3QuY3NzXG4gKiogbW9kdWxlIGlkID0gMjMyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9+L21vZGFscy9zdHlsZXMvdG9hc3QuY3NzIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IG5hdmlnYXRvciA9IHtcblxuICAvLyBjb25maWdcbiAgLy8gIC0gdXJsOiB0aGUgdXJsIHRvIHB1c2hcbiAgLy8gIC0gYW5pbWF0ZWQ6IHRoaXMgY29uZmlndXJhdGlvbiBpdGVtIGlzIG5hdGl2ZSBvbmx5XG4gIC8vICBjYWxsYmFjayBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZFxuICBwdXNoOiBmdW5jdGlvbiAoY29uZmlnLCBjYWxsYmFja0lkKSB7XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBjb25maWcudXJsXG4gICAgdGhpcy5zZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQpXG4gIH0sXG5cbiAgLy8gY29uZmlnXG4gIC8vICAtIGFuaW1hdGVkOiB0aGlzIGNvbmZpZ3VyYXRpb24gaXRlbSBpcyBuYXRpdmUgb25seVxuICAvLyAgY2FsbGJhY2sgaXMgbm90ZSBjdXJyZW50bHkgc3VwcG9ydGVkXG4gIHBvcDogZnVuY3Rpb24gKGNvbmZpZywgY2FsbGJhY2tJZCkge1xuICAgIHdpbmRvdy5oaXN0b3J5LmJhY2soKVxuICAgIHRoaXMuc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkKVxuICB9XG5cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgbmF2aWdhdG9yOiBbe1xuICAgIG5hbWU6ICdwdXNoJyxcbiAgICBhcmdzOiBbJ29iamVjdCcsICdmdW5jdGlvbiddXG4gIH0sIHtcbiAgICBuYW1lOiAncG9wJyxcbiAgICBhcmdzOiBbJ29iamVjdCcsICdmdW5jdGlvbiddXG4gIH1dXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKFdlZXgpIHtcbiAgICBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlKCduYXZpZ2F0b3InLCBuYXZpZ2F0b3IsIG1ldGEpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL25hdmlnYXRvci5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9uYXZpZ2F0b3IuanMiLCIndXNlIHN0cmljdCdcblxuY29uc3QgcGFnZUluZm8gPSB7XG5cbiAgc2V0VGl0bGU6IGZ1bmN0aW9uICh0aXRsZSkge1xuICAgIHRpdGxlID0gdGl0bGUgfHwgJ1dlZXggSFRNTDUnXG4gICAgdHJ5IHtcbiAgICAgIHRpdGxlID0gZGVjb2RlVVJJQ29tcG9uZW50KHRpdGxlKVxuICAgIH1cbiAgICBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC50aXRsZSA9IHRpdGxlXG4gIH1cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgcGFnZUluZm86IFt7XG4gICAgbmFtZTogJ3NldFRpdGxlJyxcbiAgICBhcmdzOiBbJ3N0cmluZyddXG4gIH1dXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKFdlZXgpIHtcbiAgICBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlKCdwYWdlSW5mbycsIHBhZ2VJbmZvLCBtZXRhKVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9wYWdlSW5mby5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9wYWdlSW5mby5qcyIsIi8qIGdsb2JhbCBsb2NhbFN0b3JhZ2UgKi9cbid1c2Ugc3RyaWN0J1xuXG5jb25zdCBzdXBwb3J0TG9jYWxTdG9yYWdlID0gdHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCdcbmNvbnN0IFNVQ0NFU1MgPSAnc3VjY2VzcydcbmNvbnN0IEZBSUxFRCA9ICdmYWlsZWQnXG5jb25zdCBJTlZBTElEX1BBUkFNID0gJ2ludmFsaWRfcGFyYW0nXG5jb25zdCBVTkRFRklORUQgPSAndW5kZWZpbmVkJ1xuXG5jb25zdCBzdG9yYWdlID0ge1xuXG4gIC8qKlxuICAgKiBXaGVuIHBhc3NlZCBhIGtleSBuYW1lIGFuZCB2YWx1ZSwgd2lsbCBhZGQgdGhhdCBrZXkgdG8gdGhlIHN0b3JhZ2UsXG4gICAqIG9yIHVwZGF0ZSB0aGF0IGtleSdzIHZhbHVlIGlmIGl0IGFscmVhZHkgZXhpc3RzLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBzZXRJdGVtOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSwgY2FsbGJhY2tJZCkge1xuICAgIGlmICghc3VwcG9ydExvY2FsU3RvcmFnZSkge1xuICAgICAgY29uc29sZS5lcnJvcigneW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGxvY2FsU3RvcmFnZSB5ZXQuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBzZW5kZXIgPSB0aGlzLnNlbmRlclxuICAgIGlmICgha2V5IHx8ICF2YWx1ZSkge1xuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICAgIHJlc3VsdDogJ2ZhaWxlZCcsXG4gICAgICAgIGRhdGE6IElOVkFMSURfUEFSQU1cbiAgICAgIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpXG4gICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHtcbiAgICAgICAgcmVzdWx0OiBTVUNDRVNTLFxuICAgICAgICBkYXRhOiBVTkRFRklORURcbiAgICAgIH0pXG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAvLyBhY2NlcHQgYW55IGV4Y2VwdGlvbiB0aHJvd24gZHVyaW5nIGEgc3RvcmFnZSBhdHRlbXB0IGFzIGEgcXVvdGEgZXJyb3JcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwge1xuICAgICAgICByZXN1bHQ6IEZBSUxFRCxcbiAgICAgICAgZGF0YTogVU5ERUZJTkVEXG4gICAgICB9KVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogV2hlbiBwYXNzZWQgYSBrZXkgbmFtZSwgd2lsbCByZXR1cm4gdGhhdCBrZXkncyB2YWx1ZS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBnZXRJdGVtOiBmdW5jdGlvbiAoa2V5LCBjYWxsYmFja0lkKSB7XG4gICAgaWYgKCFzdXBwb3J0TG9jYWxTdG9yYWdlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCd5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgbG9jYWxTdG9yYWdlIHlldC4nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwge1xuICAgICAgICByZXN1bHQ6IEZBSUxFRCxcbiAgICAgICAgZGF0YTogSU5WQUxJRF9QQVJBTVxuICAgICAgfSlcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCB2YWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICByZXN1bHQ6IHZhbCA/IFNVQ0NFU1MgOiBGQUlMRUQsXG4gICAgICBkYXRhOiB2YWwgfHwgVU5ERUZJTkVEXG4gICAgfSlcbiAgfSxcblxuICAvKipcbiAgICpXaGVuIHBhc3NlZCBhIGtleSBuYW1lLCB3aWxsIHJlbW92ZSB0aGF0IGtleSBmcm9tIHRoZSBzdG9yYWdlLlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrSWRcbiAgICovXG4gIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChrZXksIGNhbGxiYWNrSWQpIHtcbiAgICBpZiAoIXN1cHBvcnRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3lvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBsb2NhbFN0b3JhZ2UgeWV0LicpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBpZiAoIWtleSkge1xuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICAgIHJlc3VsdDogRkFJTEVELFxuICAgICAgICBkYXRhOiBJTlZBTElEX1BBUkFNXG4gICAgICB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSlcbiAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKGNhbGxiYWNrSWQsIHtcbiAgICAgIHJlc3VsdDogU1VDQ0VTUyxcbiAgICAgIGRhdGE6IFVOREVGSU5FRFxuICAgIH0pXG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gaW50ZWdlciByZXByZXNlbnRpbmcgdGhlIG51bWJlciBvZiBkYXRhIGl0ZW1zIHN0b3JlZCBpbiB0aGUgU3RvcmFnZSBvYmplY3QuXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrSWRcbiAgICovXG4gIGxlbmd0aDogZnVuY3Rpb24gKGNhbGxiYWNrSWQpIHtcbiAgICBpZiAoIXN1cHBvcnRMb2NhbFN0b3JhZ2UpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ3lvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBsb2NhbFN0b3JhZ2UgeWV0LicpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgY29uc3Qgc2VuZGVyID0gdGhpcy5zZW5kZXJcbiAgICBjb25zdCBsZW4gPSBsb2NhbFN0b3JhZ2UubGVuZ3RoXG4gICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICByZXN1bHQ6IFNVQ0NFU1MsXG4gICAgICBkYXRhOiBsZW5cbiAgICB9KVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIGFycmF5IHRoYXQgY29udGFpbnMgYWxsIGtleXMgc3RvcmVkIGluIFN0b3JhZ2Ugb2JqZWN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja0lkXG4gICAqL1xuICBnZXRBbGxLZXlzOiBmdW5jdGlvbiAoY2FsbGJhY2tJZCkge1xuICAgIGlmICghc3VwcG9ydExvY2FsU3RvcmFnZSkge1xuICAgICAgY29uc29sZS5lcnJvcigneW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGxvY2FsU3RvcmFnZSB5ZXQuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zdCBzZW5kZXIgPSB0aGlzLnNlbmRlclxuICAgIGNvbnN0IF9hcnIgPSBbXVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBfYXJyLnB1c2gobG9jYWxTdG9yYWdlLmtleShpKSlcbiAgICB9XG4gICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB7XG4gICAgICByZXN1bHQ6IFNVQ0NFU1MsXG4gICAgICBkYXRhOiBfYXJyXG4gICAgfSlcbiAgfVxufVxuXG5jb25zdCBtZXRhID0ge1xuICBzdG9yYWdlOiBbe1xuICAgIG5hbWU6ICdzZXRJdGVtJyxcbiAgICBhcmdzOiBbJ3N0cmluZycsICdzdHJpbmcnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ2dldEl0ZW0nLFxuICAgIGFyZ3M6IFsnc3RyaW5nJywgJ2Z1bmN0aW9uJ11cbiAgfSwge1xuICAgIG5hbWU6ICdyZW1vdmVJdGVtJyxcbiAgICBhcmdzOiBbJ3N0cmluZycsICdmdW5jdGlvbiddXG4gIH0sIHtcbiAgICBuYW1lOiAnbGVuZ3RoJyxcbiAgICBhcmdzOiBbJ2Z1bmN0aW9uJ11cbiAgfSwge1xuICAgIG5hbWU6ICdnZXRBbGxLZXlzJyxcbiAgICBhcmdzOiBbJ2Z1bmN0aW9uJ11cbiAgfV1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBpbml0OiBmdW5jdGlvbiAoV2VleCkge1xuICAgIFdlZXgucmVnaXN0ZXJBcGlNb2R1bGUoJ3N0b3JhZ2UnLCBzdG9yYWdlLCBtZXRhKVxuICB9XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9zdG9yYWdlLmpzXG4gKiovXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2s6Ly8vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL3N0b3JhZ2UuanMiLCIvKiBnbG9iYWwgbGliLCBYTUxIdHRwUmVxdWVzdCAqL1xuLyogZGVwczogaHR0cHVybCAqL1xuXG4ndXNlIHN0cmljdCdcblxubGV0IHV0aWxzXG5cbmltcG9ydCAnaHR0cHVybCdcblxubGV0IGpzb25wQ250ID0gMFxuY29uc3QgRVJST1JfU1RBVEUgPSAtMVxuXG5jb25zdCBUWVBFX0pTT04gPSAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04J1xuY29uc3QgVFlQRV9GT1JNID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcblxuY29uc3QgUkVHX0ZPUk0gPSAvXig/OlteJj1dKz1bXiY9XSspKD86JlteJj1dKz1bXiY9XSspKiQvXG5cbmZ1bmN0aW9uIF9qc29ucCAoY29uZmlnLCBjYWxsYmFjaywgcHJvZ3Jlc3NDYWxsYmFjaykge1xuICBjb25zdCBjYk5hbWUgPSAnanNvbnBfJyArICgrK2pzb25wQ250KVxuICBsZXQgdXJsXG5cbiAgaWYgKCFjb25maWcudXJsKSB7XG4gICAgY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gY29uZmlnLnVybCBzaG91bGQgYmUgc2V0IGluIF9qc29ucCBmb3IgXFwnZmV0Y2hcXCcgQVBJLicpXG4gIH1cblxuICBnbG9iYWxbY2JOYW1lXSA9IChmdW5jdGlvbiAoY2IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjYWxsYmFjayh7XG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgc3RhdHVzVGV4dDogJ09LJyxcbiAgICAgICAgZGF0YTogcmVzcG9uc2VcbiAgICAgIH0pXG4gICAgICBkZWxldGUgZ2xvYmFsW2NiXVxuICAgIH1cbiAgfSkoY2JOYW1lKVxuXG4gIGNvbnN0IHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gIHRyeSB7XG4gICAgdXJsID0gbGliLmh0dHB1cmwoY29uZmlnLnVybClcbiAgfVxuICBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gaW52YWxpZCBjb25maWcudXJsIGluIF9qc29ucCBmb3IgXFwnZmV0Y2hcXCcgQVBJOiAnXG4gICAgICArIGNvbmZpZy51cmwpXG4gIH1cbiAgdXJsLnBhcmFtcy5jYWxsYmFjayA9IGNiTmFtZVxuICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnXG4gIHNjcmlwdC5zcmMgPSB1cmwudG9TdHJpbmcoKVxuICAvLyBzY3JpcHQub25lcnJvciBpcyBub3Qgd29ya2luZyBvbiBJRSBvciBzYWZhcmkuXG4gIC8vIGJ1dCB0aGV5IGFyZSBub3QgY29uc2lkZXJlZCBoZXJlLlxuICBzY3JpcHQub25lcnJvciA9IChmdW5jdGlvbiAoY2IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gdW5leHBlY3RlZCBlcnJvciBpbiBfanNvbnAgZm9yIFxcJ2ZldGNoXFwnIEFQSScsIGVycilcbiAgICAgIGNhbGxiYWNrKHtcbiAgICAgICAgc3RhdHVzOiBFUlJPUl9TVEFURSxcbiAgICAgICAgb2s6IGZhbHNlLFxuICAgICAgICBzdGF0dXNUZXh0OiAnJyxcbiAgICAgICAgZGF0YTogJydcbiAgICAgIH0pXG4gICAgICBkZWxldGUgZ2xvYmFsW2NiXVxuICAgIH1cbiAgfSkoY2JOYW1lKVxuICBjb25zdCBoZWFkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXVxuICBoZWFkLmluc2VydEJlZm9yZShzY3JpcHQsIG51bGwpXG59XG5cbmZ1bmN0aW9uIF94aHIgKGNvbmZpZywgY2FsbGJhY2ssIHByb2dyZXNzQ2FsbGJhY2spIHtcbiAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgeGhyLnJlc3BvbnNlVHlwZSA9IGNvbmZpZy50eXBlXG4gIHhoci5vcGVuKGNvbmZpZy5tZXRob2QsIGNvbmZpZy51cmwsIHRydWUpXG5cbiAgY29uc3QgaGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzIHx8IHt9XG4gIGZvciAoY29uc3QgayBpbiBoZWFkZXJzKSB7XG4gICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaywgaGVhZGVyc1trXSlcbiAgfVxuXG4gIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAocmVzKSB7XG4gICAgY2FsbGJhY2soe1xuICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgb2s6IHhoci5zdGF0dXMgPj0gMjAwICYmIHhoci5zdGF0dXMgPCAzMDAsXG4gICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgIGRhdGE6IHhoci5yZXNwb25zZSxcbiAgICAgIGhlYWRlcnM6IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5zcGxpdCgnXFxuJylcbiAgICAgICAgLnJlZHVjZShmdW5jdGlvbiAob2JqLCBoZWFkZXJTdHIpIHtcbiAgICAgICAgICBjb25zdCBoZWFkZXJBcnIgPSBoZWFkZXJTdHIubWF0Y2goLyguKyk6ICguKykvKVxuICAgICAgICAgIGlmIChoZWFkZXJBcnIpIHtcbiAgICAgICAgICAgIG9ialtoZWFkZXJBcnJbMV1dID0gaGVhZGVyQXJyWzJdXG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBvYmpcbiAgICAgICAgfSwge30pXG4gICAgfSlcbiAgfVxuXG4gIGlmIChwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgeGhyLm9ucHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgcHJvZ3Jlc3NDYWxsYmFjayh7XG4gICAgICAgIHJlYWR5U3RhdGU6IHhoci5yZWFkeVN0YXRlLFxuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIGxlbmd0aDogZS5sb2FkZWQsXG4gICAgICAgIHRvdGFsOiBlLnRvdGFsLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLnNwbGl0KCdcXG4nKVxuICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaGVhZGVyU3RyKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJBcnIgPSBoZWFkZXJTdHIubWF0Y2goLyguKyk6ICguKykvKVxuICAgICAgICAgICAgaWYgKGhlYWRlckFycikge1xuICAgICAgICAgICAgICBvYmpbaGVhZGVyQXJyWzFdXSA9IGhlYWRlckFyclsyXVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9ialxuICAgICAgICAgIH0sIHt9KVxuICAgICAgfSlcbiAgICB9XG4gIH1cblxuICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSB1bmV4cGVjdGVkIGVycm9yIGluIF94aHIgZm9yIFxcJ2ZldGNoXFwnIEFQSScsIGVycilcbiAgICBjYWxsYmFjayh7XG4gICAgICBzdGF0dXM6IEVSUk9SX1NUQVRFLFxuICAgICAgb2s6IGZhbHNlLFxuICAgICAgc3RhdHVzVGV4dDogJycsXG4gICAgICBkYXRhOiAnJ1xuICAgIH0pXG4gIH1cblxuICB4aHIuc2VuZChjb25maWcuYm9keSlcbn1cblxuY29uc3Qgc3RyZWFtID0ge1xuXG4gIC8qKlxuICAgKiBzZW5kSHR0cFxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBOb3RlOiBUaGlzIEFQSSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHN0cmVhbS5mZXRjaCBpbnN0ZWFkLlxuICAgKiBzZW5kIGEgaHR0cCByZXF1ZXN0IHRocm91Z2ggWEhSLlxuICAgKiBAcGFyYW0gIHtvYmp9IHBhcmFtc1xuICAgKiAgLSBtZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdIRUFEJyB8ICdQQVRDSCcsXG4gICAqICAtIHVybDogdXJsIHJlcXVlc3RlZFxuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNhbGxiYWNrSWRcbiAgICovXG4gIHNlbmRIdHRwOiBmdW5jdGlvbiAocGFyYW0sIGNhbGxiYWNrSWQpIHtcbiAgICBpZiAodHlwZW9mIHBhcmFtID09PSAnc3RyaW5nJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcGFyYW0gPSBKU09OLnBhcnNlKHBhcmFtKVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgcGFyYW0gIT09ICdvYmplY3QnIHx8ICFwYXJhbS51cmwpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKFxuICAgICAgICAnW2g1LXJlbmRlcl0gaW52YWxpZCBjb25maWcgb3IgaW52YWxpZCBjb25maWcudXJsIGZvciBzZW5kSHR0cCBBUEknKVxuICAgIH1cblxuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG4gICAgY29uc3QgbWV0aG9kID0gcGFyYW0ubWV0aG9kIHx8ICdHRVQnXG4gICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICB4aHIub3BlbihtZXRob2QsIHBhcmFtLnVybCwgdHJ1ZSlcbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhjYWxsYmFja0lkLCB0aGlzLnJlc3BvbnNlVGV4dClcbiAgICB9XG4gICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSB1bmV4cGVjdGVkIGVycm9yIGluIHNlbmRIdHRwIEFQSScsIGVycm9yKVxuICAgICAgLy8gc2VuZGVyLnBlcmZvcm1DYWxsYmFjayhcbiAgICAgIC8vICAgY2FsbGJhY2tJZCxcbiAgICAgIC8vICAgbmV3IEVycm9yKCd1bmV4cGVjdGVkIGVycm9yIGluIHNlbmRIdHRwIEFQSScpXG4gICAgICAvLyApXG4gICAgfVxuICAgIHhoci5zZW5kKClcbiAgfSxcblxuICAvKipcbiAgICogZmV0Y2hcbiAgICogdXNlIHN0cmVhbS5mZXRjaCB0byByZXF1ZXN0IGZvciBhIGpzb24gZmlsZSwgYSBwbGFpbiB0ZXh0IGZpbGUgb3JcbiAgICogYSBhcnJheWJ1ZmZlciBmb3IgYSBmaWxlIHN0cmVhbS4gKFlvdSBjYW4gdXNlIEJsb2IgYW5kIEZpbGVSZWFkZXJcbiAgICogQVBJIGltcGxlbWVudGVkIGJ5IG1vc3QgbW9kZXJuIGJyb3dzZXJzIHRvIHJlYWQgYSBhcnJheWJ1ZmZlci4pXG4gICAqIEBwYXJhbSAge29iamVjdH0gb3B0aW9ucyBjb25maWcgb3B0aW9uc1xuICAgKiAgIC0gbWV0aG9kOiAnR0VUJyB8ICdQT1NUJyB8ICdQVVQnIHwgJ0RFTEVURScgfCAnSEVBRCcgfCAnUEFUQ0gnXG4gICAqICAgLSBoZWFkZXJzIHtvYmp9XG4gICAqICAgLSB1cmwge3N0cmluZ31cbiAgICogICAtIG1vZGUge3N0cmluZ30gJ2NvcnMnIHwgJ25vLWNvcnMnIHwgJ3NhbWUtb3JpZ2luJyB8ICduYXZpZ2F0ZSdcbiAgICogICAtIGJvZHlcbiAgICogICAtIHR5cGUge3N0cmluZ30gJ2pzb24nIHwgJ2pzb25wJyB8ICd0ZXh0J1xuICAgKiBAcGFyYW0gIHtzdHJpbmd9IGNhbGxiYWNrSWRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBwcm9ncmVzc0NhbGxiYWNrSWRcbiAgICovXG4gIGZldGNoOiBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2tJZCwgcHJvZ3Jlc3NDYWxsYmFja0lkKSB7XG4gICAgY29uc3QgREVGQVVMVF9NRVRIT0QgPSAnR0VUJ1xuICAgIGNvbnN0IERFRkFVTFRfTU9ERSA9ICdjb3JzJ1xuICAgIGNvbnN0IERFRkFVTFRfVFlQRSA9ICd0ZXh0J1xuXG4gICAgY29uc3QgbWV0aG9kT3B0aW9ucyA9IFsnR0VUJywgJ1BPU1QnLCAnUFVUJywgJ0RFTEVURScsICdIRUFEJywgJ1BBVENIJ11cbiAgICBjb25zdCBtb2RlT3B0aW9ucyA9IFsnY29ycycsICduby1jb3JzJywgJ3NhbWUtb3JpZ2luJywgJ25hdmlnYXRlJ11cbiAgICBjb25zdCB0eXBlT3B0aW9ucyA9IFsndGV4dCcsICdqc29uJywgJ2pzb25wJywgJ2FycmF5YnVmZmVyJ11cblxuICAgIC8vIGNvbnN0IGZhbGxiYWNrID0gZmFsc2UgIC8vIGZhbGxiYWNrIGZyb20gJ2ZldGNoJyBBUEkgdG8gWEhSLlxuICAgIGNvbnN0IHNlbmRlciA9IHRoaXMuc2VuZGVyXG5cbiAgICBjb25zdCBjb25maWcgPSB1dGlscy5leHRlbmQoe30sIG9wdGlvbnMpXG5cbiAgICAvLyB2YWxpZGF0ZSBvcHRpb25zLm1ldGhvZFxuICAgIGlmICh0eXBlb2YgY29uZmlnLm1ldGhvZCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZy5tZXRob2QgPSBERUZBVUxUX01FVEhPRFxuICAgICAgY29uc29sZS53YXJuKCdbaDUtcmVuZGVyXSBvcHRpb25zLm1ldGhvZCBmb3IgXFwnZmV0Y2hcXCcgQVBJIGhhcyBiZWVuIHNldCB0byAnXG4gICAgICAgICsgJ2RlZmF1bHQgdmFsdWUgXFwnJyArIGNvbmZpZy5tZXRob2QgKyAnXFwnJylcbiAgICB9XG4gICAgZWxzZSBpZiAobWV0aG9kT3B0aW9ucy5pbmRleE9mKChjb25maWcubWV0aG9kICsgJycpXG4gICAgICAgIC50b1VwcGVyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBvcHRpb25zLm1ldGhvZCBcXCcnXG4gICAgICAgICsgY29uZmlnLm1ldGhvZFxuICAgICAgICArICdcXCcgZm9yIFxcJ2ZldGNoXFwnIEFQSSBzaG91bGQgYmUgb25lIG9mICdcbiAgICAgICAgKyBtZXRob2RPcHRpb25zICsgJy4nKVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMudXJsXG4gICAgaWYgKCFjb25maWcudXJsKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gb3B0aW9ucy51cmwgc2hvdWxkIGJlIHNldCBmb3IgXFwnZmV0Y2hcXCcgQVBJLicpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy5tb2RlXG4gICAgaWYgKHR5cGVvZiBjb25maWcubW9kZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZy5tb2RlID0gREVGQVVMVF9NT0RFXG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGVPcHRpb25zLmluZGV4T2YoKGNvbmZpZy5tb2RlICsgJycpLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xuICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoJ1toNS1yZW5kZXJdIG9wdGlvbnMubW9kZSBcXCcnXG4gICAgICAgICsgY29uZmlnLm1vZGVcbiAgICAgICAgKyAnXFwnIGZvciBcXCdmZXRjaFxcJyBBUEkgc2hvdWxkIGJlIG9uZSBvZiAnXG4gICAgICAgICsgbW9kZU9wdGlvbnMgKyAnLicpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy50eXBlXG4gICAgaWYgKHR5cGVvZiBjb25maWcudHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbmZpZy50eXBlID0gREVGQVVMVF9UWVBFXG4gICAgICBjb25zb2xlLndhcm4oJ1toNS1yZW5kZXJdIG9wdGlvbnMudHlwZSBmb3IgXFwnZmV0Y2hcXCcgQVBJIGhhcyBiZWVuIHNldCB0byAnXG4gICAgICAgICsgJ2RlZmF1bHQgdmFsdWUgXFwnJyArIGNvbmZpZy50eXBlICsgJ1xcJy4nKVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlT3B0aW9ucy5pbmRleE9mKChjb25maWcudHlwZSArICcnKS50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKCdbaDUtcmVuZGVyXSBvcHRpb25zLnR5cGUgXFwnJ1xuICAgICAgICAgICsgY29uZmlnLnR5cGVcbiAgICAgICAgICArICdcXCcgZm9yIFxcJ2ZldGNoXFwnIEFQSSBzaG91bGQgYmUgb25lIG9mICdcbiAgICAgICAgICArIHR5cGVPcHRpb25zICsgJy4nKVxuICAgIH1cblxuICAgIC8vIHZhbGlkYXRlIG9wdGlvbnMuaGVhZGVyc1xuICAgIGNvbmZpZy5oZWFkZXJzID0gY29uZmlnLmhlYWRlcnMgfHwge31cbiAgICBpZiAoIXV0aWxzLmlzUGxhaW5PYmplY3QoY29uZmlnLmhlYWRlcnMpKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5lcnJvcignW2g1LXJlbmRlcl0gb3B0aW9ucy5oZWFkZXJzIHNob3VsZCBiZSBhIHBsYWluIG9iamVjdCcpXG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy5ib2R5XG4gICAgY29uc3QgYm9keSA9IGNvbmZpZy5ib2R5XG4gICAgaWYgKCFjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gJiYgYm9keSkge1xuICAgICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoYm9keSkpIHtcbiAgICAgICAgLy8gaXMgYSBqc29uIGRhdGFcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25maWcuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICAgICAgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gVFlQRV9KU09OXG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh1dGlscy5nZXRUeXBlKGJvZHkpID09PSAnc3RyaW5nJyAmJiBib2R5Lm1hdGNoKFJFR19GT1JNKSkge1xuICAgICAgICAvLyBpcyBmb3JtLWRhdGFcbiAgICAgICAgY29uZmlnLmJvZHkgPSBlbmNvZGVVUkkoYm9keSlcbiAgICAgICAgY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gVFlQRV9GT1JNXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgb3B0aW9ucy50aW1lb3V0XG4gICAgY29uZmlnLnRpbWVvdXQgPSBwYXJzZUludChjb25maWcudGltZW91dCwgMTApIHx8IDI1MDBcblxuICAgIGNvbnN0IF9jYWxsQXJncyA9IFtjb25maWcsIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHNlbmRlci5wZXJmb3JtQ2FsbGJhY2soY2FsbGJhY2tJZCwgcmVzKVxuICAgIH1dXG4gICAgaWYgKHByb2dyZXNzQ2FsbGJhY2tJZCkge1xuICAgICAgX2NhbGxBcmdzLnB1c2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAvLyBTZXQgJ2tlZXBBbGl2ZScgdG8gdHJ1ZSBmb3Igc2VuZGluZyBjb250aW51b3VzIGNhbGxiYWNrc1xuICAgICAgICBzZW5kZXIucGVyZm9ybUNhbGxiYWNrKHByb2dyZXNzQ2FsbGJhY2tJZCwgcmVzLCB0cnVlKVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBpZiAoY29uZmlnLnR5cGUgPT09ICdqc29ucCcpIHtcbiAgICAgIF9qc29ucC5hcHBseSh0aGlzLCBfY2FsbEFyZ3MpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgX3hoci5hcHBseSh0aGlzLCBfY2FsbEFyZ3MpXG4gICAgfVxuICB9XG5cbn1cblxuY29uc3QgbWV0YSA9IHtcbiAgc3RyZWFtOiBbe1xuICAgIG5hbWU6ICdzZW5kSHR0cCcsXG4gICAgYXJnczogWydvYmplY3QnLCAnZnVuY3Rpb24nXVxuICB9LCB7XG4gICAgbmFtZTogJ2ZldGNoJyxcbiAgICBhcmdzOiBbJ29iamVjdCcsICdmdW5jdGlvbicsICdmdW5jdGlvbiddXG4gIH1dXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaW5pdDogZnVuY3Rpb24gKFdlZXgpIHtcbiAgICB1dGlscyA9IFdlZXgudXRpbHNcbiAgICBXZWV4LnJlZ2lzdGVyQXBpTW9kdWxlKCdzdHJlYW0nLCBzdHJlYW0sIG1ldGEpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL3N0cmVhbS5qc1xuICoqL1xuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrOi8vL2h0bWw1L2Jyb3dzZXIvZXh0ZW5kL2FwaS9zdHJlYW0uanMiLCIndXNlIHN0cmljdCdcblxuY29uc3Qgd2VidmlldyA9IHtcblxuICAvLyByZWY6IHJlZiBvZiB0aGUgd2ViIGNvbXBvbmVudC5cbiAgZ29CYWNrOiBmdW5jdGlvbiAocmVmKSB7XG4gICAgY29uc3Qgd2ViQ29tcCA9IHRoaXMuZ2V0Q29tcG9uZW50TWFuYWdlcigpLmdldENvbXBvbmVudChyZWYpXG4gICAgaWYgKCF3ZWJDb21wLmdvQmFjaykge1xuICAgICAgY29uc29sZS5lcnJvcignZXJyb3I6IHRoZSBzcGVjaWZpZWQgY29tcG9uZW50IGhhcyBubyBtZXRob2Qgb2YnXG4gICAgICAgICAgKyAnIGdvQmFjay4gUGxlYXNlIG1ha2Ugc3VyZSBpdCBpcyBhIHdlYnZpZXcgY29tcG9uZW50LicpXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgd2ViQ29tcC5nb0JhY2soKVxuICB9LFxuXG4gIC8vIHJlZjogcmVmIG9mIHRoZSB3ZWIgY29tcG9uZW50LlxuICBnb0ZvcndhcmQ6IGZ1bmN0aW9uIChyZWYpIHtcbiAgICBjb25zdCB3ZWJDb21wID0gdGhpcy5nZXRDb21wb25lbnRNYW5hZ2VyKCkuZ2V0Q29tcG9uZW50KHJlZilcbiAgICBpZiAoIXdlYkNvbXAuZ29Gb3J3YXJkKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdlcnJvcjogdGhlIHNwZWNpZmllZCBjb21wb25lbnQgaGFzIG5vIG1ldGhvZCBvZidcbiAgICAgICAgICArICcgZ29Gb3J3YXJkLiBQbGVhc2UgbWFrZSBzdXJlIGl0IGlzIGEgd2VidmlldyBjb21wb25lbnQuJylcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICB3ZWJDb21wLmdvRm9yd2FyZCgpXG4gIH0sXG5cbiAgLy8gcmVmOiByZWYgb2YgdGhlIHdlYiBjb21wb25lbnQuXG4gIHJlbG9hZDogZnVuY3Rpb24gKHJlZikge1xuICAgIGNvbnN0IHdlYkNvbXAgPSB0aGlzLmdldENvbXBvbmVudE1hbmFnZXIoKS5nZXRDb21wb25lbnQocmVmKVxuICAgIGlmICghd2ViQ29tcC5yZWxvYWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yOiB0aGUgc3BlY2lmaWVkIGNvbXBvbmVudCBoYXMgbm8gbWV0aG9kIG9mJ1xuICAgICAgICAgICsgJyByZWxvYWQuIFBsZWFzZSBtYWtlIHN1cmUgaXQgaXMgYSB3ZWJ2aWV3IGNvbXBvbmVudC4nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIHdlYkNvbXAucmVsb2FkKClcbiAgfVxuXG59XG5cbmNvbnN0IG1ldGEgPSB7XG4gIHdlYnZpZXc6IFt7XG4gICAgbmFtZTogJ2dvQmFjaycsXG4gICAgYXJnczogWydzdHJpbmcnXVxuICB9LCB7XG4gICAgbmFtZTogJ2dvRm9yd2FyZCcsXG4gICAgYXJnczogWydzdHJpbmcnXVxuICB9LCB7XG4gICAgbmFtZTogJ3JlbG9hZCcsXG4gICAgYXJnczogWydzdHJpbmcnXVxuICB9XVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGluaXQ6IGZ1bmN0aW9uIChXZWV4KSB7XG4gICAgV2VleC5yZWdpc3RlckFwaU1vZHVsZSgnd2VidmlldycsIHdlYnZpZXcsIG1ldGEpXG4gIH1cbn1cblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vaHRtbDUvYnJvd3Nlci9leHRlbmQvYXBpL3dlYnZpZXcuanNcbiAqKi9cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjazovLy9odG1sNS9icm93c2VyL2V4dGVuZC9hcGkvd2Vidmlldy5qcyIsIid1c2Ugc3RyaWN0J1xuXG5jb25zdCBERUZBVUxUX1ZBTFVFID0gJ1dlZXgtaHRtbDUgZXh0ZW5kaW5nJ1xuXG4vLyBwcm90b3R5cGUgbWV0aG9kcy5cbmNvbnN0IHByb3RvID0ge1xuICBjcmVhdGUgKCkge1xuICAgIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHRoaXMuaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICB0aGlzLnZhbHVlID0gREVGQVVMVF9WQUxVRVxuICAgIHRoaXMuaW5uZXIudGV4dENvbnRlbnQgPSBgSGVsbG8gJHtERUZBVUxUX1ZBTFVFfSFgXG4gICAgbm9kZS5hcHBlbmRDaGlsZCh0aGlzLmlubmVyKVxuICAgIHJldHVybiBub2RlXG4gIH1cbn1cblxuLy8gYXR0cmlidXRlIHNldHRlcnMuXG5jb25zdCBhdHRyID0ge1xuICB2YWx1ZSAodmFsKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbFxuICAgIHRoaXMuaW5uZXIudGV4dENvbnRlbnQgPSBgSGVsbG8gJHt2YWx9IWBcbiAgfVxufVxuXG4vLyBzdHlsZSBzZXR0ZXJzLlxuY29uc3Qgc3R5bGUgPSB7XG4gIHR4dENvbG9yICh2YWwpIHtcbiAgICB0aGlzLmlubmVyLnN0eWxlLmNvbG9yID0gdmFsXG4gIH0sXG4gIGJnQ29sb3IgKHZhbCkge1xuICAgIHRoaXMuaW5uZXIuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdmFsXG4gIH1cbn1cblxuLy8gZXZlbnQgY29uZmlnLlxuY29uc3QgZXZlbnQgPSB7XG4gIGNsaWNrOiB7XG4gICAgZXh0cmEgKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuaW5uZXIudGV4dENvbnRlbnRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdCAoV2VleCkge1xuICBjb25zdCBDb21wb25lbnQgPSBXZWV4LkNvbXBvbmVudFxuICBjb25zdCBleHRlbmQgPSBXZWV4LnV0aWxzLmV4dGVuZFxuXG4gIGZ1bmN0aW9uIEhlbGxvIChkYXRhKSB7XG4gICAgQ29tcG9uZW50LmNhbGwodGhpcywgZGF0YSlcbiAgfVxuXG4gIEhlbGxvLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ29tcG9uZW50LnByb3RvdHlwZSlcbiAgZXh0ZW5kKEhlbGxvLnByb3RvdHlwZSwgcHJvdG8pXG4gIGV4dGVuZChIZWxsby5wcm90b3R5cGUsIHsgYXR0ciB9KVxuICBleHRlbmQoSGVsbG8ucHJvdG90eXBlLCB7XG4gICAgc3R5bGU6IGV4dGVuZChPYmplY3QuY3JlYXRlKENvbXBvbmVudC5wcm90b3R5cGUuc3R5bGUpLCBzdHlsZSlcbiAgfSlcbiAgZXh0ZW5kKEhlbGxvLnByb3RvdHlwZSwgeyBldmVudCB9KVxuXG4gIFdlZXgucmVnaXN0ZXJDb21wb25lbnQoJ3dlZXgtaGVsbG8nLCBIZWxsbylcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBpbml0IH1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vd2VleC1oZWxsby9zcmMvaW5kZXguanMiXSwic291cmNlUm9vdCI6IiJ9